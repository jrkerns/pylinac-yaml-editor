"use strict";(self.webpackChunkpylinac_yaml_editor=self.webpackChunkpylinac_yaml_editor||[]).push([[5767],{8881:(e,n,i)=>{i.d(n,{L:()=>t});var o,t,r=i(5915);!function(e){e.isThemeColor=function(e){return e&&"object"==typeof e&&"string"==typeof e.id}}(o||(o={})),function(e){e.iconNameSegment="[A-Za-z0-9]+",e.iconNameExpression="[A-Za-z0-9-]+",e.iconModifierExpression="~[A-Za-z]+",e.iconNameCharacter="[A-Za-z0-9~-]";const n=new RegExp(`^(${e.iconNameExpression})(${e.iconModifierExpression})?$`);function i(e){const o=n.exec(e.id);if(!o)return i(r.W.error);const[,t,s]=o,c=["codicon","codicon-"+t];return s&&c.push("codicon-modifier-"+s.substring(1)),c}e.asClassNameArray=i,e.asClassName=function(e){return i(e).join(" ")},e.asCSSSelector=function(e){return"."+i(e).join(".")},e.isThemeIcon=function(e){return e&&"object"==typeof e&&"string"==typeof e.id&&(void 0===e.color||o.isThemeColor(e.color))};const t=new RegExp(`^\\$\\((${e.iconNameExpression}(?:${e.iconModifierExpression})?)\\)$`);e.fromString=function(e){const n=t.exec(e);if(!n)return;const[,i]=n;return{id:i}},e.fromId=function(e){return{id:e}},e.modify=function(e,n){let i=e.id;const o=i.lastIndexOf("~");return-1!==o&&(i=i.substring(0,o)),n&&(i=`${i}~${n}`),{id:i}},e.getModifier=function(e){const n=e.id.lastIndexOf("~");if(-1!==n)return e.id.substring(n+1)},e.isEqual=function(e,n){return e.id===n.id&&e.color?.id===n.color?.id}}(t||(t={}))},5767:(e,n,i)=>{i.r(n),i.d(n,{getIconClasses:()=>u});var o=i(3072),t=i(2467),r=i(7264),s=i(4957),c=i(9971),a=i(8881);const f=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function u(e,n,i,u,d){if(a.L.isThemeIcon(d))return[`codicon-${d.id}`,"predefined-file-icon"];if(r.r.isUri(d))return[];const p=u===c.p.ROOT_FOLDER?["rootfolder-icon"]:u===c.p.FOLDER?["folder-icon"]:["file-icon"];if(i){let r;if(i.scheme===o.ny.data)r=t.B6.parseMetaData(i).get(t.B6.META_DATA_LABEL);else{const e=i.path.match(f);e?(r=l(e[2].toLowerCase()),e[1]&&p.push(`${l(e[1].toLowerCase())}-name-dir-icon`)):r=l(i.authority.toLowerCase())}if(u===c.p.ROOT_FOLDER)p.push(`${r}-root-name-folder-icon`);else if(u===c.p.FOLDER)p.push(`${r}-name-folder-icon`);else{if(r){if(p.push(`${r}-name-file-icon`),p.push("name-file-icon"),r.length<=255){const e=r.split(".");for(let n=1;n<e.length;n++)p.push(`${e.slice(n).join(".")}-ext-file-icon`)}p.push("ext-file-icon")}const c=function(e,n,i){if(!i)return null;let r=null;if(i.scheme===o.ny.data){const e=t.B6.parseMetaData(i).get(t.B6.META_DATA_MIME);e&&(r=n.getLanguageIdByMimeType(e))}else{const n=e.getModel(i);n&&(r=n.getLanguageId())}return r&&r!==s.vH?r:n.guessLanguageIdByFilepathOrFirstLine(i)}(e,n,i);c&&p.push(`${l(c)}-lang-file-icon`)}}return p}function l(e){return e.replace(/[\s]/g,"/")}},9971:(e,n,i)=>{var o;i.d(n,{p:()=>o}),function(e){e[e.FILE=0]="FILE",e[e.FOLDER=1]="FOLDER",e[e.ROOT_FOLDER=2]="ROOT_FOLDER"}(o||(o={}))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWxDdUM2QixDQUFpQi9CLEVBQWNDLEVBQWlCQyxHQUN2RW9CLEdBQ0FqQixFQUFRMUIsS0FBSyxHQUFHbUMsRUFBVVEsb0JBRWxDLENBQ0osQ0FDQSxPQUFPakIsQ0FDWCxDQTRCQSxTQUFTUyxFQUFVMUIsR0FDZixPQUFPQSxFQUFJNEMsUUFBUSxRQUFTLElBQ2hDLEMsaUJDcEdPLElBQUlDLEUsaUJBQ1gsU0FBV0EsR0FDUEEsRUFBU0EsRUFBZSxLQUFJLEdBQUssT0FDakNBLEVBQVNBLEVBQWlCLE9BQUksR0FBSyxTQUNuQ0EsRUFBU0EsRUFBc0IsWUFBSSxHQUFLLGFBQzNDLENBSkQsQ0FJR0EsSUFBYUEsRUFBVyxDQUFDLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL3RoZW1hYmxlcy5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vc2VydmljZXMvZ2V0SWNvbkNsYXNzZXMuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9wbGF0Zm9ybS9maWxlcy9jb21tb24vZmlsZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBDb2RpY29uIH0gZnJvbSAnLi9jb2RpY29ucy5qcyc7XG5leHBvcnQgdmFyIFRoZW1lQ29sb3I7XG4oZnVuY3Rpb24gKFRoZW1lQ29sb3IpIHtcbiAgICBmdW5jdGlvbiBpc1RoZW1lQ29sb3Iob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iai5pZCA9PT0gJ3N0cmluZyc7XG4gICAgfVxuICAgIFRoZW1lQ29sb3IuaXNUaGVtZUNvbG9yID0gaXNUaGVtZUNvbG9yO1xufSkoVGhlbWVDb2xvciB8fCAoVGhlbWVDb2xvciA9IHt9KSk7XG5leHBvcnQgdmFyIFRoZW1lSWNvbjtcbihmdW5jdGlvbiAoVGhlbWVJY29uKSB7XG4gICAgVGhlbWVJY29uLmljb25OYW1lU2VnbWVudCA9ICdbQS1aYS16MC05XSsnO1xuICAgIFRoZW1lSWNvbi5pY29uTmFtZUV4cHJlc3Npb24gPSAnW0EtWmEtejAtOS1dKyc7XG4gICAgVGhlbWVJY29uLmljb25Nb2RpZmllckV4cHJlc3Npb24gPSAnfltBLVphLXpdKyc7XG4gICAgVGhlbWVJY29uLmljb25OYW1lQ2hhcmFjdGVyID0gJ1tBLVphLXowLTl+LV0nO1xuICAgIGNvbnN0IFRoZW1lSWNvbklkUmVnZXggPSBuZXcgUmVnRXhwKGBeKCR7VGhlbWVJY29uLmljb25OYW1lRXhwcmVzc2lvbn0pKCR7VGhlbWVJY29uLmljb25Nb2RpZmllckV4cHJlc3Npb259KT8kYCk7XG4gICAgZnVuY3Rpb24gYXNDbGFzc05hbWVBcnJheShpY29uKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gVGhlbWVJY29uSWRSZWdleC5leGVjKGljb24uaWQpO1xuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gYXNDbGFzc05hbWVBcnJheShDb2RpY29uLmVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbLCBpZCwgbW9kaWZpZXJdID0gbWF0Y2g7XG4gICAgICAgIGNvbnN0IGNsYXNzTmFtZXMgPSBbJ2NvZGljb24nLCAnY29kaWNvbi0nICsgaWRdO1xuICAgICAgICBpZiAobW9kaWZpZXIpIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZXMucHVzaCgnY29kaWNvbi1tb2RpZmllci0nICsgbW9kaWZpZXIuc3Vic3RyaW5nKDEpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xhc3NOYW1lcztcbiAgICB9XG4gICAgVGhlbWVJY29uLmFzQ2xhc3NOYW1lQXJyYXkgPSBhc0NsYXNzTmFtZUFycmF5O1xuICAgIGZ1bmN0aW9uIGFzQ2xhc3NOYW1lKGljb24pIHtcbiAgICAgICAgcmV0dXJuIGFzQ2xhc3NOYW1lQXJyYXkoaWNvbikuam9pbignICcpO1xuICAgIH1cbiAgICBUaGVtZUljb24uYXNDbGFzc05hbWUgPSBhc0NsYXNzTmFtZTtcbiAgICBmdW5jdGlvbiBhc0NTU1NlbGVjdG9yKGljb24pIHtcbiAgICAgICAgcmV0dXJuICcuJyArIGFzQ2xhc3NOYW1lQXJyYXkoaWNvbikuam9pbignLicpO1xuICAgIH1cbiAgICBUaGVtZUljb24uYXNDU1NTZWxlY3RvciA9IGFzQ1NTU2VsZWN0b3I7XG4gICAgZnVuY3Rpb24gaXNUaGVtZUljb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iai5pZCA9PT0gJ3N0cmluZycgJiYgKHR5cGVvZiBvYmouY29sb3IgPT09ICd1bmRlZmluZWQnIHx8IFRoZW1lQ29sb3IuaXNUaGVtZUNvbG9yKG9iai5jb2xvcikpO1xuICAgIH1cbiAgICBUaGVtZUljb24uaXNUaGVtZUljb24gPSBpc1RoZW1lSWNvbjtcbiAgICBjb25zdCBfcmVnZXhGcm9tU3RyaW5nID0gbmV3IFJlZ0V4cChgXlxcXFwkXFxcXCgoJHtUaGVtZUljb24uaWNvbk5hbWVFeHByZXNzaW9ufSg/OiR7VGhlbWVJY29uLmljb25Nb2RpZmllckV4cHJlc3Npb259KT8pXFxcXCkkYCk7XG4gICAgZnVuY3Rpb24gZnJvbVN0cmluZyhzdHIpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBfcmVnZXhGcm9tU3RyaW5nLmV4ZWMoc3RyKTtcbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbLCBuYW1lXSA9IG1hdGNoO1xuICAgICAgICByZXR1cm4geyBpZDogbmFtZSB9O1xuICAgIH1cbiAgICBUaGVtZUljb24uZnJvbVN0cmluZyA9IGZyb21TdHJpbmc7XG4gICAgZnVuY3Rpb24gZnJvbUlkKGlkKSB7XG4gICAgICAgIHJldHVybiB7IGlkIH07XG4gICAgfVxuICAgIFRoZW1lSWNvbi5mcm9tSWQgPSBmcm9tSWQ7XG4gICAgZnVuY3Rpb24gbW9kaWZ5KGljb24sIG1vZGlmaWVyKSB7XG4gICAgICAgIGxldCBpZCA9IGljb24uaWQ7XG4gICAgICAgIGNvbnN0IHRpbGRlSW5kZXggPSBpZC5sYXN0SW5kZXhPZignficpO1xuICAgICAgICBpZiAodGlsZGVJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGlkID0gaWQuc3Vic3RyaW5nKDAsIHRpbGRlSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb2RpZmllcikge1xuICAgICAgICAgICAgaWQgPSBgJHtpZH1+JHttb2RpZmllcn1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGlkIH07XG4gICAgfVxuICAgIFRoZW1lSWNvbi5tb2RpZnkgPSBtb2RpZnk7XG4gICAgZnVuY3Rpb24gZ2V0TW9kaWZpZXIoaWNvbikge1xuICAgICAgICBjb25zdCB0aWxkZUluZGV4ID0gaWNvbi5pZC5sYXN0SW5kZXhPZignficpO1xuICAgICAgICBpZiAodGlsZGVJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBpY29uLmlkLnN1YnN0cmluZyh0aWxkZUluZGV4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgVGhlbWVJY29uLmdldE1vZGlmaWVyID0gZ2V0TW9kaWZpZXI7XG4gICAgZnVuY3Rpb24gaXNFcXVhbCh0aTEsIHRpMikge1xuICAgICAgICByZXR1cm4gdGkxLmlkID09PSB0aTIuaWQgJiYgdGkxLmNvbG9yPy5pZCA9PT0gdGkyLmNvbG9yPy5pZDtcbiAgICB9XG4gICAgVGhlbWVJY29uLmlzRXF1YWwgPSBpc0VxdWFsO1xufSkoVGhlbWVJY29uIHx8IChUaGVtZUljb24gPSB7fSkpO1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBTY2hlbWFzIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vbmV0d29yay5qcyc7XG5pbXBvcnQgeyBEYXRhVXJpIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vcmVzb3VyY2VzLmpzJztcbmltcG9ydCB7IFVSSSB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3VyaS5qcyc7XG5pbXBvcnQgeyBQTEFJTlRFWFRfTEFOR1VBR0VfSUQgfSBmcm9tICcuLi9sYW5ndWFnZXMvbW9kZXNSZWdpc3RyeS5qcyc7XG5pbXBvcnQgeyBGaWxlS2luZCB9IGZyb20gJy4uLy4uLy4uL3BsYXRmb3JtL2ZpbGVzL2NvbW1vbi9maWxlcy5qcyc7XG5pbXBvcnQgeyBUaGVtZUljb24gfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi90aGVtYWJsZXMuanMnO1xuY29uc3QgZmlsZUljb25EaXJlY3RvcnlSZWdleCA9IC8oPzpcXC98XikoPzooW15cXC9dKylcXC8pPyhbXlxcL10rKSQvO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEljb25DbGFzc2VzKG1vZGVsU2VydmljZSwgbGFuZ3VhZ2VTZXJ2aWNlLCByZXNvdXJjZSwgZmlsZUtpbmQsIGljb24pIHtcbiAgICBpZiAoVGhlbWVJY29uLmlzVGhlbWVJY29uKGljb24pKSB7XG4gICAgICAgIHJldHVybiBbYGNvZGljb24tJHtpY29uLmlkfWAsICdwcmVkZWZpbmVkLWZpbGUtaWNvbiddO1xuICAgIH1cbiAgICBpZiAoVVJJLmlzVXJpKGljb24pKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgLy8gd2UgYWx3YXlzIHNldCB0aGVzZSBiYXNlIGNsYXNzZXMgZXZlbiBpZiB3ZSBkbyBub3QgaGF2ZSBhIHBhdGhcbiAgICBjb25zdCBjbGFzc2VzID0gZmlsZUtpbmQgPT09IEZpbGVLaW5kLlJPT1RfRk9MREVSID8gWydyb290Zm9sZGVyLWljb24nXSA6IGZpbGVLaW5kID09PSBGaWxlS2luZC5GT0xERVIgPyBbJ2ZvbGRlci1pY29uJ10gOiBbJ2ZpbGUtaWNvbiddO1xuICAgIGlmIChyZXNvdXJjZSkge1xuICAgICAgICAvLyBHZXQgdGhlIHBhdGggYW5kIG5hbWUgb2YgdGhlIHJlc291cmNlLiBGb3IgZGF0YS1VUklzLCB3ZSBuZWVkIHRvIHBhcnNlIHNwZWNpYWxseVxuICAgICAgICBsZXQgbmFtZTtcbiAgICAgICAgaWYgKHJlc291cmNlLnNjaGVtZSA9PT0gU2NoZW1hcy5kYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IERhdGFVcmkucGFyc2VNZXRhRGF0YShyZXNvdXJjZSk7XG4gICAgICAgICAgICBuYW1lID0gbWV0YWRhdGEuZ2V0KERhdGFVcmkuTUVUQV9EQVRBX0xBQkVMKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gcmVzb3VyY2UucGF0aC5tYXRjaChmaWxlSWNvbkRpcmVjdG9yeVJlZ2V4KTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBjc3NFc2NhcGUobWF0Y2hbMl0udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaChgJHtjc3NFc2NhcGUobWF0Y2hbMV0udG9Mb3dlckNhc2UoKSl9LW5hbWUtZGlyLWljb25gKTsgLy8gcGFyZW50IGRpcmVjdG9yeVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBjc3NFc2NhcGUocmVzb3VyY2UuYXV0aG9yaXR5LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJvb3QgRm9sZGVyc1xuICAgICAgICBpZiAoZmlsZUtpbmQgPT09IEZpbGVLaW5kLlJPT1RfRk9MREVSKSB7XG4gICAgICAgICAgICBjbGFzc2VzLnB1c2goYCR7bmFtZX0tcm9vdC1uYW1lLWZvbGRlci1pY29uYCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9sZGVyc1xuICAgICAgICBlbHNlIGlmIChmaWxlS2luZCA9PT0gRmlsZUtpbmQuRk9MREVSKSB7XG4gICAgICAgICAgICBjbGFzc2VzLnB1c2goYCR7bmFtZX0tbmFtZS1mb2xkZXItaWNvbmApO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZpbGVzXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTmFtZSAmIEV4dGVuc2lvbihzKVxuICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzLnB1c2goYCR7bmFtZX0tbmFtZS1maWxlLWljb25gKTtcbiAgICAgICAgICAgICAgICBjbGFzc2VzLnB1c2goYG5hbWUtZmlsZS1pY29uYCk7IC8vIGV4dHJhIHNlZ21lbnQgdG8gaW5jcmVhc2UgZmlsZS1uYW1lIHNjb3JlXG4gICAgICAgICAgICAgICAgLy8gQXZvaWQgZG9pbmcgYW4gZXhwbG9zaXZlIGNvbWJpbmF0aW9uIG9mIGV4dGVuc2lvbnMgZm9yIHZlcnkgbG9uZyBmaWxlbmFtZXNcbiAgICAgICAgICAgICAgICAvLyAobW9zdCBmaWxlIHN5c3RlbXMgZG8gbm90IGFsbG93IGZpbGVzID4gMjU1IGxlbmd0aCkgd2l0aCBsb3RzIG9mIGAuYCBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC92c2NvZGUvaXNzdWVzLzExNjE5OVxuICAgICAgICAgICAgICAgIGlmIChuYW1lLmxlbmd0aCA8PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG90U2VnbWVudHMgPSBuYW1lLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgZG90U2VnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaChgJHtkb3RTZWdtZW50cy5zbGljZShpKS5qb2luKCcuJyl9LWV4dC1maWxlLWljb25gKTsgLy8gYWRkIGVhY2ggY29tYmluYXRpb24gb2YgYWxsIGZvdW5kIGV4dGVuc2lvbnMgaWYgbW9yZSB0aGFuIG9uZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaChgZXh0LWZpbGUtaWNvbmApOyAvLyBleHRyYSBzZWdtZW50IHRvIGluY3JlYXNlIGZpbGUtZXh0IHNjb3JlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEZXRlY3RlZCBNb2RlXG4gICAgICAgICAgICBjb25zdCBkZXRlY3RlZExhbmd1YWdlSWQgPSBkZXRlY3RMYW5ndWFnZUlkKG1vZGVsU2VydmljZSwgbGFuZ3VhZ2VTZXJ2aWNlLCByZXNvdXJjZSk7XG4gICAgICAgICAgICBpZiAoZGV0ZWN0ZWRMYW5ndWFnZUlkKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKGAke2Nzc0VzY2FwZShkZXRlY3RlZExhbmd1YWdlSWQpfS1sYW5nLWZpbGUtaWNvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjbGFzc2VzO1xufVxuZnVuY3Rpb24gZGV0ZWN0TGFuZ3VhZ2VJZChtb2RlbFNlcnZpY2UsIGxhbmd1YWdlU2VydmljZSwgcmVzb3VyY2UpIHtcbiAgICBpZiAoIXJlc291cmNlKSB7XG4gICAgICAgIHJldHVybiBudWxsOyAvLyB3ZSBuZWVkIGEgcmVzb3VyY2UgYXQgbGVhc3RcbiAgICB9XG4gICAgbGV0IGxhbmd1YWdlSWQgPSBudWxsO1xuICAgIC8vIERhdGEgVVJJOiBjaGVjayBmb3IgZW5jb2RlZCBtZXRhZGF0YVxuICAgIGlmIChyZXNvdXJjZS5zY2hlbWUgPT09IFNjaGVtYXMuZGF0YSkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IERhdGFVcmkucGFyc2VNZXRhRGF0YShyZXNvdXJjZSk7XG4gICAgICAgIGNvbnN0IG1pbWUgPSBtZXRhZGF0YS5nZXQoRGF0YVVyaS5NRVRBX0RBVEFfTUlNRSk7XG4gICAgICAgIGlmIChtaW1lKSB7XG4gICAgICAgICAgICBsYW5ndWFnZUlkID0gbGFuZ3VhZ2VTZXJ2aWNlLmdldExhbmd1YWdlSWRCeU1pbWVUeXBlKG1pbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEFueSBvdGhlciBVUkk6IGNoZWNrIGZvciBtb2RlbCBpZiBleGlzdGluZ1xuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBtb2RlbCA9IG1vZGVsU2VydmljZS5nZXRNb2RlbChyZXNvdXJjZSk7XG4gICAgICAgIGlmIChtb2RlbCkge1xuICAgICAgICAgICAgbGFuZ3VhZ2VJZCA9IG1vZGVsLmdldExhbmd1YWdlSWQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBvbmx5IHRha2UgaWYgdGhlIGxhbmd1YWdlIGlkIGlzIHNwZWNpZmljIChha2Egbm8ganVzdCBwbGFpbiB0ZXh0KVxuICAgIGlmIChsYW5ndWFnZUlkICYmIGxhbmd1YWdlSWQgIT09IFBMQUlOVEVYVF9MQU5HVUFHRV9JRCkge1xuICAgICAgICByZXR1cm4gbGFuZ3VhZ2VJZDtcbiAgICB9XG4gICAgLy8gb3RoZXJ3aXNlIGZhbGxiYWNrIHRvIHBhdGggYmFzZWQgZGV0ZWN0aW9uXG4gICAgcmV0dXJuIGxhbmd1YWdlU2VydmljZS5ndWVzc0xhbmd1YWdlSWRCeUZpbGVwYXRoT3JGaXJzdExpbmUocmVzb3VyY2UpO1xufVxuZnVuY3Rpb24gY3NzRXNjYXBlKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1xcc10vZywgJy8nKTsgLy8gSFRNTCBjbGFzcyBuYW1lcyBjYW4gbm90IGNvbnRhaW4gY2VydGFpbiB3aGl0ZXNwYWNlIGNoYXJhY3RlcnMgKGh0dHBzOi8vZG9tLnNwZWMud2hhdHdnLm9yZy8jaW50ZXJmYWNlLWRvbXRva2VubGlzdCksIHVzZSAvIGluc3RlYWQsIHdoaWNoIGRvZXNuJ3QgZXhpc3QgaW4gZmlsZSBuYW1lcy5cbn1cbiIsIi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIFV0aWxpdGllc1xuZXhwb3J0IHZhciBGaWxlS2luZDtcbihmdW5jdGlvbiAoRmlsZUtpbmQpIHtcbiAgICBGaWxlS2luZFtGaWxlS2luZFtcIkZJTEVcIl0gPSAwXSA9IFwiRklMRVwiO1xuICAgIEZpbGVLaW5kW0ZpbGVLaW5kW1wiRk9MREVSXCJdID0gMV0gPSBcIkZPTERFUlwiO1xuICAgIEZpbGVLaW5kW0ZpbGVLaW5kW1wiUk9PVF9GT0xERVJcIl0gPSAyXSA9IFwiUk9PVF9GT0xERVJcIjtcbn0pKEZpbGVLaW5kIHx8IChGaWxlS2luZCA9IHt9KSk7XG4vLyNlbmRyZWdpb25cbiJdLCJuYW1lcyI6WyJUaGVtZUNvbG9yIiwiVGhlbWVJY29uIiwiaXNUaGVtZUNvbG9yIiwib2JqIiwiaWQiLCJpY29uTmFtZVNlZ21lbnQiLCJpY29uTmFtZUV4cHJlc3Npb24iLCJpY29uTW9kaWZpZXJFeHByZXNzaW9uIiwiaWNvbk5hbWVDaGFyYWN0ZXIiLCJUaGVtZUljb25JZFJlZ2V4IiwiUmVnRXhwIiwiYXNDbGFzc05hbWVBcnJheSIsImljb24iLCJtYXRjaCIsImV4ZWMiLCJlcnJvciIsIm1vZGlmaWVyIiwiY2xhc3NOYW1lcyIsInB1c2giLCJzdWJzdHJpbmciLCJhc0NsYXNzTmFtZSIsImpvaW4iLCJhc0NTU1NlbGVjdG9yIiwiaXNUaGVtZUljb24iLCJjb2xvciIsIl9yZWdleEZyb21TdHJpbmciLCJmcm9tU3RyaW5nIiwic3RyIiwibmFtZSIsImZyb21JZCIsIm1vZGlmeSIsInRpbGRlSW5kZXgiLCJsYXN0SW5kZXhPZiIsImdldE1vZGlmaWVyIiwiaXNFcXVhbCIsInRpMSIsInRpMiIsImZpbGVJY29uRGlyZWN0b3J5UmVnZXgiLCJnZXRJY29uQ2xhc3NlcyIsIm1vZGVsU2VydmljZSIsImxhbmd1YWdlU2VydmljZSIsInJlc291cmNlIiwiZmlsZUtpbmQiLCJpc1VyaSIsImNsYXNzZXMiLCJST09UX0ZPTERFUiIsIkZPTERFUiIsInNjaGVtZSIsImRhdGEiLCJwYXJzZU1ldGFEYXRhIiwiZ2V0IiwiTUVUQV9EQVRBX0xBQkVMIiwicGF0aCIsImNzc0VzY2FwZSIsInRvTG93ZXJDYXNlIiwiYXV0aG9yaXR5IiwibGVuZ3RoIiwiZG90U2VnbWVudHMiLCJzcGxpdCIsImkiLCJzbGljZSIsImRldGVjdGVkTGFuZ3VhZ2VJZCIsImxhbmd1YWdlSWQiLCJtaW1lIiwiTUVUQV9EQVRBX01JTUUiLCJnZXRMYW5ndWFnZUlkQnlNaW1lVHlwZSIsIm1vZGVsIiwiZ2V0TW9kZWwiLCJnZXRMYW5ndWFnZUlkIiwiZ3Vlc3NMYW5ndWFnZUlkQnlGaWxlcGF0aE9yRmlyc3RMaW5lIiwiZGV0ZWN0TGFuZ3VhZ2VJZCIsInJlcGxhY2UiLCJGaWxlS2luZCJdLCJzb3VyY2VSb290IjoiIn0=