"use strict";(self.webpackChunkpylinac_yaml_editor=self.webpackChunkpylinac_yaml_editor||[]).push([[9520,2354],{3902:(t,e,n)=>{function s(t){let e=0,n=0,s=0,i=0;for(let r=0,o=t.length;r<o;r++){const a=t.charCodeAt(r);13===a?(0===e&&(n=r),e++,r+1<o&&10===t.charCodeAt(r+1)?(i|=2,r++):i|=3,s=r+1):10===a&&(i|=1,0===e&&(n=r),e++,s=r+1)}return 0===e&&(n=t.length),[e,n,t.length-s,i]}n.d(e,{W:()=>s})},5910:(t,e,n)=>{n.d(e,{x:()=>s});class s{static getLanguageId(t){return(255&t)>>>0}static getTokenType(t){return(768&t)>>>8}static containsBalancedBrackets(t){return!!(1024&t)}static getFontStyle(t){return(30720&t)>>>11}static getForeground(t){return(16744448&t)>>>15}static getBackground(t){return(4278190080&t)>>>24}static getClassNameFromMetadata(t){let e="mtk"+this.getForeground(t);const n=this.getFontStyle(t);return 1&n&&(e+=" mtki"),2&n&&(e+=" mtkb"),4&n&&(e+=" mtku"),8&n&&(e+=" mtks"),e}static getInlineStyleFromMetadata(t,e){const n=this.getForeground(t),s=this.getFontStyle(t);let i=`color: ${e[n]};`;1&s&&(i+="font-style: italic;"),2&s&&(i+="font-weight: bold;");let r="";return 4&s&&(r+=" underline"),8&s&&(r+=" line-through"),r&&(i+=`text-decoration:${r};`),i}static getPresentationFromMetadata(t){const e=this.getForeground(t),n=this.getFontStyle(t);return{foreground:e,italic:Boolean(1&n),bold:Boolean(2&n),underline:Boolean(4&n),strikethrough:Boolean(8&n)}}}},7922:(t,e,n)=>{n.d(e,{L:()=>s});const s=(0,n(2399).u1)("languageService")},9520:(t,e,n)=>{n.r(e),n.d(e,{SemanticTokensProviderStyling:()=>d,toMultilineTokens2:()=>g}),n(5910);var s=n(9044),i=n(6441),r=n(5365),o=n(8061),a=n(3902);class h{static create(t,e){return new h(t,new l(e))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(t,e){this._startLineNumber=t,this._tokens=e,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(t){return this._startLineNumber<=t&&t<=this._endLineNumber?this._tokens.getLineTokens(t-this._startLineNumber):null}getRange(){const t=this._tokens.getRange();return t?new o.Q(this._startLineNumber+t.startLineNumber,t.startColumn,this._startLineNumber+t.endLineNumber,t.endColumn):t}removeTokens(t){const e=t.startLineNumber-this._startLineNumber,n=t.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(e,t.startColumn-1,n,t.endColumn-1),this._updateEndLineNumber()}split(t){const e=t.startLineNumber-this._startLineNumber,n=t.endLineNumber-this._startLineNumber,[s,i,r]=this._tokens.split(e,t.startColumn-1,n,t.endColumn-1);return[new h(this._startLineNumber,s),new h(this._startLineNumber+r,i)]}applyEdit(t,e){const[n,s,i]=(0,a.W)(e);this.acceptEdit(t,n,s,i,e.length>0?e.charCodeAt(0):0)}acceptEdit(t,e,n,s,i){this._acceptDeleteRange(t),this._acceptInsertText(new r.y(t.startLineNumber,t.startColumn),e,n,s,i),this._updateEndLineNumber()}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return;const e=t.startLineNumber-this._startLineNumber,n=t.endLineNumber-this._startLineNumber;if(n<0){const t=n-e;return void(this._startLineNumber-=t)}const s=this._tokens.getMaxDeltaLine();if(!(e>=s+1)){if(e<0&&n>=s+1)return this._startLineNumber=0,void this._tokens.clear();if(e<0){const s=-e;this._startLineNumber-=s,this._tokens.acceptDeleteRange(t.startColumn-1,0,0,n,t.endColumn-1)}else this._tokens.acceptDeleteRange(0,e,t.startColumn-1,n,t.endColumn-1)}}_acceptInsertText(t,e,n,s,i){if(0===e&&0===n)return;const r=t.lineNumber-this._startLineNumber;r<0?this._startLineNumber+=e:r>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(r,t.column-1,e,n,s,i)}}class l{constructor(t){this._tokens=t,this._tokenCount=t.length/4}toString(t){const e=[];for(let n=0;n<this._tokenCount;n++)e.push(`(${this._getDeltaLine(n)+t},${this._getStartCharacter(n)}-${this._getEndCharacter(n)})`);return`[${e.join(",")}]`}getMaxDeltaLine(){const t=this._getTokenCount();return 0===t?-1:this._getDeltaLine(t-1)}getRange(){const t=this._getTokenCount();if(0===t)return null;const e=this._getStartCharacter(0),n=this._getDeltaLine(t-1),s=this._getEndCharacter(t-1);return new o.Q(0,e+1,n,s+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(t){return this._tokens[4*t]}_getStartCharacter(t){return this._tokens[4*t+1]}_getEndCharacter(t){return this._tokens[4*t+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(t){let e=0,n=this._getTokenCount()-1;for(;e<n;){const s=e+Math.floor((n-e)/2),i=this._getDeltaLine(s);if(i<t)e=s+1;else{if(!(i>t)){let i=s;for(;i>e&&this._getDeltaLine(i-1)===t;)i--;let r=s;for(;r<n&&this._getDeltaLine(r+1)===t;)r++;return new u(this._tokens.subarray(4*i,4*r+4))}n=s-1}}return this._getDeltaLine(e)===t?new u(this._tokens.subarray(4*e,4*e+4)):null}clear(){this._tokenCount=0}removeTokens(t,e,n,s){const i=this._tokens,r=this._tokenCount;let o=0,a=!1,h=0;for(let l=0;l<r;l++){const r=4*l,u=i[r],c=i[r+1],_=i[r+2],d=i[r+3];if((u>t||u===t&&_>=e)&&(u<n||u===n&&c<=s))a=!0;else{if(0===o&&(h=u),a){const t=4*o;i[t]=u-h,i[t+1]=c,i[t+2]=_,i[t+3]=d}o++}}return this._tokenCount=o,h}split(t,e,n,s){const i=this._tokens,r=this._tokenCount,o=[],a=[];let h=o,u=0,c=0;for(let o=0;o<r;o++){const r=4*o,l=i[r],_=i[r+1],d=i[r+2],g=i[r+3];if(l>t||l===t&&d>=e){if(l<n||l===n&&_<=s)continue;h!==a&&(h=a,u=0,c=l)}h[u++]=l-c,h[u++]=_,h[u++]=d,h[u++]=g}return[new l(new Uint32Array(o)),new l(new Uint32Array(a)),c]}acceptDeleteRange(t,e,n,s,i){const r=this._tokens,o=this._tokenCount,a=s-e;let h=0,l=!1;for(let u=0;u<o;u++){const c=4*u;let _=r[c],d=r[c+1],g=r[c+2];const m=r[c+3];if(_<e||_===e&&g<=n){h++;continue}if(_===e&&d<n)_===s&&g>i?g-=i-n:g=n;else if(_===e&&d===n){if(!(_===s&&g>i)){l=!0;continue}g-=i-n}else if(_<s||_===s&&d<i){if(!(_===s&&g>i)){l=!0;continue}_=e,d=n,g=d+(g-i)}else if(_>s){if(0===a&&!l){h=o;break}_-=a}else{if(!(_===s&&d>=i))throw new Error("Not possible!");t&&0===_&&(d+=t,g+=t),_-=a,d-=i-n,g-=i-n}const k=4*h;r[k]=_,r[k+1]=d,r[k+2]=g,r[k+3]=m,h++}this._tokenCount=h}acceptInsertText(t,e,n,s,i,r){const o=0===n&&1===s&&(r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122),a=this._tokens,h=this._tokenCount;for(let r=0;r<h;r++){const h=4*r;let l=a[h],u=a[h+1],c=a[h+2];if(!(l<t||l===t&&c<e)){if(l===t&&c===e){if(!o)continue;c+=1}else if(l===t&&u<e&&e<c)0===n?c+=s:c=e;else{if(l===t&&u===e&&o)continue;if(l===t)if(l+=n,0===n)u+=s,c+=s;else{const t=c-u;u=i+(u-e),c=u+t}else l+=n}a[h]=l,a[h+1]=u,a[h+2]=c}}}}class u{constructor(t){this._tokens=t}getCount(){return this._tokens.length/4}getStartCharacter(t){return this._tokens[4*t+1]}getEndCharacter(t){return this._tokens[4*t+2]}getMetadata(t){return this._tokens[4*t+3]}}var c=n(7922),_=function(t,e){return function(n,s){e(n,s,t)}};let d=class{constructor(t,e,n,s){this._legend=t,this._themeService=e,this._languageService=n,this._logService=s,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new k}getMetadata(t,e,n){const s=this._languageService.languageIdCodec.encodeLanguageId(n),i=this._hashTable.get(t,e,s);let r;if(i)r=i.metadata;else{let i=this._legend.tokenTypes[t];const o=[];if(i){let t=e;for(let e=0;t>0&&e<this._legend.tokenModifiers.length;e++)1&t&&o.push(this._legend.tokenModifiers[e]),t>>=1;const s=this._themeService.getColorTheme().getTokenStyleMetadata(i,o,n);void 0===s?r=2147483647:(r=0,void 0!==s.italic&&(r|=1|(s.italic?1:0)<<11),void 0!==s.bold&&(r|=2|(s.bold?2:0)<<11),void 0!==s.underline&&(r|=4|(s.underline?4:0)<<11),void 0!==s.strikethrough&&(r|=8|(s.strikethrough?8:0)<<11),s.foreground&&(r|=16|s.foreground<<15),0===r&&(r=2147483647))}else r=2147483647,i="not-in-legend";this._hashTable.add(t,e,s,r)}return r}warnOverlappingSemanticTokens(t,e){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${t}, column ${e}`))}warnInvalidLengthSemanticTokens(t,e){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${t}, column ${e}`))}warnInvalidEditStart(t,e,n,s,i){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${t}, resultId: ${e}) at edit #${n}: The provided start offset ${s} is outside the previous data (length ${i}).`))}};function g(t,e,n){const s=t.data,i=t.data.length/5|0,r=Math.max(Math.ceil(i/1024),400),o=[];let a=0,l=1,u=0;for(;a<i;){const t=a;let c=Math.min(t+r,i);if(c<i){let e=c;for(;e-1>t&&0===s[5*e];)e--;if(e-1===t){let t=c;for(;t+1<i&&0===s[5*t];)t++;c=t}else c=e}let _=new Uint32Array(4*(c-t)),d=0,g=0,m=0,k=0;for(;a<c;){const t=5*a,i=s[t],r=s[t+1],o=l+i|0,h=0===i?u+r|0:r,c=h+s[t+2]|0,f=s[t+3],L=s[t+4];if(c<=h)e.warnInvalidLengthSemanticTokens(o,h+1);else if(m===o&&k>h)e.warnOverlappingSemanticTokens(o,h+1);else{const t=e.getMetadata(f,L,n);2147483647!==t&&(0===g&&(g=o),_[d]=o-g,_[d+1]=h,_[d+2]=c,_[d+3]=t,d+=4,m=o,k=c)}l=o,u=h,a++}d!==_.length&&(_=_.subarray(0,d));const f=h.create(g,_);o.push(f)}return o}d=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([_(1,s.Gy),_(2,c.L),_(3,i.rr)],d);class m{constructor(t,e,n,s){this.tokenTypeIndex=t,this.tokenModifierSet=e,this.languageId=n,this.metadata=s,this.next=null}}class k{static{this._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=k._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<k._SIZES.length?2/3*this._currentLength:0),this._elements=[],k._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(t,e){for(let n=0;n<e;n++)t[n]=null}_hash2(t,e){return(t<<5)-t+e|0}_hashFunc(t,e,n){return this._hash2(this._hash2(t,e),n)%this._currentLength}get(t,e,n){const s=this._hashFunc(t,e,n);let i=this._elements[s];for(;i;){if(i.tokenTypeIndex===t&&i.tokenModifierSet===e&&i.languageId===n)return i;i=i.next}return null}add(t,e,n,s){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const t=this._elements;this._currentLengthIndex++,this._currentLength=k._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<k._SIZES.length?2/3*this._currentLength:0),this._elements=[],k._nullOutEntries(this._elements,this._currentLength);for(const e of t){let t=e;for(;t;){const e=t.next;t.next=null,this._add(t),t=e}}}this._add(new m(t,e,n,s))}_add(t){const e=this._hashFunc(t.tokenTypeIndex,t.tokenModifierSet,t.languageId);t.next=this._elements[e],this._elements[e]=t}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSxLQUFLSixHQUNWQSxFQUFJRyxDQUNSLENBQ0osQ0FDSixDQUNBek0sS0FBSzBNLEtBQUssSUFBSXBCLEVBQWV2RCxFQUFnQkMsRUFBa0JDLEVBQVl6SSxHQUMvRSxDQUNBLElBQUFrTixDQUFLQyxHQUNELE1BQU1OLEVBQU9yTSxLQUFLb00sVUFBVU8sRUFBUTVFLGVBQWdCNEUsRUFBUTNFLGlCQUFrQjJFLEVBQVExRSxZQUN0RjBFLEVBQVFwQixLQUFPdkwsS0FBSzhMLFVBQVVPLEdBQzlCck0sS0FBSzhMLFVBQVVPLEdBQVFNLENBQzNCLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vY29yZS9lb2xDb3VudGVyLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9lbmNvZGVkVG9rZW5BdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9sYW5ndWFnZXMvbGFuZ3VhZ2UuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL3Rva2Vucy9zcGFyc2VNdWx0aWxpbmVUb2tlbnMuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL3NlcnZpY2VzL3NlbWFudGljVG9rZW5zUHJvdmlkZXJTdHlsaW5nLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZXhwb3J0IGZ1bmN0aW9uIGNvdW50RU9MKHRleHQpIHtcbiAgICBsZXQgZW9sQ291bnQgPSAwO1xuICAgIGxldCBmaXJzdExpbmVMZW5ndGggPSAwO1xuICAgIGxldCBsYXN0TGluZVN0YXJ0ID0gMDtcbiAgICBsZXQgZW9sID0gMCAvKiBTdHJpbmdFT0wuVW5rbm93biAqLztcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGV4dC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCBjaHIgPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjaHIgPT09IDEzIC8qIENoYXJDb2RlLkNhcnJpYWdlUmV0dXJuICovKSB7XG4gICAgICAgICAgICBpZiAoZW9sQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBmaXJzdExpbmVMZW5ndGggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW9sQ291bnQrKztcbiAgICAgICAgICAgIGlmIChpICsgMSA8IGxlbiAmJiB0ZXh0LmNoYXJDb2RlQXQoaSArIDEpID09PSAxMCAvKiBDaGFyQ29kZS5MaW5lRmVlZCAqLykge1xuICAgICAgICAgICAgICAgIC8vIFxcclxcbi4uLiBjYXNlXG4gICAgICAgICAgICAgICAgZW9sIHw9IDIgLyogU3RyaW5nRU9MLkNSTEYgKi87XG4gICAgICAgICAgICAgICAgaSsrOyAvLyBza2lwIFxcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gXFxyLi4uIGNhc2VcbiAgICAgICAgICAgICAgICBlb2wgfD0gMyAvKiBTdHJpbmdFT0wuSW52YWxpZCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RMaW5lU3RhcnQgPSBpICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaHIgPT09IDEwIC8qIENoYXJDb2RlLkxpbmVGZWVkICovKSB7XG4gICAgICAgICAgICAvLyBcXG4uLi4gY2FzZVxuICAgICAgICAgICAgZW9sIHw9IDEgLyogU3RyaW5nRU9MLkxGICovO1xuICAgICAgICAgICAgaWYgKGVvbENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZmlyc3RMaW5lTGVuZ3RoID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVvbENvdW50Kys7XG4gICAgICAgICAgICBsYXN0TGluZVN0YXJ0ID0gaSArIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVvbENvdW50ID09PSAwKSB7XG4gICAgICAgIGZpcnN0TGluZUxlbmd0aCA9IHRleHQubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gW2VvbENvdW50LCBmaXJzdExpbmVMZW5ndGgsIHRleHQubGVuZ3RoIC0gbGFzdExpbmVTdGFydCwgZW9sXTtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuLyoqXG4gKi9cbmV4cG9ydCBjbGFzcyBUb2tlbk1ldGFkYXRhIHtcbiAgICBzdGF0aWMgZ2V0TGFuZ3VhZ2VJZChtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gKG1ldGFkYXRhICYgMjU1IC8qIE1ldGFkYXRhQ29uc3RzLkxBTkdVQUdFSURfTUFTSyAqLykgPj4+IDAgLyogTWV0YWRhdGFDb25zdHMuTEFOR1VBR0VJRF9PRkZTRVQgKi87XG4gICAgfVxuICAgIHN0YXRpYyBnZXRUb2tlblR5cGUobWV0YWRhdGEpIHtcbiAgICAgICAgcmV0dXJuIChtZXRhZGF0YSAmIDc2OCAvKiBNZXRhZGF0YUNvbnN0cy5UT0tFTl9UWVBFX01BU0sgKi8pID4+PiA4IC8qIE1ldGFkYXRhQ29uc3RzLlRPS0VOX1RZUEVfT0ZGU0VUICovO1xuICAgIH1cbiAgICBzdGF0aWMgY29udGFpbnNCYWxhbmNlZEJyYWNrZXRzKG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiAobWV0YWRhdGEgJiAxMDI0IC8qIE1ldGFkYXRhQ29uc3RzLkJBTEFOQ0VEX0JSQUNLRVRTX01BU0sgKi8pICE9PSAwO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0Rm9udFN0eWxlKG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiAobWV0YWRhdGEgJiAzMDcyMCAvKiBNZXRhZGF0YUNvbnN0cy5GT05UX1NUWUxFX01BU0sgKi8pID4+PiAxMSAvKiBNZXRhZGF0YUNvbnN0cy5GT05UX1NUWUxFX09GRlNFVCAqLztcbiAgICB9XG4gICAgc3RhdGljIGdldEZvcmVncm91bmQobWV0YWRhdGEpIHtcbiAgICAgICAgcmV0dXJuIChtZXRhZGF0YSAmIDE2NzQ0NDQ4IC8qIE1ldGFkYXRhQ29uc3RzLkZPUkVHUk9VTkRfTUFTSyAqLykgPj4+IDE1IC8qIE1ldGFkYXRhQ29uc3RzLkZPUkVHUk9VTkRfT0ZGU0VUICovO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0QmFja2dyb3VuZChtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gKG1ldGFkYXRhICYgNDI3ODE5MDA4MCAvKiBNZXRhZGF0YUNvbnN0cy5CQUNLR1JPVU5EX01BU0sgKi8pID4+PiAyNCAvKiBNZXRhZGF0YUNvbnN0cy5CQUNLR1JPVU5EX09GRlNFVCAqLztcbiAgICB9XG4gICAgc3RhdGljIGdldENsYXNzTmFtZUZyb21NZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICBjb25zdCBmb3JlZ3JvdW5kID0gdGhpcy5nZXRGb3JlZ3JvdW5kKG1ldGFkYXRhKTtcbiAgICAgICAgbGV0IGNsYXNzTmFtZSA9ICdtdGsnICsgZm9yZWdyb3VuZDtcbiAgICAgICAgY29uc3QgZm9udFN0eWxlID0gdGhpcy5nZXRGb250U3R5bGUobWV0YWRhdGEpO1xuICAgICAgICBpZiAoZm9udFN0eWxlICYgMSAvKiBGb250U3R5bGUuSXRhbGljICovKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgKz0gJyBtdGtpJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9udFN0eWxlICYgMiAvKiBGb250U3R5bGUuQm9sZCAqLykge1xuICAgICAgICAgICAgY2xhc3NOYW1lICs9ICcgbXRrYic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvbnRTdHlsZSAmIDQgLyogRm9udFN0eWxlLlVuZGVybGluZSAqLykge1xuICAgICAgICAgICAgY2xhc3NOYW1lICs9ICcgbXRrdSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvbnRTdHlsZSAmIDggLyogRm9udFN0eWxlLlN0cmlrZXRocm91Z2ggKi8pIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZSArPSAnIG10a3MnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbGFzc05hbWU7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRJbmxpbmVTdHlsZUZyb21NZXRhZGF0YShtZXRhZGF0YSwgY29sb3JNYXApIHtcbiAgICAgICAgY29uc3QgZm9yZWdyb3VuZCA9IHRoaXMuZ2V0Rm9yZWdyb3VuZChtZXRhZGF0YSk7XG4gICAgICAgIGNvbnN0IGZvbnRTdHlsZSA9IHRoaXMuZ2V0Rm9udFN0eWxlKG1ldGFkYXRhKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGBjb2xvcjogJHtjb2xvck1hcFtmb3JlZ3JvdW5kXX07YDtcbiAgICAgICAgaWYgKGZvbnRTdHlsZSAmIDEgLyogRm9udFN0eWxlLkl0YWxpYyAqLykge1xuICAgICAgICAgICAgcmVzdWx0ICs9ICdmb250LXN0eWxlOiBpdGFsaWM7JztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9udFN0eWxlICYgMiAvKiBGb250U3R5bGUuQm9sZCAqLykge1xuICAgICAgICAgICAgcmVzdWx0ICs9ICdmb250LXdlaWdodDogYm9sZDsnO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0ZXh0RGVjb3JhdGlvbiA9ICcnO1xuICAgICAgICBpZiAoZm9udFN0eWxlICYgNCAvKiBGb250U3R5bGUuVW5kZXJsaW5lICovKSB7XG4gICAgICAgICAgICB0ZXh0RGVjb3JhdGlvbiArPSAnIHVuZGVybGluZSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvbnRTdHlsZSAmIDggLyogRm9udFN0eWxlLlN0cmlrZXRocm91Z2ggKi8pIHtcbiAgICAgICAgICAgIHRleHREZWNvcmF0aW9uICs9ICcgbGluZS10aHJvdWdoJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGV4dERlY29yYXRpb24pIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBgdGV4dC1kZWNvcmF0aW9uOiR7dGV4dERlY29yYXRpb259O2A7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgc3RhdGljIGdldFByZXNlbnRhdGlvbkZyb21NZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICBjb25zdCBmb3JlZ3JvdW5kID0gdGhpcy5nZXRGb3JlZ3JvdW5kKG1ldGFkYXRhKTtcbiAgICAgICAgY29uc3QgZm9udFN0eWxlID0gdGhpcy5nZXRGb250U3R5bGUobWV0YWRhdGEpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZm9yZWdyb3VuZDogZm9yZWdyb3VuZCxcbiAgICAgICAgICAgIGl0YWxpYzogQm9vbGVhbihmb250U3R5bGUgJiAxIC8qIEZvbnRTdHlsZS5JdGFsaWMgKi8pLFxuICAgICAgICAgICAgYm9sZDogQm9vbGVhbihmb250U3R5bGUgJiAyIC8qIEZvbnRTdHlsZS5Cb2xkICovKSxcbiAgICAgICAgICAgIHVuZGVybGluZTogQm9vbGVhbihmb250U3R5bGUgJiA0IC8qIEZvbnRTdHlsZS5VbmRlcmxpbmUgKi8pLFxuICAgICAgICAgICAgc3RyaWtldGhyb3VnaDogQm9vbGVhbihmb250U3R5bGUgJiA4IC8qIEZvbnRTdHlsZS5TdHJpa2V0aHJvdWdoICovKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IGNyZWF0ZURlY29yYXRvciB9IGZyb20gJy4uLy4uLy4uL3BsYXRmb3JtL2luc3RhbnRpYXRpb24vY29tbW9uL2luc3RhbnRpYXRpb24uanMnO1xuZXhwb3J0IGNvbnN0IElMYW5ndWFnZVNlcnZpY2UgPSBjcmVhdGVEZWNvcmF0b3IoJ2xhbmd1YWdlU2VydmljZScpO1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gJy4uL2NvcmUvcG9zaXRpb24uanMnO1xuaW1wb3J0IHsgUmFuZ2UgfSBmcm9tICcuLi9jb3JlL3JhbmdlLmpzJztcbmltcG9ydCB7IGNvdW50RU9MIH0gZnJvbSAnLi4vY29yZS9lb2xDb3VudGVyLmpzJztcbi8qKlxuICogUmVwcmVzZW50cyBzcGFyc2UgdG9rZW5zIG92ZXIgYSBjb250aWd1b3VzIHJhbmdlIG9mIGxpbmVzLlxuICovXG5leHBvcnQgY2xhc3MgU3BhcnNlTXVsdGlsaW5lVG9rZW5zIHtcbiAgICBzdGF0aWMgY3JlYXRlKHN0YXJ0TGluZU51bWJlciwgdG9rZW5zKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3BhcnNlTXVsdGlsaW5lVG9rZW5zKHN0YXJ0TGluZU51bWJlciwgbmV3IFNwYXJzZU11bHRpbGluZVRva2Vuc1N0b3JhZ2UodG9rZW5zKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIChJbmNsdXNpdmUpIHN0YXJ0IGxpbmUgbnVtYmVyIGZvciB0aGVzZSB0b2tlbnMuXG4gICAgICovXG4gICAgZ2V0IHN0YXJ0TGluZU51bWJlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0TGluZU51bWJlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogKEluY2x1c2l2ZSkgZW5kIGxpbmUgbnVtYmVyIGZvciB0aGVzZSB0b2tlbnMuXG4gICAgICovXG4gICAgZ2V0IGVuZExpbmVOdW1iZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmRMaW5lTnVtYmVyO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihzdGFydExpbmVOdW1iZXIsIHRva2Vucykge1xuICAgICAgICB0aGlzLl9zdGFydExpbmVOdW1iZXIgPSBzdGFydExpbmVOdW1iZXI7XG4gICAgICAgIHRoaXMuX3Rva2VucyA9IHRva2VucztcbiAgICAgICAgdGhpcy5fZW5kTGluZU51bWJlciA9IHRoaXMuX3N0YXJ0TGluZU51bWJlciArIHRoaXMuX3Rva2Vucy5nZXRNYXhEZWx0YUxpbmUoKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbnMudG9TdHJpbmcodGhpcy5fc3RhcnRMaW5lTnVtYmVyKTtcbiAgICB9XG4gICAgX3VwZGF0ZUVuZExpbmVOdW1iZXIoKSB7XG4gICAgICAgIHRoaXMuX2VuZExpbmVOdW1iZXIgPSB0aGlzLl9zdGFydExpbmVOdW1iZXIgKyB0aGlzLl90b2tlbnMuZ2V0TWF4RGVsdGFMaW5lKCk7XG4gICAgfVxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbnMuaXNFbXB0eSgpO1xuICAgIH1cbiAgICBnZXRMaW5lVG9rZW5zKGxpbmVOdW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXJ0TGluZU51bWJlciA8PSBsaW5lTnVtYmVyICYmIGxpbmVOdW1iZXIgPD0gdGhpcy5fZW5kTGluZU51bWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Rva2Vucy5nZXRMaW5lVG9rZW5zKGxpbmVOdW1iZXIgLSB0aGlzLl9zdGFydExpbmVOdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBnZXRSYW5nZSgpIHtcbiAgICAgICAgY29uc3QgZGVsdGFSYW5nZSA9IHRoaXMuX3Rva2Vucy5nZXRSYW5nZSgpO1xuICAgICAgICBpZiAoIWRlbHRhUmFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWx0YVJhbmdlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5fc3RhcnRMaW5lTnVtYmVyICsgZGVsdGFSYW5nZS5zdGFydExpbmVOdW1iZXIsIGRlbHRhUmFuZ2Uuc3RhcnRDb2x1bW4sIHRoaXMuX3N0YXJ0TGluZU51bWJlciArIGRlbHRhUmFuZ2UuZW5kTGluZU51bWJlciwgZGVsdGFSYW5nZS5lbmRDb2x1bW4pO1xuICAgIH1cbiAgICByZW1vdmVUb2tlbnMocmFuZ2UpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRMaW5lSW5kZXggPSByYW5nZS5zdGFydExpbmVOdW1iZXIgLSB0aGlzLl9zdGFydExpbmVOdW1iZXI7XG4gICAgICAgIGNvbnN0IGVuZExpbmVJbmRleCA9IHJhbmdlLmVuZExpbmVOdW1iZXIgLSB0aGlzLl9zdGFydExpbmVOdW1iZXI7XG4gICAgICAgIHRoaXMuX3N0YXJ0TGluZU51bWJlciArPSB0aGlzLl90b2tlbnMucmVtb3ZlVG9rZW5zKHN0YXJ0TGluZUluZGV4LCByYW5nZS5zdGFydENvbHVtbiAtIDEsIGVuZExpbmVJbmRleCwgcmFuZ2UuZW5kQ29sdW1uIC0gMSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUVuZExpbmVOdW1iZXIoKTtcbiAgICB9XG4gICAgc3BsaXQocmFuZ2UpIHtcbiAgICAgICAgLy8gc3BsaXQgdG9rZW5zIHRvIHR3bzpcbiAgICAgICAgLy8gYSkgYWxsIHRoZSB0b2tlbnMgYmVmb3JlIGByYW5nZWBcbiAgICAgICAgLy8gYikgYWxsIHRoZSB0b2tlbnMgYWZ0ZXIgYHJhbmdlYFxuICAgICAgICBjb25zdCBzdGFydExpbmVJbmRleCA9IHJhbmdlLnN0YXJ0TGluZU51bWJlciAtIHRoaXMuX3N0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgY29uc3QgZW5kTGluZUluZGV4ID0gcmFuZ2UuZW5kTGluZU51bWJlciAtIHRoaXMuX3N0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgY29uc3QgW2EsIGIsIGJEZWx0YUxpbmVdID0gdGhpcy5fdG9rZW5zLnNwbGl0KHN0YXJ0TGluZUluZGV4LCByYW5nZS5zdGFydENvbHVtbiAtIDEsIGVuZExpbmVJbmRleCwgcmFuZ2UuZW5kQ29sdW1uIC0gMSk7XG4gICAgICAgIHJldHVybiBbbmV3IFNwYXJzZU11bHRpbGluZVRva2Vucyh0aGlzLl9zdGFydExpbmVOdW1iZXIsIGEpLCBuZXcgU3BhcnNlTXVsdGlsaW5lVG9rZW5zKHRoaXMuX3N0YXJ0TGluZU51bWJlciArIGJEZWx0YUxpbmUsIGIpXTtcbiAgICB9XG4gICAgYXBwbHlFZGl0KHJhbmdlLCB0ZXh0KSB7XG4gICAgICAgIGNvbnN0IFtlb2xDb3VudCwgZmlyc3RMaW5lTGVuZ3RoLCBsYXN0TGluZUxlbmd0aF0gPSBjb3VudEVPTCh0ZXh0KTtcbiAgICAgICAgdGhpcy5hY2NlcHRFZGl0KHJhbmdlLCBlb2xDb3VudCwgZmlyc3RMaW5lTGVuZ3RoLCBsYXN0TGluZUxlbmd0aCwgdGV4dC5sZW5ndGggPiAwID8gdGV4dC5jaGFyQ29kZUF0KDApIDogMCAvKiBDaGFyQ29kZS5OdWxsICovKTtcbiAgICB9XG4gICAgYWNjZXB0RWRpdChyYW5nZSwgZW9sQ291bnQsIGZpcnN0TGluZUxlbmd0aCwgbGFzdExpbmVMZW5ndGgsIGZpcnN0Q2hhckNvZGUpIHtcbiAgICAgICAgdGhpcy5fYWNjZXB0RGVsZXRlUmFuZ2UocmFuZ2UpO1xuICAgICAgICB0aGlzLl9hY2NlcHRJbnNlcnRUZXh0KG5ldyBQb3NpdGlvbihyYW5nZS5zdGFydExpbmVOdW1iZXIsIHJhbmdlLnN0YXJ0Q29sdW1uKSwgZW9sQ291bnQsIGZpcnN0TGluZUxlbmd0aCwgbGFzdExpbmVMZW5ndGgsIGZpcnN0Q2hhckNvZGUpO1xuICAgICAgICB0aGlzLl91cGRhdGVFbmRMaW5lTnVtYmVyKCk7XG4gICAgfVxuICAgIF9hY2NlcHREZWxldGVSYW5nZShyYW5nZSkge1xuICAgICAgICBpZiAocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyID09PSByYW5nZS5lbmRMaW5lTnVtYmVyICYmIHJhbmdlLnN0YXJ0Q29sdW1uID09PSByYW5nZS5lbmRDb2x1bW4pIHtcbiAgICAgICAgICAgIC8vIE5vdGhpbmcgdG8gZGVsZXRlXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlyc3RMaW5lSW5kZXggPSByYW5nZS5zdGFydExpbmVOdW1iZXIgLSB0aGlzLl9zdGFydExpbmVOdW1iZXI7XG4gICAgICAgIGNvbnN0IGxhc3RMaW5lSW5kZXggPSByYW5nZS5lbmRMaW5lTnVtYmVyIC0gdGhpcy5fc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICBpZiAobGFzdExpbmVJbmRleCA8IDApIHtcbiAgICAgICAgICAgIC8vIHRoaXMgZGVsZXRpb24gb2NjdXJzIGVudGlyZWx5IGJlZm9yZSB0aGlzIGJsb2NrLCBzbyB3ZSBvbmx5IG5lZWQgdG8gYWRqdXN0IGxpbmUgbnVtYmVyc1xuICAgICAgICAgICAgY29uc3QgZGVsZXRlZExpbmVzQ291bnQgPSBsYXN0TGluZUluZGV4IC0gZmlyc3RMaW5lSW5kZXg7XG4gICAgICAgICAgICB0aGlzLl9zdGFydExpbmVOdW1iZXIgLT0gZGVsZXRlZExpbmVzQ291bnQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9rZW5NYXhEZWx0YUxpbmUgPSB0aGlzLl90b2tlbnMuZ2V0TWF4RGVsdGFMaW5lKCk7XG4gICAgICAgIGlmIChmaXJzdExpbmVJbmRleCA+PSB0b2tlbk1heERlbHRhTGluZSArIDEpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgZGVsZXRpb24gb2NjdXJzIGVudGlyZWx5IGFmdGVyIHRoaXMgYmxvY2ssIHNvIHRoZXJlIGlzIG5vdGhpbmcgdG8gZG9cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3RMaW5lSW5kZXggPCAwICYmIGxhc3RMaW5lSW5kZXggPj0gdG9rZW5NYXhEZWx0YUxpbmUgKyAxKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGRlbGV0aW9uIGNvbXBsZXRlbHkgZW5jb21wYXNzZXMgdGhpcyBibG9ja1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRMaW5lTnVtYmVyID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3Rva2Vucy5jbGVhcigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaXJzdExpbmVJbmRleCA8IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbGV0ZWRCZWZvcmUgPSAtZmlyc3RMaW5lSW5kZXg7XG4gICAgICAgICAgICB0aGlzLl9zdGFydExpbmVOdW1iZXIgLT0gZGVsZXRlZEJlZm9yZTtcbiAgICAgICAgICAgIHRoaXMuX3Rva2Vucy5hY2NlcHREZWxldGVSYW5nZShyYW5nZS5zdGFydENvbHVtbiAtIDEsIDAsIDAsIGxhc3RMaW5lSW5kZXgsIHJhbmdlLmVuZENvbHVtbiAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdG9rZW5zLmFjY2VwdERlbGV0ZVJhbmdlKDAsIGZpcnN0TGluZUluZGV4LCByYW5nZS5zdGFydENvbHVtbiAtIDEsIGxhc3RMaW5lSW5kZXgsIHJhbmdlLmVuZENvbHVtbiAtIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9hY2NlcHRJbnNlcnRUZXh0KHBvc2l0aW9uLCBlb2xDb3VudCwgZmlyc3RMaW5lTGVuZ3RoLCBsYXN0TGluZUxlbmd0aCwgZmlyc3RDaGFyQ29kZSkge1xuICAgICAgICBpZiAoZW9sQ291bnQgPT09IDAgJiYgZmlyc3RMaW5lTGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBOb3RoaW5nIHRvIGluc2VydFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpbmVJbmRleCA9IHBvc2l0aW9uLmxpbmVOdW1iZXIgLSB0aGlzLl9zdGFydExpbmVOdW1iZXI7XG4gICAgICAgIGlmIChsaW5lSW5kZXggPCAwKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGluc2VydGlvbiBvY2N1cnMgYmVmb3JlIHRoaXMgYmxvY2ssIHNvIHdlIG9ubHkgbmVlZCB0byBhZGp1c3QgbGluZSBudW1iZXJzXG4gICAgICAgICAgICB0aGlzLl9zdGFydExpbmVOdW1iZXIgKz0gZW9sQ291bnQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9rZW5NYXhEZWx0YUxpbmUgPSB0aGlzLl90b2tlbnMuZ2V0TWF4RGVsdGFMaW5lKCk7XG4gICAgICAgIGlmIChsaW5lSW5kZXggPj0gdG9rZW5NYXhEZWx0YUxpbmUgKyAxKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGluc2VydGlvbiBvY2N1cnMgYWZ0ZXIgdGhpcyBibG9jaywgc28gdGhlcmUgaXMgbm90aGluZyB0byBkb1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Rva2Vucy5hY2NlcHRJbnNlcnRUZXh0KGxpbmVJbmRleCwgcG9zaXRpb24uY29sdW1uIC0gMSwgZW9sQ291bnQsIGZpcnN0TGluZUxlbmd0aCwgbGFzdExpbmVMZW5ndGgsIGZpcnN0Q2hhckNvZGUpO1xuICAgIH1cbn1cbmNsYXNzIFNwYXJzZU11bHRpbGluZVRva2Vuc1N0b3JhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKHRva2Vucykge1xuICAgICAgICB0aGlzLl90b2tlbnMgPSB0b2tlbnM7XG4gICAgICAgIHRoaXMuX3Rva2VuQ291bnQgPSB0b2tlbnMubGVuZ3RoIC8gNDtcbiAgICB9XG4gICAgdG9TdHJpbmcoc3RhcnRMaW5lTnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHBpZWNlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3Rva2VuQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgcGllY2VzLnB1c2goYCgke3RoaXMuX2dldERlbHRhTGluZShpKSArIHN0YXJ0TGluZU51bWJlcn0sJHt0aGlzLl9nZXRTdGFydENoYXJhY3RlcihpKX0tJHt0aGlzLl9nZXRFbmRDaGFyYWN0ZXIoaSl9KWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgWyR7cGllY2VzLmpvaW4oJywnKX1dYDtcbiAgICB9XG4gICAgZ2V0TWF4RGVsdGFMaW5lKCkge1xuICAgICAgICBjb25zdCB0b2tlbkNvdW50ID0gdGhpcy5fZ2V0VG9rZW5Db3VudCgpO1xuICAgICAgICBpZiAodG9rZW5Db3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXREZWx0YUxpbmUodG9rZW5Db3VudCAtIDEpO1xuICAgIH1cbiAgICBnZXRSYW5nZSgpIHtcbiAgICAgICAgY29uc3QgdG9rZW5Db3VudCA9IHRoaXMuX2dldFRva2VuQ291bnQoKTtcbiAgICAgICAgaWYgKHRva2VuQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXJ0Q2hhciA9IHRoaXMuX2dldFN0YXJ0Q2hhcmFjdGVyKDApO1xuICAgICAgICBjb25zdCBtYXhEZWx0YUxpbmUgPSB0aGlzLl9nZXREZWx0YUxpbmUodG9rZW5Db3VudCAtIDEpO1xuICAgICAgICBjb25zdCBlbmRDaGFyID0gdGhpcy5fZ2V0RW5kQ2hhcmFjdGVyKHRva2VuQ291bnQgLSAxKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSgwLCBzdGFydENoYXIgKyAxLCBtYXhEZWx0YUxpbmUsIGVuZENoYXIgKyAxKTtcbiAgICB9XG4gICAgX2dldFRva2VuQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbkNvdW50O1xuICAgIH1cbiAgICBfZ2V0RGVsdGFMaW5lKHRva2VuSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rva2Vuc1s0ICogdG9rZW5JbmRleF07XG4gICAgfVxuICAgIF9nZXRTdGFydENoYXJhY3Rlcih0b2tlbkluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbnNbNCAqIHRva2VuSW5kZXggKyAxXTtcbiAgICB9XG4gICAgX2dldEVuZENoYXJhY3Rlcih0b2tlbkluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbnNbNCAqIHRva2VuSW5kZXggKyAyXTtcbiAgICB9XG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9nZXRUb2tlbkNvdW50KCkgPT09IDApO1xuICAgIH1cbiAgICBnZXRMaW5lVG9rZW5zKGRlbHRhTGluZSkge1xuICAgICAgICBsZXQgbG93ID0gMDtcbiAgICAgICAgbGV0IGhpZ2ggPSB0aGlzLl9nZXRUb2tlbkNvdW50KCkgLSAxO1xuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAgICAgY29uc3QgbWlkID0gbG93ICsgTWF0aC5mbG9vcigoaGlnaCAtIGxvdykgLyAyKTtcbiAgICAgICAgICAgIGNvbnN0IG1pZERlbHRhTGluZSA9IHRoaXMuX2dldERlbHRhTGluZShtaWQpO1xuICAgICAgICAgICAgaWYgKG1pZERlbHRhTGluZSA8IGRlbHRhTGluZSkge1xuICAgICAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtaWREZWx0YUxpbmUgPiBkZWx0YUxpbmUpIHtcbiAgICAgICAgICAgICAgICBoaWdoID0gbWlkIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBtaW4gPSBtaWQ7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG1pbiA+IGxvdyAmJiB0aGlzLl9nZXREZWx0YUxpbmUobWluIC0gMSkgPT09IGRlbHRhTGluZSkge1xuICAgICAgICAgICAgICAgICAgICBtaW4tLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IG1heCA9IG1pZDtcbiAgICAgICAgICAgICAgICB3aGlsZSAobWF4IDwgaGlnaCAmJiB0aGlzLl9nZXREZWx0YUxpbmUobWF4ICsgMSkgPT09IGRlbHRhTGluZSkge1xuICAgICAgICAgICAgICAgICAgICBtYXgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTcGFyc2VMaW5lVG9rZW5zKHRoaXMuX3Rva2Vucy5zdWJhcnJheSg0ICogbWluLCA0ICogbWF4ICsgNCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9nZXREZWx0YUxpbmUobG93KSA9PT0gZGVsdGFMaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNwYXJzZUxpbmVUb2tlbnModGhpcy5fdG9rZW5zLnN1YmFycmF5KDQgKiBsb3csIDQgKiBsb3cgKyA0KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl90b2tlbkNvdW50ID0gMDtcbiAgICB9XG4gICAgcmVtb3ZlVG9rZW5zKHN0YXJ0RGVsdGFMaW5lLCBzdGFydENoYXIsIGVuZERlbHRhTGluZSwgZW5kQ2hhcikge1xuICAgICAgICBjb25zdCB0b2tlbnMgPSB0aGlzLl90b2tlbnM7XG4gICAgICAgIGNvbnN0IHRva2VuQ291bnQgPSB0aGlzLl90b2tlbkNvdW50O1xuICAgICAgICBsZXQgbmV3VG9rZW5Db3VudCA9IDA7XG4gICAgICAgIGxldCBoYXNEZWxldGVkVG9rZW5zID0gZmFsc2U7XG4gICAgICAgIGxldCBmaXJzdERlbHRhTGluZSA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5Db3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzcmNPZmZzZXQgPSA0ICogaTtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuRGVsdGFMaW5lID0gdG9rZW5zW3NyY09mZnNldF07XG4gICAgICAgICAgICBjb25zdCB0b2tlblN0YXJ0Q2hhcmFjdGVyID0gdG9rZW5zW3NyY09mZnNldCArIDFdO1xuICAgICAgICAgICAgY29uc3QgdG9rZW5FbmRDaGFyYWN0ZXIgPSB0b2tlbnNbc3JjT2Zmc2V0ICsgMl07XG4gICAgICAgICAgICBjb25zdCB0b2tlbk1ldGFkYXRhID0gdG9rZW5zW3NyY09mZnNldCArIDNdO1xuICAgICAgICAgICAgaWYgKCh0b2tlbkRlbHRhTGluZSA+IHN0YXJ0RGVsdGFMaW5lIHx8ICh0b2tlbkRlbHRhTGluZSA9PT0gc3RhcnREZWx0YUxpbmUgJiYgdG9rZW5FbmRDaGFyYWN0ZXIgPj0gc3RhcnRDaGFyKSlcbiAgICAgICAgICAgICAgICAmJiAodG9rZW5EZWx0YUxpbmUgPCBlbmREZWx0YUxpbmUgfHwgKHRva2VuRGVsdGFMaW5lID09PSBlbmREZWx0YUxpbmUgJiYgdG9rZW5TdGFydENoYXJhY3RlciA8PSBlbmRDaGFyKSkpIHtcbiAgICAgICAgICAgICAgICBoYXNEZWxldGVkVG9rZW5zID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChuZXdUb2tlbkNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0RGVsdGFMaW5lID0gdG9rZW5EZWx0YUxpbmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChoYXNEZWxldGVkVG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG11c3QgbW92ZSB0aGUgdG9rZW4gdG8gdGhlIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVzdE9mZnNldCA9IDQgKiBuZXdUb2tlbkNvdW50O1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnNbZGVzdE9mZnNldF0gPSB0b2tlbkRlbHRhTGluZSAtIGZpcnN0RGVsdGFMaW5lO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnNbZGVzdE9mZnNldCArIDFdID0gdG9rZW5TdGFydENoYXJhY3RlcjtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zW2Rlc3RPZmZzZXQgKyAyXSA9IHRva2VuRW5kQ2hhcmFjdGVyO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnNbZGVzdE9mZnNldCArIDNdID0gdG9rZW5NZXRhZGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3VG9rZW5Db3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Rva2VuQ291bnQgPSBuZXdUb2tlbkNvdW50O1xuICAgICAgICByZXR1cm4gZmlyc3REZWx0YUxpbmU7XG4gICAgfVxuICAgIHNwbGl0KHN0YXJ0RGVsdGFMaW5lLCBzdGFydENoYXIsIGVuZERlbHRhTGluZSwgZW5kQ2hhcikge1xuICAgICAgICBjb25zdCB0b2tlbnMgPSB0aGlzLl90b2tlbnM7XG4gICAgICAgIGNvbnN0IHRva2VuQ291bnQgPSB0aGlzLl90b2tlbkNvdW50O1xuICAgICAgICBjb25zdCBhVG9rZW5zID0gW107XG4gICAgICAgIGNvbnN0IGJUb2tlbnMgPSBbXTtcbiAgICAgICAgbGV0IGRlc3RUb2tlbnMgPSBhVG9rZW5zO1xuICAgICAgICBsZXQgZGVzdE9mZnNldCA9IDA7XG4gICAgICAgIGxldCBkZXN0Rmlyc3REZWx0YUxpbmUgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2VuQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc3JjT2Zmc2V0ID0gNCAqIGk7XG4gICAgICAgICAgICBjb25zdCB0b2tlbkRlbHRhTGluZSA9IHRva2Vuc1tzcmNPZmZzZXRdO1xuICAgICAgICAgICAgY29uc3QgdG9rZW5TdGFydENoYXJhY3RlciA9IHRva2Vuc1tzcmNPZmZzZXQgKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuRW5kQ2hhcmFjdGVyID0gdG9rZW5zW3NyY09mZnNldCArIDJdO1xuICAgICAgICAgICAgY29uc3QgdG9rZW5NZXRhZGF0YSA9IHRva2Vuc1tzcmNPZmZzZXQgKyAzXTtcbiAgICAgICAgICAgIGlmICgodG9rZW5EZWx0YUxpbmUgPiBzdGFydERlbHRhTGluZSB8fCAodG9rZW5EZWx0YUxpbmUgPT09IHN0YXJ0RGVsdGFMaW5lICYmIHRva2VuRW5kQ2hhcmFjdGVyID49IHN0YXJ0Q2hhcikpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCh0b2tlbkRlbHRhTGluZSA8IGVuZERlbHRhTGluZSB8fCAodG9rZW5EZWx0YUxpbmUgPT09IGVuZERlbHRhTGluZSAmJiB0b2tlblN0YXJ0Q2hhcmFjdGVyIDw9IGVuZENoYXIpKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHRva2VuIGlzIHRvdWNoaW5nIHRoZSByYW5nZVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgdG9rZW4gaXMgYWZ0ZXIgdGhlIHJhbmdlXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXN0VG9rZW5zICE9PSBiVG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHRva2VuIGlzIHRoZSBmaXJzdCB0b2tlbiBhZnRlciB0aGUgcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RUb2tlbnMgPSBiVG9rZW5zO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdE9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0Rmlyc3REZWx0YUxpbmUgPSB0b2tlbkRlbHRhTGluZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlc3RUb2tlbnNbZGVzdE9mZnNldCsrXSA9IHRva2VuRGVsdGFMaW5lIC0gZGVzdEZpcnN0RGVsdGFMaW5lO1xuICAgICAgICAgICAgZGVzdFRva2Vuc1tkZXN0T2Zmc2V0KytdID0gdG9rZW5TdGFydENoYXJhY3RlcjtcbiAgICAgICAgICAgIGRlc3RUb2tlbnNbZGVzdE9mZnNldCsrXSA9IHRva2VuRW5kQ2hhcmFjdGVyO1xuICAgICAgICAgICAgZGVzdFRva2Vuc1tkZXN0T2Zmc2V0KytdID0gdG9rZW5NZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW25ldyBTcGFyc2VNdWx0aWxpbmVUb2tlbnNTdG9yYWdlKG5ldyBVaW50MzJBcnJheShhVG9rZW5zKSksIG5ldyBTcGFyc2VNdWx0aWxpbmVUb2tlbnNTdG9yYWdlKG5ldyBVaW50MzJBcnJheShiVG9rZW5zKSksIGRlc3RGaXJzdERlbHRhTGluZV07XG4gICAgfVxuICAgIGFjY2VwdERlbGV0ZVJhbmdlKGhvcml6b250YWxTaGlmdEZvckZpcnN0TGluZVRva2Vucywgc3RhcnREZWx0YUxpbmUsIHN0YXJ0Q2hhcmFjdGVyLCBlbmREZWx0YUxpbmUsIGVuZENoYXJhY3Rlcikge1xuICAgICAgICAvLyBUaGlzIGlzIGEgYml0IGNvbXBsZXgsIGhlcmUgYXJlIHRoZSBjYXNlcyBJIHVzZWQgdG8gdGhpbmsgYWJvdXQgdGhpczpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMS4gVGhlIHRva2VuIHN0YXJ0cyBiZWZvcmUgdGhlIGRlbGV0aW9uIHJhbmdlXG4gICAgICAgIC8vIDFhLiBUaGUgdG9rZW4gaXMgY29tcGxldGVseSBiZWZvcmUgdGhlIGRlbGV0aW9uIHJhbmdlXG4gICAgICAgIC8vICAgICAgICAgICAgICAgLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgIHh4eHh4eHh4eHh4XG4gICAgICAgIC8vIDFiLiBUaGUgdG9rZW4gc3RhcnRzIGJlZm9yZSwgdGhlIGRlbGV0aW9uIHJhbmdlIGVuZHMgYWZ0ZXIgdGhlIHRva2VuXG4gICAgICAgIC8vICAgICAgICAgICAgICAgLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgeHh4eHh4eHh4eHhcbiAgICAgICAgLy8gMWMuIFRoZSB0b2tlbiBzdGFydHMgYmVmb3JlLCB0aGUgZGVsZXRpb24gcmFuZ2UgZW5kcyBwcmVjaXNlbHkgd2l0aCB0aGUgdG9rZW5cbiAgICAgICAgLy8gICAgICAgICAgICAgICAtLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgeHh4eHh4eHhcbiAgICAgICAgLy8gMWQuIFRoZSB0b2tlbiBzdGFydHMgYmVmb3JlLCB0aGUgZGVsZXRpb24gcmFuZ2UgaXMgaW5zaWRlIHRoZSB0b2tlblxuICAgICAgICAvLyAgICAgICAgICAgICAgIC0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgeHh4eHhcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMi4gVGhlIHRva2VuIHN0YXJ0cyBhdCB0aGUgc2FtZSBwb3NpdGlvbiB3aXRoIHRoZSBkZWxldGlvbiByYW5nZVxuICAgICAgICAvLyAyYS4gVGhlIHRva2VuIHN0YXJ0cyBhdCB0aGUgc2FtZSBwb3NpdGlvbiwgYW5kIGVuZHMgaW5zaWRlIHRoZSBkZWxldGlvbiByYW5nZVxuICAgICAgICAvLyAgICAgICAgICAgICAgIC0tLS0tLS1cbiAgICAgICAgLy8gICAgICAgICAgICAgICB4eHh4eHh4eHh4eFxuICAgICAgICAvLyAyYi4gVGhlIHRva2VuIHN0YXJ0cyBhdCB0aGUgc2FtZSBwb3NpdGlvbiwgYW5kIGVuZHMgYXQgdGhlIHNhbWUgcG9zaXRpb24gYXMgdGhlIGRlbGV0aW9uIHJhbmdlXG4gICAgICAgIC8vICAgICAgICAgICAgICAgLS0tLS0tLS0tLVxuICAgICAgICAvLyAgICAgICAgICAgICAgIHh4eHh4eHh4eHhcbiAgICAgICAgLy8gMmMuIFRoZSB0b2tlbiBzdGFydHMgYXQgdGhlIHNhbWUgcG9zaXRpb24sIGFuZCBlbmRzIGFmdGVyIHRoZSBkZWxldGlvbiByYW5nZVxuICAgICAgICAvLyAgICAgICAgICAgICAgIC0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gICAgICAgICAgICAgICB4eHh4eHh4XG4gICAgICAgIC8vXG4gICAgICAgIC8vIDMuIFRoZSB0b2tlbiBzdGFydHMgaW5zaWRlIHRoZSBkZWxldGlvbiByYW5nZVxuICAgICAgICAvLyAzYS4gVGhlIHRva2VuIGlzIGluc2lkZSB0aGUgZGVsZXRpb24gcmFuZ2VcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgLS0tLS0tLVxuICAgICAgICAvLyAgICAgICAgICAgICB4eHh4eHh4eHh4eHh4XG4gICAgICAgIC8vIDNiLiBUaGUgdG9rZW4gc3RhcnRzIGluc2lkZSB0aGUgZGVsZXRpb24gcmFuZ2UsIGFuZCBlbmRzIGF0IHRoZSBzYW1lIHBvc2l0aW9uIGFzIHRoZSBkZWxldGlvbiByYW5nZVxuICAgICAgICAvLyAgICAgICAgICAgICAgICAtLS0tLS0tLS0tXG4gICAgICAgIC8vICAgICAgICAgICAgIHh4eHh4eHh4eHh4eHhcbiAgICAgICAgLy8gM2MuIFRoZSB0b2tlbiBzdGFydHMgaW5zaWRlIHRoZSBkZWxldGlvbiByYW5nZSwgYW5kIGVuZHMgYWZ0ZXIgdGhlIGRlbGV0aW9uIHJhbmdlXG4gICAgICAgIC8vICAgICAgICAgICAgICAgIC0tLS0tLS0tLS0tLVxuICAgICAgICAvLyAgICAgICAgICAgICB4eHh4eHh4eHh4eFxuICAgICAgICAvL1xuICAgICAgICAvLyA0LiBUaGUgdG9rZW4gc3RhcnRzIGFmdGVyIHRoZSBkZWxldGlvbiByYW5nZVxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgIC0tLS0tLS0tLS0tXG4gICAgICAgIC8vICAgICAgICAgIHh4eHh4eHh4XG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IHRva2VucyA9IHRoaXMuX3Rva2VucztcbiAgICAgICAgY29uc3QgdG9rZW5Db3VudCA9IHRoaXMuX3Rva2VuQ291bnQ7XG4gICAgICAgIGNvbnN0IGRlbGV0ZWRMaW5lQ291bnQgPSAoZW5kRGVsdGFMaW5lIC0gc3RhcnREZWx0YUxpbmUpO1xuICAgICAgICBsZXQgbmV3VG9rZW5Db3VudCA9IDA7XG4gICAgICAgIGxldCBoYXNEZWxldGVkVG9rZW5zID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5Db3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzcmNPZmZzZXQgPSA0ICogaTtcbiAgICAgICAgICAgIGxldCB0b2tlbkRlbHRhTGluZSA9IHRva2Vuc1tzcmNPZmZzZXRdO1xuICAgICAgICAgICAgbGV0IHRva2VuU3RhcnRDaGFyYWN0ZXIgPSB0b2tlbnNbc3JjT2Zmc2V0ICsgMV07XG4gICAgICAgICAgICBsZXQgdG9rZW5FbmRDaGFyYWN0ZXIgPSB0b2tlbnNbc3JjT2Zmc2V0ICsgMl07XG4gICAgICAgICAgICBjb25zdCB0b2tlbk1ldGFkYXRhID0gdG9rZW5zW3NyY09mZnNldCArIDNdO1xuICAgICAgICAgICAgaWYgKHRva2VuRGVsdGFMaW5lIDwgc3RhcnREZWx0YUxpbmUgfHwgKHRva2VuRGVsdGFMaW5lID09PSBzdGFydERlbHRhTGluZSAmJiB0b2tlbkVuZENoYXJhY3RlciA8PSBzdGFydENoYXJhY3RlcikpIHtcbiAgICAgICAgICAgICAgICAvLyAxYS4gVGhlIHRva2VuIGlzIGNvbXBsZXRlbHkgYmVmb3JlIHRoZSBkZWxldGlvbiByYW5nZVxuICAgICAgICAgICAgICAgIC8vID0+IG5vdGhpbmcgdG8gZG9cbiAgICAgICAgICAgICAgICBuZXdUb2tlbkNvdW50Kys7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0b2tlbkRlbHRhTGluZSA9PT0gc3RhcnREZWx0YUxpbmUgJiYgdG9rZW5TdGFydENoYXJhY3RlciA8IHN0YXJ0Q2hhcmFjdGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gMWIsIDFjLCAxZFxuICAgICAgICAgICAgICAgIC8vID0+IHRoZSB0b2tlbiBzdXJ2aXZlcywgYnV0IGl0IG5lZWRzIHRvIHNocmlua1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbkRlbHRhTGluZSA9PT0gZW5kRGVsdGFMaW5lICYmIHRva2VuRW5kQ2hhcmFjdGVyID4gZW5kQ2hhcmFjdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIDFkLiBUaGUgdG9rZW4gc3RhcnRzIGJlZm9yZSwgdGhlIGRlbGV0aW9uIHJhbmdlIGlzIGluc2lkZSB0aGUgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgLy8gPT4gdGhlIHRva2VuIHNocmlua3MgYnkgdGhlIGRlbGV0aW9uIGNoYXJhY3RlciBjb3VudFxuICAgICAgICAgICAgICAgICAgICB0b2tlbkVuZENoYXJhY3RlciAtPSAoZW5kQ2hhcmFjdGVyIC0gc3RhcnRDaGFyYWN0ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gMWIuIFRoZSB0b2tlbiBzdGFydHMgYmVmb3JlLCB0aGUgZGVsZXRpb24gcmFuZ2UgZW5kcyBhZnRlciB0aGUgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgLy8gMWMuIFRoZSB0b2tlbiBzdGFydHMgYmVmb3JlLCB0aGUgZGVsZXRpb24gcmFuZ2UgZW5kcyBwcmVjaXNlbHkgd2l0aCB0aGUgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgLy8gPT4gdGhlIHRva2VuIHNocmlua3MgaXRzIGVuZGluZyB0byB0aGUgZGVsZXRpb24gc3RhcnRcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5FbmRDaGFyYWN0ZXIgPSBzdGFydENoYXJhY3RlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0b2tlbkRlbHRhTGluZSA9PT0gc3RhcnREZWx0YUxpbmUgJiYgdG9rZW5TdGFydENoYXJhY3RlciA9PT0gc3RhcnRDaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICAvLyAyYSwgMmIsIDJjXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuRGVsdGFMaW5lID09PSBlbmREZWx0YUxpbmUgJiYgdG9rZW5FbmRDaGFyYWN0ZXIgPiBlbmRDaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gMmMuIFRoZSB0b2tlbiBzdGFydHMgYXQgdGhlIHNhbWUgcG9zaXRpb24sIGFuZCBlbmRzIGFmdGVyIHRoZSBkZWxldGlvbiByYW5nZVxuICAgICAgICAgICAgICAgICAgICAvLyA9PiB0aGUgdG9rZW4gc2hyaW5rcyBieSB0aGUgZGVsZXRpb24gY2hhcmFjdGVyIGNvdW50XG4gICAgICAgICAgICAgICAgICAgIHRva2VuRW5kQ2hhcmFjdGVyIC09IChlbmRDaGFyYWN0ZXIgLSBzdGFydENoYXJhY3Rlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyAyYS4gVGhlIHRva2VuIHN0YXJ0cyBhdCB0aGUgc2FtZSBwb3NpdGlvbiwgYW5kIGVuZHMgaW5zaWRlIHRoZSBkZWxldGlvbiByYW5nZVxuICAgICAgICAgICAgICAgICAgICAvLyAyYi4gVGhlIHRva2VuIHN0YXJ0cyBhdCB0aGUgc2FtZSBwb3NpdGlvbiwgYW5kIGVuZHMgYXQgdGhlIHNhbWUgcG9zaXRpb24gYXMgdGhlIGRlbGV0aW9uIHJhbmdlXG4gICAgICAgICAgICAgICAgICAgIC8vID0+IHRoZSB0b2tlbiBpcyBkZWxldGVkXG4gICAgICAgICAgICAgICAgICAgIGhhc0RlbGV0ZWRUb2tlbnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0b2tlbkRlbHRhTGluZSA8IGVuZERlbHRhTGluZSB8fCAodG9rZW5EZWx0YUxpbmUgPT09IGVuZERlbHRhTGluZSAmJiB0b2tlblN0YXJ0Q2hhcmFjdGVyIDwgZW5kQ2hhcmFjdGVyKSkge1xuICAgICAgICAgICAgICAgIC8vIDNhLCAzYiwgM2NcbiAgICAgICAgICAgICAgICBpZiAodG9rZW5EZWx0YUxpbmUgPT09IGVuZERlbHRhTGluZSAmJiB0b2tlbkVuZENoYXJhY3RlciA+IGVuZENoYXJhY3Rlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyAzYy4gVGhlIHRva2VuIHN0YXJ0cyBpbnNpZGUgdGhlIGRlbGV0aW9uIHJhbmdlLCBhbmQgZW5kcyBhZnRlciB0aGUgZGVsZXRpb24gcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgLy8gPT4gdGhlIHRva2VuIG1vdmVzIHRvIGNvbnRpbnVlIHJpZ2h0IGFmdGVyIHRoZSBkZWxldGlvblxuICAgICAgICAgICAgICAgICAgICB0b2tlbkRlbHRhTGluZSA9IHN0YXJ0RGVsdGFMaW5lO1xuICAgICAgICAgICAgICAgICAgICB0b2tlblN0YXJ0Q2hhcmFjdGVyID0gc3RhcnRDaGFyYWN0ZXI7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuRW5kQ2hhcmFjdGVyID0gdG9rZW5TdGFydENoYXJhY3RlciArICh0b2tlbkVuZENoYXJhY3RlciAtIGVuZENoYXJhY3Rlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyAzYS4gVGhlIHRva2VuIGlzIGluc2lkZSB0aGUgZGVsZXRpb24gcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgLy8gM2IuIFRoZSB0b2tlbiBzdGFydHMgaW5zaWRlIHRoZSBkZWxldGlvbiByYW5nZSwgYW5kIGVuZHMgYXQgdGhlIHNhbWUgcG9zaXRpb24gYXMgdGhlIGRlbGV0aW9uIHJhbmdlXG4gICAgICAgICAgICAgICAgICAgIC8vID0+IHRoZSB0b2tlbiBpcyBkZWxldGVkXG4gICAgICAgICAgICAgICAgICAgIGhhc0RlbGV0ZWRUb2tlbnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0b2tlbkRlbHRhTGluZSA+IGVuZERlbHRhTGluZSkge1xuICAgICAgICAgICAgICAgIC8vIDQuIChwYXJ0aWFsKSBUaGUgdG9rZW4gc3RhcnRzIGFmdGVyIHRoZSBkZWxldGlvbiByYW5nZSwgb24gYSBsaW5lIGJlbG93Li4uXG4gICAgICAgICAgICAgICAgaWYgKGRlbGV0ZWRMaW5lQ291bnQgPT09IDAgJiYgIWhhc0RlbGV0ZWRUb2tlbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZWFybHkgc3RvcCwgdGhlcmUgaXMgbm8gbmVlZCB0byB3YWxrIGFsbCB0aGUgdG9rZW5zIGFuZCBkbyBub3RoaW5nLi4uXG4gICAgICAgICAgICAgICAgICAgIG5ld1Rva2VuQ291bnQgPSB0b2tlbkNvdW50O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW5EZWx0YUxpbmUgLT0gZGVsZXRlZExpbmVDb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuRGVsdGFMaW5lID09PSBlbmREZWx0YUxpbmUgJiYgdG9rZW5TdGFydENoYXJhY3RlciA+PSBlbmRDaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICAvLyA0LiAoY29udGludWVkKSBUaGUgdG9rZW4gc3RhcnRzIGFmdGVyIHRoZSBkZWxldGlvbiByYW5nZSwgb24gdGhlIGxhc3QgbGluZSB3aGVyZSBhIGRlbGV0aW9uIG9jY3Vyc1xuICAgICAgICAgICAgICAgIGlmIChob3Jpem9udGFsU2hpZnRGb3JGaXJzdExpbmVUb2tlbnMgJiYgdG9rZW5EZWx0YUxpbmUgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5TdGFydENoYXJhY3RlciArPSBob3Jpem9udGFsU2hpZnRGb3JGaXJzdExpbmVUb2tlbnM7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuRW5kQ2hhcmFjdGVyICs9IGhvcml6b250YWxTaGlmdEZvckZpcnN0TGluZVRva2VucztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW5EZWx0YUxpbmUgLT0gZGVsZXRlZExpbmVDb3VudDtcbiAgICAgICAgICAgICAgICB0b2tlblN0YXJ0Q2hhcmFjdGVyIC09IChlbmRDaGFyYWN0ZXIgLSBzdGFydENoYXJhY3Rlcik7XG4gICAgICAgICAgICAgICAgdG9rZW5FbmRDaGFyYWN0ZXIgLT0gKGVuZENoYXJhY3RlciAtIHN0YXJ0Q2hhcmFjdGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm90IHBvc3NpYmxlIWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGVzdE9mZnNldCA9IDQgKiBuZXdUb2tlbkNvdW50O1xuICAgICAgICAgICAgdG9rZW5zW2Rlc3RPZmZzZXRdID0gdG9rZW5EZWx0YUxpbmU7XG4gICAgICAgICAgICB0b2tlbnNbZGVzdE9mZnNldCArIDFdID0gdG9rZW5TdGFydENoYXJhY3RlcjtcbiAgICAgICAgICAgIHRva2Vuc1tkZXN0T2Zmc2V0ICsgMl0gPSB0b2tlbkVuZENoYXJhY3RlcjtcbiAgICAgICAgICAgIHRva2Vuc1tkZXN0T2Zmc2V0ICsgM10gPSB0b2tlbk1ldGFkYXRhO1xuICAgICAgICAgICAgbmV3VG9rZW5Db3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Rva2VuQ291bnQgPSBuZXdUb2tlbkNvdW50O1xuICAgIH1cbiAgICBhY2NlcHRJbnNlcnRUZXh0KGRlbHRhTGluZSwgY2hhcmFjdGVyLCBlb2xDb3VudCwgZmlyc3RMaW5lTGVuZ3RoLCBsYXN0TGluZUxlbmd0aCwgZmlyc3RDaGFyQ29kZSkge1xuICAgICAgICAvLyBIZXJlIGFyZSB0aGUgY2FzZXMgSSB1c2VkIHRvIHRoaW5rIGFib3V0IHRoaXM6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIDEuIFRoZSB0b2tlbiBpcyBjb21wbGV0ZWx5IGJlZm9yZSB0aGUgaW5zZXJ0aW9uIHBvaW50XG4gICAgICAgIC8vICAgICAgICAgICAgLS0tLS0tLS0tLS0gICB8XG4gICAgICAgIC8vIDIuIFRoZSB0b2tlbiBlbmRzIHByZWNpc2VseSBhdCB0aGUgaW5zZXJ0aW9uIHBvaW50XG4gICAgICAgIC8vICAgICAgICAgICAgLS0tLS0tLS0tLS18XG4gICAgICAgIC8vIDMuIFRoZSB0b2tlbiBjb250YWlucyB0aGUgaW5zZXJ0aW9uIHBvaW50XG4gICAgICAgIC8vICAgICAgICAgICAgLS0tLS18LS0tLS0tXG4gICAgICAgIC8vIDQuIFRoZSB0b2tlbiBzdGFydHMgcHJlY2lzZWx5IGF0IHRoZSBpbnNlcnRpb24gcG9pbnRcbiAgICAgICAgLy8gICAgICAgICAgICB8LS0tLS0tLS0tLS1cbiAgICAgICAgLy8gNS4gVGhlIHRva2VuIGlzIGNvbXBsZXRlbHkgYWZ0ZXIgdGhlIGluc2VydGlvbiBwb2ludFxuICAgICAgICAvLyAgICAgICAgICAgIHwgICAtLS0tLS0tLS0tLVxuICAgICAgICAvL1xuICAgICAgICBjb25zdCBpc0luc2VydGluZ1ByZWNpc2VseU9uZVdvcmRDaGFyYWN0ZXIgPSAoZW9sQ291bnQgPT09IDBcbiAgICAgICAgICAgICYmIGZpcnN0TGluZUxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgJiYgKChmaXJzdENoYXJDb2RlID49IDQ4IC8qIENoYXJDb2RlLkRpZ2l0MCAqLyAmJiBmaXJzdENoYXJDb2RlIDw9IDU3IC8qIENoYXJDb2RlLkRpZ2l0OSAqLylcbiAgICAgICAgICAgICAgICB8fCAoZmlyc3RDaGFyQ29kZSA+PSA2NSAvKiBDaGFyQ29kZS5BICovICYmIGZpcnN0Q2hhckNvZGUgPD0gOTAgLyogQ2hhckNvZGUuWiAqLylcbiAgICAgICAgICAgICAgICB8fCAoZmlyc3RDaGFyQ29kZSA+PSA5NyAvKiBDaGFyQ29kZS5hICovICYmIGZpcnN0Q2hhckNvZGUgPD0gMTIyIC8qIENoYXJDb2RlLnogKi8pKSk7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IHRoaXMuX3Rva2VucztcbiAgICAgICAgY29uc3QgdG9rZW5Db3VudCA9IHRoaXMuX3Rva2VuQ291bnQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5Db3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSA0ICogaTtcbiAgICAgICAgICAgIGxldCB0b2tlbkRlbHRhTGluZSA9IHRva2Vuc1tvZmZzZXRdO1xuICAgICAgICAgICAgbGV0IHRva2VuU3RhcnRDaGFyYWN0ZXIgPSB0b2tlbnNbb2Zmc2V0ICsgMV07XG4gICAgICAgICAgICBsZXQgdG9rZW5FbmRDaGFyYWN0ZXIgPSB0b2tlbnNbb2Zmc2V0ICsgMl07XG4gICAgICAgICAgICBpZiAodG9rZW5EZWx0YUxpbmUgPCBkZWx0YUxpbmUgfHwgKHRva2VuRGVsdGFMaW5lID09PSBkZWx0YUxpbmUgJiYgdG9rZW5FbmRDaGFyYWN0ZXIgPCBjaGFyYWN0ZXIpKSB7XG4gICAgICAgICAgICAgICAgLy8gMS4gVGhlIHRva2VuIGlzIGNvbXBsZXRlbHkgYmVmb3JlIHRoZSBpbnNlcnRpb24gcG9pbnRcbiAgICAgICAgICAgICAgICAvLyA9PiBub3RoaW5nIHRvIGRvXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0b2tlbkRlbHRhTGluZSA9PT0gZGVsdGFMaW5lICYmIHRva2VuRW5kQ2hhcmFjdGVyID09PSBjaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICAvLyAyLiBUaGUgdG9rZW4gZW5kcyBwcmVjaXNlbHkgYXQgdGhlIGluc2VydGlvbiBwb2ludFxuICAgICAgICAgICAgICAgIC8vID0+IGV4cGFuZCB0aGUgZW5kIGNoYXJhY3RlciBvbmx5IGlmIGluc2VydGluZyBwcmVjaXNlbHkgb25lIGNoYXJhY3RlciB0aGF0IGlzIGEgd29yZCBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICBpZiAoaXNJbnNlcnRpbmdQcmVjaXNlbHlPbmVXb3JkQ2hhcmFjdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuRW5kQ2hhcmFjdGVyICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0b2tlbkRlbHRhTGluZSA9PT0gZGVsdGFMaW5lICYmIHRva2VuU3RhcnRDaGFyYWN0ZXIgPCBjaGFyYWN0ZXIgJiYgY2hhcmFjdGVyIDwgdG9rZW5FbmRDaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICAvLyAzLiBUaGUgdG9rZW4gY29udGFpbnMgdGhlIGluc2VydGlvbiBwb2ludFxuICAgICAgICAgICAgICAgIGlmIChlb2xDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyA9PiBqdXN0IGV4cGFuZCB0aGUgZW5kIGNoYXJhY3RlclxuICAgICAgICAgICAgICAgICAgICB0b2tlbkVuZENoYXJhY3RlciArPSBmaXJzdExpbmVMZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyA9PiBjdXQgb2ZmIHRoZSB0b2tlblxuICAgICAgICAgICAgICAgICAgICB0b2tlbkVuZENoYXJhY3RlciA9IGNoYXJhY3RlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyA0LiBvciA1LlxuICAgICAgICAgICAgICAgIGlmICh0b2tlbkRlbHRhTGluZSA9PT0gZGVsdGFMaW5lICYmIHRva2VuU3RhcnRDaGFyYWN0ZXIgPT09IGNoYXJhY3Rlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyA0LiBUaGUgdG9rZW4gc3RhcnRzIHByZWNpc2VseSBhdCB0aGUgaW5zZXJ0aW9uIHBvaW50XG4gICAgICAgICAgICAgICAgICAgIC8vID0+IGdyb3cgdGhlIHRva2VuIChieSBrZWVwaW5nIGl0cyBzdGFydCBjb25zdGFudCkgb25seSBpZiBpbnNlcnRpbmcgcHJlY2lzZWx5IG9uZSBjaGFyYWN0ZXIgdGhhdCBpcyBhIHdvcmQgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgICAgIC8vID0+IG90aGVyd2lzZSBiZWhhdmUgYXMgaW4gY2FzZSA1LlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJbnNlcnRpbmdQcmVjaXNlbHlPbmVXb3JkQ2hhcmFjdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyA9PiB0aGUgdG9rZW4gbXVzdCBtb3ZlIGFuZCBrZWVwIGl0cyBzaXplIGNvbnN0YW50XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuRGVsdGFMaW5lID09PSBkZWx0YUxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5EZWx0YUxpbmUgKz0gZW9sQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgdG9rZW4gaXMgb24gdGhlIGxpbmUgd2hlcmUgdGhlIGluc2VydGlvbiBpcyB0YWtpbmcgcGxhY2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVvbENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlblN0YXJ0Q2hhcmFjdGVyICs9IGZpcnN0TGluZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuRW5kQ2hhcmFjdGVyICs9IGZpcnN0TGluZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuTGVuZ3RoID0gdG9rZW5FbmRDaGFyYWN0ZXIgLSB0b2tlblN0YXJ0Q2hhcmFjdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5TdGFydENoYXJhY3RlciA9IGxhc3RMaW5lTGVuZ3RoICsgKHRva2VuU3RhcnRDaGFyYWN0ZXIgLSBjaGFyYWN0ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5FbmRDaGFyYWN0ZXIgPSB0b2tlblN0YXJ0Q2hhcmFjdGVyICsgdG9rZW5MZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuRGVsdGFMaW5lICs9IGVvbENvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2Vuc1tvZmZzZXRdID0gdG9rZW5EZWx0YUxpbmU7XG4gICAgICAgICAgICB0b2tlbnNbb2Zmc2V0ICsgMV0gPSB0b2tlblN0YXJ0Q2hhcmFjdGVyO1xuICAgICAgICAgICAgdG9rZW5zW29mZnNldCArIDJdID0gdG9rZW5FbmRDaGFyYWN0ZXI7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU3BhcnNlTGluZVRva2VucyB7XG4gICAgY29uc3RydWN0b3IodG9rZW5zKSB7XG4gICAgICAgIHRoaXMuX3Rva2VucyA9IHRva2VucztcbiAgICB9XG4gICAgZ2V0Q291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbnMubGVuZ3RoIC8gNDtcbiAgICB9XG4gICAgZ2V0U3RhcnRDaGFyYWN0ZXIodG9rZW5JbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9rZW5zWzQgKiB0b2tlbkluZGV4ICsgMV07XG4gICAgfVxuICAgIGdldEVuZENoYXJhY3Rlcih0b2tlbkluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbnNbNCAqIHRva2VuSW5kZXggKyAyXTtcbiAgICB9XG4gICAgZ2V0TWV0YWRhdGEodG9rZW5JbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9rZW5zWzQgKiB0b2tlbkluZGV4ICsgM107XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG52YXIgX19wYXJhbSA9ICh0aGlzICYmIHRoaXMuX19wYXJhbSkgfHwgZnVuY3Rpb24gKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufTtcbmltcG9ydCB7IFRva2VuTWV0YWRhdGEgfSBmcm9tICcuLi9lbmNvZGVkVG9rZW5BdHRyaWJ1dGVzLmpzJztcbmltcG9ydCB7IElUaGVtZVNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS90aGVtZS9jb21tb24vdGhlbWVTZXJ2aWNlLmpzJztcbmltcG9ydCB7IElMb2dTZXJ2aWNlLCBMb2dMZXZlbCB9IGZyb20gJy4uLy4uLy4uL3BsYXRmb3JtL2xvZy9jb21tb24vbG9nLmpzJztcbmltcG9ydCB7IFNwYXJzZU11bHRpbGluZVRva2VucyB9IGZyb20gJy4uL3Rva2Vucy9zcGFyc2VNdWx0aWxpbmVUb2tlbnMuanMnO1xuaW1wb3J0IHsgSUxhbmd1YWdlU2VydmljZSB9IGZyb20gJy4uL2xhbmd1YWdlcy9sYW5ndWFnZS5qcyc7XG5jb25zdCBFTkFCTEVfVFJBQ0UgPSBmYWxzZTtcbmxldCBTZW1hbnRpY1Rva2Vuc1Byb3ZpZGVyU3R5bGluZyA9IGNsYXNzIFNlbWFudGljVG9rZW5zUHJvdmlkZXJTdHlsaW5nIHtcbiAgICBjb25zdHJ1Y3RvcihfbGVnZW5kLCBfdGhlbWVTZXJ2aWNlLCBfbGFuZ3VhZ2VTZXJ2aWNlLCBfbG9nU2VydmljZSkge1xuICAgICAgICB0aGlzLl9sZWdlbmQgPSBfbGVnZW5kO1xuICAgICAgICB0aGlzLl90aGVtZVNlcnZpY2UgPSBfdGhlbWVTZXJ2aWNlO1xuICAgICAgICB0aGlzLl9sYW5ndWFnZVNlcnZpY2UgPSBfbGFuZ3VhZ2VTZXJ2aWNlO1xuICAgICAgICB0aGlzLl9sb2dTZXJ2aWNlID0gX2xvZ1NlcnZpY2U7XG4gICAgICAgIHRoaXMuX2hhc1dhcm5lZE92ZXJsYXBwaW5nVG9rZW5zID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2hhc1dhcm5lZEludmFsaWRMZW5ndGhUb2tlbnMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faGFzV2FybmVkSW52YWxpZEVkaXRTdGFydCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9oYXNoVGFibGUgPSBuZXcgSGFzaFRhYmxlKCk7XG4gICAgfVxuICAgIGdldE1ldGFkYXRhKHRva2VuVHlwZUluZGV4LCB0b2tlbk1vZGlmaWVyU2V0LCBsYW5ndWFnZUlkKSB7XG4gICAgICAgIGNvbnN0IGVuY29kZWRMYW5ndWFnZUlkID0gdGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLmxhbmd1YWdlSWRDb2RlYy5lbmNvZGVMYW5ndWFnZUlkKGxhbmd1YWdlSWQpO1xuICAgICAgICBjb25zdCBlbnRyeSA9IHRoaXMuX2hhc2hUYWJsZS5nZXQodG9rZW5UeXBlSW5kZXgsIHRva2VuTW9kaWZpZXJTZXQsIGVuY29kZWRMYW5ndWFnZUlkKTtcbiAgICAgICAgbGV0IG1ldGFkYXRhO1xuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhID0gZW50cnkubWV0YWRhdGE7XG4gICAgICAgICAgICBpZiAoRU5BQkxFX1RSQUNFICYmIHRoaXMuX2xvZ1NlcnZpY2UuZ2V0TGV2ZWwoKSA9PT0gTG9nTGV2ZWwuVHJhY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dTZXJ2aWNlLnRyYWNlKGBTZW1hbnRpY1Rva2Vuc1Byb3ZpZGVyU3R5bGluZyBbQ0FDSEVEXSAke3Rva2VuVHlwZUluZGV4fSAvICR7dG9rZW5Nb2RpZmllclNldH06IGZvcmVncm91bmQgJHtUb2tlbk1ldGFkYXRhLmdldEZvcmVncm91bmQobWV0YWRhdGEpfSwgZm9udFN0eWxlICR7VG9rZW5NZXRhZGF0YS5nZXRGb250U3R5bGUobWV0YWRhdGEpLnRvU3RyaW5nKDIpfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHRva2VuVHlwZSA9IHRoaXMuX2xlZ2VuZC50b2tlblR5cGVzW3Rva2VuVHlwZUluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuTW9kaWZpZXJzID0gW107XG4gICAgICAgICAgICBpZiAodG9rZW5UeXBlKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1vZGlmaWVyU2V0ID0gdG9rZW5Nb2RpZmllclNldDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBtb2RpZmllckluZGV4ID0gMDsgbW9kaWZpZXJTZXQgPiAwICYmIG1vZGlmaWVySW5kZXggPCB0aGlzLl9sZWdlbmQudG9rZW5Nb2RpZmllcnMubGVuZ3RoOyBtb2RpZmllckluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGlmaWVyU2V0ICYgMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5Nb2RpZmllcnMucHVzaCh0aGlzLl9sZWdlbmQudG9rZW5Nb2RpZmllcnNbbW9kaWZpZXJJbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVyU2V0ID0gbW9kaWZpZXJTZXQgPj4gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKEVOQUJMRV9UUkFDRSAmJiBtb2RpZmllclNldCA+IDAgJiYgdGhpcy5fbG9nU2VydmljZS5nZXRMZXZlbCgpID09PSBMb2dMZXZlbC5UcmFjZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2dTZXJ2aWNlLnRyYWNlKGBTZW1hbnRpY1Rva2Vuc1Byb3ZpZGVyU3R5bGluZzogdW5rbm93biB0b2tlbiBtb2RpZmllciBpbmRleDogJHt0b2tlbk1vZGlmaWVyU2V0LnRvU3RyaW5nKDIpfSBmb3IgbGVnZW5kOiAke0pTT04uc3RyaW5naWZ5KHRoaXMuX2xlZ2VuZC50b2tlbk1vZGlmaWVycyl9YCk7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuTW9kaWZpZXJzLnB1c2goJ25vdC1pbi1sZWdlbmQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW5TdHlsZSA9IHRoaXMuX3RoZW1lU2VydmljZS5nZXRDb2xvclRoZW1lKCkuZ2V0VG9rZW5TdHlsZU1ldGFkYXRhKHRva2VuVHlwZSwgdG9rZW5Nb2RpZmllcnMsIGxhbmd1YWdlSWQpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG9rZW5TdHlsZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEgPSAyMTQ3NDgzNjQ3IC8qIFNlbWFudGljVG9rZW5zUHJvdmlkZXJTdHlsaW5nQ29uc3RhbnRzLk5PX1NUWUxJTkcgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG9rZW5TdHlsZS5pdGFsaWMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGFsaWNCaXQgPSAodG9rZW5TdHlsZS5pdGFsaWMgPyAxIC8qIEZvbnRTdHlsZS5JdGFsaWMgKi8gOiAwKSA8PCAxMSAvKiBNZXRhZGF0YUNvbnN0cy5GT05UX1NUWUxFX09GRlNFVCAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhIHw9IGl0YWxpY0JpdCB8IDEgLyogTWV0YWRhdGFDb25zdHMuU0VNQU5USUNfVVNFX0lUQUxJQyAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRva2VuU3R5bGUuYm9sZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvbGRCaXQgPSAodG9rZW5TdHlsZS5ib2xkID8gMiAvKiBGb250U3R5bGUuQm9sZCAqLyA6IDApIDw8IDExIC8qIE1ldGFkYXRhQ29uc3RzLkZPTlRfU1RZTEVfT0ZGU0VUICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEgfD0gYm9sZEJpdCB8IDIgLyogTWV0YWRhdGFDb25zdHMuU0VNQU5USUNfVVNFX0JPTEQgKi87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b2tlblN0eWxlLnVuZGVybGluZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVuZGVybGluZUJpdCA9ICh0b2tlblN0eWxlLnVuZGVybGluZSA/IDQgLyogRm9udFN0eWxlLlVuZGVybGluZSAqLyA6IDApIDw8IDExIC8qIE1ldGFkYXRhQ29uc3RzLkZPTlRfU1RZTEVfT0ZGU0VUICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEgfD0gdW5kZXJsaW5lQml0IHwgNCAvKiBNZXRhZGF0YUNvbnN0cy5TRU1BTlRJQ19VU0VfVU5ERVJMSU5FICovO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG9rZW5TdHlsZS5zdHJpa2V0aHJvdWdoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyaWtldGhyb3VnaEJpdCA9ICh0b2tlblN0eWxlLnN0cmlrZXRocm91Z2ggPyA4IC8qIEZvbnRTdHlsZS5TdHJpa2V0aHJvdWdoICovIDogMCkgPDwgMTEgLyogTWV0YWRhdGFDb25zdHMuRk9OVF9TVFlMRV9PRkZTRVQgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YSB8PSBzdHJpa2V0aHJvdWdoQml0IHwgOCAvKiBNZXRhZGF0YUNvbnN0cy5TRU1BTlRJQ19VU0VfU1RSSUtFVEhST1VHSCAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5TdHlsZS5mb3JlZ3JvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JlZ3JvdW5kQml0cyA9ICh0b2tlblN0eWxlLmZvcmVncm91bmQpIDw8IDE1IC8qIE1ldGFkYXRhQ29uc3RzLkZPUkVHUk9VTkRfT0ZGU0VUICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEgfD0gZm9yZWdyb3VuZEJpdHMgfCAxNiAvKiBNZXRhZGF0YUNvbnN0cy5TRU1BTlRJQ19VU0VfRk9SRUdST1VORCAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGhpbmchXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YSA9IDIxNDc0ODM2NDcgLyogU2VtYW50aWNUb2tlbnNQcm92aWRlclN0eWxpbmdDb25zdGFudHMuTk9fU1RZTElORyAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChFTkFCTEVfVFJBQ0UgJiYgdGhpcy5fbG9nU2VydmljZS5nZXRMZXZlbCgpID09PSBMb2dMZXZlbC5UcmFjZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2dTZXJ2aWNlLnRyYWNlKGBTZW1hbnRpY1Rva2Vuc1Byb3ZpZGVyU3R5bGluZzogdW5rbm93biB0b2tlbiB0eXBlIGluZGV4OiAke3Rva2VuVHlwZUluZGV4fSBmb3IgbGVnZW5kOiAke0pTT04uc3RyaW5naWZ5KHRoaXMuX2xlZ2VuZC50b2tlblR5cGVzKX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWV0YWRhdGEgPSAyMTQ3NDgzNjQ3IC8qIFNlbWFudGljVG9rZW5zUHJvdmlkZXJTdHlsaW5nQ29uc3RhbnRzLk5PX1NUWUxJTkcgKi87XG4gICAgICAgICAgICAgICAgdG9rZW5UeXBlID0gJ25vdC1pbi1sZWdlbmQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faGFzaFRhYmxlLmFkZCh0b2tlblR5cGVJbmRleCwgdG9rZW5Nb2RpZmllclNldCwgZW5jb2RlZExhbmd1YWdlSWQsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgIGlmIChFTkFCTEVfVFJBQ0UgJiYgdGhpcy5fbG9nU2VydmljZS5nZXRMZXZlbCgpID09PSBMb2dMZXZlbC5UcmFjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ1NlcnZpY2UudHJhY2UoYFNlbWFudGljVG9rZW5zUHJvdmlkZXJTdHlsaW5nICR7dG9rZW5UeXBlSW5kZXh9ICgke3Rva2VuVHlwZX0pIC8gJHt0b2tlbk1vZGlmaWVyU2V0fSAoJHt0b2tlbk1vZGlmaWVycy5qb2luKCcgJyl9KTogZm9yZWdyb3VuZCAke1Rva2VuTWV0YWRhdGEuZ2V0Rm9yZWdyb3VuZChtZXRhZGF0YSl9LCBmb250U3R5bGUgJHtUb2tlbk1ldGFkYXRhLmdldEZvbnRTdHlsZShtZXRhZGF0YSkudG9TdHJpbmcoMil9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgIH1cbiAgICB3YXJuT3ZlcmxhcHBpbmdTZW1hbnRpY1Rva2VucyhsaW5lTnVtYmVyLCBzdGFydENvbHVtbikge1xuICAgICAgICBpZiAoIXRoaXMuX2hhc1dhcm5lZE92ZXJsYXBwaW5nVG9rZW5zKSB7XG4gICAgICAgICAgICB0aGlzLl9oYXNXYXJuZWRPdmVybGFwcGluZ1Rva2VucyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9sb2dTZXJ2aWNlLndhcm4oYE92ZXJsYXBwaW5nIHNlbWFudGljIHRva2VucyBkZXRlY3RlZCBhdCBsaW5lTnVtYmVyICR7bGluZU51bWJlcn0sIGNvbHVtbiAke3N0YXJ0Q29sdW1ufWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdhcm5JbnZhbGlkTGVuZ3RoU2VtYW50aWNUb2tlbnMobGluZU51bWJlciwgc3RhcnRDb2x1bW4pIHtcbiAgICAgICAgaWYgKCF0aGlzLl9oYXNXYXJuZWRJbnZhbGlkTGVuZ3RoVG9rZW5zKSB7XG4gICAgICAgICAgICB0aGlzLl9oYXNXYXJuZWRJbnZhbGlkTGVuZ3RoVG9rZW5zID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2xvZ1NlcnZpY2Uud2FybihgU2VtYW50aWMgdG9rZW4gd2l0aCBpbnZhbGlkIGxlbmd0aCBkZXRlY3RlZCBhdCBsaW5lTnVtYmVyICR7bGluZU51bWJlcn0sIGNvbHVtbiAke3N0YXJ0Q29sdW1ufWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdhcm5JbnZhbGlkRWRpdFN0YXJ0KHByZXZpb3VzUmVzdWx0SWQsIHJlc3VsdElkLCBlZGl0SW5kZXgsIGVkaXRTdGFydCwgbWF4RXhwZWN0ZWRTdGFydCkge1xuICAgICAgICBpZiAoIXRoaXMuX2hhc1dhcm5lZEludmFsaWRFZGl0U3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhc1dhcm5lZEludmFsaWRFZGl0U3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fbG9nU2VydmljZS53YXJuKGBJbnZhbGlkIHNlbWFudGljIHRva2VucyBlZGl0IGRldGVjdGVkIChwcmV2aW91c1Jlc3VsdElkOiAke3ByZXZpb3VzUmVzdWx0SWR9LCByZXN1bHRJZDogJHtyZXN1bHRJZH0pIGF0IGVkaXQgIyR7ZWRpdEluZGV4fTogVGhlIHByb3ZpZGVkIHN0YXJ0IG9mZnNldCAke2VkaXRTdGFydH0gaXMgb3V0c2lkZSB0aGUgcHJldmlvdXMgZGF0YSAobGVuZ3RoICR7bWF4RXhwZWN0ZWRTdGFydH0pLmApO1xuICAgICAgICB9XG4gICAgfVxufTtcblNlbWFudGljVG9rZW5zUHJvdmlkZXJTdHlsaW5nID0gX19kZWNvcmF0ZShbXG4gICAgX19wYXJhbSgxLCBJVGhlbWVTZXJ2aWNlKSxcbiAgICBfX3BhcmFtKDIsIElMYW5ndWFnZVNlcnZpY2UpLFxuICAgIF9fcGFyYW0oMywgSUxvZ1NlcnZpY2UpXG5dLCBTZW1hbnRpY1Rva2Vuc1Byb3ZpZGVyU3R5bGluZyk7XG5leHBvcnQgeyBTZW1hbnRpY1Rva2Vuc1Byb3ZpZGVyU3R5bGluZyB9O1xuZXhwb3J0IGZ1bmN0aW9uIHRvTXVsdGlsaW5lVG9rZW5zMih0b2tlbnMsIHN0eWxpbmcsIGxhbmd1YWdlSWQpIHtcbiAgICBjb25zdCBzcmNEYXRhID0gdG9rZW5zLmRhdGE7XG4gICAgY29uc3QgdG9rZW5Db3VudCA9ICh0b2tlbnMuZGF0YS5sZW5ndGggLyA1KSB8IDA7XG4gICAgY29uc3QgdG9rZW5zUGVyQXJlYSA9IE1hdGgubWF4KE1hdGguY2VpbCh0b2tlbkNvdW50IC8gMTAyNCAvKiBTZW1hbnRpY0NvbG9yaW5nQ29uc3RhbnRzLkRlc2lyZWRNYXhBcmVhcyAqLyksIDQwMCAvKiBTZW1hbnRpY0NvbG9yaW5nQ29uc3RhbnRzLkRlc2lyZWRUb2tlbnNQZXJBcmVhICovKTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBsZXQgdG9rZW5JbmRleCA9IDA7XG4gICAgbGV0IGxhc3RMaW5lTnVtYmVyID0gMTtcbiAgICBsZXQgbGFzdFN0YXJ0Q2hhcmFjdGVyID0gMDtcbiAgICB3aGlsZSAodG9rZW5JbmRleCA8IHRva2VuQ291bnQpIHtcbiAgICAgICAgY29uc3QgdG9rZW5TdGFydEluZGV4ID0gdG9rZW5JbmRleDtcbiAgICAgICAgbGV0IHRva2VuRW5kSW5kZXggPSBNYXRoLm1pbih0b2tlblN0YXJ0SW5kZXggKyB0b2tlbnNQZXJBcmVhLCB0b2tlbkNvdW50KTtcbiAgICAgICAgLy8gS2VlcCB0b2tlbnMgb24gdGhlIHNhbWUgbGluZSBpbiB0aGUgc2FtZSBhcmVhLi4uXG4gICAgICAgIGlmICh0b2tlbkVuZEluZGV4IDwgdG9rZW5Db3VudCkge1xuICAgICAgICAgICAgbGV0IHNtYWxsVG9rZW5FbmRJbmRleCA9IHRva2VuRW5kSW5kZXg7XG4gICAgICAgICAgICB3aGlsZSAoc21hbGxUb2tlbkVuZEluZGV4IC0gMSA+IHRva2VuU3RhcnRJbmRleCAmJiBzcmNEYXRhWzUgKiBzbWFsbFRva2VuRW5kSW5kZXhdID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc21hbGxUb2tlbkVuZEluZGV4LS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc21hbGxUb2tlbkVuZEluZGV4IC0gMSA9PT0gdG9rZW5TdGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgLy8gdGhlcmUgYXJlIHNvIG1hbnkgdG9rZW5zIG9uIHRoaXMgbGluZSB0aGF0IG91ciBhcmVhIHdvdWxkIGJlIGVtcHR5LCB3ZSBtdXN0IG5vdyBnbyByaWdodFxuICAgICAgICAgICAgICAgIGxldCBiaWdUb2tlbkVuZEluZGV4ID0gdG9rZW5FbmRJbmRleDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoYmlnVG9rZW5FbmRJbmRleCArIDEgPCB0b2tlbkNvdW50ICYmIHNyY0RhdGFbNSAqIGJpZ1Rva2VuRW5kSW5kZXhdID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJpZ1Rva2VuRW5kSW5kZXgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW5FbmRJbmRleCA9IGJpZ1Rva2VuRW5kSW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b2tlbkVuZEluZGV4ID0gc21hbGxUb2tlbkVuZEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBkZXN0RGF0YSA9IG5ldyBVaW50MzJBcnJheSgodG9rZW5FbmRJbmRleCAtIHRva2VuU3RhcnRJbmRleCkgKiA0KTtcbiAgICAgICAgbGV0IGRlc3RPZmZzZXQgPSAwO1xuICAgICAgICBsZXQgYXJlYUxpbmUgPSAwO1xuICAgICAgICBsZXQgcHJldkxpbmVOdW1iZXIgPSAwO1xuICAgICAgICBsZXQgcHJldkVuZENoYXJhY3RlciA9IDA7XG4gICAgICAgIHdoaWxlICh0b2tlbkluZGV4IDwgdG9rZW5FbmRJbmRleCkge1xuICAgICAgICAgICAgY29uc3Qgc3JjT2Zmc2V0ID0gNSAqIHRva2VuSW5kZXg7XG4gICAgICAgICAgICBjb25zdCBkZWx0YUxpbmUgPSBzcmNEYXRhW3NyY09mZnNldF07XG4gICAgICAgICAgICBjb25zdCBkZWx0YUNoYXJhY3RlciA9IHNyY0RhdGFbc3JjT2Zmc2V0ICsgMV07XG4gICAgICAgICAgICAvLyBDYXN0aW5nIGJvdGggYGxpbmVOdW1iZXJgLCBgc3RhcnRDaGFyYWN0ZXJgIGFuZCBgZW5kQ2hhcmFjdGVyYCBoZXJlIHRvIHVpbnQzMiB1c2luZyBgfDBgXG4gICAgICAgICAgICAvLyB0byB2YWxpZGF0ZSBiZWxvdyB3aXRoIHRoZSBhY3R1YWwgdmFsdWVzIHRoYXQgd2lsbCBiZSBpbnNlcnRlZCBpbiB0aGUgVWludDMyQXJyYXkgcmVzdWx0XG4gICAgICAgICAgICBjb25zdCBsaW5lTnVtYmVyID0gKGxhc3RMaW5lTnVtYmVyICsgZGVsdGFMaW5lKSB8IDA7XG4gICAgICAgICAgICBjb25zdCBzdGFydENoYXJhY3RlciA9IChkZWx0YUxpbmUgPT09IDAgPyAobGFzdFN0YXJ0Q2hhcmFjdGVyICsgZGVsdGFDaGFyYWN0ZXIpIHwgMCA6IGRlbHRhQ2hhcmFjdGVyKTtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IHNyY0RhdGFbc3JjT2Zmc2V0ICsgMl07XG4gICAgICAgICAgICBjb25zdCBlbmRDaGFyYWN0ZXIgPSAoc3RhcnRDaGFyYWN0ZXIgKyBsZW5ndGgpIHwgMDtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuVHlwZUluZGV4ID0gc3JjRGF0YVtzcmNPZmZzZXQgKyAzXTtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuTW9kaWZpZXJTZXQgPSBzcmNEYXRhW3NyY09mZnNldCArIDRdO1xuICAgICAgICAgICAgaWYgKGVuZENoYXJhY3RlciA8PSBzdGFydENoYXJhY3Rlcikge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgdG9rZW4gaXMgaW52YWxpZCAobW9zdCBsaWtlbHkgYSBuZWdhdGl2ZSBsZW5ndGggY2FzdGVkIHRvIHVpbnQzMilcbiAgICAgICAgICAgICAgICBzdHlsaW5nLndhcm5JbnZhbGlkTGVuZ3RoU2VtYW50aWNUb2tlbnMobGluZU51bWJlciwgc3RhcnRDaGFyYWN0ZXIgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHByZXZMaW5lTnVtYmVyID09PSBsaW5lTnVtYmVyICYmIHByZXZFbmRDaGFyYWN0ZXIgPiBzdGFydENoYXJhY3Rlcikge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgdG9rZW4gb3ZlcmxhcHMgd2l0aCB0aGUgcHJldmlvdXMgdG9rZW5cbiAgICAgICAgICAgICAgICBzdHlsaW5nLndhcm5PdmVybGFwcGluZ1NlbWFudGljVG9rZW5zKGxpbmVOdW1iZXIsIHN0YXJ0Q2hhcmFjdGVyICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHN0eWxpbmcuZ2V0TWV0YWRhdGEodG9rZW5UeXBlSW5kZXgsIHRva2VuTW9kaWZpZXJTZXQsIGxhbmd1YWdlSWQpO1xuICAgICAgICAgICAgICAgIGlmIChtZXRhZGF0YSAhPT0gMjE0NzQ4MzY0NyAvKiBTZW1hbnRpY1Rva2Vuc1Byb3ZpZGVyU3R5bGluZ0NvbnN0YW50cy5OT19TVFlMSU5HICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmVhTGluZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJlYUxpbmUgPSBsaW5lTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlc3REYXRhW2Rlc3RPZmZzZXRdID0gbGluZU51bWJlciAtIGFyZWFMaW5lO1xuICAgICAgICAgICAgICAgICAgICBkZXN0RGF0YVtkZXN0T2Zmc2V0ICsgMV0gPSBzdGFydENoYXJhY3RlcjtcbiAgICAgICAgICAgICAgICAgICAgZGVzdERhdGFbZGVzdE9mZnNldCArIDJdID0gZW5kQ2hhcmFjdGVyO1xuICAgICAgICAgICAgICAgICAgICBkZXN0RGF0YVtkZXN0T2Zmc2V0ICsgM10gPSBtZXRhZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgZGVzdE9mZnNldCArPSA0O1xuICAgICAgICAgICAgICAgICAgICBwcmV2TGluZU51bWJlciA9IGxpbmVOdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIHByZXZFbmRDaGFyYWN0ZXIgPSBlbmRDaGFyYWN0ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdExpbmVOdW1iZXIgPSBsaW5lTnVtYmVyO1xuICAgICAgICAgICAgbGFzdFN0YXJ0Q2hhcmFjdGVyID0gc3RhcnRDaGFyYWN0ZXI7XG4gICAgICAgICAgICB0b2tlbkluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlc3RPZmZzZXQgIT09IGRlc3REYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgZGVzdERhdGEgPSBkZXN0RGF0YS5zdWJhcnJheSgwLCBkZXN0T2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b2tlbnMgPSBTcGFyc2VNdWx0aWxpbmVUb2tlbnMuY3JlYXRlKGFyZWFMaW5lLCBkZXN0RGF0YSk7XG4gICAgICAgIHJlc3VsdC5wdXNoKHRva2Vucyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5jbGFzcyBIYXNoVGFibGVFbnRyeSB7XG4gICAgY29uc3RydWN0b3IodG9rZW5UeXBlSW5kZXgsIHRva2VuTW9kaWZpZXJTZXQsIGxhbmd1YWdlSWQsIG1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMudG9rZW5UeXBlSW5kZXggPSB0b2tlblR5cGVJbmRleDtcbiAgICAgICAgdGhpcy50b2tlbk1vZGlmaWVyU2V0ID0gdG9rZW5Nb2RpZmllclNldDtcbiAgICAgICAgdGhpcy5sYW5ndWFnZUlkID0gbGFuZ3VhZ2VJZDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuICAgIH1cbn1cbmNsYXNzIEhhc2hUYWJsZSB7XG4gICAgc3RhdGljIHsgdGhpcy5fU0laRVMgPSBbMywgNywgMTMsIDMxLCA2MSwgMTI3LCAyNTEsIDUwOSwgMTAyMSwgMjAzOSwgNDA5MywgODE5MSwgMTYzODEsIDMyNzQ5LCA2NTUyMSwgMTMxMDcxLCAyNjIxMzksIDUyNDI4NywgMTA0ODU3MywgMjA5NzE0M107IH1cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudHNDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRMZW5ndGhJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRMZW5ndGggPSBIYXNoVGFibGUuX1NJWkVTW3RoaXMuX2N1cnJlbnRMZW5ndGhJbmRleF07XG4gICAgICAgIHRoaXMuX2dyb3dDb3VudCA9IE1hdGgucm91bmQodGhpcy5fY3VycmVudExlbmd0aEluZGV4ICsgMSA8IEhhc2hUYWJsZS5fU0laRVMubGVuZ3RoID8gMiAvIDMgKiB0aGlzLl9jdXJyZW50TGVuZ3RoIDogMCk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzID0gW107XG4gICAgICAgIEhhc2hUYWJsZS5fbnVsbE91dEVudHJpZXModGhpcy5fZWxlbWVudHMsIHRoaXMuX2N1cnJlbnRMZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgX251bGxPdXRFbnRyaWVzKGVudHJpZXMsIGxlbmd0aCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBlbnRyaWVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfaGFzaDIobjEsIG4yKSB7XG4gICAgICAgIHJldHVybiAoKChuMSA8PCA1KSAtIG4xKSArIG4yKSB8IDA7IC8vIG4xICogMzEgKyBuMiwga2VlcCBhcyBpbnQzMlxuICAgIH1cbiAgICBfaGFzaEZ1bmModG9rZW5UeXBlSW5kZXgsIHRva2VuTW9kaWZpZXJTZXQsIGxhbmd1YWdlSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhc2gyKHRoaXMuX2hhc2gyKHRva2VuVHlwZUluZGV4LCB0b2tlbk1vZGlmaWVyU2V0KSwgbGFuZ3VhZ2VJZCkgJSB0aGlzLl9jdXJyZW50TGVuZ3RoO1xuICAgIH1cbiAgICBnZXQodG9rZW5UeXBlSW5kZXgsIHRva2VuTW9kaWZpZXJTZXQsIGxhbmd1YWdlSWQpIHtcbiAgICAgICAgY29uc3QgaGFzaCA9IHRoaXMuX2hhc2hGdW5jKHRva2VuVHlwZUluZGV4LCB0b2tlbk1vZGlmaWVyU2V0LCBsYW5ndWFnZUlkKTtcbiAgICAgICAgbGV0IHAgPSB0aGlzLl9lbGVtZW50c1toYXNoXTtcbiAgICAgICAgd2hpbGUgKHApIHtcbiAgICAgICAgICAgIGlmIChwLnRva2VuVHlwZUluZGV4ID09PSB0b2tlblR5cGVJbmRleCAmJiBwLnRva2VuTW9kaWZpZXJTZXQgPT09IHRva2VuTW9kaWZpZXJTZXQgJiYgcC5sYW5ndWFnZUlkID09PSBsYW5ndWFnZUlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwID0gcC5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBhZGQodG9rZW5UeXBlSW5kZXgsIHRva2VuTW9kaWZpZXJTZXQsIGxhbmd1YWdlSWQsIG1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzQ291bnQrKztcbiAgICAgICAgaWYgKHRoaXMuX2dyb3dDb3VudCAhPT0gMCAmJiB0aGlzLl9lbGVtZW50c0NvdW50ID49IHRoaXMuX2dyb3dDb3VudCkge1xuICAgICAgICAgICAgLy8gZXhwYW5kIVxuICAgICAgICAgICAgY29uc3Qgb2xkRWxlbWVudHMgPSB0aGlzLl9lbGVtZW50cztcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMZW5ndGhJbmRleCsrO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudExlbmd0aCA9IEhhc2hUYWJsZS5fU0laRVNbdGhpcy5fY3VycmVudExlbmd0aEluZGV4XTtcbiAgICAgICAgICAgIHRoaXMuX2dyb3dDb3VudCA9IE1hdGgucm91bmQodGhpcy5fY3VycmVudExlbmd0aEluZGV4ICsgMSA8IEhhc2hUYWJsZS5fU0laRVMubGVuZ3RoID8gMiAvIDMgKiB0aGlzLl9jdXJyZW50TGVuZ3RoIDogMCk7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cyA9IFtdO1xuICAgICAgICAgICAgSGFzaFRhYmxlLl9udWxsT3V0RW50cmllcyh0aGlzLl9lbGVtZW50cywgdGhpcy5fY3VycmVudExlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZpcnN0IG9mIG9sZEVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHAgPSBmaXJzdDtcbiAgICAgICAgICAgICAgICB3aGlsZSAocCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvbGROZXh0ID0gcC5uZXh0O1xuICAgICAgICAgICAgICAgICAgICBwLm5leHQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGQocCk7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBvbGROZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hZGQobmV3IEhhc2hUYWJsZUVudHJ5KHRva2VuVHlwZUluZGV4LCB0b2tlbk1vZGlmaWVyU2V0LCBsYW5ndWFnZUlkLCBtZXRhZGF0YSkpO1xuICAgIH1cbiAgICBfYWRkKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgaGFzaCA9IHRoaXMuX2hhc2hGdW5jKGVsZW1lbnQudG9rZW5UeXBlSW5kZXgsIGVsZW1lbnQudG9rZW5Nb2RpZmllclNldCwgZWxlbWVudC5sYW5ndWFnZUlkKTtcbiAgICAgICAgZWxlbWVudC5uZXh0ID0gdGhpcy5fZWxlbWVudHNbaGFzaF07XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzW2hhc2hdID0gZWxlbWVudDtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiY291bnRFT0wiLCJ0ZXh0IiwiZW9sQ291bnQiLCJmaXJzdExpbmVMZW5ndGgiLCJsYXN0TGluZVN0YXJ0IiwiZW9sIiwiaSIsImxlbiIsImxlbmd0aCIsImNociIsImNoYXJDb2RlQXQiLCJUb2tlbk1ldGFkYXRhIiwiZ2V0TGFuZ3VhZ2VJZCIsIm1ldGFkYXRhIiwiZ2V0VG9rZW5UeXBlIiwiY29udGFpbnNCYWxhbmNlZEJyYWNrZXRzIiwiZ2V0Rm9udFN0eWxlIiwiZ2V0Rm9yZWdyb3VuZCIsImdldEJhY2tncm91bmQiLCJnZXRDbGFzc05hbWVGcm9tTWV0YWRhdGEiLCJjbGFzc05hbWUiLCJ0aGlzIiwiZm9udFN0eWxlIiwiZ2V0SW5saW5lU3R5bGVGcm9tTWV0YWRhdGEiLCJjb2xvck1hcCIsImZvcmVncm91bmQiLCJyZXN1bHQiLCJ0ZXh0RGVjb3JhdGlvbiIsImdldFByZXNlbnRhdGlvbkZyb21NZXRhZGF0YSIsIml0YWxpYyIsIkJvb2xlYW4iLCJib2xkIiwidW5kZXJsaW5lIiwic3RyaWtldGhyb3VnaCIsIklMYW5ndWFnZVNlcnZpY2UiLCJTcGFyc2VNdWx0aWxpbmVUb2tlbnMiLCJjcmVhdGUiLCJzdGFydExpbmVOdW1iZXIiLCJ0b2tlbnMiLCJTcGFyc2VNdWx0aWxpbmVUb2tlbnNTdG9yYWdlIiwiX3N0YXJ0TGluZU51bWJlciIsImVuZExpbmVOdW1iZXIiLCJfZW5kTGluZU51bWJlciIsImNvbnN0cnVjdG9yIiwiX3Rva2VucyIsImdldE1heERlbHRhTGluZSIsInRvU3RyaW5nIiwiX3VwZGF0ZUVuZExpbmVOdW1iZXIiLCJpc0VtcHR5IiwiZ2V0TGluZVRva2VucyIsImxpbmVOdW1iZXIiLCJnZXRSYW5nZSIsImRlbHRhUmFuZ2UiLCJzdGFydENvbHVtbiIsImVuZENvbHVtbiIsInJlbW92ZVRva2VucyIsInJhbmdlIiwic3RhcnRMaW5lSW5kZXgiLCJlbmRMaW5lSW5kZXgiLCJzcGxpdCIsImEiLCJiIiwiYkRlbHRhTGluZSIsImFwcGx5RWRpdCIsImxhc3RMaW5lTGVuZ3RoIiwiYWNjZXB0RWRpdCIsImZpcnN0Q2hhckNvZGUiLCJfYWNjZXB0RGVsZXRlUmFuZ2UiLCJfYWNjZXB0SW5zZXJ0VGV4dCIsImZpcnN0TGluZUluZGV4IiwibGFzdExpbmVJbmRleCIsImRlbGV0ZWRMaW5lc0NvdW50IiwidG9rZW5NYXhEZWx0YUxpbmUiLCJjbGVhciIsImRlbGV0ZWRCZWZvcmUiLCJhY2NlcHREZWxldGVSYW5nZSIsInBvc2l0aW9uIiwibGluZUluZGV4IiwiYWNjZXB0SW5zZXJ0VGV4dCIsImNvbHVtbiIsIl90b2tlbkNvdW50IiwicGllY2VzIiwicHVzaCIsIl9nZXREZWx0YUxpbmUiLCJfZ2V0U3RhcnRDaGFyYWN0ZXIiLCJfZ2V0RW5kQ2hhcmFjdGVyIiwiam9pbiIsInRva2VuQ291bnQiLCJfZ2V0VG9rZW5Db3VudCIsInN0YXJ0Q2hhciIsIm1heERlbHRhTGluZSIsImVuZENoYXIiLCJ0b2tlbkluZGV4IiwiZGVsdGFMaW5lIiwibG93IiwiaGlnaCIsIm1pZCIsIk1hdGgiLCJmbG9vciIsIm1pZERlbHRhTGluZSIsIm1pbiIsIm1heCIsIlNwYXJzZUxpbmVUb2tlbnMiLCJzdWJhcnJheSIsInN0YXJ0RGVsdGFMaW5lIiwiZW5kRGVsdGFMaW5lIiwibmV3VG9rZW5Db3VudCIsImhhc0RlbGV0ZWRUb2tlbnMiLCJmaXJzdERlbHRhTGluZSIsInNyY09mZnNldCIsInRva2VuRGVsdGFMaW5lIiwidG9rZW5TdGFydENoYXJhY3RlciIsInRva2VuRW5kQ2hhcmFjdGVyIiwidG9rZW5NZXRhZGF0YSIsImRlc3RPZmZzZXQiLCJhVG9rZW5zIiwiYlRva2VucyIsImRlc3RUb2tlbnMiLCJkZXN0Rmlyc3REZWx0YUxpbmUiLCJVaW50MzJBcnJheSIsImhvcml6b250YWxTaGlmdEZvckZpcnN0TGluZVRva2VucyIsInN0YXJ0Q2hhcmFjdGVyIiwiZW5kQ2hhcmFjdGVyIiwiZGVsZXRlZExpbmVDb3VudCIsIkVycm9yIiwiY2hhcmFjdGVyIiwiaXNJbnNlcnRpbmdQcmVjaXNlbHlPbmVXb3JkQ2hhcmFjdGVyIiwib2Zmc2V0IiwidG9rZW5MZW5ndGgiLCJnZXRDb3VudCIsImdldFN0YXJ0Q2hhcmFjdGVyIiwiZ2V0RW5kQ2hhcmFjdGVyIiwiZ2V0TWV0YWRhdGEiLCJfX3BhcmFtIiwicGFyYW1JbmRleCIsImRlY29yYXRvciIsInRhcmdldCIsImtleSIsIlNlbWFudGljVG9rZW5zUHJvdmlkZXJTdHlsaW5nIiwiX2xlZ2VuZCIsIl90aGVtZVNlcnZpY2UiLCJfbGFuZ3VhZ2VTZXJ2aWNlIiwiX2xvZ1NlcnZpY2UiLCJfaGFzV2FybmVkT3ZlcmxhcHBpbmdUb2tlbnMiLCJfaGFzV2FybmVkSW52YWxpZExlbmd0aFRva2VucyIsIl9oYXNXYXJuZWRJbnZhbGlkRWRpdFN0YXJ0IiwiX2hhc2hUYWJsZSIsIkhhc2hUYWJsZSIsInRva2VuVHlwZUluZGV4IiwidG9rZW5Nb2RpZmllclNldCIsImxhbmd1YWdlSWQiLCJlbmNvZGVkTGFuZ3VhZ2VJZCIsImxhbmd1YWdlSWRDb2RlYyIsImVuY29kZUxhbmd1YWdlSWQiLCJlbnRyeSIsImdldCIsInRva2VuVHlwZSIsInRva2VuVHlwZXMiLCJ0b2tlbk1vZGlmaWVycyIsIm1vZGlmaWVyU2V0IiwibW9kaWZpZXJJbmRleCIsInRva2VuU3R5bGUiLCJnZXRDb2xvclRoZW1lIiwiZ2V0VG9rZW5TdHlsZU1ldGFkYXRhIiwiYWRkIiwid2Fybk92ZXJsYXBwaW5nU2VtYW50aWNUb2tlbnMiLCJ3YXJuIiwid2FybkludmFsaWRMZW5ndGhTZW1hbnRpY1Rva2VucyIsIndhcm5JbnZhbGlkRWRpdFN0YXJ0IiwicHJldmlvdXNSZXN1bHRJZCIsInJlc3VsdElkIiwiZWRpdEluZGV4IiwiZWRpdFN0YXJ0IiwibWF4RXhwZWN0ZWRTdGFydCIsInRvTXVsdGlsaW5lVG9rZW5zMiIsInN0eWxpbmciLCJzcmNEYXRhIiwiZGF0YSIsInRva2Vuc1BlckFyZWEiLCJjZWlsIiwibGFzdExpbmVOdW1iZXIiLCJsYXN0U3RhcnRDaGFyYWN0ZXIiLCJ0b2tlblN0YXJ0SW5kZXgiLCJ0b2tlbkVuZEluZGV4Iiwic21hbGxUb2tlbkVuZEluZGV4IiwiYmlnVG9rZW5FbmRJbmRleCIsImRlc3REYXRhIiwiYXJlYUxpbmUiLCJwcmV2TGluZU51bWJlciIsInByZXZFbmRDaGFyYWN0ZXIiLCJkZWx0YUNoYXJhY3RlciIsImRlY29yYXRvcnMiLCJkZXNjIiwiZCIsImMiLCJhcmd1bWVudHMiLCJyIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiZGVmaW5lUHJvcGVydHkiLCJfX2RlY29yYXRlIiwiSGFzaFRhYmxlRW50cnkiLCJuZXh0IiwiX1NJWkVTIiwiX2VsZW1lbnRzQ291bnQiLCJfY3VycmVudExlbmd0aEluZGV4IiwiX2N1cnJlbnRMZW5ndGgiLCJfZ3Jvd0NvdW50Iiwicm91bmQiLCJfZWxlbWVudHMiLCJfbnVsbE91dEVudHJpZXMiLCJlbnRyaWVzIiwiX2hhc2gyIiwibjEiLCJuMiIsIl9oYXNoRnVuYyIsImhhc2giLCJwIiwib2xkRWxlbWVudHMiLCJmaXJzdCIsIm9sZE5leHQiLCJfYWRkIiwiZWxlbWVudCJdLCJzb3VyY2VSb290IjoiIn0=