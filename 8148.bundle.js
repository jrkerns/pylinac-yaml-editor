"use strict";(self.webpackChunkpylinac_yaml_editor=self.webpackChunkpylinac_yaml_editor||[]).push([[8148,9044,2891],{2891:(e,t,n)=>{n.r(t),n.d(t,{ISemanticTokensStylingService:()=>i});const i=(0,n(2399).u1)("semanticTokensStylingService")},8148:(e,t,n)=>{n.r(t),n.d(t,{SemanticTokensStylingService:()=>d});var i=n(998),r=n(7922),s=n(9044),c=n(6441),a=n(9520),h=n(2891),o=n(6726),u=function(e,t){return function(n,i){t(n,i,e)}};let d=class extends i.jG{constructor(e,t,n){super(),this._themeService=e,this._logService=t,this._languageService=n,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange((()=>{this._caches=new WeakMap})))}getStyling(e){return this._caches.has(e)||this._caches.set(e,new a.SemanticTokensProviderStyling(e.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(e)}};d=function(e,t,n,i){var r,s=arguments.length,c=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(s<3?r(c):s>3?r(t,n,c):r(t,n))||c);return s>3&&c&&Object.defineProperty(t,n,c),c}([u(0,s.Gy),u(1,c.rr),u(2,r.L)],d),(0,o.v)(h.ISemanticTokensStylingService,d,1)},3312:(e,t,n)=>{n.d(t,{d:()=>i});class i{constructor(e,t=[],n=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=n}}},6726:(e,t,n)=>{n.d(t,{N:()=>c,v:()=>s});var i=n(3312);const r=[];function s(e,t,n){t instanceof i.d||(t=new i.d(t,[],Boolean(n))),r.push([e,t])}function c(){return r}},2399:(e,t,n)=>{var i;n.d(t,{_$:()=>i,_Y:()=>r,u1:()=>s}),function(e){e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=function(t){return t[e.DI_DEPENDENCIES]||[]}}(i||(i={}));const r=s("instantiationService");function s(e){if(i.serviceIds.has(e))return i.serviceIds.get(e);const t=function(e,n,r){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function(e,t,n){t[i.DI_TARGET]===t?t[i.DI_DEPENDENCIES].push({id:e,index:n}):(t[i.DI_DEPENDENCIES]=[{id:e,index:n}],t[i.DI_TARGET]=t)}(t,e,r)};return t.toString=()=>e,i.serviceIds.set(e,t),t}},7167:(e,t,n)=>{n.d(t,{O:()=>s});var i=n(7110),r=n(9359);const s=new class{constructor(){this.data=new Map}add(e,t){i.ok(r.Kg(e)),i.ok(r.Gv(t)),i.ok(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}},9563:(e,t,n)=>{var i;function r(e){return e===i.HIGH_CONTRAST_DARK||e===i.HIGH_CONTRAST_LIGHT}function s(e){return e===i.DARK||e===i.HIGH_CONTRAST_DARK}n.d(t,{Bb:()=>r,HD:()=>s,zM:()=>i}),function(e){e.DARK="dark",e.LIGHT="light",e.HIGH_CONTRAST_DARK="hcDark",e.HIGH_CONTRAST_LIGHT="hcLight"}(i||(i={}))},9044:(e,t,n)=>{n.d(t,{Fd:()=>d,Gy:()=>h,Pz:()=>u,Yf:()=>o,lR:()=>T,zy:()=>l});var i=n(2106),r=n(998),s=n(2399),c=n(7167),a=n(9563);const h=(0,s.u1)("themeService");function o(e){return{id:e}}function u(e){switch(e){case a.zM.DARK:return"vs-dark";case a.zM.HIGH_CONTRAST_DARK:return"hc-black";case a.zM.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const d={ThemingContribution:"base.contributions.theming"},g=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new i.vl}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),(0,r.s)((()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)}))}getThemingParticipants(){return this.themingParticipants}};function l(e){return g.onColorThemeChange(e)}c.O.add(d.ThemingContribution,g);class T extends r.jG{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange((e=>this.onThemeChange(e))))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODE0OC5idW5kbGUuanMiLCJtYXBwaW5ncyI6IndMQUtPLE1BQU1BLEdBQWdDLEUsUUFBQSxJQUFnQiwrQiw2SUNLekRDLEVBQW9DLFNBQVVDLEVBQVlDLEdBQzFELE9BQU8sU0FBVUMsRUFBUUMsR0FBT0YsRUFBVUMsRUFBUUMsRUFBS0gsRUFBYSxDQUN4RSxFQVFBLElBQUlJLEVBQStCLGNBQTJDLEtBQzFFLFdBQUFDLENBQVlDLEVBQWVDLEVBQWFDLEdBQ3BDQyxRQUNBQyxLQUFLSixjQUFnQkEsRUFDckJJLEtBQUtILFlBQWNBLEVBQ25CRyxLQUFLRixpQkFBbUJBLEVBQ3hCRSxLQUFLQyxRQUFVLElBQUlDLFFBQ25CRixLQUFLRyxVQUFVSCxLQUFLSixjQUFjUSx1QkFBc0IsS0FDcERKLEtBQUtDLFFBQVUsSUFBSUMsT0FBUyxJQUVwQyxDQUNBLFVBQUFHLENBQVdDLEdBSVAsT0FIS04sS0FBS0MsUUFBUU0sSUFBSUQsSUFDbEJOLEtBQUtDLFFBQVFPLElBQUlGLEVBQVUsSUFBSSxFQUFBRyw4QkFBOEJILEVBQVNJLFlBQWFWLEtBQUtKLGNBQWVJLEtBQUtGLGlCQUFrQkUsS0FBS0gsY0FFaElHLEtBQUtDLFFBQVFVLElBQUlMLEVBQzVCLEdBRUpaLEVBbEM4QyxTQUFVa0IsRUFBWXBCLEVBQVFDLEVBQUtvQixHQUM3RSxJQUEySEMsRUFBdkhDLEVBQUlDLFVBQVVDLE9BQVFDLEVBQUlILEVBQUksRUFBSXZCLEVBQWtCLE9BQVRxQixFQUFnQkEsRUFBT00sT0FBT0MseUJBQXlCNUIsRUFBUUMsR0FBT29CLEVBQ3JILEdBQXVCLGlCQUFaUSxTQUFvRCxtQkFBckJBLFFBQVFDLFNBQXlCSixFQUFJRyxRQUFRQyxTQUFTVixFQUFZcEIsRUFBUUMsRUFBS29CLFFBQ3BILElBQUssSUFBSVUsRUFBSVgsRUFBV0ssT0FBUyxFQUFHTSxHQUFLLEVBQUdBLEtBQVNULEVBQUlGLEVBQVdXLE1BQUlMLEdBQUtILEVBQUksRUFBSUQsRUFBRUksR0FBS0gsRUFBSSxFQUFJRCxFQUFFdEIsRUFBUUMsRUFBS3lCLEdBQUtKLEVBQUV0QixFQUFRQyxLQUFTeUIsR0FDaEosT0FBT0gsRUFBSSxHQUFLRyxHQUFLQyxPQUFPSyxlQUFlaEMsRUFBUUMsRUFBS3lCLEdBQUlBLENBQ2hFLENBNkIrQk8sQ0FBVyxDQUN0Q3BDLEVBQVEsRUFBRyxNQUNYQSxFQUFRLEVBQUcsTUFDWEEsRUFBUSxFQUFHLE1BQ1pLLElBRUgsT0FBa0IsRUFBQU4sOEJBQStCTSxFQUE4QixFLGtDQ3hDeEUsTUFBTWdDLEVBQ1QsV0FBQS9CLENBQVlnQyxFQUFNQyxFQUFrQixHQUFJQyxHQUErQixHQUNuRTdCLEtBQUsyQixLQUFPQSxFQUNaM0IsS0FBSzRCLGdCQUFrQkEsRUFDdkI1QixLQUFLNkIsNkJBQStCQSxDQUN4QyxFLHdEQ0pKLE1BQU1DLEVBQVksR0FDWCxTQUFTQyxFQUFrQkMsRUFBSUMsRUFBa0JKLEdBQzlDSSxhQUE0QixNQUM5QkEsRUFBbUIsSUFBSSxJQUFlQSxFQUFrQixHQUFJQyxRQUFRTCxLQUV4RUMsRUFBVUssS0FBSyxDQUFDSCxFQUFJQyxHQUN4QixDQUNPLFNBQVNHLElBQ1osT0FBT04sQ0FDWCxDLGlCQ1RPLElBQUlPLEUsb0NBQ1gsU0FBV0EsR0FDUEEsRUFBTUMsV0FBYSxJQUFJQyxJQUN2QkYsRUFBTUcsVUFBWSxhQUNsQkgsRUFBTUksZ0JBQWtCLG1CQUl4QkosRUFBTUssdUJBSE4sU0FBZ0NmLEdBQzVCLE9BQU9BLEVBQUtVLEVBQU1JLGtCQUFvQixFQUMxQyxDQUVILENBUkQsQ0FRR0osSUFBVUEsRUFBUSxDQUFDLElBQ2YsTUFBTU0sRUFBd0JDLEVBQWdCLHdCQWE5QyxTQUFTQSxFQUFnQkMsR0FDNUIsR0FBSVIsRUFBTUMsV0FBVy9CLElBQUlzQyxHQUNyQixPQUFPUixFQUFNQyxXQUFXM0IsSUFBSWtDLEdBRWhDLE1BQU1iLEVBQUssU0FBVXhDLEVBQVFDLEVBQUtxRCxHQUM5QixHQUF5QixJQUFyQjlCLFVBQVVDLE9BQ1YsTUFBTSxJQUFJOEIsTUFBTSxxRUFsQjVCLFNBQWdDZixFQUFJeEMsRUFBUXNELEdBQ3BDdEQsRUFBTzZDLEVBQU1HLGFBQWVoRCxFQUM1QkEsRUFBTzZDLEVBQU1JLGlCQUFpQk4sS0FBSyxDQUFFSCxLQUFJYyxXQUd6Q3RELEVBQU82QyxFQUFNSSxpQkFBbUIsQ0FBQyxDQUFFVCxLQUFJYyxVQUN2Q3RELEVBQU82QyxFQUFNRyxXQUFhaEQsRUFFbEMsQ0FZUXdELENBQXVCaEIsRUFBSXhDLEVBQVFzRCxFQUN2QyxFQUdBLE9BRkFkLEVBQUdpQixTQUFXLElBQU1KLEVBQ3BCUixFQUFNQyxXQUFXOUIsSUFBSXFDLEVBQVdiLEdBQ3pCQSxDQUNYLEMsMERDckJPLE1BQU1rQixFQUFXLElBZHhCLE1BQ0ksV0FBQXZELEdBQ0lLLEtBQUttRCxLQUFPLElBQUlaLEdBQ3BCLENBQ0EsR0FBQWEsQ0FBSXBCLEVBQUltQixHQUNKLEtBQVUsS0FBZW5CLElBQ3pCLEtBQVUsS0FBZW1CLElBQ3pCLE1BQVduRCxLQUFLbUQsS0FBSzVDLElBQUl5QixHQUFLLDhDQUM5QmhDLEtBQUttRCxLQUFLM0MsSUFBSXdCLEVBQUltQixFQUN0QixDQUNBLEVBQUFFLENBQUdyQixHQUNDLE9BQU9oQyxLQUFLbUQsS0FBS3hDLElBQUlxQixJQUFPLElBQ2hDLEUsaUJDWEcsSUFBSXNCLEVBT0osU0FBU0MsRUFBZUMsR0FDM0IsT0FBT0EsSUFBV0YsRUFBWUcsb0JBQXNCRCxJQUFXRixFQUFZSSxtQkFDL0UsQ0FDTyxTQUFTQyxFQUFPSCxHQUNuQixPQUFPQSxJQUFXRixFQUFZTSxNQUFRSixJQUFXRixFQUFZRyxrQkFDakUsQyxvQ0FYQSxTQUFXSCxHQUNQQSxFQUFrQixLQUFJLE9BQ3RCQSxFQUFtQixNQUFJLFFBQ3ZCQSxFQUFnQyxtQkFBSSxTQUNwQ0EsRUFBaUMsb0JBQUksU0FDeEMsQ0FMRCxDQUtHQSxJQUFnQkEsRUFBYyxDQUFDLEcscUlDUjNCLE1BQU1PLEdBQWdCLFFBQWdCLGdCQUN0QyxTQUFTQyxFQUFpQjlCLEdBQzdCLE1BQU8sQ0FBRUEsS0FDYixDQUNPLFNBQVMrQixFQUFxQkMsR0FDakMsT0FBUUEsR0FDSixLQUFLLEtBQVlKLEtBQU0sTUFBTyxVQUM5QixLQUFLLEtBQVlILG1CQUFvQixNQUFPLFdBQzVDLEtBQUssS0FBWUMsb0JBQXFCLE1BQU8sV0FDN0MsUUFBUyxNQUFPLEtBRXhCLENBRU8sTUFBTU8sRUFBYSxDQUN0QkMsb0JBQXFCLDhCQW9CbkJDLEVBQWtCLElBbEJ4QixNQUNJLFdBQUF4RSxHQUNJSyxLQUFLb0Usb0JBQXNCLEdBQzNCcEUsS0FBS29FLG9CQUFzQixHQUMzQnBFLEtBQUtxRSxpQ0FBbUMsSUFBSSxJQUNoRCxDQUNBLGtCQUFBQyxDQUFtQkMsR0FHZixPQUZBdkUsS0FBS29FLG9CQUFvQmpDLEtBQUtvQyxHQUM5QnZFLEtBQUtxRSxpQ0FBaUNHLEtBQUtELElBQ3BDLFFBQWEsS0FDaEIsTUFBTUUsRUFBTXpFLEtBQUtvRSxvQkFBb0JNLFFBQVFILEdBQzdDdkUsS0FBS29FLG9CQUFvQk8sT0FBT0YsRUFBSyxFQUFFLEdBRS9DLENBQ0Esc0JBQUFHLEdBQ0ksT0FBTzVFLEtBQUtvRSxtQkFDaEIsR0FJRyxTQUFTUyxFQUEyQk4sR0FDdkMsT0FBT0osRUFBZ0JHLG1CQUFtQkMsRUFDOUMsQ0FIQSxJQUFrQm5CLElBQUlhLEVBQVdDLG9CQUFxQkMsR0FPL0MsTUFBTVcsVUFBaUIsS0FDMUIsV0FBQW5GLENBQVlvRixHQUNSaEYsUUFDQUMsS0FBSytFLGFBQWVBLEVBQ3BCL0UsS0FBS2dGLE1BQVFELEVBQWFFLGdCQUUxQmpGLEtBQUtHLFVBQVVILEtBQUsrRSxhQUFhM0UsdUJBQXNCNEUsR0FBU2hGLEtBQUtrRixjQUFjRixLQUN2RixDQUNBLGFBQUFFLENBQWNGLEdBQ1ZoRixLQUFLZ0YsTUFBUUEsRUFDYmhGLEtBQUttRixjQUNULENBQ0EsWUFBQUEsR0FFQSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL3NlcnZpY2VzL3NlbWFudGljVG9rZW5zU3R5bGluZy5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vc2VydmljZXMvc2VtYW50aWNUb2tlbnNTdHlsaW5nU2VydmljZS5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL3BsYXRmb3JtL2luc3RhbnRpYXRpb24vY29tbW9uL2Rlc2NyaXB0b3JzLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvcGxhdGZvcm0vaW5zdGFudGlhdGlvbi9jb21tb24vZXh0ZW5zaW9ucy5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL3BsYXRmb3JtL2luc3RhbnRpYXRpb24vY29tbW9uL2luc3RhbnRpYXRpb24uanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9wbGF0Zm9ybS9yZWdpc3RyeS9jb21tb24vcGxhdGZvcm0uanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9wbGF0Zm9ybS90aGVtZS9jb21tb24vdGhlbWUuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9wbGF0Zm9ybS90aGVtZS9jb21tb24vdGhlbWVTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgY3JlYXRlRGVjb3JhdG9yIH0gZnJvbSAnLi4vLi4vLi4vcGxhdGZvcm0vaW5zdGFudGlhdGlvbi9jb21tb24vaW5zdGFudGlhdGlvbi5qcyc7XG5leHBvcnQgY29uc3QgSVNlbWFudGljVG9rZW5zU3R5bGluZ1NlcnZpY2UgPSBjcmVhdGVEZWNvcmF0b3IoJ3NlbWFudGljVG9rZW5zU3R5bGluZ1NlcnZpY2UnKTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xudmFyIF9fcGFyYW0gPSAodGhpcyAmJiB0aGlzLl9fcGFyYW0pIHx8IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn07XG5pbXBvcnQgeyBEaXNwb3NhYmxlIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vbGlmZWN5Y2xlLmpzJztcbmltcG9ydCB7IElMYW5ndWFnZVNlcnZpY2UgfSBmcm9tICcuLi9sYW5ndWFnZXMvbGFuZ3VhZ2UuanMnO1xuaW1wb3J0IHsgSVRoZW1lU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3BsYXRmb3JtL3RoZW1lL2NvbW1vbi90aGVtZVNlcnZpY2UuanMnO1xuaW1wb3J0IHsgSUxvZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9sb2cvY29tbW9uL2xvZy5qcyc7XG5pbXBvcnQgeyBTZW1hbnRpY1Rva2Vuc1Byb3ZpZGVyU3R5bGluZyB9IGZyb20gJy4vc2VtYW50aWNUb2tlbnNQcm92aWRlclN0eWxpbmcuanMnO1xuaW1wb3J0IHsgSVNlbWFudGljVG9rZW5zU3R5bGluZ1NlcnZpY2UgfSBmcm9tICcuL3NlbWFudGljVG9rZW5zU3R5bGluZy5qcyc7XG5pbXBvcnQgeyByZWdpc3RlclNpbmdsZXRvbiB9IGZyb20gJy4uLy4uLy4uL3BsYXRmb3JtL2luc3RhbnRpYXRpb24vY29tbW9uL2V4dGVuc2lvbnMuanMnO1xubGV0IFNlbWFudGljVG9rZW5zU3R5bGluZ1NlcnZpY2UgPSBjbGFzcyBTZW1hbnRpY1Rva2Vuc1N0eWxpbmdTZXJ2aWNlIGV4dGVuZHMgRGlzcG9zYWJsZSB7XG4gICAgY29uc3RydWN0b3IoX3RoZW1lU2VydmljZSwgX2xvZ1NlcnZpY2UsIF9sYW5ndWFnZVNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fdGhlbWVTZXJ2aWNlID0gX3RoZW1lU2VydmljZTtcbiAgICAgICAgdGhpcy5fbG9nU2VydmljZSA9IF9sb2dTZXJ2aWNlO1xuICAgICAgICB0aGlzLl9sYW5ndWFnZVNlcnZpY2UgPSBfbGFuZ3VhZ2VTZXJ2aWNlO1xuICAgICAgICB0aGlzLl9jYWNoZXMgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICB0aGlzLl9yZWdpc3Rlcih0aGlzLl90aGVtZVNlcnZpY2Uub25EaWRDb2xvclRoZW1lQ2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0U3R5bGluZyhwcm92aWRlcikge1xuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlcy5oYXMocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZXMuc2V0KHByb3ZpZGVyLCBuZXcgU2VtYW50aWNUb2tlbnNQcm92aWRlclN0eWxpbmcocHJvdmlkZXIuZ2V0TGVnZW5kKCksIHRoaXMuX3RoZW1lU2VydmljZSwgdGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLCB0aGlzLl9sb2dTZXJ2aWNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlcy5nZXQocHJvdmlkZXIpO1xuICAgIH1cbn07XG5TZW1hbnRpY1Rva2Vuc1N0eWxpbmdTZXJ2aWNlID0gX19kZWNvcmF0ZShbXG4gICAgX19wYXJhbSgwLCBJVGhlbWVTZXJ2aWNlKSxcbiAgICBfX3BhcmFtKDEsIElMb2dTZXJ2aWNlKSxcbiAgICBfX3BhcmFtKDIsIElMYW5ndWFnZVNlcnZpY2UpXG5dLCBTZW1hbnRpY1Rva2Vuc1N0eWxpbmdTZXJ2aWNlKTtcbmV4cG9ydCB7IFNlbWFudGljVG9rZW5zU3R5bGluZ1NlcnZpY2UgfTtcbnJlZ2lzdGVyU2luZ2xldG9uKElTZW1hbnRpY1Rva2Vuc1N0eWxpbmdTZXJ2aWNlLCBTZW1hbnRpY1Rva2Vuc1N0eWxpbmdTZXJ2aWNlLCAxIC8qIEluc3RhbnRpYXRpb25UeXBlLkRlbGF5ZWQgKi8pO1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5leHBvcnQgY2xhc3MgU3luY0Rlc2NyaXB0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGN0b3IsIHN0YXRpY0FyZ3VtZW50cyA9IFtdLCBzdXBwb3J0c0RlbGF5ZWRJbnN0YW50aWF0aW9uID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5jdG9yID0gY3RvcjtcbiAgICAgICAgdGhpcy5zdGF0aWNBcmd1bWVudHMgPSBzdGF0aWNBcmd1bWVudHM7XG4gICAgICAgIHRoaXMuc3VwcG9ydHNEZWxheWVkSW5zdGFudGlhdGlvbiA9IHN1cHBvcnRzRGVsYXllZEluc3RhbnRpYXRpb247XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBTeW5jRGVzY3JpcHRvciB9IGZyb20gJy4vZGVzY3JpcHRvcnMuanMnO1xuY29uc3QgX3JlZ2lzdHJ5ID0gW107XG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJTaW5nbGV0b24oaWQsIGN0b3JPckRlc2NyaXB0b3IsIHN1cHBvcnRzRGVsYXllZEluc3RhbnRpYXRpb24pIHtcbiAgICBpZiAoIShjdG9yT3JEZXNjcmlwdG9yIGluc3RhbmNlb2YgU3luY0Rlc2NyaXB0b3IpKSB7XG4gICAgICAgIGN0b3JPckRlc2NyaXB0b3IgPSBuZXcgU3luY0Rlc2NyaXB0b3IoY3Rvck9yRGVzY3JpcHRvciwgW10sIEJvb2xlYW4oc3VwcG9ydHNEZWxheWVkSW5zdGFudGlhdGlvbikpO1xuICAgIH1cbiAgICBfcmVnaXN0cnkucHVzaChbaWQsIGN0b3JPckRlc2NyaXB0b3JdKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRTaW5nbGV0b25TZXJ2aWNlRGVzY3JpcHRvcnMoKSB7XG4gICAgcmV0dXJuIF9yZWdpc3RyeTtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuLy8gLS0tLS0tIGludGVybmFsIHV0aWxcbmV4cG9ydCB2YXIgX3V0aWw7XG4oZnVuY3Rpb24gKF91dGlsKSB7XG4gICAgX3V0aWwuc2VydmljZUlkcyA9IG5ldyBNYXAoKTtcbiAgICBfdXRpbC5ESV9UQVJHRVQgPSAnJGRpJHRhcmdldCc7XG4gICAgX3V0aWwuRElfREVQRU5ERU5DSUVTID0gJyRkaSRkZXBlbmRlbmNpZXMnO1xuICAgIGZ1bmN0aW9uIGdldFNlcnZpY2VEZXBlbmRlbmNpZXMoY3Rvcikge1xuICAgICAgICByZXR1cm4gY3RvcltfdXRpbC5ESV9ERVBFTkRFTkNJRVNdIHx8IFtdO1xuICAgIH1cbiAgICBfdXRpbC5nZXRTZXJ2aWNlRGVwZW5kZW5jaWVzID0gZ2V0U2VydmljZURlcGVuZGVuY2llcztcbn0pKF91dGlsIHx8IChfdXRpbCA9IHt9KSk7XG5leHBvcnQgY29uc3QgSUluc3RhbnRpYXRpb25TZXJ2aWNlID0gY3JlYXRlRGVjb3JhdG9yKCdpbnN0YW50aWF0aW9uU2VydmljZScpO1xuZnVuY3Rpb24gc3RvcmVTZXJ2aWNlRGVwZW5kZW5jeShpZCwgdGFyZ2V0LCBpbmRleCkge1xuICAgIGlmICh0YXJnZXRbX3V0aWwuRElfVEFSR0VUXSA9PT0gdGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldFtfdXRpbC5ESV9ERVBFTkRFTkNJRVNdLnB1c2goeyBpZCwgaW5kZXggfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0YXJnZXRbX3V0aWwuRElfREVQRU5ERU5DSUVTXSA9IFt7IGlkLCBpbmRleCB9XTtcbiAgICAgICAgdGFyZ2V0W191dGlsLkRJX1RBUkdFVF0gPSB0YXJnZXQ7XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgKm9ubHkqIHZhbGlkIHdheSB0byBjcmVhdGUgYSB7e1NlcnZpY2VJZGVudGlmaWVyfX0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWNvcmF0b3Ioc2VydmljZUlkKSB7XG4gICAgaWYgKF91dGlsLnNlcnZpY2VJZHMuaGFzKHNlcnZpY2VJZCkpIHtcbiAgICAgICAgcmV0dXJuIF91dGlsLnNlcnZpY2VJZHMuZ2V0KHNlcnZpY2VJZCk7XG4gICAgfVxuICAgIGNvbnN0IGlkID0gZnVuY3Rpb24gKHRhcmdldCwga2V5LCBpbmRleCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPT0gMykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdASVNlcnZpY2VOYW1lLWRlY29yYXRvciBjYW4gb25seSBiZSB1c2VkIHRvIGRlY29yYXRlIGEgcGFyYW1ldGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgc3RvcmVTZXJ2aWNlRGVwZW5kZW5jeShpZCwgdGFyZ2V0LCBpbmRleCk7XG4gICAgfTtcbiAgICBpZC50b1N0cmluZyA9ICgpID0+IHNlcnZpY2VJZDtcbiAgICBfdXRpbC5zZXJ2aWNlSWRzLnNldChzZXJ2aWNlSWQsIGlkKTtcbiAgICByZXR1cm4gaWQ7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCAqIGFzIEFzc2VydCBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9hc3NlcnQuanMnO1xuaW1wb3J0ICogYXMgVHlwZXMgZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdHlwZXMuanMnO1xuY2xhc3MgUmVnaXN0cnlJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBhZGQoaWQsIGRhdGEpIHtcbiAgICAgICAgQXNzZXJ0Lm9rKFR5cGVzLmlzU3RyaW5nKGlkKSk7XG4gICAgICAgIEFzc2VydC5vayhUeXBlcy5pc09iamVjdChkYXRhKSk7XG4gICAgICAgIEFzc2VydC5vayghdGhpcy5kYXRhLmhhcyhpZCksICdUaGVyZSBpcyBhbHJlYWR5IGFuIGV4dGVuc2lvbiB3aXRoIHRoaXMgaWQnKTtcbiAgICAgICAgdGhpcy5kYXRhLnNldChpZCwgZGF0YSk7XG4gICAgfVxuICAgIGFzKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0KGlkKSB8fCBudWxsO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBSZWdpc3RyeSA9IG5ldyBSZWdpc3RyeUltcGwoKTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuLyoqXG4gKiBDb2xvciBzY2hlbWUgdXNlZCBieSB0aGUgT1MgYW5kIGJ5IGNvbG9yIHRoZW1lcy5cbiAqL1xuZXhwb3J0IHZhciBDb2xvclNjaGVtZTtcbihmdW5jdGlvbiAoQ29sb3JTY2hlbWUpIHtcbiAgICBDb2xvclNjaGVtZVtcIkRBUktcIl0gPSBcImRhcmtcIjtcbiAgICBDb2xvclNjaGVtZVtcIkxJR0hUXCJdID0gXCJsaWdodFwiO1xuICAgIENvbG9yU2NoZW1lW1wiSElHSF9DT05UUkFTVF9EQVJLXCJdID0gXCJoY0RhcmtcIjtcbiAgICBDb2xvclNjaGVtZVtcIkhJR0hfQ09OVFJBU1RfTElHSFRcIl0gPSBcImhjTGlnaHRcIjtcbn0pKENvbG9yU2NoZW1lIHx8IChDb2xvclNjaGVtZSA9IHt9KSk7XG5leHBvcnQgZnVuY3Rpb24gaXNIaWdoQ29udHJhc3Qoc2NoZW1lKSB7XG4gICAgcmV0dXJuIHNjaGVtZSA9PT0gQ29sb3JTY2hlbWUuSElHSF9DT05UUkFTVF9EQVJLIHx8IHNjaGVtZSA9PT0gQ29sb3JTY2hlbWUuSElHSF9DT05UUkFTVF9MSUdIVDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Rhcmsoc2NoZW1lKSB7XG4gICAgcmV0dXJuIHNjaGVtZSA9PT0gQ29sb3JTY2hlbWUuREFSSyB8fCBzY2hlbWUgPT09IENvbG9yU2NoZW1lLkhJR0hfQ09OVFJBU1RfREFSSztcbn1cbiIsImltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9ldmVudC5qcyc7XG5pbXBvcnQgeyBEaXNwb3NhYmxlLCB0b0Rpc3Bvc2FibGUgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9saWZlY3ljbGUuanMnO1xuaW1wb3J0IHsgY3JlYXRlRGVjb3JhdG9yIH0gZnJvbSAnLi4vLi4vaW5zdGFudGlhdGlvbi9jb21tb24vaW5zdGFudGlhdGlvbi5qcyc7XG5pbXBvcnQgKiBhcyBwbGF0Zm9ybSBmcm9tICcuLi8uLi9yZWdpc3RyeS9jb21tb24vcGxhdGZvcm0uanMnO1xuaW1wb3J0IHsgQ29sb3JTY2hlbWUgfSBmcm9tICcuL3RoZW1lLmpzJztcbmV4cG9ydCBjb25zdCBJVGhlbWVTZXJ2aWNlID0gY3JlYXRlRGVjb3JhdG9yKCd0aGVtZVNlcnZpY2UnKTtcbmV4cG9ydCBmdW5jdGlvbiB0aGVtZUNvbG9yRnJvbUlkKGlkKSB7XG4gICAgcmV0dXJuIHsgaWQgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaGVtZVR5cGVTZWxlY3Rvcih0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgQ29sb3JTY2hlbWUuREFSSzogcmV0dXJuICd2cy1kYXJrJztcbiAgICAgICAgY2FzZSBDb2xvclNjaGVtZS5ISUdIX0NPTlRSQVNUX0RBUks6IHJldHVybiAnaGMtYmxhY2snO1xuICAgICAgICBjYXNlIENvbG9yU2NoZW1lLkhJR0hfQ09OVFJBU1RfTElHSFQ6IHJldHVybiAnaGMtbGlnaHQnO1xuICAgICAgICBkZWZhdWx0OiByZXR1cm4gJ3ZzJztcbiAgICB9XG59XG4vLyBzdGF0aWMgdGhlbWluZyBwYXJ0aWNpcGFudFxuZXhwb3J0IGNvbnN0IEV4dGVuc2lvbnMgPSB7XG4gICAgVGhlbWluZ0NvbnRyaWJ1dGlvbjogJ2Jhc2UuY29udHJpYnV0aW9ucy50aGVtaW5nJ1xufTtcbmNsYXNzIFRoZW1pbmdSZWdpc3RyeSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudGhlbWluZ1BhcnRpY2lwYW50cyA9IFtdO1xuICAgICAgICB0aGlzLnRoZW1pbmdQYXJ0aWNpcGFudHMgPSBbXTtcbiAgICAgICAgdGhpcy5vblRoZW1pbmdQYXJ0aWNpcGFudEFkZGVkRW1pdHRlciA9IG5ldyBFbWl0dGVyKCk7XG4gICAgfVxuICAgIG9uQ29sb3JUaGVtZUNoYW5nZShwYXJ0aWNpcGFudCkge1xuICAgICAgICB0aGlzLnRoZW1pbmdQYXJ0aWNpcGFudHMucHVzaChwYXJ0aWNpcGFudCk7XG4gICAgICAgIHRoaXMub25UaGVtaW5nUGFydGljaXBhbnRBZGRlZEVtaXR0ZXIuZmlyZShwYXJ0aWNpcGFudCk7XG4gICAgICAgIHJldHVybiB0b0Rpc3Bvc2FibGUoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaWR4ID0gdGhpcy50aGVtaW5nUGFydGljaXBhbnRzLmluZGV4T2YocGFydGljaXBhbnQpO1xuICAgICAgICAgICAgdGhpcy50aGVtaW5nUGFydGljaXBhbnRzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0VGhlbWluZ1BhcnRpY2lwYW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhlbWluZ1BhcnRpY2lwYW50cztcbiAgICB9XG59XG5jb25zdCB0aGVtaW5nUmVnaXN0cnkgPSBuZXcgVGhlbWluZ1JlZ2lzdHJ5KCk7XG5wbGF0Zm9ybS5SZWdpc3RyeS5hZGQoRXh0ZW5zaW9ucy5UaGVtaW5nQ29udHJpYnV0aW9uLCB0aGVtaW5nUmVnaXN0cnkpO1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyVGhlbWluZ1BhcnRpY2lwYW50KHBhcnRpY2lwYW50KSB7XG4gICAgcmV0dXJuIHRoZW1pbmdSZWdpc3RyeS5vbkNvbG9yVGhlbWVDaGFuZ2UocGFydGljaXBhbnQpO1xufVxuLyoqXG4gKiBVdGlsaXR5IGJhc2UgY2xhc3MgZm9yIGFsbCB0aGVtYWJsZSBjb21wb25lbnRzLlxuICovXG5leHBvcnQgY2xhc3MgVGhlbWFibGUgZXh0ZW5kcyBEaXNwb3NhYmxlIHtcbiAgICBjb25zdHJ1Y3Rvcih0aGVtZVNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50aGVtZVNlcnZpY2UgPSB0aGVtZVNlcnZpY2U7XG4gICAgICAgIHRoaXMudGhlbWUgPSB0aGVtZVNlcnZpY2UuZ2V0Q29sb3JUaGVtZSgpO1xuICAgICAgICAvLyBIb29rIHVwIHRvIHRoZW1lIGNoYW5nZXNcbiAgICAgICAgdGhpcy5fcmVnaXN0ZXIodGhpcy50aGVtZVNlcnZpY2Uub25EaWRDb2xvclRoZW1lQ2hhbmdlKHRoZW1lID0+IHRoaXMub25UaGVtZUNoYW5nZSh0aGVtZSkpKTtcbiAgICB9XG4gICAgb25UaGVtZUNoYW5nZSh0aGVtZSkge1xuICAgICAgICB0aGlzLnRoZW1lID0gdGhlbWU7XG4gICAgICAgIHRoaXMudXBkYXRlU3R5bGVzKCk7XG4gICAgfVxuICAgIHVwZGF0ZVN0eWxlcygpIHtcbiAgICAgICAgLy8gU3ViY2xhc3NlcyB0byBvdmVycmlkZVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJJU2VtYW50aWNUb2tlbnNTdHlsaW5nU2VydmljZSIsIl9fcGFyYW0iLCJwYXJhbUluZGV4IiwiZGVjb3JhdG9yIiwidGFyZ2V0Iiwia2V5IiwiU2VtYW50aWNUb2tlbnNTdHlsaW5nU2VydmljZSIsImNvbnN0cnVjdG9yIiwiX3RoZW1lU2VydmljZSIsIl9sb2dTZXJ2aWNlIiwiX2xhbmd1YWdlU2VydmljZSIsInN1cGVyIiwidGhpcyIsIl9jYWNoZXMiLCJXZWFrTWFwIiwiX3JlZ2lzdGVyIiwib25EaWRDb2xvclRoZW1lQ2hhbmdlIiwiZ2V0U3R5bGluZyIsInByb3ZpZGVyIiwiaGFzIiwic2V0IiwiU2VtYW50aWNUb2tlbnNQcm92aWRlclN0eWxpbmciLCJnZXRMZWdlbmQiLCJnZXQiLCJkZWNvcmF0b3JzIiwiZGVzYyIsImQiLCJjIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiciIsIk9iamVjdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsImkiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVjb3JhdGUiLCJTeW5jRGVzY3JpcHRvciIsImN0b3IiLCJzdGF0aWNBcmd1bWVudHMiLCJzdXBwb3J0c0RlbGF5ZWRJbnN0YW50aWF0aW9uIiwiX3JlZ2lzdHJ5IiwicmVnaXN0ZXJTaW5nbGV0b24iLCJpZCIsImN0b3JPckRlc2NyaXB0b3IiLCJCb29sZWFuIiwicHVzaCIsImdldFNpbmdsZXRvblNlcnZpY2VEZXNjcmlwdG9ycyIsIl91dGlsIiwic2VydmljZUlkcyIsIk1hcCIsIkRJX1RBUkdFVCIsIkRJX0RFUEVOREVOQ0lFUyIsImdldFNlcnZpY2VEZXBlbmRlbmNpZXMiLCJJSW5zdGFudGlhdGlvblNlcnZpY2UiLCJjcmVhdGVEZWNvcmF0b3IiLCJzZXJ2aWNlSWQiLCJpbmRleCIsIkVycm9yIiwic3RvcmVTZXJ2aWNlRGVwZW5kZW5jeSIsInRvU3RyaW5nIiwiUmVnaXN0cnkiLCJkYXRhIiwiYWRkIiwiYXMiLCJDb2xvclNjaGVtZSIsImlzSGlnaENvbnRyYXN0Iiwic2NoZW1lIiwiSElHSF9DT05UUkFTVF9EQVJLIiwiSElHSF9DT05UUkFTVF9MSUdIVCIsImlzRGFyayIsIkRBUksiLCJJVGhlbWVTZXJ2aWNlIiwidGhlbWVDb2xvckZyb21JZCIsImdldFRoZW1lVHlwZVNlbGVjdG9yIiwidHlwZSIsIkV4dGVuc2lvbnMiLCJUaGVtaW5nQ29udHJpYnV0aW9uIiwidGhlbWluZ1JlZ2lzdHJ5IiwidGhlbWluZ1BhcnRpY2lwYW50cyIsIm9uVGhlbWluZ1BhcnRpY2lwYW50QWRkZWRFbWl0dGVyIiwib25Db2xvclRoZW1lQ2hhbmdlIiwicGFydGljaXBhbnQiLCJmaXJlIiwiaWR4IiwiaW5kZXhPZiIsInNwbGljZSIsImdldFRoZW1pbmdQYXJ0aWNpcGFudHMiLCJyZWdpc3RlclRoZW1pbmdQYXJ0aWNpcGFudCIsIlRoZW1hYmxlIiwidGhlbWVTZXJ2aWNlIiwidGhlbWUiLCJnZXRDb2xvclRoZW1lIiwib25UaGVtZUNoYW5nZSIsInVwZGF0ZVN0eWxlcyJdLCJzb3VyY2VSb290IjoiIn0=