"use strict";(self.webpackChunkpylinac_yaml_editor=self.webpackChunkpylinac_yaml_editor||[]).push([[931],{2802:(e,t,n)=>{n.d(t,{$l:()=>a,Gs:()=>d,MB:()=>o,Sw:()=>c,bb:()=>l,gN:()=>h,pJ:()=>u});var i=n(3946);const s="undefined"!=typeof Buffer;let r;new i.d((()=>new Uint8Array(256)));class o{static wrap(e){return s&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new o(e)}constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}toString(){return s?this.buffer.toString():(r||(r=new TextDecoder),r.decode(this.buffer))}}function a(e,t){return(0|e[t+0])>>>0|e[t+1]<<8>>>0}function h(e,t,n){e[n+0]=255&t,t>>>=8,e[n+1]=255&t}function l(e,t){return e[t]*2**24+65536*e[t+1]+256*e[t+2]+e[t+3]}function c(e,t,n){e[n+3]=t,t>>>=8,e[n+2]=t,t>>>=8,e[n+1]=t,t>>>=8,e[n]=t}function u(e,t){return e[t]}function d(e,t,n){e[n]=t}},2549:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(6844);class s{static _nextVisibleColumn(e,t,n){return 9===e?s.nextRenderTabStop(t,n):i.ne(e)||i.Ss(e)?t+2:t+1}static visibleColumnFromColumn(e,t,n){const s=Math.min(t-1,e.length),r=e.substring(0,s),o=new i.km(r);let a=0;for(;!o.eol();){const e=i.Z5(r,s,o.offset);o.nextGraphemeLength(),a=this._nextVisibleColumn(e,a,n)}return a}static columnFromVisibleColumn(e,t,n){if(t<=0)return 1;const s=e.length,r=new i.km(e);let o=0,a=1;for(;!r.eol();){const h=i.Z5(e,s,r.offset);r.nextGraphemeLength();const l=this._nextVisibleColumn(h,o,n),c=r.offset+1;if(l>=t)return l-t<t-o?c:a;o=l,a=c}return s+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}},7999:(e,t,n)=>{n.d(t,{P:()=>r});var i=n(6844),s=n(2549);function r(e,t,n){let r=i.HG(e);return-1===r&&(r=e.length),function(e,t,n){let i=0;for(let n=0;n<e.length;n++)"\t"===e.charAt(n)?i=s.A.nextIndentTabStop(i,t):i++;let r="";if(!n){const e=Math.floor(i/t);i%=t;for(let t=0;t<e;t++)r+="\t"}for(let e=0;e<i;e++)r+=" ";return r}(e.substring(0,r),t,n)+e.substring(r)}},4324:(e,t,n)=>{n.d(t,{Su:()=>u,b7:()=>c,fe:()=>d});var i=n(6844),s=n(3339),r=n(2802);let o,a,h;function l(){return o||(o=new TextDecoder("UTF-16LE")),o}function c(){return h||(h=s.cm()?l():(a||(a=new TextDecoder("UTF-16BE")),a)),h}function u(e,t,n){const i=new Uint16Array(e.buffer,t,n);return n>0&&(65279===i[0]||65534===i[0])?function(e,t,n){const i=[];let s=0;for(let o=0;o<n;o++){const n=r.$l(e,t);t+=2,i[s++]=String.fromCharCode(n)}return i.join("")}(e,t,n):l().decode(i)}class d{constructor(e){this._capacity=0|e,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return c().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}appendCharCode(e){const t=this._capacity-this._bufferLength;t<=1&&(0===t||i.pc(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIICharCode(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendString(e){const t=e.length;if(this._bufferLength+t>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=e);for(let n=0;n<t;n++)this._buffer[this._bufferLength++]=e.charCodeAt(n)}}},6949:(e,t,n)=>{n.d(t,{k:()=>o,x:()=>a});var i=n(2802),s=n(4324);function r(e){return e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class o{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(e,t,n,i){this.oldPosition=e,this.oldText=t,this.newPosition=n,this.newText=i}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${r(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${r(this.oldText)}")`:`(replace@${this.oldPosition} "${r(this.oldText)}" with "${r(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,n){const s=t.length;i.Sw(e,s,n),n+=4;for(let r=0;r<s;r++)i.gN(e,t.charCodeAt(r),n),n+=2;return n}static _readString(e,t){const n=i.bb(e,t);return t+=4,(0,s.Su)(e,t,n)}writeSize(){return 8+o._writeStringSize(this.oldText)+o._writeStringSize(this.newText)}write(e,t){return i.Sw(e,this.oldPosition,t),t+=4,i.Sw(e,this.newPosition,t),t+=4,t=o._writeString(e,this.oldText,t),o._writeString(e,this.newText,t)}static read(e,t,n){const s=i.bb(e,t);t+=4;const r=i.bb(e,t);t+=4;const a=o._readString(e,t);t+=o._writeStringSize(a);const h=o._readString(e,t);return t+=o._writeStringSize(h),n.push(new o(s,a,r,h)),t}}function a(e,t){return null===e||0===e.length?t:new h(e,t).compress()}class h{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,n=this._getPrev(e),i=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(null===n){this._acceptCurr(i),i=this._getCurr(++t);continue}if(null===i){this._acceptPrev(n),n=this._getPrev(++e);continue}if(i.oldEnd<=n.newPosition){this._acceptCurr(i),i=this._getCurr(++t);continue}if(n.newEnd<=i.oldPosition){this._acceptPrev(n),n=this._getPrev(++e);continue}if(i.oldPosition<n.newPosition){const[e,t]=h._splitCurr(i,n.newPosition-i.oldPosition);this._acceptCurr(e),i=t;continue}if(n.newPosition<i.oldPosition){const[e,t]=h._splitPrev(n,i.oldPosition-n.newPosition);this._acceptPrev(e),n=t;continue}let s,r;if(i.oldEnd===n.newEnd)s=n,r=i,n=this._getPrev(++e),i=this._getCurr(++t);else if(i.oldEnd<n.newEnd){const[e,o]=h._splitPrev(n,i.oldLength);s=e,r=i,n=o,i=this._getCurr(++t)}else{const[t,o]=h._splitCurr(i,n.newLength);s=n,r=t,n=this._getPrev(++e),i=o}this._result[this._resultLen++]=new o(s.oldPosition,s.oldText,r.newPosition,r.newText),this._prevDeltaOffset+=s.newLength-s.oldLength,this._currDeltaOffset+=r.newLength-r.oldLength}const s=h._merge(this._result);return h._removeNoOps(s)}_acceptCurr(e){this._result[this._resultLen++]=h._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=h._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new o(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new o(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const n=e.newText.substr(0,t),i=e.newText.substr(t);return[new o(e.oldPosition,e.oldText,e.newPosition,n),new o(e.oldEnd,"",e.newPosition+t,i)]}static _splitCurr(e,t){const n=e.oldText.substr(0,t),i=e.oldText.substr(t);return[new o(e.oldPosition,n,e.newPosition,e.newText),new o(e.oldPosition+t,i,e.newEnd,"")]}static _merge(e){if(0===e.length)return e;const t=[];let n=0,i=e[0];for(let s=1;s<e.length;s++){const r=e[s];i.oldEnd===r.oldPosition?i=new o(i.oldPosition,i.oldText+r.oldText,i.newPosition,i.newText+r.newText):(t[n++]=i,i=r)}return t[n++]=i,t}static _removeNoOps(e){if(0===e.length)return e;const t=[];let n=0;for(let i=0;i<e.length;i++){const s=e[i];s.oldText!==s.newText&&(t[n++]=s)}return t}}},2590:(e,t,n)=>{n.d(t,{R:()=>i});const i={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},9550:(e,t,n)=>{var i;n.d(t,{GB:()=>r,i3:()=>s,l:()=>i}),function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(i||(i={}));class s{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,n=e.notIn.length;t<n;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(0===e.getTokenCount())return!0;const n=e.findTokenIndexAtOffset(t-2),i=e.getStandardTokenType(n);return this.isOK(i)}_findNeutralCharacterInRange(e,t){for(let n=e;n<=t;n++){const e=String.fromCharCode(n);if(!this.open.includes(e)&&!this.close.includes(e))return e}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class r{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)o(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),o(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),o(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),o(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&o(this.autoClosingPairsCloseSingleChar,t.close,t)}}function o(e,t,n){e.has(t)?e.get(t).push(n):e.set(t,[n])}},2394:(e,t,n)=>{n.d(t,{JZ:()=>O,Cw:()=>D});var i=n(2106),s=n(998),r=n(6844),o=n(8782),a=n(9550);class h{static{this.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=";:.,=}])> \n\t"}static{this.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS="'\"`;:.,=}])> \n\t"}constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map((e=>new a.i3(e))):e.brackets?this._autoClosingPairs=e.brackets.map((e=>new a.i3({open:e[0],close:e[1]}))):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new a.i3({open:t.open,close:t.close||""}))}this._autoCloseBeforeForQuotes="string"==typeof e.autoCloseBefore?e.autoCloseBefore:h.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets="string"==typeof e.autoCloseBefore?e.autoCloseBefore:h.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}var l=n(3338),c=n(9184),u=n(1804);class d{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const n of t.close){const t=n.charAt(n.length-1);e.push(t)}return(0,l.dM)(e)}onElectricCharacter(e,t,n){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const i=t.findTokenIndexAtOffset(n-1);if((0,c.Yo)(t.getStandardTokenType(i)))return null;const s=this._richEditBrackets.reversedRegex,r=t.getLineContent().substring(0,n-1)+e,o=u.Fu.findPrevBracketInRange(s,1,r,0,r.length);if(!o)return null;const a=r.substring(o.startColumn-1,o.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[a])return null;const h=t.getActualLineContentBefore(o.startColumn-1);return/^\s*$/.test(h)?{matchOpenBracket:a}:null}}function g(e){return e.global&&(e.lastIndex=0),!0}class f{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&g(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&g(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&g(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&g(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}var _=n(4327);class p{constructor(e){(e=e||{}).brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach((e=>{const t=p._createOpenBracketRegExp(e[0]),n=p._createCloseBracketRegExp(e[1]);t&&n&&this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:n})})),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,n,i){if(e>=3)for(let e=0,s=this._regExpRules.length;e<s;e++){const s=this._regExpRules[e];if([{reg:s.beforeText,text:n},{reg:s.afterText,text:i},{reg:s.previousLineText,text:t}].every((e=>!e.reg||(e.reg.lastIndex=0,e.reg.test(e.text)))))return s.action}if(e>=2&&n.length>0&&i.length>0)for(let e=0,t=this._brackets.length;e<t;e++){const t=this._brackets[e];if(t.openRegExp.test(n)&&t.closeRegExp.test(i))return{indentAction:a.l.IndentOutdent}}if(e>=2&&n.length>0)for(let e=0,t=this._brackets.length;e<t;e++)if(this._brackets[e].openRegExp.test(n))return{indentAction:a.l.Indent};return null}static _createOpenBracketRegExp(e){let t=r.bm(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",p._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=r.bm(e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,p._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(e){return(0,_.dz)(e),null}}}var m=n(2399),C=n(5753),k=n(7922),b=n(6726),L=n(4957),I=n(6260);class T{constructor(e,t){this.languageId=e;const n=t.brackets?x(t.brackets):[],i=new I.VV((e=>{const t=new Set;return{info:new v(this,e,t),closing:t}})),s=new I.VV((e=>{const t=new Set,n=new Set;return{info:new w(this,e,t,n),opening:t,openingColorized:n}}));for(const[e,t]of n){const n=i.get(e),r=s.get(t);n.closing.add(r.info),r.opening.add(n.info)}const r=t.colorizedBracketPairs?x(t.colorizedBracketPairs):n.filter((e=>!("<"===e[0]&&">"===e[1])));for(const[e,t]of r){const n=i.get(e),r=s.get(t);n.closing.add(r.info),r.openingColorized.add(n.info),r.opening.add(n.info)}this._openingBrackets=new Map([...i.cachedValues].map((([e,t])=>[e,t.info]))),this._closingBrackets=new Map([...s.cachedValues].map((([e,t])=>[e,t.info])))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}getBracketRegExp(e){const t=Array.from([...this._openingBrackets.keys(),...this._closingBrackets.keys()]);return(0,u.xb)(t,e)}}function x(e){return e.filter((([e,t])=>""!==e&&""!==t))}class S{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}}class v extends S{constructor(e,t,n){super(e,t),this.openedBrackets=n,this.isOpeningBracket=!0}}class w extends S{constructor(e,t,n,i){super(e,t),this.openingBrackets=n,this.openingColorizedBrackets=i,this.isOpeningBracket=!1}closes(e){return e.config===this.config&&this.openingBrackets.has(e)}closesColorized(e){return e.config===this.config&&this.openingColorizedBrackets.has(e)}getOpeningBrackets(){return[...this.openingBrackets]}}var E=function(e,t){return function(n,i){t(n,i,e)}};class N{constructor(e){this.languageId=e}affects(e){return!this.languageId||this.languageId===e}}const O=(0,m.u1)("languageConfigurationService");let B=class extends s.jG{constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new F),this.onDidChangeEmitter=this._register(new i.vl),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const n=new Set(Object.values(R));this._register(this.configurationService.onDidChangeConfiguration((e=>{const t=e.change.keys.some((e=>n.has(e))),i=e.change.overrides.filter((([e,t])=>t.some((e=>n.has(e))))).map((([e])=>e));if(t)this.configurations.clear(),this.onDidChangeEmitter.fire(new N(void 0));else for(const e of i)this.languageService.isRegisteredLanguageId(e)&&(this.configurations.delete(e),this.onDidChangeEmitter.fire(new N(e)))}))),this._register(this._registry.onDidChange((e=>{this.configurations.delete(e.languageId),this.onDidChangeEmitter.fire(new N(e.languageId))})))}register(e,t,n){return this._registry.register(e,t,n)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=function(e,t,n,i){let s=t.getLanguageConfiguration(e);if(!s){if(!i.isRegisteredLanguageId(e))return new V(e,{});s=new V(e,{})}const r=function(e,t){const n=t.getValue(R.brackets,{overrideIdentifier:e}),i=t.getValue(R.colorizedBracketPairs,{overrideIdentifier:e});return{brackets:M(n),colorizedBracketPairs:M(i)}}(s.languageId,n),o=z([s.underlyingConfig,r]);return new V(s.languageId,o)}(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};B=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([E(0,C.pG),E(1,k.L)],B);const R={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function M(e){if(Array.isArray(e))return e.map((e=>{if(Array.isArray(e)&&2===e.length)return[e[0],e[1]]})).filter((e=>!!e))}function D(e,t,n){const i=e.getLineContent(t);let s=r.UU(i);return s.length>n-1&&(s=s.substring(0,n-1)),s}class A{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const n=new P(e,t,++this._order);return this._entries.push(n),this._resolved=null,(0,s.s)((()=>{for(let e=0;e<this._entries.length;e++)if(this._entries[e]===n){this._entries.splice(e,1),this._resolved=null;break}}))}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new V(this.languageId,e))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(P.cmp),z(this._entries.map((e=>e.configuration))))}}function z(e){let t={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const n of e)t={comments:n.comments||t.comments,brackets:n.brackets||t.brackets,wordPattern:n.wordPattern||t.wordPattern,indentationRules:n.indentationRules||t.indentationRules,onEnterRules:n.onEnterRules||t.onEnterRules,autoClosingPairs:n.autoClosingPairs||t.autoClosingPairs,surroundingPairs:n.surroundingPairs||t.surroundingPairs,autoCloseBefore:n.autoCloseBefore||t.autoCloseBefore,folding:n.folding||t.folding,colorizedBracketPairs:n.colorizedBracketPairs||t.colorizedBracketPairs,__electricCharacterSupport:n.__electricCharacterSupport||t.__electricCharacterSupport};return t}class P{constructor(e,t,n){this.configuration=e,this.priority=t,this.order=n}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class y{constructor(e){this.languageId=e}}class F extends s.jG{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new i.vl),this.onDidChange=this._onDidChange.event,this._register(this.register(L.vH,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,n=0){let i=this._entries.get(e);i||(i=new A(e),this._entries.set(e,i));const r=i.register(t,n);return this._onDidChange.fire(new y(e)),(0,s.s)((()=>{r.dispose(),this._onDidChange.fire(new y(e))}))}getLanguageConfiguration(e){const t=this._entries.get(e);return t?.getResolvedConfiguration()||null}}class V{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new p(this.underlyingConfig):null,this.comments=V._handleComments(this.underlyingConfig),this.characterPair=new h(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||o.Ld,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new f(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new T(e,this.underlyingConfig)}getWordDefinition(){return(0,o.Io)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new u.az(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new d(this.brackets)),this._electricCharacter}onEnter(e,t,n,i){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,n,i):null}getAutoClosingPairs(){return new a.GB(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const n={};if(t.lineComment&&(n.lineCommentToken=t.lineComment),t.blockComment){const[e,i]=t.blockComment;n.blockCommentStartToken=e,n.blockCommentEndToken=i}return n}}(0,b.v)(O,B,1)},7036:(e,t,n)=>{n.d(t,{$H:()=>r,Lh:()=>o,r3:()=>s});var i=n(4364);const s=new class{clone(){return this}equals(e){return this===e}};function r(e,t){return new i.$M([new i.ou(0,"",e)],t)}function o(e,t){const n=new Uint32Array(2);return n[0]=0,n[1]=(32768|e|2<<24)>>>0,new i.rY(n,null===t?s:t)}},9184:(e,t,n)=>{function i(e,t){const n=e.getCount(),i=e.findTokenIndexAtOffset(t),r=e.getLanguageId(i);let o=i;for(;o+1<n&&e.getLanguageId(o+1)===r;)o++;let a=i;for(;a>0&&e.getLanguageId(a-1)===r;)a--;return new s(e,r,a,o+1,e.getStartOffset(a),e.getEndOffset(o))}n.d(t,{BQ:()=>i,Yo:()=>r});class s{constructor(e,t,n,i,s,r){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=n,this._lastTokenIndex=i,this.firstCharOffset=s,this._lastCharOffset=r,this.languageIdCodec=e.languageIdCodec}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getLineLength(){return this._lastCharOffset-this.firstCharOffset}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}toIViewLineTokens(){return this._actual.sliceAndInflate(this.firstCharOffset,this._lastCharOffset,0)}}function r(e){return!!(3&e)}},1804:(e,t,n)=>{n.d(t,{Fu:()=>f,az:()=>a,xb:()=>d});var i=n(6844),s=n(4324),r=n(8061);class o{constructor(e,t,n,i,s,r){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=n,this.close=i,this.forwardRegex=s,this.reversedRegex=r,this._openSet=o._toSet(this.open),this._closeSet=o._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const n of e)t.add(n);return t}}class a{constructor(e,t){this._richEditBracketsBrand=void 0;const n=function(e){const t=e.length;e=e.map((e=>[e[0].toLowerCase(),e[1].toLowerCase()]));const n=[];for(let e=0;e<t;e++)n[e]=e;const i=(e,t)=>{const[n,i]=e,[s,r]=t;return n===s||n===r||i===s||i===r},s=(e,i)=>{const s=Math.min(e,i),r=Math.max(e,i);for(let e=0;e<t;e++)n[e]===r&&(n[e]=s)};for(let r=0;r<t;r++){const o=e[r];for(let a=r+1;a<t;a++)i(o,e[a])&&s(n[r],n[a])}const r=[];for(let i=0;i<t;i++){const s=[],o=[];for(let r=0;r<t;r++)if(n[r]===i){const[t,n]=e[r];s.push(t),o.push(n)}s.length>0&&r.push({open:s,close:o})}return r}(t);this.brackets=n.map(((t,i)=>new o(e,i,t.open,t.close,function(e,t,n,i){let s=[];s=s.concat(e),s=s.concat(t);for(let e=0,t=s.length;e<t;e++)h(s[e],n,i,s);return s=c(s),s.sort(l),s.reverse(),d(s)}(t.open,t.close,n,i),function(e,t,n,i){let s=[];s=s.concat(e),s=s.concat(t);for(let e=0,t=s.length;e<t;e++)h(s[e],n,i,s);return s=c(s),s.sort(l),s.reverse(),d(s.map(g))}(t.open,t.close,n,i)))),this.forwardRegex=function(e){let t=[];for(const n of e){for(const e of n.open)t.push(e);for(const e of n.close)t.push(e)}return t=c(t),d(t)}(this.brackets),this.reversedRegex=function(e){let t=[];for(const n of e){for(const e of n.open)t.push(e);for(const e of n.close)t.push(e)}return t=c(t),d(t.map(g))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const e of this.brackets){for(const t of e.open)this.textIsBracket[t]=e,this.textIsOpenBracket[t]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,t.length);for(const t of e.close)this.textIsBracket[t]=e,this.textIsOpenBracket[t]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,t.length)}}}function h(e,t,n,i){for(let s=0,r=t.length;s<r;s++){if(s===n)continue;const r=t[s];for(const t of r.open)t.indexOf(e)>=0&&i.push(t);for(const t of r.close)t.indexOf(e)>=0&&i.push(t)}}function l(e,t){return e.length-t.length}function c(e){if(e.length<=1)return e;const t=[],n=new Set;for(const i of e)n.has(i)||(t.push(i),n.add(i));return t}function u(e){const t=/^[\w ]+$/.test(e);return e=i.bm(e),t?`\\b${e}\\b`:e}function d(e,t){const n=`(${e.map(u).join(")|(")})`;return i.OS(n,!0,t)}const g=function(){let e=null,t=null;return function(n){return e!==n&&(e=n,t=function(e){const t=new Uint16Array(e.length);let n=0;for(let i=e.length-1;i>=0;i--)t[n++]=e.charCodeAt(i);return s.b7().decode(t)}(e)),t}}();class f{static _findPrevBracketInText(e,t,n,i){const s=n.match(e);if(!s)return null;const o=n.length-(s.index||0),a=s[0].length,h=i+o;return new r.Q(t,h-a+1,t,h+1)}static findPrevBracketInRange(e,t,n,i,s){const r=g(n).substring(n.length-s,n.length-i);return this._findPrevBracketInText(e,t,r,i)}static findNextBracketInText(e,t,n,i){const s=n.match(e);if(!s)return null;const o=s.index||0,a=s[0].length;if(0===a)return null;const h=i+o;return new r.Q(t,h+1,t,h+1+a)}static findNextBracketInRange(e,t,n,i,s){const r=n.substring(i,s);return this.findNextBracketInText(e,t,r,i)}}},4651:(e,t,n)=>{n.d(t,{Gc:()=>C,Nn:()=>h,Xw:()=>l,rh:()=>m,yF:()=>p});var i=n(4327),s=n(2549),r=n(4883),o=n(756);class a{get length(){return this._length}constructor(e){this._length=e}}class h extends a{static create(e,t,n){let i=e.length;return t&&(i=(0,r.QB)(i,t.length)),n&&(i=(0,r.QB)(i,n.length)),new h(i,e,t,n,t?t.missingOpeningBracketIds:o.gV.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=[];return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}constructor(e,t,n,i,s){super(e),this.openingBracket=t,this.child=n,this.closingBracket=i,this.missingOpeningBracketIds=s}canBeReused(e){return null!==this.closingBracket&&!e.intersects(this.missingOpeningBracketIds)}deepClone(){return new h(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation((0,r.QB)(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class l extends a{static create23(e,t,n,i=!1){let s=e.length,o=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(s=(0,r.QB)(s,t.length),o=o.merge(t.missingOpeningBracketIds),n){if(e.listHeight!==n.listHeight)throw new Error("Invalid list heights");s=(0,r.QB)(s,n.length),o=o.merge(n.missingOpeningBracketIds)}return i?new u(s,e.listHeight+1,e,t,n,o):new c(s,e.listHeight+1,e,t,n,o)}static getEmpty(){return new g(r.Vp,0,[],o.gV.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(e,t,n){super(e),this.listHeight=t,this._missingOpeningBracketIds=n,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(0===e)return;const t=this.getChild(e-1),n=4===t.kind?t.toMutable():t;return t!==n&&this.setChild(e-1,n),n}makeFirstElementMutable(){if(this.throwIfImmutable(),0===this.childrenLength)return;const e=this.getChild(0),t=4===e.kind?e.toMutable():e;return e!==t&&this.setChild(0,t),t}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds))return!1;if(0===this.childrenLength)return!1;let t=this;for(;4===t.kind;){const e=t.childrenLength;if(0===e)throw new i.D7;t=t.getChild(e-1)}return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,n=this.getChild(0).missingOpeningBracketIds;for(let i=1;i<e;i++){const e=this.getChild(i);t=(0,r.QB)(t,e.length),n=n.merge(e.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=n,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let n=Number.MAX_SAFE_INTEGER,i=e;for(let e=0;e<this.childrenLength;e++){const s=this.getChild(e);s&&(n=Math.min(n,s.computeMinIndentation(i,t)),i=(0,r.QB)(i,s.length))}return this.cachedMinIndentation=n,n}}class c extends l{get childrenLength(){return null!==this._item3?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:return void(this._item1=t);case 1:return void(this._item2=t);case 2:return void(this._item3=t)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(e,t,n,i,s,r){super(e,t,r),this._item1=n,this._item2=i,this._item3=s}deepClone(){return new c(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class u extends c{toMutable(){return new c(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class d extends l{get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}constructor(e,t,n,i){super(e,t,i),this._children=n}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new d(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class g extends d{toMutable(){return new d(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const f=[];class _ extends a{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return f}deepClone(){return this}}class p extends _{get kind(){return 0}get missingOpeningBracketIds(){return o.gV.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const n=(0,r.l4)(e),i=(0===n.columnCount?n.lineCount:n.lineCount+1)+1,o=(0,r.eu)((0,r.QB)(e,this.length))+1;let a=Number.MAX_SAFE_INTEGER;for(let e=i;e<=o;e++){const n=t.getLineFirstNonWhitespaceColumn(e),i=t.getLineContent(e);if(0===n)continue;const r=s.A.visibleColumnFromColumn(i,n,t.getOptions().tabSize);a=Math.min(a,r)}return a}}class m extends _{static create(e,t,n){return new m(e,t,n)}get kind(){return 1}get missingOpeningBracketIds(){return o.gV.getEmpty()}constructor(e,t,n){super(e),this.bracketInfo=t,this.bracketIds=n}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class C extends _{get kind(){return 3}constructor(e,t){super(t),this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}},2994:(e,t,n)=>{n.d(t,{W:()=>o,c:()=>r});var i=n(8061),s=n(4883);class r{static fromModelContentChanges(e){return e.map((e=>{const t=i.Q.lift(e.range);return new r((0,s.VL)(t.getStartPosition()),(0,s.VL)(t.getEndPosition()),(0,s.rR)(e.text))})).reverse()}constructor(e,t,n){this.startOffset=e,this.endOffset=t,this.newLength=n}toString(){return`[${(0,s.l4)(this.startOffset)}...${(0,s.l4)(this.endOffset)}) -> ${(0,s.l4)(this.newLength)}`}}class o{constructor(e){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map((e=>a.from(e)))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],n=t?this.translateOldToCur(t.offsetObj):null;return null===n?null:(0,s.MS)(e,n)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?(0,s.qe)(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):(0,s.qe)(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=(0,s.l4)(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,s.qe)(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):(0,s.qe)(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],n=this.translateOldToCur(t.endOffsetAfterObj);if(!(0,s.vr)(n,e))break;{this.nextEditIdx++;const e=(0,s.l4)(n),i=(0,s.l4)(this.translateOldToCur(t.endOffsetBeforeObj)),r=e.lineCount-i.lineCount;this.deltaOldToNewLineCount+=r;const o=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,a=e.columnCount-i.columnCount;this.deltaOldToNewColumnCount=o+a,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}}}}class a{static from(e){return new a(e.startOffset,e.endOffset,e.newLength)}constructor(e,t,n){this.endOffsetBeforeObj=(0,s.l4)(t),this.endOffsetAfterObj=(0,s.l4)((0,s.QB)(e,n)),this.offsetObj=(0,s.l4)(e)}}},5702:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(6844),s=n(4651),r=n(4883),o=n(756),a=n(3206);class h{static createFromLanguage(e,t){function n(e){return t.getKey(`${e.languageId}:::${e.bracketText}`)}const i=new Map;for(const t of e.bracketsNew.openingBrackets){const e=(0,r.qe)(0,t.bracketText.length),h=n(t),l=o.gV.getEmpty().add(h,o.FD);i.set(t.bracketText,new a.ou(e,1,h,l,s.rh.create(e,t,l)))}for(const t of e.bracketsNew.closingBrackets){const e=(0,r.qe)(0,t.bracketText.length);let h=o.gV.getEmpty();const l=t.getOpeningBrackets();for(const e of l)h=h.add(n(e),o.FD);i.set(t.bracketText,new a.ou(e,2,n(l[0]),h,s.rh.create(e,t,h)))}return new h(i)}constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map((e=>function(e){let t=(0,i.bm)(e);return/^[\w ]+/.test(e)&&(t=`\\b${t}`),/[\w ]+$/.test(e)&&(t=`${t}\\b`),t}(e))).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,n]of this.map)if(2===n.kind&&n.bracketIds.intersects(e))return t}get isEmpty(){return 0===this.map.size}}class l{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=h.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}},7132:(e,t,n)=>{n.d(t,{M:()=>o});var i=n(3338),s=n(2994),r=n(4883);function o(e,t){if(0===e.length)return t;if(0===t.length)return e;const n=new i.j3(h(e)),o=h(t);o.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let l=n.dequeue();function c(e){if(void 0===e){const e=n.takeWhile((e=>!0))||[];return l&&e.unshift(l),e}const t=[];for(;l&&!(0,r.Vh)(e);){const[i,s]=l.splitAt(e);t.push(i),e=(0,r.MS)(i.lengthAfter,e),l=s??n.dequeue()}return(0,r.Vh)(e)||t.push(new a(!1,e,e)),t}const u=[];function d(e,t,n){if(u.length>0&&(0,r.wP)(u[u.length-1].endOffset,e)){const e=u[u.length-1];u[u.length-1]=new s.c(e.startOffset,t,(0,r.QB)(e.newLength,n))}else u.push({startOffset:e,endOffset:t,newLength:n})}let g=r.Vp;for(const e of o){const t=c(e.lengthBefore);if(e.modified){const n=(0,r.pW)(t,(e=>e.lengthBefore)),i=(0,r.QB)(g,n);d(g,i,e.lengthAfter),g=i}else for(const e of t){const t=g;g=(0,r.QB)(g,e.lengthBefore),e.modified&&d(t,g,e.lengthAfter)}}return u}class a{constructor(e,t,n){this.modified=e,this.lengthBefore=t,this.lengthAfter=n}splitAt(e){const t=(0,r.MS)(e,this.lengthAfter);return(0,r.wP)(t,r.Vp)?[this,void 0]:this.modified?[new a(this.modified,this.lengthBefore,e),new a(this.modified,r.Vp,t)]:[new a(this.modified,e,e),new a(this.modified,t,t)]}toString(){return`${this.modified?"M":"U"}:${(0,r.l4)(this.lengthBefore)} -> ${(0,r.l4)(this.lengthAfter)}`}}function h(e){const t=[];let n=r.Vp;for(const i of e){const e=(0,r.MS)(n,i.startOffset);(0,r.Vh)(e)||t.push(new a(!1,e,e));const s=(0,r.MS)(i.startOffset,i.endOffset);t.push(new a(!0,s,i.newLength)),n=i.endOffset}return t}},4883:(e,t,n)=>{n.d(t,{C7:()=>o,MS:()=>m,QB:()=>f,Qx:()=>I,VL:()=>L,Vh:()=>h,Vp:()=>a,eu:()=>d,l4:()=>u,o0:()=>b,pW:()=>_,qe:()=>c,rR:()=>T,sS:()=>g,vr:()=>k,wP:()=>p,zG:()=>C});var i=n(6844),s=n(8061),r=n(8357);function o(e,t,n,i){return e!==n?c(n-e,i):c(0,i-t)}const a=0;function h(e){return 0===e}const l=2**26;function c(e,t){return e*l+t}function u(e){const t=e,n=Math.floor(t/l),i=t-n*l;return new r.W(n,i)}function d(e){return Math.floor(e/l)}function g(e){return e}function f(e,t){let n=e+t;return t>=l&&(n-=e%l),n}function _(e,t){return e.reduce(((e,n)=>f(e,t(n))),a)}function p(e,t){return e===t}function m(e,t){const n=e,i=t;if(i-n<=0)return a;const s=Math.floor(n/l),r=Math.floor(i/l),o=i-r*l;return s===r?c(0,o-(n-s*l)):c(r-s,o)}function C(e,t){return e<t}function k(e,t){return e<=t}function b(e,t){return e>=t}function L(e){return c(e.lineNumber-1,e.column-1)}function I(e,t){const n=e,i=Math.floor(n/l),r=n-i*l,o=t,a=Math.floor(o/l),h=o-a*l;return new s.Q(i+1,r+1,a+1,h+1)}function T(e){const t=(0,i.uz)(e);return c(t.length-1,t[t.length-1].length)}},8302:(e,t,n)=>{n.d(t,{T:()=>g});var i=n(4651),s=n(2994),r=n(756),o=n(4883);function a(e,t=!1){if(0===e.length)return null;if(1===e.length)return e[0];let n=e.length;for(;n>3;){const s=n>>1;for(let r=0;r<s;r++){const s=r<<1;e[r]=i.Xw.create23(e[s],e[s+1],s+3===n?e[s+2]:null,t)}n=s}return i.Xw.create23(e[0],e[1],n>=3?e[2]:null,t)}function h(e,t){return Math.abs(e.listHeight-t.listHeight)}function l(e,t){return e.listHeight===t.listHeight?i.Xw.create23(e,t,null,!1):e.listHeight>t.listHeight?function(e,t){let n=e=e.toMutable();const s=[];let r;for(;;){if(t.listHeight===n.listHeight){r=t;break}if(4!==n.kind)throw new Error("unexpected");s.push(n),n=n.makeLastElementMutable()}for(let e=s.length-1;e>=0;e--){const t=s[e];r?t.childrenLength>=3?r=i.Xw.create23(t.unappendChild(),r,null,!1):(t.appendChildOfSameHeight(r),r=void 0):t.handleChildrenChanged()}return r?i.Xw.create23(e,r,null,!1):e}(e,t):function(e,t){let n=e=e.toMutable();const s=[];for(;t.listHeight!==n.listHeight;){if(4!==n.kind)throw new Error("unexpected");s.push(n),n=n.makeFirstElementMutable()}let r=t;for(let e=s.length-1;e>=0;e--){const t=s[e];r?t.childrenLength>=3?r=i.Xw.create23(r,t.unprependChild(),null,!1):(t.prependChildOfSameHeight(r),r=void 0):t.handleChildrenChanged()}return r?i.Xw.create23(r,e,null,!1):e}(t,e)}class c{constructor(e){this.lastOffset=o.Vp,this.nextNodes=[e],this.offsets=[o.Vp],this.idxs=[]}readLongestNodeAt(e,t){if((0,o.zG)(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const n=d(this.nextNodes);if(!n)return;const i=d(this.offsets);if((0,o.zG)(e,i))return;if((0,o.zG)(i,e))if((0,o.QB)(i,n.length)<=e)this.nextNodeAfterCurrent();else{const e=u(n);-1!==e?(this.nextNodes.push(n.getChild(e)),this.offsets.push(i),this.idxs.push(e)):this.nextNodeAfterCurrent()}else{if(t(n))return this.nextNodeAfterCurrent(),n;{const e=u(n);if(-1===e)return void this.nextNodeAfterCurrent();this.nextNodes.push(n.getChild(e)),this.offsets.push(i),this.idxs.push(e)}}}}nextNodeAfterCurrent(){for(;;){const e=d(this.offsets),t=d(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const n=d(this.nextNodes),i=u(n,this.idxs[this.idxs.length-1]);if(-1!==i){this.nextNodes.push(n.getChild(i)),this.offsets.push((0,o.QB)(e,t.length)),this.idxs[this.idxs.length-1]=i;break}this.idxs.pop()}}}function u(e,t=-1){for(;;){if(++t>=e.childrenLength)return-1;if(e.getChild(t))return t}}function d(e){return e.length>0?e[e.length-1]:void 0}function g(e,t,n,i){return new f(e,t,n,i).parseDocument()}class f{constructor(e,t,n,i){if(this.tokenizer=e,this.createImmutableLists=i,this._itemsConstructed=0,this._itemsFromCache=0,n&&i)throw new Error("Not supported");this.oldNodeReader=n?new c(n):void 0,this.positionMapper=new s.W(t)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(r.gV.getEmpty(),0);return e||(e=i.Xw.getEmpty()),e}parseList(e,t){const n=[];for(;;){let i=this.tryReadChildFromCache(e);if(!i){const n=this.tokenizer.peek();if(!n||2===n.kind&&n.bracketIds.intersects(e))break;i=this.parseChild(e,t+1)}4===i.kind&&0===i.childrenLength||n.push(i)}const i=this.oldNodeReader?function(e){if(0===e.length)return null;if(1===e.length)return e[0];let t=0;function n(){if(t>=e.length)return null;const n=t,i=e[n].listHeight;for(t++;t<e.length&&e[t].listHeight===i;)t++;return t-n>=2?a(0===n&&t===e.length?e:e.slice(n,t),!1):e[n]}let i=n(),s=n();if(!s)return i;for(let e=n();e;e=n())h(i,s)<=h(s,e)?(i=l(i,s),s=e):s=l(s,e);return l(i,s)}(n):a(n,this.createImmutableLists);return i}tryReadChildFromCache(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(null===t||!(0,o.Vh)(t)){const n=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(n=>!(null!==t&&!(0,o.zG)(n.length,t))&&n.canBeReused(e)));if(n)return this._itemsFromCache++,this.tokenizer.skip(n.length),n}}}parseChild(e,t){this._itemsConstructed++;const n=this.tokenizer.read();switch(n.kind){case 2:return new i.Gc(n.bracketIds,n.length);case 0:return n.astNode;case 1:{if(t>300)return new i.yF(n.length);const s=e.merge(n.bracketIds),r=this.parseList(s,t+1),o=this.tokenizer.peek();return o&&2===o.kind&&(o.bracketId===n.bracketId||o.bracketIds.intersects(n.bracketIds))?(this.tokenizer.read(),i.Nn.create(n.astNode,r,o.astNode)):i.Nn.create(n.astNode,r,null)}default:throw new Error("unexpected")}}}},756:(e,t,n)=>{n.d(t,{FD:()=>r,Mg:()=>o,gV:()=>s});const i=[];class s{static{this.cache=new Array(129)}static create(e,t){if(e<=128&&0===t.length){let n=s.cache[e];return n||(n=new s(e,t),s.cache[e]=n),n}return new s(e,t)}static{this.empty=s.create(0,i)}static getEmpty(){return this.empty}constructor(e,t){this.items=e,this.additionalItems=t}add(e,t){const n=t.getKey(e);let i=n>>5;if(0===i){const e=1<<n|this.items;return e===this.items?this:s.create(e,this.additionalItems)}i--;const r=this.additionalItems.slice(0);for(;r.length<i;)r.push(0);return r[i]|=1<<(31&n),s.create(this.items,r)}merge(e){const t=this.items|e.items;if(this.additionalItems===i&&e.additionalItems===i)return t===this.items?this:t===e.items?e:s.create(t,i);const n=[];for(let t=0;t<Math.max(this.additionalItems.length,e.additionalItems.length);t++){const i=this.additionalItems[t]||0,s=e.additionalItems[t]||0;n.push(i|s)}return s.create(t,n)}intersects(e){if(this.items&e.items)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(this.additionalItems[t]&e.additionalItems[t])return!0;return!1}}const r={getKey:e=>e};class o{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return void 0===t&&(t=this.items.size,this.items.set(e,t)),t}}},3206:(e,t,n)=>{n.d(t,{_:()=>u,ou:()=>h,tk:()=>l});var i=n(4327),s=n(5910),r=n(4651),o=n(4883),a=n(756);class h{constructor(e,t,n,i,s){this.length=e,this.kind=t,this.bracketId=n,this.bracketIds=i,this.astNode=s}}class l{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new c(this.textModel,this.bracketTokens),this._offset=o.Vp,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,o.qe)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=(0,o.QB)(this._offset,e);const t=(0,o.l4)(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=(0,o.QB)(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class c{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,null!==this.line&&(this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const e=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,o.sS)(e.length),e}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let n=0;for(;;){const i=this.lineTokens,r=i.getCount();let a=null;if(this.lineTokenOffset<r){const h=i.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<r&&h===i.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const l=0===s.x.getTokenType(h),c=s.x.containsBalancedBrackets(h),u=i.getEndOffset(this.lineTokenOffset);if(c&&l&&this.lineCharOffset<u){const e=i.getLanguageId(this.lineTokenOffset),t=this.line.substring(this.lineCharOffset,u),n=this.bracketTokens.getSingleLanguageBracketTokens(e),s=n.regExpGlobal;if(s){s.lastIndex=0;const e=s.exec(t);e&&(a=n.getToken(e[0]),a&&(this.lineCharOffset+=e.index))}}if(n+=u-this.lineCharOffset,a){if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}return this.lineCharOffset+=(0,o.sS)(a.length),a}this.lineTokenOffset++,this.lineCharOffset=u}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,n+=33,n>1e3)break}if(n>1500)break}const i=(0,o.C7)(e,t,this.lineIdx,this.lineCharOffset);return new h(i,0,-1,a.gV.getEmpty(),new r.yF(i))}}class u{constructor(e,t){this.text=e,this._offset=o.Vp,this.idx=0;const n=t.getRegExpStr(),i=n?new RegExp(n+"|\n","gi"):null,s=[];let l,c=0,u=0,d=0,g=0;const f=[];for(let e=0;e<60;e++)f.push(new h((0,o.qe)(0,e),0,-1,a.gV.getEmpty(),new r.yF((0,o.qe)(0,e))));const _=[];for(let e=0;e<60;e++)_.push(new h((0,o.qe)(1,e),0,-1,a.gV.getEmpty(),new r.yF((0,o.qe)(1,e))));if(i)for(i.lastIndex=0;null!==(l=i.exec(e));){const e=l.index,n=l[0];if("\n"===n)c++,u=e+1;else{if(d!==e){let t;if(g===c){const n=e-d;if(n<f.length)t=f[n];else{const e=(0,o.qe)(0,n);t=new h(e,0,-1,a.gV.getEmpty(),new r.yF(e))}}else{const n=c-g,i=e-u;if(1===n&&i<_.length)t=_[i];else{const e=(0,o.qe)(n,i);t=new h(e,0,-1,a.gV.getEmpty(),new r.yF(e))}}s.push(t)}s.push(t.getToken(n)),d=e+n.length,g=c}}const p=e.length;if(d!==p){const e=g===c?(0,o.qe)(0,p-d):(0,o.qe)(c-g,p-u);s.push(new h(e,0,-1,a.gV.getEmpty(),new r.yF(e)))}this.length=(0,o.qe)(c,p-u),this.tokens=s}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new i.EM}}},4296:(e,t,n)=>{n.d(t,{Th:()=>_,z8:()=>p});var i=n(9746),s=n(4327),r=n(3702),o=n(7264),a=n(6949),h=n(2802),l=n(2467);function c(e){return e.toString()}class u{static create(e,t){const n=e.getAlternativeVersionId(),i=f(e);return new u(n,n,i,i,t,t,[])}constructor(e,t,n,i,s,r,o){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=n,this.afterEOL=i,this.beforeCursorState=s,this.afterCursorState=r,this.changes=o}append(e,t,n,i,s){t.length>0&&(this.changes=(0,a.x)(this.changes,t)),this.afterEOL=n,this.afterVersionId=i,this.afterCursorState=s}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,n){if(h.Sw(e,t?t.length:0,n),n+=4,t)for(const i of t)h.Sw(e,i.selectionStartLineNumber,n),n+=4,h.Sw(e,i.selectionStartColumn,n),n+=4,h.Sw(e,i.positionLineNumber,n),n+=4,h.Sw(e,i.positionColumn,n),n+=4;return n}static _readSelections(e,t,n){const i=h.bb(e,t);t+=4;for(let s=0;s<i;s++){const i=h.bb(e,t);t+=4;const s=h.bb(e,t);t+=4;const o=h.bb(e,t);t+=4;const a=h.bb(e,t);t+=4,n.push(new r.L(i,s,o,a))}return t}serialize(){let e=10+u._writeSelectionsSize(this.beforeCursorState)+u._writeSelectionsSize(this.afterCursorState)+4;for(const t of this.changes)e+=t.writeSize();const t=new Uint8Array(e);let n=0;h.Sw(t,this.beforeVersionId,n),n+=4,h.Sw(t,this.afterVersionId,n),n+=4,h.Gs(t,this.beforeEOL,n),n+=1,h.Gs(t,this.afterEOL,n),n+=1,n=u._writeSelections(t,this.beforeCursorState,n),n=u._writeSelections(t,this.afterCursorState,n),h.Sw(t,this.changes.length,n),n+=4;for(const e of this.changes)n=e.write(t,n);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let n=0;const i=h.bb(t,n);n+=4;const s=h.bb(t,n);n+=4;const r=h.pJ(t,n);n+=1;const o=h.pJ(t,n);n+=1;const l=[];n=u._readSelections(t,n,l);const c=[];n=u._readSelections(t,n,c);const d=h.bb(t,n);n+=4;const g=[];for(let e=0;e<d;e++)n=a.k.read(t,n,g);return new u(i,s,r,o,l,c,g)}}class d{get type(){return 0}get resource(){return o.r.isUri(this.model)?this.model:this.model.uri}constructor(e,t,n,i){this.label=e,this.code=t,this.model=n,this._data=u.create(n,i)}toString(){return(this._data instanceof u?this._data:u.deserialize(this._data)).changes.map((e=>e.toString())).join(", ")}matchesResource(e){return(o.r.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof u}append(e,t,n,i,s){this._data instanceof u&&this._data.append(e,t,n,i,s)}close(){this._data instanceof u&&(this._data=this._data.serialize())}open(){this._data instanceof u||(this._data=u.deserialize(this._data))}undo(){if(o.r.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof u&&(this._data=this._data.serialize());const e=u.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(o.r.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof u&&(this._data=this._data.serialize());const e=u.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof u&&(this._data=this._data.serialize()),this._data.byteLength+168}}class g{get resources(){return this._editStackElementsArr.map((e=>e.resource))}constructor(e,t,n){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=n.slice(0),this._editStackElementsMap=new Map;for(const e of this._editStackElementsArr){const t=c(e.resource);this._editStackElementsMap.set(t,e)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=c(e);return this._editStackElementsMap.has(t)}setModel(e){const t=c(o.r.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=c(e.uri);return!!this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).canAppend(e)}append(e,t,n,i,s){const r=c(e.uri);this._editStackElementsMap.get(r).append(e,t,n,i,s)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=c(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr)e.push(`${(0,l.P8)(t.resource)}: ${t}`);return`{${e.join(", ")}}`}}function f(e){return"\n"===e.getEOL()?0:1}function _(e){return!!e&&(e instanceof d||e instanceof g)}class p{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);_(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);_(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){const n=this._undoRedoService.getLastElement(this._model.uri);if(_(n)&&n.canAppend(this._model))return n;const s=new d(i.kg("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(s,t),s}pushEOL(e){const t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],f(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,n,i){const s=this._getOrCreateEditStackElement(e,i),r=this._model.applyEdits(t,!0),o=p._computeCursorState(n,r),a=r.map(((e,t)=>({index:t,textChange:e.textChange})));return a.sort(((e,t)=>e.textChange.oldPosition===t.textChange.oldPosition?e.index-t.index:e.textChange.oldPosition-t.textChange.oldPosition)),s.append(this._model,a.map((e=>e.textChange)),f(this._model),this._model.getAlternativeVersionId(),o),o}static _computeCursorState(e,t){try{return e?e(t):null}catch(e){return(0,s.dz)(e),null}}}},2818:(e,t,n)=>{n.d(t,{P:()=>u,k:()=>d});var i=n(7393),s=n(6844),r=n(2549),o=n(8061),a=n(2177),h=n(969),l=n(779),c=n(4327);class u extends a._{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return(0,h.G)(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,n){this.assertNotDisposed();const i=this.textModel.getLineCount();if(e<1||e>i)throw new c.D7("Illegal value for lineNumber");const s=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,r=Boolean(s&&s.offSide);let o=-2,a=-1,h=-2,l=-1;const u=e=>{if(-1!==o&&(-2===o||o>e-1)){o=-1,a=-1;for(let t=e-2;t>=0;t--){const e=this._computeIndentLevel(t);if(e>=0){o=t,a=e;break}}}if(-2===h){h=-1,l=-1;for(let t=e;t<i;t++){const e=this._computeIndentLevel(t);if(e>=0){h=t,l=e;break}}}};let d=-2,g=-1,f=-2,_=-1;const p=e=>{if(-2===d){d=-1,g=-1;for(let t=e-2;t>=0;t--){const e=this._computeIndentLevel(t);if(e>=0){d=t,g=e;break}}}if(-1!==f&&(-2===f||f<e-1)){f=-1,_=-1;for(let t=e;t<i;t++){const e=this._computeIndentLevel(t);if(e>=0){f=t,_=e;break}}}};let m=0,C=!0,k=0,b=!0,L=0,I=0;for(let s=0;C||b;s++){const o=e-s,c=e+s;s>1&&(o<1||o<t)&&(C=!1),s>1&&(c>i||c>n)&&(b=!1),s>5e4&&(C=!1,b=!1);let f=-1;if(C&&o>=1){const e=this._computeIndentLevel(o-1);e>=0?(h=o-1,l=e,f=Math.ceil(e/this.textModel.getOptions().indentSize)):(u(o),f=this._getIndentLevelForWhitespaceLine(r,a,l))}let T=-1;if(b&&c<=i){const e=this._computeIndentLevel(c-1);e>=0?(d=c-1,g=e,T=Math.ceil(e/this.textModel.getOptions().indentSize)):(p(c),T=this._getIndentLevelForWhitespaceLine(r,g,_))}if(0!==s){if(1===s){if(c<=i&&T>=0&&I+1===T){C=!1,m=c,k=c,L=T;continue}if(o>=1&&f>=0&&f-1===I){b=!1,m=o,k=o,L=f;continue}if(m=e,k=e,L=I,0===L)return{startLineNumber:m,endLineNumber:k,indent:L}}C&&(f>=L?m=o:C=!1),b&&(T>=L?k=c:b=!1)}else I=f}return{startLineNumber:m,endLineNumber:k,indent:L}}getLinesBracketGuides(e,t,n,r){const a=[];for(let n=e;n<=t;n++)a.push([]);const h=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new o.Q(e,1,t,this.textModel.getLineMaxColumn(t))).toArray();let c;if(n&&h.length>0){const s=(e<=n.lineNumber&&n.lineNumber<=t?h:this.textModel.bracketPairs.getBracketPairsInRange(o.Q.fromPositions(n)).toArray()).filter((e=>o.Q.strictContainsPosition(e.range,n)));c=(0,i.Uk)(s,(e=>true))?.range}const u=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,g=new d;for(const n of h){if(!n.closingBracketRange)continue;const i=c&&n.range.equalsRange(c);if(!i&&!r.includeInactive)continue;const o=g.getInlineClassName(n.nestingLevel,n.nestingLevelOfEqualBracketType,u)+(r.highlightActive&&i?" "+g.activeClassName:""),h=n.openingBracketRange.getStartPosition(),d=n.closingBracketRange.getStartPosition(),f=r.horizontalGuides===l.N6.Enabled||r.horizontalGuides===l.N6.EnabledForActive&&i;if(n.range.startLineNumber===n.range.endLineNumber){f&&a[n.range.startLineNumber-e].push(new l.TH(-1,n.openingBracketRange.getEndPosition().column,o,new l.pv(!1,d.column),-1,-1));continue}const _=this.getVisibleColumnFromPosition(d),p=this.getVisibleColumnFromPosition(n.openingBracketRange.getStartPosition()),m=Math.min(p,_,n.minVisibleColumnIndentation+1);let C=!1;s.HG(this.textModel.getLineContent(n.closingBracketRange.startLineNumber))<n.closingBracketRange.startColumn-1&&(C=!0);const k=Math.max(h.lineNumber,e),b=Math.min(d.lineNumber,t),L=C?1:0;for(let t=k;t<b+L;t++)a[t-e].push(new l.TH(m,-1,o,null,t===h.lineNumber?h.column:-1,t===d.lineNumber?d.column:-1));f&&(h.lineNumber>=e&&p>m&&a[h.lineNumber-e].push(new l.TH(m,-1,o,new l.pv(!1,h.column),-1,-1)),d.lineNumber<=t&&_>m&&a[d.lineNumber-e].push(new l.TH(m,-1,o,new l.pv(!C,d.column),-1,-1)))}for(const e of a)e.sort(((e,t)=>e.visibleColumn-t.visibleColumn));return a}getVisibleColumnFromPosition(e){return r.A.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const n=this.textModel.getLineCount();if(e<1||e>n)throw new Error("Illegal value for startLineNumber");if(t<1||t>n)throw new Error("Illegal value for endLineNumber");const i=this.textModel.getOptions(),s=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,r=Boolean(s&&s.offSide),o=new Array(t-e+1);let a=-2,h=-1,l=-2,c=-1;for(let s=e;s<=t;s++){const t=s-e,u=this._computeIndentLevel(s-1);if(u>=0)a=s-1,h=u,o[t]=Math.ceil(u/i.indentSize);else{if(-2===a){a=-1,h=-1;for(let e=s-2;e>=0;e--){const t=this._computeIndentLevel(e);if(t>=0){a=e,h=t;break}}}if(-1!==l&&(-2===l||l<s-1)){l=-1,c=-1;for(let e=s;e<n;e++){const t=this._computeIndentLevel(e);if(t>=0){l=e,c=t;break}}}o[t]=this._getIndentLevelForWhitespaceLine(r,h,c)}}return o}_getIndentLevelForWhitespaceLine(e,t,n){const i=this.textModel.getOptions();return-1===t||-1===n?0:t<n?1+Math.floor(t/i.indentSize):t===n||e?Math.ceil(n/i.indentSize):1+Math.floor(n/i.indentSize)}}class d{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,n){return this.getInlineClassNameOfLevel(n?t:e)}getInlineClassNameOfLevel(e){return"bracket-indent-guide lvl-"+e%30}}},1907:(e,t,n)=>{n.d(t,{Ho:()=>Gt,kI:()=>$t,Bz:()=>yt});var i=n(3338),s=n(4901),r=n(4327),o=n(2106),a=n(998),h=n(6844),l=n(7264),c=n(3902),u=n(7999),d=n(5365),g=n(8061),f=n(3702),_=n(2590),p=n(7922),m=n(2394),C=n(6055),k=n(9184),b=n(1804);class L{constructor(e,t,n,i){this.range=e,this.nestingLevel=t,this.nestingLevelOfEqualBracketType=n,this.isInvalid=i}}class I{constructor(e,t,n,i,s,r){this.range=e,this.openingBracketRange=t,this.closingBracketRange=n,this.nestingLevel=i,this.nestingLevelOfEqualBracketType=s,this.bracketPairNode=r}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class T extends I{constructor(e,t,n,i,s,r,o){super(e,t,n,i,s,r),this.minVisibleColumnIndentation=o}}var x=n(2994),S=n(5702),v=n(4883),w=n(8302),E=n(756),N=n(3206),O=n(7132);class B extends a.jG{didLanguageChange(e){return this.brackets.didLanguageChange(e)}constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new o.vl,this.denseKeyProvider=new E.Mg,this.brackets=new S.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],e.tokenization.hasTokens)2===e.tokenization.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const e=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),t=new N._(this.textModel.getValue(),e);this.initialAstWithoutTokens=(0,w.T)(t,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.tokenization.backgroundTokenizationState){const e=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){const t=e.map((e=>new x.c((0,v.qe)(e.fromLineNumber-1,0),(0,v.qe)(e.toLineNumber,0),(0,v.qe)(e.toLineNumber-e.fromLineNumber+1,0))));this.handleEdits(t,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){const t=x.c.fromModelContentChanges(e.changes);this.handleEdits(t,!1)}handleEdits(e,t){const n=(0,O.M)(this.queuedTextEdits,e);this.queuedTextEdits=n,this.initialAstWithoutTokens&&!t&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,O.M)(this.queuedTextEditsForInitialAstWithoutTokens,e))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(e,t,n){const i=t,s=new N.tk(this.textModel,this.brackets);return(0,w.T)(s,e,i,n)}getBracketsInRange(e,t){this.flushQueue();const n=(0,v.qe)(e.startLineNumber-1,e.startColumn-1),s=(0,v.qe)(e.endLineNumber-1,e.endColumn-1);return new i.c1((e=>{const i=this.initialAstWithoutTokens||this.astWithTokens;D(i,v.Vp,i.length,n,s,e,0,0,new Map,t)}))}getBracketPairsInRange(e,t){this.flushQueue();const n=(0,v.VL)(e.getStartPosition()),s=(0,v.VL)(e.getEndPosition());return new i.c1((e=>{const i=this.initialAstWithoutTokens||this.astWithTokens,r=new A(e,t,this.textModel);z(i,v.Vp,i.length,n,s,r,0,new Map)}))}getFirstBracketAfter(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return M(t,v.Vp,t.length,(0,v.VL)(e))}getFirstBracketBefore(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return R(t,v.Vp,t.length,(0,v.VL)(e))}}function R(e,t,n,i){if(4===e.kind||2===e.kind){const s=[];for(const i of e.children)n=(0,v.QB)(t,i.length),s.push({nodeOffsetStart:t,nodeOffsetEnd:n}),t=n;for(let t=s.length-1;t>=0;t--){const{nodeOffsetStart:n,nodeOffsetEnd:r}=s[t];if((0,v.zG)(n,i)){const s=R(e.children[t],n,r,i);if(s)return s}}return null}if(3===e.kind)return null;if(1===e.kind){const i=(0,v.Qx)(t,n);return{bracketInfo:e.bracketInfo,range:i}}return null}function M(e,t,n,i){if(4===e.kind||2===e.kind){for(const s of e.children){if(n=(0,v.QB)(t,s.length),(0,v.zG)(i,n)){const e=M(s,t,n,i);if(e)return e}t=n}return null}if(3===e.kind)return null;if(1===e.kind){const i=(0,v.Qx)(t,n);return{bracketInfo:e.bracketInfo,range:i}}return null}function D(e,t,n,i,s,r,o,a,h,l,c=!1){if(o>200)return!0;e:for(;;)switch(e.kind){case 4:{const a=e.childrenLength;for(let c=0;c<a;c++){const a=e.getChild(c);if(a){if(n=(0,v.QB)(t,a.length),(0,v.vr)(t,s)&&(0,v.o0)(n,i)){if((0,v.o0)(n,s)){e=a;continue e}if(!D(a,t,n,i,s,r,o,0,h,l))return!1}t=n}}return!0}case 2:{const c=!l||!e.closingBracket||e.closingBracket.bracketInfo.closesColorized(e.openingBracket.bracketInfo);let u=0;if(h){let t=h.get(e.openingBracket.text);void 0===t&&(t=0),u=t,c&&(t++,h.set(e.openingBracket.text,t))}const d=e.childrenLength;for(let g=0;g<d;g++){const d=e.getChild(g);if(d){if(n=(0,v.QB)(t,d.length),(0,v.vr)(t,s)&&(0,v.o0)(n,i)){if((0,v.o0)(n,s)&&1!==d.kind){e=d,c?(o++,a=u+1):a=u;continue e}if((c||1!==d.kind||!e.closingBracket)&&!D(d,t,n,i,s,r,c?o+1:o,c?u+1:u,h,l,!e.closingBracket))return!1}t=n}}return h?.set(e.openingBracket.text,u),!0}case 3:{const e=(0,v.Qx)(t,n);return r(new L(e,o-1,0,!0))}case 1:{const e=(0,v.Qx)(t,n);return r(new L(e,o-1,a-1,c))}case 0:return!0}}class A{constructor(e,t,n){this.push=e,this.includeMinIndentation=t,this.textModel=n}}function z(e,t,n,i,s,r,o,a){if(o>200)return!0;let h=!0;if(2===e.kind){let l=0;if(a){let t=a.get(e.openingBracket.text);void 0===t&&(t=0),l=t,t++,a.set(e.openingBracket.text,t)}const c=(0,v.QB)(t,e.openingBracket.length);let u=-1;if(r.includeMinIndentation&&(u=e.computeMinIndentation(t,r.textModel)),h=r.push(new T((0,v.Qx)(t,n),(0,v.Qx)(t,c),e.closingBracket?(0,v.Qx)((0,v.QB)(c,e.child?.length||v.Vp),n):void 0,o,l,e,u)),t=c,h&&e.child){const l=e.child;if(n=(0,v.QB)(t,l.length),(0,v.vr)(t,s)&&(0,v.o0)(n,i)&&(h=z(l,t,n,i,s,r,o+1,a),!h))return!1}a?.set(e.openingBracket.text,l)}else{let n=t;for(const t of e.children){const e=n;if(n=(0,v.QB)(n,t.length),(0,v.vr)(e,s)&&(0,v.vr)(i,n)&&(h=z(t,e,n,i,s,r,o,a),!h))return!1}}return h}class P extends a.jG{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new a.HE),this.onDidChangeEmitter=new o.vl,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1}handleLanguageConfigurationServiceChange(e){e.languageId&&!this.bracketPairsTree.value?.object.didLanguageChange(e.languageId)||(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){this.bracketPairsTree.value?.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){this.bracketPairsTree.value?.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){this.bracketPairsTree.value?.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const n=new a.Cm;this.bracketPairsTree.value=(e=n.add(new B(this.textModel,(e=>this.languageConfigurationService.getLanguageConfiguration(e)))),t=n,{object:e,dispose:()=>t?.dispose()}),n.add(this.bracketPairsTree.value.object.onDidChange((e=>this.onDidChangeEmitter.fire(e)))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire());var e,t}getBracketPairsInRange(e){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketPairsInRange(e,!1)||i.c1.empty}getBracketPairsInRangeWithMinIndentation(e){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketPairsInRange(e,!0)||i.c1.empty}getBracketsInRange(e,t=!1){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketsInRange(e,t)||i.c1.empty}findMatchingBracketUp(e,t,n){const i=this.textModel.validatePosition(t),s=this.textModel.getLanguageIdAtPosition(i.lineNumber,i.column);if(this.canBuildAST){const n=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew.getClosingBracketInfo(e);if(!n)return null;const i=this.getBracketPairsInRange(g.Q.fromPositions(t,t)).findLast((e=>n.closes(e.openingBracketInfo)));return i?i.openingBracketRange:null}{const t=e.toLowerCase(),r=this.languageConfigurationService.getLanguageConfiguration(s).brackets;if(!r)return null;const o=r.textIsBracket[t];return o?V(this._findMatchingBracketUp(o,i,y(n))):null}}matchBracket(e,t){if(this.canBuildAST){const t=this.getBracketPairsInRange(g.Q.fromPositions(e,e)).filter((t=>void 0!==t.closingBracketRange&&(t.openingBracketRange.containsPosition(e)||t.closingBracketRange.containsPosition(e)))).findLastMaxBy((0,i.VE)((t=>t.openingBracketRange.containsPosition(e)?t.openingBracketRange:t.closingBracketRange),g.Q.compareRangesUsingStarts));return t?[t.openingBracketRange,t.closingBracketRange]:null}{const n=y(t);return this._matchBracket(this.textModel.validatePosition(e),n)}}_establishBracketSearchOffsets(e,t,n,i){const s=t.getCount(),r=t.getLanguageId(i);let o=Math.max(0,e.column-1-n.maxBracketLength);for(let e=i-1;e>=0;e--){const n=t.getEndOffset(e);if(n<=o)break;if((0,k.Yo)(t.getStandardTokenType(e))||t.getLanguageId(e)!==r){o=n;break}}let a=Math.min(t.getLineContent().length,e.column-1+n.maxBracketLength);for(let e=i+1;e<s;e++){const n=t.getStartOffset(e);if(n>=a)break;if((0,k.Yo)(t.getStandardTokenType(e))||t.getLanguageId(e)!==r){a=n;break}}return{searchStartOffset:o,searchEndOffset:a}}_matchBracket(e,t){const n=e.lineNumber,i=this.textModel.tokenization.getLineTokens(n),s=this.textModel.getLineContent(n),r=i.findTokenIndexAtOffset(e.column-1);if(r<0)return null;const o=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId(r)).brackets;if(o&&!(0,k.Yo)(i.getStandardTokenType(r))){let{searchStartOffset:a,searchEndOffset:h}=this._establishBracketSearchOffsets(e,i,o,r),l=null;for(;;){const i=b.Fu.findNextBracketInRange(o.forwardRegex,n,s,a,h);if(!i)break;if(i.startColumn<=e.column&&e.column<=i.endColumn){const e=s.substring(i.startColumn-1,i.endColumn-1).toLowerCase(),n=this._matchFoundBracket(i,o.textIsBracket[e],o.textIsOpenBracket[e],t);if(n){if(n instanceof F)return null;l=n}}a=i.endColumn-1}if(l)return l}if(r>0&&i.getStartOffset(r)===e.column-1){const o=r-1,a=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId(o)).brackets;if(a&&!(0,k.Yo)(i.getStandardTokenType(o))){const{searchStartOffset:r,searchEndOffset:h}=this._establishBracketSearchOffsets(e,i,a,o),l=b.Fu.findPrevBracketInRange(a.reversedRegex,n,s,r,h);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn){const e=s.substring(l.startColumn-1,l.endColumn-1).toLowerCase(),n=this._matchFoundBracket(l,a.textIsBracket[e],a.textIsOpenBracket[e],t);if(n)return n instanceof F?null:n}}}return null}_matchFoundBracket(e,t,n,i){if(!t)return null;const s=n?this._findMatchingBracketDown(t,e.getEndPosition(),i):this._findMatchingBracketUp(t,e.getStartPosition(),i);return s?s instanceof F?s:[e,s]:null}_findMatchingBracketUp(e,t,n){const i=e.languageId,s=e.reversedRegex;let r=-1,o=0;const a=(t,i,a,h)=>{for(;;){if(n&&++o%100==0&&!n())return F.INSTANCE;const l=b.Fu.findPrevBracketInRange(s,t,i,a,h);if(!l)break;const c=i.substring(l.startColumn-1,l.endColumn-1).toLowerCase();if(e.isOpen(c)?r++:e.isClose(c)&&r--,0===r)return l;h=l.startColumn-1}return null};for(let e=t.lineNumber;e>=1;e--){const n=this.textModel.tokenization.getLineTokens(e),s=n.getCount(),r=this.textModel.getLineContent(e);let o=s-1,h=r.length,l=r.length;e===t.lineNumber&&(o=n.findTokenIndexAtOffset(t.column-1),h=t.column-1,l=t.column-1);let c=!0;for(;o>=0;o--){const t=n.getLanguageId(o)===i&&!(0,k.Yo)(n.getStandardTokenType(o));if(t)c?h=n.getStartOffset(o):(h=n.getStartOffset(o),l=n.getEndOffset(o));else if(c&&h!==l){const t=a(e,r,h,l);if(t)return t}c=t}if(c&&h!==l){const t=a(e,r,h,l);if(t)return t}}return null}_findMatchingBracketDown(e,t,n){const i=e.languageId,s=e.forwardRegex;let r=1,o=0;const a=(t,i,a,h)=>{for(;;){if(n&&++o%100==0&&!n())return F.INSTANCE;const l=b.Fu.findNextBracketInRange(s,t,i,a,h);if(!l)break;const c=i.substring(l.startColumn-1,l.endColumn-1).toLowerCase();if(e.isOpen(c)?r++:e.isClose(c)&&r--,0===r)return l;a=l.endColumn-1}return null},h=this.textModel.getLineCount();for(let e=t.lineNumber;e<=h;e++){const n=this.textModel.tokenization.getLineTokens(e),s=n.getCount(),r=this.textModel.getLineContent(e);let o=0,h=0,l=0;e===t.lineNumber&&(o=n.findTokenIndexAtOffset(t.column-1),h=t.column-1,l=t.column-1);let c=!0;for(;o<s;o++){const t=n.getLanguageId(o)===i&&!(0,k.Yo)(n.getStandardTokenType(o));if(t)c||(h=n.getStartOffset(o)),l=n.getEndOffset(o);else if(c&&h!==l){const t=a(e,r,h,l);if(t)return t}c=t}if(c&&h!==l){const t=a(e,r,h,l);if(t)return t}}return null}findPrevBracket(e){const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getFirstBracketBefore(t)||null;let n=null,i=null,s=null;for(let e=t.lineNumber;e>=1;e--){const r=this.textModel.tokenization.getLineTokens(e),o=r.getCount(),a=this.textModel.getLineContent(e);let h=o-1,l=a.length,c=a.length;if(e===t.lineNumber){h=r.findTokenIndexAtOffset(t.column-1),l=t.column-1,c=t.column-1;const e=r.getLanguageId(h);n!==e&&(n=e,i=this.languageConfigurationService.getLanguageConfiguration(n).brackets,s=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew)}let u=!0;for(;h>=0;h--){const t=r.getLanguageId(h);if(n!==t){if(i&&s&&u&&l!==c){const t=b.Fu.findPrevBracketInRange(i.reversedRegex,e,a,l,c);if(t)return this._toFoundBracket(s,t);u=!1}n=t,i=this.languageConfigurationService.getLanguageConfiguration(n).brackets,s=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew}const o=!!i&&!(0,k.Yo)(r.getStandardTokenType(h));if(o)u?l=r.getStartOffset(h):(l=r.getStartOffset(h),c=r.getEndOffset(h));else if(s&&i&&u&&l!==c){const t=b.Fu.findPrevBracketInRange(i.reversedRegex,e,a,l,c);if(t)return this._toFoundBracket(s,t)}u=o}if(s&&i&&u&&l!==c){const t=b.Fu.findPrevBracketInRange(i.reversedRegex,e,a,l,c);if(t)return this._toFoundBracket(s,t)}}return null}findNextBracket(e){const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getFirstBracketAfter(t)||null;const n=this.textModel.getLineCount();let i=null,s=null,r=null;for(let e=t.lineNumber;e<=n;e++){const n=this.textModel.tokenization.getLineTokens(e),o=n.getCount(),a=this.textModel.getLineContent(e);let h=0,l=0,c=0;if(e===t.lineNumber){h=n.findTokenIndexAtOffset(t.column-1),l=t.column-1,c=t.column-1;const e=n.getLanguageId(h);i!==e&&(i=e,s=this.languageConfigurationService.getLanguageConfiguration(i).brackets,r=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew)}let u=!0;for(;h<o;h++){const t=n.getLanguageId(h);if(i!==t){if(r&&s&&u&&l!==c){const t=b.Fu.findNextBracketInRange(s.forwardRegex,e,a,l,c);if(t)return this._toFoundBracket(r,t);u=!1}i=t,s=this.languageConfigurationService.getLanguageConfiguration(i).brackets,r=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew}const o=!!s&&!(0,k.Yo)(n.getStandardTokenType(h));if(o)u||(l=n.getStartOffset(h)),c=n.getEndOffset(h);else if(r&&s&&u&&l!==c){const t=b.Fu.findNextBracketInRange(s.forwardRegex,e,a,l,c);if(t)return this._toFoundBracket(r,t)}u=o}if(r&&s&&u&&l!==c){const t=b.Fu.findNextBracketInRange(s.forwardRegex,e,a,l,c);if(t)return this._toFoundBracket(r,t)}}return null}findEnclosingBrackets(e,t){const n=this.textModel.validatePosition(e);if(this.canBuildAST){const e=g.Q.fromPositions(n),t=this.getBracketPairsInRange(g.Q.fromPositions(n,n)).findLast((t=>void 0!==t.closingBracketRange&&t.range.strictContainsRange(e)));return t?[t.openingBracketRange,t.closingBracketRange]:null}const i=y(t),s=this.textModel.getLineCount(),r=new Map;let o=[];const a=(e,t)=>{if(!r.has(e)){const n=[];for(let e=0,i=t?t.brackets.length:0;e<i;e++)n[e]=0;r.set(e,n)}o=r.get(e)};let h=0;const l=(e,t,n,s,r)=>{for(;;){if(i&&++h%100==0&&!i())return F.INSTANCE;const a=b.Fu.findNextBracketInRange(e.forwardRegex,t,n,s,r);if(!a)break;const l=n.substring(a.startColumn-1,a.endColumn-1).toLowerCase(),c=e.textIsBracket[l];if(c&&(c.isOpen(l)?o[c.index]++:c.isClose(l)&&o[c.index]--,-1===o[c.index]))return this._matchFoundBracket(a,c,!1,i);s=a.endColumn-1}return null};let c=null,u=null;for(let e=n.lineNumber;e<=s;e++){const t=this.textModel.tokenization.getLineTokens(e),i=t.getCount(),s=this.textModel.getLineContent(e);let r=0,o=0,h=0;if(e===n.lineNumber){r=t.findTokenIndexAtOffset(n.column-1),o=n.column-1,h=n.column-1;const e=t.getLanguageId(r);c!==e&&(c=e,u=this.languageConfigurationService.getLanguageConfiguration(c).brackets,a(c,u))}let d=!0;for(;r<i;r++){const n=t.getLanguageId(r);if(c!==n){if(u&&d&&o!==h){const t=l(u,e,s,o,h);if(t)return V(t);d=!1}c=n,u=this.languageConfigurationService.getLanguageConfiguration(c).brackets,a(c,u)}const i=!!u&&!(0,k.Yo)(t.getStandardTokenType(r));if(i)d||(o=t.getStartOffset(r)),h=t.getEndOffset(r);else if(u&&d&&o!==h){const t=l(u,e,s,o,h);if(t)return V(t)}d=i}if(u&&d&&o!==h){const t=l(u,e,s,o,h);if(t)return V(t)}}return null}_toFoundBracket(e,t){if(!t)return null;let n=this.textModel.getValueInRange(t);n=n.toLowerCase();const i=e.getBracketInfo(n);return i?{range:t,bracketInfo:i}:null}}function y(e){if(void 0===e)return()=>!0;{const t=Date.now();return()=>Date.now()-t<=e}}class F{static{this.INSTANCE=new F}constructor(){this._searchCanceledBrand=void 0}}function V(e){return e instanceof F?null:e}var W=n(8295),U=n(9044);class j extends a.jG{constructor(e){super(),this.textModel=e,this.colorProvider=new H,this.onDidChangeEmitter=new o.vl,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange((e=>{this.onDidChangeEmitter.fire()})))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,n,i){return i||void 0===t?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(e,!0).map((e=>({id:`bracket${e.range.toString()}-${e.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(e,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:e.range}))).toArray():[]}getAllDecorations(e,t){return void 0===e?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new g.Q(1,1,this.textModel.getLineCount(),1),e,t):[]}}class H{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return"bracket-highlighting-"+e%30}}(0,U.zy)(((e,t)=>{const n=[W.sN,W.lQ,W.ss,W.l5,W.sH,W.zp],i=new H;t.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${e.getColor(W.s7)}; }`);const s=n.map((t=>e.getColor(t))).filter((e=>!!e)).filter((e=>!e.isTransparent()));for(let e=0;e<30;e++){const n=s[e%s.length];t.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(e)} { color: ${n}; }`)}}));var Q=n(4296),q=n(2818);class G{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function $(e,t,n,i,s){let r;for(s.spacesDiff=0,s.looksLikeAlignment=!1,r=0;r<t&&r<i&&e.charCodeAt(r)===n.charCodeAt(r);r++);let o=0,a=0;for(let n=r;n<t;n++)32===e.charCodeAt(n)?o++:a++;let h=0,l=0;for(let e=r;e<i;e++)32===n.charCodeAt(e)?h++:l++;if(o>0&&a>0)return;if(h>0&&l>0)return;const c=Math.abs(a-l),u=Math.abs(o-h);if(0===c)return s.spacesDiff=u,void(u>0&&0<=h-1&&h-1<e.length&&h<n.length&&32!==n.charCodeAt(h)&&32===e.charCodeAt(h-1)&&44===e.charCodeAt(e.length-1)&&(s.looksLikeAlignment=!0));u%c!=0||(s.spacesDiff=u/c)}function X(e,t,n){const i=Math.min(e.getLineCount(),1e4);let s=0,r=0,o="",a=0;const h=[2,4,6,8,3,5,7],l=[0,0,0,0,0,0,0,0,0],c=new G;for(let h=1;h<=i;h++){const i=e.getLineLength(h),u=e.getLineContent(h),d=i<=65536;let g=!1,f=0,_=0,p=0;for(let t=0,n=i;t<n;t++){const n=d?u.charCodeAt(t):e.getLineCharCode(h,t);if(9===n)p++;else{if(32!==n){g=!0,f=t;break}_++}}if(!g)continue;if(p>0?s++:_>1&&r++,$(o,a,u,f,c),c.looksLikeAlignment&&(!n||t!==c.spacesDiff))continue;const m=c.spacesDiff;m<=8&&l[m]++,o=u,a=f}let u=n;s!==r&&(u=s<r);let d=t;if(u){let e=u?0:.1*i;h.forEach((t=>{const n=l[t];n>e&&(e=n,d=t)})),4===d&&l[4]>0&&l[2]>0&&l[2]>=l[4]/2&&(d=2)}return{insertSpaces:u,tabSize:d}}function K(e){return(1&e.metadata)>>>0}function Y(e,t){e.metadata=254&e.metadata|t}function Z(e){return(2&e.metadata)>>>1==1}function J(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function ee(e){return(4&e.metadata)>>>2==1}function te(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function ne(e){return(64&e.metadata)>>>6==1}function ie(e,t){e.metadata=191&e.metadata|(t?1:0)<<6}function se(e,t){e.metadata=231&e.metadata|t<<3}function re(e,t){e.metadata=223&e.metadata|(t?1:0)<<5}class oe{constructor(e,t,n){this.metadata=0,this.parent=this,this.left=this,this.right=this,Y(this,1),this.start=t,this.end=n,this.delta=0,this.maxEnd=n,this.id=e,this.ownerId=0,this.options=null,te(this,!1),ie(this,!1),se(this,1),re(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=null,J(this,!1)}reset(e,t,n,i){this.start=t,this.end=n,this.maxEnd=n,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=i}setOptions(e){this.options=e;const t=this.options.className;te(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),ie(this,null!==this.options.glyphMarginClassName),se(this,this.options.stickiness),re(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,n){this.cachedVersionId!==n&&(this.range=null),this.cachedVersionId=n,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const ae=new oe(null,0,0);ae.parent=ae,ae.left=ae,ae.right=ae,Y(ae,0);class he{constructor(){this.root=ae,this.requestNormalizeDelta=!1}intervalSearch(e,t,n,i,s,r){return this.root===ae?[]:function(e,t,n,i,s,r,o){let a=e.root,h=0,l=0,c=0,u=0;const d=[];let g=0;for(;a!==ae;)if(Z(a))J(a.left,!1),J(a.right,!1),a===a.parent.right&&(h-=a.parent.delta),a=a.parent;else{if(!Z(a.left)){if(l=h+a.maxEnd,l<t){J(a,!0);continue}if(a.left!==ae){a=a.left;continue}}if(c=h+a.start,c>n)J(a,!0);else{if(u=h+a.end,u>=t){a.setCachedOffsets(c,u,r);let e=!0;i&&a.ownerId&&a.ownerId!==i&&(e=!1),s&&ee(a)&&(e=!1),o&&!ne(a)&&(e=!1),e&&(d[g++]=a)}J(a,!0),a.right===ae||Z(a.right)||(h+=a.delta,a=a.right)}}return J(e.root,!1),d}(this,e,t,n,i,s,r)}search(e,t,n,i){return this.root===ae?[]:function(e,t,n,i,s){let r=e.root,o=0,a=0,h=0;const l=[];let c=0;for(;r!==ae;){if(Z(r)){J(r.left,!1),J(r.right,!1),r===r.parent.right&&(o-=r.parent.delta),r=r.parent;continue}if(r.left!==ae&&!Z(r.left)){r=r.left;continue}a=o+r.start,h=o+r.end,r.setCachedOffsets(a,h,i);let e=!0;t&&r.ownerId&&r.ownerId!==t&&(e=!1),n&&ee(r)&&(e=!1),s&&!ne(r)&&(e=!1),e&&(l[c++]=r),J(r,!0),r.right===ae||Z(r.right)||(o+=r.delta,r=r.right)}return J(e.root,!1),l}(this,e,t,n,i)}collectNodesFromOwner(e){return function(e,t){let n=e.root;const i=[];let s=0;for(;n!==ae;)Z(n)?(J(n.left,!1),J(n.right,!1),n=n.parent):n.left===ae||Z(n.left)?(n.ownerId===t&&(i[s++]=n),J(n,!0),n.right===ae||Z(n.right)||(n=n.right)):n=n.left;return J(e.root,!1),i}(this,e)}collectNodesPostOrder(){return function(e){let t=e.root;const n=[];let i=0;for(;t!==ae;)Z(t)?(J(t.left,!1),J(t.right,!1),t=t.parent):t.left===ae||Z(t.left)?t.right===ae||Z(t.right)?(n[i++]=t,J(t,!0)):t=t.right:t=t.left;return J(e.root,!1),n}(this)}insert(e){ue(this,e),this._normalizeDeltaIfNecessary()}delete(e){de(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const n=e;let i=0;for(;e!==this.root;)e===e.parent.right&&(i+=e.parent.delta),e=e.parent;const s=n.start+i,r=n.end+i;n.setCachedOffsets(s,r,t)}acceptReplace(e,t,n,i){const s=function(e,t,n){let i=e.root,s=0,r=0,o=0,a=0;const h=[];let l=0;for(;i!==ae;)if(Z(i))J(i.left,!1),J(i.right,!1),i===i.parent.right&&(s-=i.parent.delta),i=i.parent;else{if(!Z(i.left)){if(r=s+i.maxEnd,r<t){J(i,!0);continue}if(i.left!==ae){i=i.left;continue}}o=s+i.start,o>n?J(i,!0):(a=s+i.end,a>=t&&(i.setCachedOffsets(o,a,0),h[l++]=i),J(i,!0),i.right===ae||Z(i.right)||(s+=i.delta,i=i.right))}return J(e.root,!1),h}(this,e,e+t);for(let e=0,t=s.length;e<t;e++)de(this,s[e]);this._normalizeDeltaIfNecessary(),function(e,t,n,i){let s=e.root,r=0,o=0,a=0;const h=i-(n-t);for(;s!==ae;)if(Z(s))J(s.left,!1),J(s.right,!1),s===s.parent.right&&(r-=s.parent.delta),me(s),s=s.parent;else{if(!Z(s.left)){if(o=r+s.maxEnd,o<t){J(s,!0);continue}if(s.left!==ae){s=s.left;continue}}a=r+s.start,a>n?(s.start+=h,s.end+=h,s.delta+=h,(s.delta<-1073741824||s.delta>1073741824)&&(e.requestNormalizeDelta=!0),J(s,!0)):(J(s,!0),s.right===ae||Z(s.right)||(r+=s.delta,s=s.right))}J(e.root,!1)}(this,e,e+t,n),this._normalizeDeltaIfNecessary();for(let r=0,o=s.length;r<o;r++){const o=s[r];o.start=o.cachedAbsoluteStart,o.end=o.cachedAbsoluteEnd,ce(o,e,e+t,n,i),o.maxEnd=o.end,ue(this,o)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(e){let t=e.root,n=0;for(;t!==ae;)t.left===ae||Z(t.left)?t.right===ae||Z(t.right)?(t.start=n+t.start,t.end=n+t.end,t.delta=0,me(t),J(t,!0),J(t.left,!1),J(t.right,!1),t===t.parent.right&&(n-=t.parent.delta),t=t.parent):(n+=t.delta,t=t.right):t=t.left;J(e.root,!1)}(this))}}function le(e,t,n,i){return e<n||!(e>n)&&1!==i&&(2===i||t)}function ce(e,t,n,i,s){const r=function(e){return(24&e.metadata)>>>3}(e),o=0===r||2===r,a=1===r||2===r,h=n-t,l=i,c=Math.min(h,l),u=e.start;let d=!1;const g=e.end;let f=!1;t<=u&&g<=n&&function(e){return(32&e.metadata)>>>5==1}(e)&&(e.start=t,d=!0,e.end=t,f=!0);{const e=s?1:h>0?2:0;!d&&le(u,o,t,e)&&(d=!0),!f&&le(g,a,t,e)&&(f=!0)}if(c>0&&!s){const e=h>l?2:0;!d&&le(u,o,t+c,e)&&(d=!0),!f&&le(g,a,t+c,e)&&(f=!0)}{const i=s?1:0;!d&&le(u,o,n,i)&&(e.start=t+l,d=!0),!f&&le(g,a,n,i)&&(e.end=t+l,f=!0)}const _=l-h;d||(e.start=Math.max(0,u+_)),f||(e.end=Math.max(0,g+_)),e.start>e.end&&(e.end=e.start)}function ue(e,t){if(e.root===ae)return t.parent=ae,t.left=ae,t.right=ae,Y(t,0),e.root=t,e.root;!function(e,t){let n=0,i=e.root;const s=t.start,r=t.end;for(;;)if(o=s,a=r,h=i.start+n,l=i.end+n,(o===h?a-l:o-h)<0){if(i.left===ae){t.start-=n,t.end-=n,t.maxEnd-=n,i.left=t;break}i=i.left}else{if(i.right===ae){t.start-=n+i.delta,t.end-=n+i.delta,t.maxEnd-=n+i.delta,i.right=t;break}n+=i.delta,i=i.right}var o,a,h,l;t.parent=i,t.left=ae,t.right=ae,Y(t,1)}(e,t),Ce(t.parent);let n=t;for(;n!==e.root&&1===K(n.parent);)if(n.parent===n.parent.parent.left){const t=n.parent.parent.right;1===K(t)?(Y(n.parent,0),Y(t,0),Y(n.parent.parent,1),n=n.parent.parent):(n===n.parent.right&&(n=n.parent,fe(e,n)),Y(n.parent,0),Y(n.parent.parent,1),_e(e,n.parent.parent))}else{const t=n.parent.parent.left;1===K(t)?(Y(n.parent,0),Y(t,0),Y(n.parent.parent,1),n=n.parent.parent):(n===n.parent.left&&(n=n.parent,_e(e,n)),Y(n.parent,0),Y(n.parent.parent,1),fe(e,n.parent.parent))}return Y(e.root,0),t}function de(e,t){let n,i;if(t.left===ae?(n=t.right,i=t,n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta):t.right===ae?(n=t.left,i=t):(i=function(e){for(;e.left!==ae;)e=e.left;return e}(t.right),n=i.right,n.start+=i.delta,n.end+=i.delta,n.delta+=i.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta,i.delta=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0)),i===e.root)return e.root=n,Y(n,0),t.detach(),ge(),me(n),void(e.root.parent=ae);const s=1===K(i);if(i===i.parent.left?i.parent.left=n:i.parent.right=n,i===t?n.parent=i.parent:(i.parent===t?n.parent=i:n.parent=i.parent,i.left=t.left,i.right=t.right,i.parent=t.parent,Y(i,K(t)),t===e.root?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left!==ae&&(i.left.parent=i),i.right!==ae&&(i.right.parent=i)),t.detach(),s)return Ce(n.parent),i!==t&&(Ce(i),Ce(i.parent)),void ge();let r;for(Ce(n),Ce(n.parent),i!==t&&(Ce(i),Ce(i.parent));n!==e.root&&0===K(n);)n===n.parent.left?(r=n.parent.right,1===K(r)&&(Y(r,0),Y(n.parent,1),fe(e,n.parent),r=n.parent.right),0===K(r.left)&&0===K(r.right)?(Y(r,1),n=n.parent):(0===K(r.right)&&(Y(r.left,0),Y(r,1),_e(e,r),r=n.parent.right),Y(r,K(n.parent)),Y(n.parent,0),Y(r.right,0),fe(e,n.parent),n=e.root)):(r=n.parent.left,1===K(r)&&(Y(r,0),Y(n.parent,1),_e(e,n.parent),r=n.parent.left),0===K(r.left)&&0===K(r.right)?(Y(r,1),n=n.parent):(0===K(r.left)&&(Y(r.right,0),Y(r,1),fe(e,r),r=n.parent.left),Y(r,K(n.parent)),Y(n.parent,0),Y(r.left,0),_e(e,n.parent),n=e.root));Y(n,0),ge()}function ge(){ae.parent=ae,ae.delta=0,ae.start=0,ae.end=0}function fe(e,t){const n=t.right;n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,t.right=n.left,n.left!==ae&&(n.left.parent=t),n.parent=t.parent,t.parent===ae?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n,me(t),me(n)}function _e(e,t){const n=t.left;t.delta-=n.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=n.delta,t.end-=n.delta,t.left=n.right,n.right!==ae&&(n.right.parent=t),n.parent=t.parent,t.parent===ae?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n,me(t),me(n)}function pe(e){let t=e.end;if(e.left!==ae){const n=e.left.maxEnd;n>t&&(t=n)}if(e.right!==ae){const n=e.right.maxEnd+e.delta;n>t&&(t=n)}return t}function me(e){e.maxEnd=pe(e)}function Ce(e){for(;e!==ae;){const t=pe(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}class ke{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==be)return Le(this.right);let e=this;for(;e.parent!==be&&e.parent.left!==e;)e=e.parent;return e.parent===be?be:e.parent}prev(){if(this.left!==be)return Ie(this.left);let e=this;for(;e.parent!==be&&e.parent.right!==e;)e=e.parent;return e.parent===be?be:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const be=new ke(null,0);function Le(e){for(;e.left!==be;)e=e.left;return e}function Ie(e){for(;e.right!==be;)e=e.right;return e}function Te(e){return e===be?0:e.size_left+e.piece.length+Te(e.right)}function xe(e){return e===be?0:e.lf_left+e.piece.lineFeedCnt+xe(e.right)}function Se(){be.parent=be}function ve(e,t){const n=t.right;n.size_left+=t.size_left+(t.piece?t.piece.length:0),n.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),t.right=n.left,n.left!==be&&(n.left.parent=t),n.parent=t.parent,t.parent===be?e.root=n:t.parent.left===t?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n}function we(e,t){const n=t.left;t.left=n.right,n.right!==be&&(n.right.parent=t),n.parent=t.parent,t.size_left-=n.size_left+(n.piece?n.piece.length:0),t.lf_left-=n.lf_left+(n.piece?n.piece.lineFeedCnt:0),t.parent===be?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n}function Ee(e,t){let n,i;if(t.left===be?(i=t,n=i.right):t.right===be?(i=t,n=i.left):(i=Le(t.right),n=i.right),i===e.root)return e.root=n,n.color=0,t.detach(),Se(),void(e.root.parent=be);const s=1===i.color;if(i===i.parent.left?i.parent.left=n:i.parent.right=n,i===t?(n.parent=i.parent,Be(e,n)):(i.parent===t?n.parent=i:n.parent=i.parent,Be(e,n),i.left=t.left,i.right=t.right,i.parent=t.parent,i.color=t.color,t===e.root?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left!==be&&(i.left.parent=i),i.right!==be&&(i.right.parent=i),i.size_left=t.size_left,i.lf_left=t.lf_left,Be(e,i)),t.detach(),n.parent.left===n){const t=Te(n),i=xe(n);if(t!==n.parent.size_left||i!==n.parent.lf_left){const s=t-n.parent.size_left,r=i-n.parent.lf_left;n.parent.size_left=t,n.parent.lf_left=i,Oe(e,n.parent,s,r)}}if(Be(e,n.parent),s)return void Se();let r;for(;n!==e.root&&0===n.color;)n===n.parent.left?(r=n.parent.right,1===r.color&&(r.color=0,n.parent.color=1,ve(e,n.parent),r=n.parent.right),0===r.left.color&&0===r.right.color?(r.color=1,n=n.parent):(0===r.right.color&&(r.left.color=0,r.color=1,we(e,r),r=n.parent.right),r.color=n.parent.color,n.parent.color=0,r.right.color=0,ve(e,n.parent),n=e.root)):(r=n.parent.left,1===r.color&&(r.color=0,n.parent.color=1,we(e,n.parent),r=n.parent.left),0===r.left.color&&0===r.right.color?(r.color=1,n=n.parent):(0===r.left.color&&(r.right.color=0,r.color=1,ve(e,r),r=n.parent.left),r.color=n.parent.color,n.parent.color=0,r.left.color=0,we(e,n.parent),n=e.root));n.color=0,Se()}function Ne(e,t){for(Be(e,t);t!==e.root&&1===t.parent.color;)if(t.parent===t.parent.parent.left){const n=t.parent.parent.right;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&ve(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,we(e,t.parent.parent))}else{const n=t.parent.parent.left;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&we(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,ve(e,t.parent.parent))}e.root.color=0}function Oe(e,t,n,i){for(;t!==e.root&&t!==be;)t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=i),t=t.parent}function Be(e,t){let n=0,i=0;if(t!==e.root){for(;t!==e.root&&t===t.parent.right;)t=t.parent;if(t!==e.root)for(n=Te((t=t.parent).left)-t.size_left,i=xe(t.left)-t.lf_left,t.size_left+=n,t.lf_left+=i;t!==e.root&&(0!==n||0!==i);)t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=i),t=t.parent}}be.parent=be,be.left=be,be.right=be,be.color=0;var Re=n(104);const Me=65535;function De(e){let t;return t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length),t.set(e,0),t}class Ae{constructor(e,t,n,i,s){this.lineStarts=e,this.cr=t,this.lf=n,this.crlf=i,this.isBasicASCII=s}}function ze(e,t=!0){const n=[0];let i=1;for(let t=0,s=e.length;t<s;t++){const r=e.charCodeAt(t);13===r?t+1<s&&10===e.charCodeAt(t+1)?(n[i++]=t+2,t++):n[i++]=t+1:10===r&&(n[i++]=t+1)}return t?De(n):n}class Pe{constructor(e,t,n,i,s){this.bufferIndex=e,this.start=t,this.end=n,this.lineFeedCnt=i,this.length=s}}class ye{constructor(e,t){this.buffer=e,this.lineStarts=t}}class Fe{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==be&&e.iterate(e.root,(e=>(e!==be&&this._pieces.push(e.piece),!0)))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class Ve{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const n=this._cache[t];if(n.nodeStartOffset<=e&&n.nodeStartOffset+n.node.piece.length>=e)return n}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const n=this._cache[t];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<e&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=e)return n}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1;const n=this._cache;for(let i=0;i<n.length;i++){const s=n[i];(null===s.node.parent||s.nodeStartOffset>=e)&&(n[i]=null,t=!0)}if(t){const e=[];for(const t of n)null!==t&&e.push(t);this._cache=e}}}class We{constructor(e,t,n){this.create(e,t,n)}create(e,t,n){this._buffers=[new ye("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=be,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=n;let i=null;for(let t=0,n=e.length;t<n;t++)if(e[t].buffer.length>0){e[t].lineStarts||(e[t].lineStarts=ze(e[t].buffer));const n=new Pe(t+1,{line:0,column:0},{line:e[t].lineStarts.length-1,column:e[t].buffer.length-e[t].lineStarts[e[t].lineStarts.length-1]},e[t].lineStarts.length-1,e[t].buffer.length);this._buffers.push(e[t]),i=this.rbInsertRight(i,n)}this._searchCache=new Ve(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){const t=65535-Math.floor(21845),n=2*t;let i="",s=0;const r=[];if(this.iterate(this.root,(o=>{const a=this.getNodeContent(o),h=a.length;if(s<=t||s+h<n)return i+=a,s+=h,!0;const l=i.replace(/\r\n|\r|\n/g,e);return r.push(new ye(l,ze(l))),i=a,s=h,!0})),s>0){const t=i.replace(/\r\n|\r|\n/g,e);r.push(new ye(t,ze(t)))}this.create(r,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new Fe(this,e)}getOffsetAt(e,t){let n=0,i=this.root;for(;i!==be;)if(i.left!==be&&i.lf_left+1>=e)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt+1>=e)return n+=i.size_left,n+(this.getAccumulatedValue(i,e-i.lf_left-2)+t-1);e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right}return n}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,n=0;const i=e;for(;t!==be;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){const s=this.getIndexOf(t,e-t.size_left);if(n+=t.lf_left+s.index,0===s.index){const e=i-this.getOffsetAt(n+1,1);return new d.y(n+1,e+1)}return new d.y(n+1,s.remainder+1)}if(e-=t.size_left+t.piece.length,n+=t.lf_left+t.piece.lineFeedCnt,t.right===be){const t=i-e-this.getOffsetAt(n+1,1);return new d.y(n+1,t+1)}t=t.right}return new d.y(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const n=this.nodeAt2(e.startLineNumber,e.startColumn),i=this.nodeAt2(e.endLineNumber,e.endColumn),s=this.getValueInRange2(n,i);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?s:s.replace(/\r\n|\r|\n/g,t):s}getValueInRange2(e,t){if(e.node===t.node){const n=e.node,i=this._buffers[n.piece.bufferIndex].buffer,s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return i.substring(s+e.remainder,s+t.remainder)}let n=e.node;const i=this._buffers[n.piece.bufferIndex].buffer,s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);let r=i.substring(s+e.remainder,s+n.piece.length);for(n=n.next();n!==be;){const e=this._buffers[n.piece.bufferIndex].buffer,i=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(n===t.node){r+=e.substring(i,i+t.remainder);break}r+=e.substr(i,n.piece.length),n=n.next()}return r}getLinesContent(){const e=[];let t=0,n="",i=!1;return this.iterate(this.root,(s=>{if(s===be)return!0;const r=s.piece;let o=r.length;if(0===o)return!0;const a=this._buffers[r.bufferIndex].buffer,h=this._buffers[r.bufferIndex].lineStarts,l=r.start.line,c=r.end.line;let u=h[l]+r.start.column;if(i&&(10===a.charCodeAt(u)&&(u++,o--),e[t++]=n,n="",i=!1,0===o))return!0;if(l===c)return this._EOLNormalized||13!==a.charCodeAt(u+o-1)?n+=a.substr(u,o):(i=!0,n+=a.substr(u,o-1)),!0;n+=this._EOLNormalized?a.substring(u,Math.max(u,h[l+1]-this._EOLLength)):a.substring(u,h[l+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=n;for(let i=l+1;i<c;i++)n=this._EOLNormalized?a.substring(h[i],h[i+1]-this._EOLLength):a.substring(h[i],h[i+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=n;return this._EOLNormalized||13!==a.charCodeAt(h[c]+r.end.column-1)?n=a.substr(h[c],r.end.column):(i=!0,0===r.end.column?t--:n=a.substr(h[c],r.end.column-1)),!0})),i&&(e[t++]=n,n=""),e[t++]=n,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e||(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t)return 0;const n=this._buffers[t.piece.bufferIndex],i=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return n.buffer.charCodeAt(i)}{const t=this._buffers[e.node.piece.bufferIndex],n=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(n)}}getLineCharCode(e,t){const n=this.nodeAt2(e,t+1);return this._getCharCode(n)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,n,i,s,r,o,a,h,l,c){const u=this._buffers[e.piece.bufferIndex],d=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),f=this.offsetInBuffer(e.piece.bufferIndex,s),_=this.offsetInBuffer(e.piece.bufferIndex,r);let p;const m={line:0,column:0};let C,k;t._wordSeparators?(C=u.buffer.substring(f,_),k=e=>e+f,t.reset(0)):(C=u.buffer,k=e=>e,t.reset(f));do{if(p=t.next(C),p){if(k(p.index)>=_)return l;this.positionInBuffer(e,k(p.index)-d,m);const t=this.getLineFeedCnt(e.piece.bufferIndex,s,m),r=m.line===s.line?m.column-s.column+i:m.column+1,o=r+p[0].length;if(c[l++]=(0,Re.dr)(new g.Q(n+t,r,n+t,o),p,a),k(p.index)+p[0].length>=_)return l;if(l>=h)return l}}while(p);return l}findMatchesLineByLine(e,t,n,i){const s=[];let r=0;const o=new Re.W5(t.wordSeparators,t.regex);let a=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===a)return[];const h=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===h)return[];let l=this.positionInBuffer(a.node,a.remainder);const c=this.positionInBuffer(h.node,h.remainder);if(a.node===h.node)return this.findMatchesInNode(a.node,o,e.startLineNumber,e.startColumn,l,c,t,n,i,r,s),s;let u=e.startLineNumber,d=a.node;for(;d!==h.node;){const h=this.getLineFeedCnt(d.piece.bufferIndex,l,d.piece.end);if(h>=1){const a=this._buffers[d.piece.bufferIndex].lineStarts,c=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start),g=a[l.line+h],f=u===e.startLineNumber?e.startColumn:1;if(r=this.findMatchesInNode(d,o,u,f,l,this.positionInBuffer(d,g-c),t,n,i,r,s),r>=i)return s;u+=h}const c=u===e.startLineNumber?e.startColumn-1:0;if(u===e.endLineNumber){const a=this.getLineContent(u).substring(c,e.endColumn-1);return r=this._findMatchesInLine(t,o,a,e.endLineNumber,c,r,s,n,i),s}if(r=this._findMatchesInLine(t,o,this.getLineContent(u).substr(c),u,c,r,s,n,i),r>=i)return s;u++,a=this.nodeAt2(u,1),d=a.node,l=this.positionInBuffer(a.node,a.remainder)}if(u===e.endLineNumber){const a=u===e.startLineNumber?e.startColumn-1:0,h=this.getLineContent(u).substring(a,e.endColumn-1);return r=this._findMatchesInLine(t,o,h,e.endLineNumber,a,r,s,n,i),s}const g=u===e.startLineNumber?e.startColumn:1;return r=this.findMatchesInNode(h.node,o,u,g,l,c,t,n,i,r,s),s}_findMatchesInLine(e,t,n,i,s,r,o,a,h){const l=e.wordSeparators;if(!a&&e.simpleSearch){const t=e.simpleSearch,a=t.length,c=n.length;let u=-a;for(;-1!==(u=n.indexOf(t,u+a));)if((!l||(0,Re.wC)(l,n,c,u,a))&&(o[r++]=new C.Dg(new g.Q(i,u+1+s,i,u+1+a+s),null),r>=h))return r;return r}let c;t.reset(0);do{if(c=t.next(n),c&&(o[r++]=(0,Re.dr)(new g.Q(i,c.index+1+s,i,c.index+1+c[0].length+s),c,a),r>=h))return r}while(c);return r}insert(e,t,n=!1){if(this._EOLNormalized=this._EOLNormalized&&n,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==be){const{node:n,remainder:i,nodeStartOffset:s}=this.nodeAt(e),r=n.piece,o=r.bufferIndex,a=this.positionInBuffer(n,i);if(0===n.piece.bufferIndex&&r.end.line===this._lastChangeBufferPos.line&&r.end.column===this._lastChangeBufferPos.column&&s+r.length===e&&t.length<Me)return this.appendToNode(n,t),void this.computeBufferMetadata();if(s===e)this.insertContentToNodeLeft(t,n),this._searchCache.validate(e);else if(s+n.piece.length>e){const e=[];let s=new Pe(r.bufferIndex,a,r.end,this.getLineFeedCnt(r.bufferIndex,a,r.end),this.offsetInBuffer(o,r.end)-this.offsetInBuffer(o,a));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&10===this.nodeCharCodeAt(n,i)){const e={line:s.start.line+1,column:0};s=new Pe(s.bufferIndex,e,s.end,this.getLineFeedCnt(s.bufferIndex,e,s.end),s.length-1),t+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(13===this.nodeCharCodeAt(n,i-1)){const s=this.positionInBuffer(n,i-1);this.deleteNodeTail(n,s),t="\r"+t,0===n.piece.length&&e.push(n)}else this.deleteNodeTail(n,a);else this.deleteNodeTail(n,a);const h=this.createNewPieces(t);s.length>0&&this.rbInsertRight(n,s);let l=n;for(let e=0;e<h.length;e++)l=this.rbInsertRight(l,h[e]);this.deleteNodes(e)}else this.insertContentToNodeRight(t,n)}else{const e=this.createNewPieces(t);let n=this.rbInsertLeft(null,e[0]);for(let t=1;t<e.length;t++)n=this.rbInsertRight(n,e[t])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===be)return;const n=this.nodeAt(e),i=this.nodeAt(e+t),s=n.node,r=i.node;if(s===r){const r=this.positionInBuffer(s,n.remainder),o=this.positionInBuffer(s,i.remainder);if(n.nodeStartOffset===e){if(t===s.piece.length){const e=s.next();return Ee(this,s),this.validateCRLFWithPrevNode(e),void this.computeBufferMetadata()}return this.deleteNodeHead(s,o),this._searchCache.validate(e),this.validateCRLFWithPrevNode(s),void this.computeBufferMetadata()}return n.nodeStartOffset+s.piece.length===e+t?(this.deleteNodeTail(s,r),this.validateCRLFWithNextNode(s),void this.computeBufferMetadata()):(this.shrinkNode(s,r,o),void this.computeBufferMetadata())}const o=[],a=this.positionInBuffer(s,n.remainder);this.deleteNodeTail(s,a),this._searchCache.validate(e),0===s.piece.length&&o.push(s);const h=this.positionInBuffer(r,i.remainder);this.deleteNodeHead(r,h),0===r.piece.length&&o.push(r);for(let e=s.next();e!==be&&e!==r;e=e.next())o.push(e);const l=0===s.piece.length?s.prev():s;this.deleteNodes(o),this.validateCRLFWithNextNode(l),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const n=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const i=t.piece,s={line:i.start.line+1,column:0},r=new Pe(i.bufferIndex,s,i.end,this.getLineFeedCnt(i.bufferIndex,s,i.end),i.length-1);t.piece=r,e+="\n",Oe(this,t,-1,-1),0===t.piece.length&&n.push(t)}const i=this.createNewPieces(e);let s=this.rbInsertLeft(t,i[i.length-1]);for(let e=i.length-2;e>=0;e--)s=this.rbInsertLeft(s,i[e]);this.validateCRLFWithPrevNode(s),this.deleteNodes(n)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");const n=this.createNewPieces(e),i=this.rbInsertRight(t,n[0]);let s=i;for(let e=1;e<n.length;e++)s=this.rbInsertRight(s,n[e]);this.validateCRLFWithPrevNode(i)}positionInBuffer(e,t,n){const i=e.piece,s=e.piece.bufferIndex,r=this._buffers[s].lineStarts,o=r[i.start.line]+i.start.column+t;let a=i.start.line,h=i.end.line,l=0,c=0,u=0;for(;a<=h&&(l=a+(h-a)/2|0,u=r[l],l!==h);)if(c=r[l+1],o<u)h=l-1;else{if(!(o>=c))break;a=l+1}return n?(n.line=l,n.column=o-u,null):{line:l,column:o-u}}getLineFeedCnt(e,t,n){if(0===n.column)return n.line-t.line;const i=this._buffers[e].lineStarts;if(n.line===i.length-1)return n.line-t.line;const s=i[n.line+1],r=i[n.line]+n.column;if(s>r+1)return n.line-t.line;const o=r-1;return 13===this._buffers[e].buffer.charCodeAt(o)?n.line-t.line+1:n.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)Ee(this,e[t])}createNewPieces(e){if(e.length>Me){const t=[];for(;e.length>Me;){const n=e.charCodeAt(65534);let i;13===n||n>=55296&&n<=56319?(i=e.substring(0,65534),e=e.substring(65534)):(i=e.substring(0,Me),e=e.substring(Me));const s=ze(i);t.push(new Pe(this._buffers.length,{line:0,column:0},{line:s.length-1,column:i.length-s[s.length-1]},s.length-1,i.length)),this._buffers.push(new ye(i,s))}const n=ze(e);return t.push(new Pe(this._buffers.length,{line:0,column:0},{line:n.length-1,column:e.length-n[n.length-1]},n.length-1,e.length)),this._buffers.push(new ye(e,n)),t}let t=this._buffers[0].buffer.length;const n=ze(e,!1);let i=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&0!==t&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},i=this._lastChangeBufferPos;for(let e=0;e<n.length;e++)n[e]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(0!==t)for(let e=0;e<n.length;e++)n[e]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+=e}const s=this._buffers[0].buffer.length,r=this._buffers[0].lineStarts.length-1,o={line:r,column:s-this._buffers[0].lineStarts[r]},a=new Pe(0,i,o,this.getLineFeedCnt(0,i,o),s-t);return this._lastChangeBufferPos=o,[a]}getLineRawContent(e,t=0){let n=this.root,i="";const s=this._searchCache.get2(e);if(s){n=s.node;const r=this.getAccumulatedValue(n,e-s.nodeStartLineNumber-1),o=this._buffers[n.piece.bufferIndex].buffer,a=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(s.nodeStartLineNumber+n.piece.lineFeedCnt!==e){const i=this.getAccumulatedValue(n,e-s.nodeStartLineNumber);return o.substring(a+r,a+i-t)}i=o.substring(a+r,a+n.piece.length)}else{let s=0;const r=e;for(;n!==be;)if(n.left!==be&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){const i=this.getAccumulatedValue(n,e-n.lf_left-2),o=this.getAccumulatedValue(n,e-n.lf_left-1),a=this._buffers[n.piece.bufferIndex].buffer,h=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return s+=n.size_left,this._searchCache.set({node:n,nodeStartOffset:s,nodeStartLineNumber:r-(e-1-n.lf_left)}),a.substring(h+i,h+o-t)}if(n.lf_left+n.piece.lineFeedCnt===e-1){const t=this.getAccumulatedValue(n,e-n.lf_left-2),s=this._buffers[n.piece.bufferIndex].buffer,r=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);i=s.substring(r+t,r+n.piece.length);break}e-=n.lf_left+n.piece.lineFeedCnt,s+=n.size_left+n.piece.length,n=n.right}}for(n=n.next();n!==be;){const e=this._buffers[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){const s=this.getAccumulatedValue(n,0),r=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return i+=e.substring(r,r+s-t),i}{const t=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);i+=e.substr(t,n.piece.length)}n=n.next()}return i}computeBufferMetadata(){let e=this.root,t=1,n=0;for(;e!==be;)t+=e.lf_left+e.piece.lineFeedCnt,n+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=n,this._searchCache.validate(this._length)}getIndexOf(e,t){const n=e.piece,i=this.positionInBuffer(e,t),s=i.line-n.start.line;if(this.offsetInBuffer(n.bufferIndex,n.end)-this.offsetInBuffer(n.bufferIndex,n.start)===t){const t=this.getLineFeedCnt(e.piece.bufferIndex,n.start,i);if(t!==s)return{index:t,remainder:0}}return{index:s,remainder:i.column}}getAccumulatedValue(e,t){if(t<0)return 0;const n=e.piece,i=this._buffers[n.bufferIndex].lineStarts,s=n.start.line+t+1;return s>n.end.line?i[n.end.line]+n.end.column-i[n.start.line]-n.start.column:i[s]-i[n.start.line]-n.start.column}deleteNodeTail(e,t){const n=e.piece,i=n.lineFeedCnt,s=this.offsetInBuffer(n.bufferIndex,n.end),r=t,o=this.offsetInBuffer(n.bufferIndex,r),a=this.getLineFeedCnt(n.bufferIndex,n.start,r),h=a-i,l=o-s,c=n.length+l;e.piece=new Pe(n.bufferIndex,n.start,r,a,c),Oe(this,e,l,h)}deleteNodeHead(e,t){const n=e.piece,i=n.lineFeedCnt,s=this.offsetInBuffer(n.bufferIndex,n.start),r=t,o=this.getLineFeedCnt(n.bufferIndex,r,n.end),a=o-i,h=s-this.offsetInBuffer(n.bufferIndex,r),l=n.length+h;e.piece=new Pe(n.bufferIndex,r,n.end,o,l),Oe(this,e,h,a)}shrinkNode(e,t,n){const i=e.piece,s=i.start,r=i.end,o=i.length,a=i.lineFeedCnt,h=t,l=this.getLineFeedCnt(i.bufferIndex,i.start,h),c=this.offsetInBuffer(i.bufferIndex,t)-this.offsetInBuffer(i.bufferIndex,s);e.piece=new Pe(i.bufferIndex,i.start,h,l,c),Oe(this,e,c-o,l-a);const u=new Pe(i.bufferIndex,n,r,this.getLineFeedCnt(i.bufferIndex,n,r),this.offsetInBuffer(i.bufferIndex,r)-this.offsetInBuffer(i.bufferIndex,n)),d=this.rbInsertRight(e,u);this.validateCRLFWithPrevNode(d)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");const n=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),i=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const s=ze(t,!1);for(let e=0;e<s.length;e++)s[e]+=i;if(n){const e=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:i-e}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1));const r=this._buffers[0].lineStarts.length-1,o={line:r,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[r]},a=e.piece.length+t.length,h=e.piece.lineFeedCnt,l=this.getLineFeedCnt(0,e.piece.start,o),c=l-h;e.piece=new Pe(e.piece.bufferIndex,e.piece.start,o,l,a),this._lastChangeBufferPos=o,Oe(this,e,t.length,c)}nodeAt(e){let t=this.root;const n=this._searchCache.get(e);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:e-n.nodeStartOffset};let i=0;for(;t!==be;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){i+=t.size_left;const n={node:t,remainder:e-t.size_left,nodeStartOffset:i};return this._searchCache.set(n),n}e-=t.size_left+t.piece.length,i+=t.size_left+t.piece.length,t=t.right}return null}nodeAt2(e,t){let n=this.root,i=0;for(;n!==be;)if(n.left!==be&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){const s=this.getAccumulatedValue(n,e-n.lf_left-2),r=this.getAccumulatedValue(n,e-n.lf_left-1);return i+=n.size_left,{node:n,remainder:Math.min(s+t-1,r),nodeStartOffset:i}}if(n.lf_left+n.piece.lineFeedCnt===e-1){const s=this.getAccumulatedValue(n,e-n.lf_left-2);if(s+t-1<=n.piece.length)return{node:n,remainder:s+t-1,nodeStartOffset:i};t-=n.piece.length-s;break}e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==be;){if(n.piece.lineFeedCnt>0){const e=this.getAccumulatedValue(n,0),i=this.offsetOfNode(n);return{node:n,remainder:Math.min(t-1,e),nodeStartOffset:i}}if(n.piece.length>=t-1)return{node:n,remainder:t-1,nodeStartOffset:this.offsetOfNode(n)};t-=n.piece.length,n=n.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;const n=this._buffers[e.piece.bufferIndex],i=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return n.buffer.charCodeAt(i)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(e){if("string"==typeof e)return 10===e.charCodeAt(0);if(e===be||0===e.piece.lineFeedCnt)return!1;const t=e.piece,n=this._buffers[t.bufferIndex].lineStarts,i=t.start.line,s=n[i]+t.start.column;return i!==n.length-1&&(!(n[i+1]>s+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(s))}endWithCR(e){return"string"==typeof e?13===e.charCodeAt(e.length-1):e!==be&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){const n=[],i=this._buffers[e.piece.bufferIndex].lineStarts;let s;s=0===e.piece.end.column?{line:e.piece.end.line-1,column:i[e.piece.end.line]-i[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};const r=e.piece.length-1,o=e.piece.lineFeedCnt-1;e.piece=new Pe(e.piece.bufferIndex,e.piece.start,s,o,r),Oe(this,e,-1,-1),0===e.piece.length&&n.push(e);const a={line:t.piece.start.line+1,column:0},h=t.piece.length-1,l=this.getLineFeedCnt(t.piece.bufferIndex,a,t.piece.end);t.piece=new Pe(t.piece.bufferIndex,a,t.piece.end,l,h),Oe(this,t,-1,-1),0===t.piece.length&&n.push(t);const c=this.createNewPieces("\r\n");this.rbInsertRight(e,c[0]);for(let e=0;e<n.length;e++)Ee(this,n[e])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const n=t.next();if(this.startWithLF(n)){if(e+="\n",1===n.piece.length)Ee(this,n);else{const e=n.piece,t={line:e.start.line+1,column:0},i=e.length-1,s=this.getLineFeedCnt(e.bufferIndex,t,e.end);n.piece=new Pe(e.bufferIndex,t,e.end,s,i),Oe(this,n,-1,-1)}return!0}}return!1}iterate(e,t){if(e===be)return t(be);const n=this.iterate(e.left,t);return n?t(e)&&this.iterate(e.right,t):n}getNodeContent(e){if(e===be)return"";const t=this._buffers[e.piece.bufferIndex],n=e.piece,i=this.offsetInBuffer(n.bufferIndex,n.start),s=this.offsetInBuffer(n.bufferIndex,n.end);return t.buffer.substring(i,s)}getPieceContent(e){const t=this._buffers[e.bufferIndex],n=this.offsetInBuffer(e.bufferIndex,e.start),i=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(n,i)}rbInsertRight(e,t){const n=new ke(t,1);if(n.left=be,n.right=be,n.parent=be,n.size_left=0,n.lf_left=0,this.root===be)this.root=n,n.color=0;else if(e.right===be)e.right=n,n.parent=e;else{const t=Le(e.right);t.left=n,n.parent=t}return Ne(this,n),n}rbInsertLeft(e,t){const n=new ke(t,1);if(n.left=be,n.right=be,n.parent=be,n.size_left=0,n.lf_left=0,this.root===be)this.root=n,n.color=0;else if(e.left===be)e.left=n,n.parent=e;else{const t=Ie(e.left);t.right=n,n.parent=t}return Ne(this,n),n}}var Ue=n(6949);class je extends a.jG{constructor(e,t,n,i,s,r,a){super(),this._onDidChangeContent=this._register(new o.vl),this._BOM=t,this._mightContainNonBasicASCII=!r,this._mightContainRTL=i,this._mightContainUnusualLineTerminators=s,this._pieceTree=new We(e,n,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const n=e+t,i=this.getPositionAt(e),s=this.getPositionAt(n);return new g.Q(i.lineNumber,i.column,s.lineNumber,s.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const n=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,n)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;const n=this.getOffsetAt(e.startLineNumber,e.startColumn),i=this.getOffsetAt(e.endLineNumber,e.endColumn);let s=0;const r=this._getEndOfLine(t),o=this.getEOL();return r.length!==o.length&&(s=(r.length-o.length)*(e.endLineNumber-e.startLineNumber)),i-n+s}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let n=0;const i=e.startLineNumber,s=e.endLineNumber;for(let t=i;t<=s;t++){const r=this.getLineContent(t),o=t===i?e.startColumn-1:0,a=t===s?e.endColumn-1:r.length;for(let e=o;e<a;e++)h.pc(r.charCodeAt(e))?(n+=1,e+=1):n+=1}return n+=this._getEndOfLine(t).length*(s-i),n}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=h.HG(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=h.lT(this.getLineContent(e));return-1===t?0:t+2}_getEndOfLine(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,n){let i=this._mightContainRTL,s=this._mightContainUnusualLineTerminators,r=this._mightContainNonBasicASCII,o=!0,a=[];for(let t=0;t<e.length;t++){const n=e[t];o&&n._isTracked&&(o=!1);const l=n.range;if(n.text){let e=!0;r||(e=!h.aC(n.text),r=e),!i&&e&&(i=h.E_(n.text)),!s&&e&&(s=h.$X(n.text))}let u="",d=0,g=0,f=0;if(n.text){let e;[d,g,f,e]=(0,c.W)(n.text);const t=this.getEOL();u=0===e||e===("\r\n"===t?2:1)?n.text:n.text.replace(/\r\n|\r|\n/g,t)}a[t]={sortIndex:t,identifier:n.identifier||null,range:l,rangeOffset:this.getOffsetAt(l.startLineNumber,l.startColumn),rangeLength:this.getValueLengthInRange(l),text:u,eolCount:d,firstLineLength:g,lastLineLength:f,forceMoveMarkers:Boolean(n.forceMoveMarkers),isAutoWhitespaceEdit:n.isAutoWhitespaceEdit||!1}}a.sort(je._sortOpsAscending);let l=!1;for(let e=0,t=a.length-1;e<t;e++){const t=a[e].range.getEndPosition(),n=a[e+1].range.getStartPosition();if(n.isBeforeOrEqual(t)){if(n.isBefore(t))throw new Error("Overlapping ranges are not allowed!");l=!0}}o&&(a=this._reduceOperations(a));const u=n||t?je._getInverseEditRanges(a):[],d=[];if(t)for(let e=0;e<a.length;e++){const t=a[e],n=u[e];if(t.isAutoWhitespaceEdit&&t.range.isEmpty())for(let e=n.startLineNumber;e<=n.endLineNumber;e++){let i="";e===n.startLineNumber&&(i=this.getLineContent(t.range.startLineNumber),-1!==h.HG(i))||d.push({lineNumber:e,oldContent:i})}}let g=null;if(n){let e=0;g=[];for(let t=0;t<a.length;t++){const n=a[t],i=u[t],s=this.getValueInRange(n.range),r=n.rangeOffset+e;e+=n.text.length-s.length,g[t]={sortIndex:n.sortIndex,identifier:n.identifier,range:i,text:s,textChange:new Ue.k(n.rangeOffset,s,r,n.text)}}l||g.sort(((e,t)=>e.sortIndex-t.sortIndex))}this._mightContainRTL=i,this._mightContainUnusualLineTerminators=s,this._mightContainNonBasicASCII=r;const f=this._doApplyEdits(a);let _=null;if(t&&d.length>0){d.sort(((e,t)=>t.lineNumber-e.lineNumber)),_=[];for(let e=0,t=d.length;e<t;e++){const t=d[e].lineNumber;if(e>0&&d[e-1].lineNumber===t)continue;const n=d[e].oldContent,i=this.getLineContent(t);0!==i.length&&i!==n&&-1===h.HG(i)&&_.push(t)}}return this._onDidChangeContent.fire(),new C.F4(g,f,_)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const n=e[0].range,i=e[e.length-1].range,s=new g.Q(n.startLineNumber,n.startColumn,i.endLineNumber,i.endColumn);let r=n.startLineNumber,o=n.startColumn;const a=[];for(let n=0,i=e.length;n<i;n++){const i=e[n],s=i.range;t=t||i.forceMoveMarkers,a.push(this.getValueInRange(new g.Q(r,o,s.startLineNumber,s.startColumn))),i.text.length>0&&a.push(i.text),r=s.endLineNumber,o=s.endColumn}const h=a.join(""),[l,u,d]=(0,c.W)(h);return{sortIndex:0,identifier:e[0].identifier,range:s,rangeOffset:this.getOffsetAt(s.startLineNumber,s.startColumn),rangeLength:this.getValueLengthInRange(s,0),text:h,eolCount:l,firstLineLength:u,lastLineLength:d,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(je._sortOpsDescending);const t=[];for(let n=0;n<e.length;n++){const i=e[n],s=i.range.startLineNumber,r=i.range.startColumn,o=i.range.endLineNumber,a=i.range.endColumn;if(s===o&&r===a&&0===i.text.length)continue;i.text?(this._pieceTree.delete(i.rangeOffset,i.rangeLength),this._pieceTree.insert(i.rangeOffset,i.text,!0)):this._pieceTree.delete(i.rangeOffset,i.rangeLength);const h=new g.Q(s,r,o,a);t.push({range:h,rangeLength:i.rangeLength,text:i.text,rangeOffset:i.rangeOffset,forceMoveMarkers:i.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,n,i){return this._pieceTree.findMatchesLineByLine(e,t,n,i)}static _getInverseEditRanges(e){const t=[];let n=0,i=0,s=null;for(let r=0,o=e.length;r<o;r++){const o=e[r];let a,h,l;if(s?s.range.endLineNumber===o.range.startLineNumber?(a=n,h=i+(o.range.startColumn-s.range.endColumn)):(a=n+(o.range.startLineNumber-s.range.endLineNumber),h=o.range.startColumn):(a=o.range.startLineNumber,h=o.range.startColumn),o.text.length>0){const e=o.eolCount+1;l=1===e?new g.Q(a,h,a,h+o.firstLineLength):new g.Q(a,h,a+e-1,o.lastLineLength+1)}else l=new g.Q(a,h,a,h);n=l.endLineNumber,i=l.endColumn,t.push(l),s=o}return t}static _sortOpsAscending(e,t){const n=g.Q.compareRangesUsingEnds(e.range,t.range);return 0===n?e.sortIndex-t.sortIndex:n}static _sortOpsDescending(e,t){const n=g.Q.compareRangesUsingEnds(e.range,t.range);return 0===n?t.sortIndex-e.sortIndex:-n}}class He{constructor(e,t,n,i,s,r,o,a,h){this._chunks=e,this._bom=t,this._cr=n,this._lf=i,this._crlf=s,this._containsRTL=r,this._containsUnusualLineTerminators=o,this._isBasicASCII=a,this._normalizeEOL=h}_getEOL(e){const t=this._cr+this._lf+this._crlf,n=this._cr+this._crlf;return 0===t?1===e?"\n":"\r\n":n>t/2?"\r\n":"\n"}create(e){const t=this._getEOL(e),n=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(let e=0,i=n.length;e<i;e++){const i=n[e].buffer.replace(/\r\n|\r|\n/g,t),s=ze(i);n[e]=new ye(i,s)}const i=new je(n,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:i,disposable:i}}}class Qe{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(0===e.length)return;0===this.chunks.length&&h.LU(e)&&(this.BOM=h.r_,e=e.substr(1));const t=e.charCodeAt(e.length-1);13===t||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){(t||0!==e.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=function(e,t){e.length=0,e[0]=0;let n=1,i=0,s=0,r=0,o=!0;for(let a=0,h=t.length;a<h;a++){const l=t.charCodeAt(a);13===l?a+1<h&&10===t.charCodeAt(a+1)?(r++,e[n++]=a+2,a++):(i++,e[n++]=a+1):10===l?(s++,e[n++]=a+1):o&&9!==l&&(l<32||l>126)&&(o=!1)}const a=new Ae(De(e),i,s,r,o);return e.length=0,a}(this._tmpLineStarts,e);this.chunks.push(new ye(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,t.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=h.E_(e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=h.$X(e)))}finish(e=!0){return this._finish(),new He(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=ze(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}}}var qe=n(9955),Ge=n(8782),$e=n(4364),Xe=n(2177),Ke=n(5958),Ye=n(3339),Ze=n(3013),Je=n(2532),et=n(7036);class tt{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}replace(e,t,n){if(e>=this._store.length)return;if(0===t)return void this.insert(e,n);if(0===n)return void this.delete(e,t);const i=this._store.slice(0,e),s=this._store.slice(e+t),r=function(e,t){const n=[];for(let i=0;i<e;i++)n[i]=t;return n}(n,this._default);this._store=i.concat(r,s)}delete(e,t){0===t||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(0===t||e>=this._store.length)return;const n=[];for(let e=0;e<t;e++)n[e]=this._default;this._store=(0,i.nK)(this._store,e,n)}}class nt{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(e,t){this._startLineNumber=e,this._tokens=t}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}class it{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const n=this._tokens[this._tokens.length-1];if(n.endLineNumber+1===e)return void n.appendLineTokens(t)}this._tokens.push(new nt(e,[t]))}finalize(){return this._tokens}}var st=n(7445);class rt{constructor(e,t){this.tokenizationSupport=t,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new at(e)}getStartState(e){return this.store.getStartState(e,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class ot extends rt{constructor(e,t,n,i){super(e,t),this._textModel=n,this._languageIdCodec=i}updateTokensUntilLine(e,t){const n=this._textModel.getLanguageId();for(;;){const i=this.getFirstInvalidLine();if(!i||i.lineNumber>t)break;const s=this._textModel.getLineContent(i.lineNumber),r=ct(this._languageIdCodec,n,this.tokenizationSupport,s,!0,i.startState);e.add(i.lineNumber,r.tokens),this.store.setEndState(i.lineNumber,r.endState)}}getTokenTypeIfInsertingCharacter(e,t){const n=this.getStartState(e.lineNumber);if(!n)return 0;const i=this._textModel.getLanguageId(),s=this._textModel.getLineContent(e.lineNumber),r=s.substring(0,e.column-1)+t+s.substring(e.column-1),o=ct(this._languageIdCodec,i,this.tokenizationSupport,r,!0,n),a=new st.f(o.tokens,r,this._languageIdCodec);if(0===a.getCount())return 0;const h=a.findTokenIndexAtOffset(e.column-1);return a.getStandardTokenType(h)}tokenizeLineWithEdit(e,t,n){const i=e.lineNumber,s=e.column,r=this.getStartState(i);if(!r)return null;const o=this._textModel.getLineContent(i),a=o.substring(0,s-1)+n+o.substring(s-1+t),h=this._textModel.getLanguageIdAtPosition(i,0),l=ct(this._languageIdCodec,h,this.tokenizationSupport,a,!0,r);return new st.f(l.tokens,a,this._languageIdCodec)}hasAccurateTokensForLine(e){return e<this.store.getFirstInvalidEndStateLineNumberOrMax()}isCheapToTokenize(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t||e===t&&this._textModel.getLineLength(e)<2048}tokenizeHeuristically(e,t,n){if(n<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(t<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(e,n),{heuristicTokens:!1};let i=this.guessStartState(t);const s=this._textModel.getLanguageId();for(let r=t;r<=n;r++){const t=this._textModel.getLineContent(r),n=ct(this._languageIdCodec,s,this.tokenizationSupport,t,!0,i);e.add(r,n.tokens),i=n.endState}return{heuristicTokens:!0}}guessStartState(e){let t=this._textModel.getLineFirstNonWhitespaceColumn(e);const n=[];let i=null;for(let s=e-1;t>1&&s>=1;s--){const e=this._textModel.getLineFirstNonWhitespaceColumn(s);if(0!==e&&e<t&&(n.push(this._textModel.getLineContent(s)),t=e,i=this.getStartState(s),i))break}i||(i=this.tokenizationSupport.getInitialState()),n.reverse();const s=this._textModel.getLanguageId();let r=i;for(const e of n)r=ct(this._languageIdCodec,s,this.tokenizationSupport,e,!1,r).endState;return r}}class at{constructor(e){this.lineCount=e,this._tokenizationStateStore=new ht,this._invalidEndStatesLineNumbers=new lt,this._invalidEndStatesLineNumbers.addRange(new Je.L(1,e+1))}getEndState(e){return this._tokenizationStateStore.getEndState(e)}setEndState(e,t){if(!t)throw new r.D7("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(e);const n=this._tokenizationStateStore.setEndState(e,t);return n&&e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new Je.L(e+1,e+2)),n}acceptChange(e,t){this.lineCount+=t-e.length,this._tokenizationStateStore.acceptChange(e,t),this._invalidEndStatesLineNumbers.addRangeAndResize(new Je.L(e.startLineNumber,e.endLineNumberExclusive),t)}acceptChanges(e){for(const t of e){const[e]=(0,c.W)(t.text);this.acceptChange(new qe.M(t.range.startLineNumber,t.range.endLineNumber+1),e+1)}}invalidateEndStateRange(e){this._invalidEndStatesLineNumbers.addRange(new Je.L(e.startLineNumber,e.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return null===this._invalidEndStatesLineNumbers.min}getStartState(e,t){return 1===e?t:this.getEndState(e-1)}getFirstInvalidLine(e){const t=this.getFirstInvalidEndStateLineNumber();if(null===t)return null;const n=this.getStartState(t,e);if(!n)throw new r.D7("Start state must be defined");return{lineNumber:t,startState:n}}}class ht{constructor(){this._lineEndStates=new tt(null)}getEndState(e){return this._lineEndStates.get(e)}setEndState(e,t){const n=this._lineEndStates.get(e);return!(n&&n.equals(t)||(this._lineEndStates.set(e,t),0))}acceptChange(e,t){let n=e.length;t>0&&n>0&&(n--,t--),this._lineEndStates.replace(e.startLineNumber,n,t)}}class lt{constructor(){this._ranges=[]}get min(){return 0===this._ranges.length?null:this._ranges[0].start}delete(e){const t=this._ranges.findIndex((t=>t.contains(e)));if(-1!==t){const n=this._ranges[t];n.start===e?n.endExclusive===e+1?this._ranges.splice(t,1):this._ranges[t]=new Je.L(e+1,n.endExclusive):n.endExclusive===e+1?this._ranges[t]=new Je.L(n.start,e):this._ranges.splice(t,1,new Je.L(n.start,e),new Je.L(e+1,n.endExclusive))}}addRange(e){Je.L.addRange(e,this._ranges)}addRangeAndResize(e,t){let n=0;for(;!(n>=this._ranges.length||e.start<=this._ranges[n].endExclusive);)n++;let i=n;for(;!(i>=this._ranges.length||e.endExclusive<this._ranges[i].start);)i++;const s=t-e.length;for(let e=i;e<this._ranges.length;e++)this._ranges[e]=this._ranges[e].delta(s);if(n===i){const i=new Je.L(e.start,e.start+t);i.isEmpty||this._ranges.splice(n,0,i)}else{const t=Math.min(e.start,this._ranges[n].start),r=Math.max(e.endExclusive,this._ranges[i-1].endExclusive),o=new Je.L(t,r+s);o.isEmpty?this._ranges.splice(n,i-n):this._ranges.splice(n,i-n,o)}}toString(){return this._ranges.map((e=>e.toString())).join(" + ")}}function ct(e,t,n,i,s,o){let a=null;if(n)try{a=n.tokenizeEncoded(i,s,o.clone())}catch(e){(0,r.dz)(e)}return a||(a=(0,et.Lh)(e.encodeLanguageId(t),o)),st.f.convertToEndOffset(a.tokens,i.length),a}class ut{constructor(e,t){this._tokenizerWithStateStore=e,this._backgroundTokenStore=t,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){!this._isScheduled&&this._tokenizerWithStateStore._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&(this._isScheduled=!0,(0,Ke.$6)((e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)})))}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining(),n=()=>{!this._isDisposed&&this._tokenizerWithStateStore._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?(0,Ye._p)(n):this._beginBackgroundTokenization())};n()}_backgroundTokenizeForAtLeast1ms(){const e=this._tokenizerWithStateStore._textModel.getLineCount(),t=new it,n=Ze.W.create(!1);do{if(n.elapsed()>1)break;if(this._tokenizeOneInvalidLine(t)>=e)break}while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(t.finalize()),this.checkFinished()}_hasLinesToTokenize(){return!!this._tokenizerWithStateStore&&!this._tokenizerWithStateStore.store.allStatesValid()}_tokenizeOneInvalidLine(e){const t=this._tokenizerWithStateStore?.getFirstInvalidLine();return t?(this._tokenizerWithStateStore.updateTokensUntilLine(e,t.lineNumber),t.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(e,t){this._tokenizerWithStateStore.store.invalidateEndStateRange(new qe.M(e,t))}}class dt{constructor(){this._onDidChangeVisibleRanges=new o.vl,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const e=new gt((t=>{this._onDidChangeVisibleRanges.fire({view:e,state:t})}));return this._views.add(e),e}detachView(e){this._views.delete(e),this._onDidChangeVisibleRanges.fire({view:e,state:void 0})}}class gt{constructor(e){this.handleStateChange=e}setVisibleLines(e,t){const n=e.map((e=>new qe.M(e.startLineNumber,e.endLineNumber+1)));this.handleStateChange({visibleLineRanges:n,stabilized:t})}}class ft extends a.jG{get lineRanges(){return this._lineRanges}constructor(e){super(),this._refreshTokens=e,this.runner=this._register(new Ke.uC((()=>this.update()),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,i.aI)(this._computedLineRanges,this._lineRanges,((e,t)=>e.equals(t)))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(e){this._lineRanges=e.visibleLineRanges,e.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}class _t extends a.jG{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(e,t,n){super(),this._languageIdCodec=e,this._textModel=t,this.getLanguageId=n,this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new o.vl),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new o.vl),this.onDidChangeTokens=this._onDidChangeTokens.event}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}}class pt extends _t{constructor(e,t,n,i){super(t,n,i),this._treeSitterService=e,this._tokenizationSupport=null,this._initialize()}_initialize(){const e=this.getLanguageId();this._tokenizationSupport&&this._lastLanguageId===e||(this._lastLanguageId=e,this._tokenizationSupport=$e.OB.get(e))}getLineTokens(e){const t=this._textModel.getLineContent(e);if(this._tokenizationSupport){const n=this._tokenizationSupport.tokenizeEncoded(e,this._textModel);if(n)return new st.f(n,t,this._languageIdCodec)}return st.f.createEmpty(t,this._languageIdCodec)}resetTokenization(e=!0){e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]}),this._initialize()}handleDidChangeAttached(){}handleDidChangeContent(e){e.isFlush&&this.resetTokenization(!1)}forceTokenization(e){}hasAccurateTokensForLine(e){return!0}isCheapToTokenize(e){return!0}getTokenTypeIfInsertingCharacter(e,t,n){return 0}tokenizeLineWithEdit(e,t,n){return null}get hasTokens(){return void 0!==this._treeSitterService.getParseResult(this._textModel)}}var mt=n(5320);const Ct=new Uint32Array(0).buffer;class kt{static deleteBeginning(e,t){return null===e||e===Ct?e:kt.delete(e,0,t)}static deleteEnding(e,t){if(null===e||e===Ct)return e;const n=bt(e),i=n[n.length-2];return kt.delete(e,t,i)}static delete(e,t,n){if(null===e||e===Ct||t===n)return e;const i=bt(e),s=i.length>>>1;if(0===t&&i[i.length-2]===n)return Ct;const r=st.f.findIndexInTokensArray(i,t),o=r>0?i[r-1<<1]:0;if(n<i[r<<1]){const o=n-t;for(let e=r;e<s;e++)i[e<<1]-=o;return e}let a,h;o!==t?(i[r<<1]=t,a=r+1<<1,h=t):(a=r<<1,h=o);const l=n-t;for(let e=r+1;e<s;e++){const t=i[e<<1]-l;t>h&&(i[a++]=t,i[a++]=i[1+(e<<1)],h=t)}if(a===i.length)return e;const c=new Uint32Array(a);return c.set(i.subarray(0,a),0),c.buffer}static append(e,t){if(t===Ct)return e;if(e===Ct)return t;if(null===e)return e;if(null===t)return null;const n=bt(e),i=bt(t),s=i.length>>>1,r=new Uint32Array(n.length+i.length);r.set(n,0);let o=n.length;const a=n[n.length-2];for(let e=0;e<s;e++)r[o++]=i[e<<1]+a,r[o++]=i[1+(e<<1)];return r.buffer}static insert(e,t,n){if(null===e||e===Ct)return e;const i=bt(e),s=i.length>>>1;let r=st.f.findIndexInTokensArray(i,t);r>0&&i[r-1<<1]===t&&r--;for(let e=r;e<s;e++)i[e<<1]+=n;return e}}function bt(e){return e instanceof Uint32Array?e:new Uint32Array(e)}var Lt=n(5910);class It{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(e,t,n){let i=null;if(t<this._len&&(i=this._lineTokens[t]),null!==i&&i!==Ct)return new st.f(bt(i),n,this._languageIdCodec);const s=new Uint32Array(2);return s[0]=n.length,s[1]=Tt(this._languageIdCodec.encodeLanguageId(e)),new st.f(s,n,this._languageIdCodec)}static _massageTokens(e,t,n){const i=n?bt(n):null;if(0===t){let t=!1;if(i&&i.length>1&&(t=Lt.x.getLanguageId(i[1])!==e),!t)return Ct}if(!i||0===i.length){const n=new Uint32Array(2);return n[0]=t,n[1]=Tt(e),n.buffer}return i[i.length-2]=t,0===i.byteOffset&&i.byteLength===i.buffer.byteLength?i.buffer:i}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;const n=[];for(let e=0;e<t;e++)n[e]=null;this._lineTokens=i.nK(this._lineTokens,e,n),this._len+=t}setTokens(e,t,n,i,s){const r=It._massageTokens(this._languageIdCodec.encodeLanguageId(e),n,i);this._ensureLine(t);const o=this._lineTokens[t];return this._lineTokens[t]=r,!!s&&!It._equals(o,r)}static _equals(e,t){if(!e||!t)return!e&&!t;const n=bt(e),i=bt(t);if(n.length!==i.length)return!1;for(let e=0,t=n.length;e<t;e++)if(n[e]!==i[e])return!1;return!0}acceptEdit(e,t,n){this._acceptDeleteRange(e),this._acceptInsertText(new d.y(e.startLineNumber,e.startColumn),t,n)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;return void(this._lineTokens[t]=kt.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1))}this._lineTokens[t]=kt.deleteEnding(this._lineTokens[t],e.startColumn-1);const n=e.endLineNumber-1;let i=null;n<this._len&&(i=kt.deleteBeginning(this._lineTokens[n],e.endColumn-1)),this._lineTokens[t]=kt.append(this._lineTokens[t],i),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,n){if(0===t&&0===n)return;const i=e.lineNumber-1;i>=this._len||(0!==t?(this._lineTokens[i]=kt.deleteEnding(this._lineTokens[i],e.column-1),this._lineTokens[i]=kt.insert(this._lineTokens[i],e.column-1,n),this._insertLines(e.lineNumber,t)):this._lineTokens[i]=kt.insert(this._lineTokens[i],e.column-1,n))}setMultilineTokens(e,t){if(0===e.length)return{changes:[]};const n=[];for(let i=0,s=e.length;i<s;i++){const s=e[i];let r=0,o=0,a=!1;for(let e=s.startLineNumber;e<=s.endLineNumber;e++)a?(this.setTokens(t.getLanguageId(),e-1,t.getLineLength(e),s.getLineTokens(e),!1),o=e):this.setTokens(t.getLanguageId(),e-1,t.getLineLength(e),s.getLineTokens(e),!0)&&(a=!0,r=e,o=e);a&&n.push({fromLineNumber:r,toLineNumber:o})}return{changes:n}}}function Tt(e){return(32768|e|2<<24|1024)>>>0}class xt{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let n=e;if(t.length>0){const i=t[0].getRange(),s=t[t.length-1].getRange();if(!i||!s)return e;n=e.plusRange(i).plusRange(s)}let s=null;for(let e=0,t=this._pieces.length;e<t;e++){const i=this._pieces[e];if(i.endLineNumber<n.startLineNumber)continue;if(i.startLineNumber>n.endLineNumber){s=s||{index:e};break}if(i.removeTokens(n),i.isEmpty()){this._pieces.splice(e,1),e--,t--;continue}if(i.endLineNumber<n.startLineNumber)continue;if(i.startLineNumber>n.endLineNumber){s=s||{index:e};continue}const[r,o]=i.split(n);r.isEmpty()?s=s||{index:e}:o.isEmpty()||(this._pieces.splice(e,1,r,o),e++,t++,s=s||{index:e})}return s=s||{index:this._pieces.length},t.length>0&&(this._pieces=i.nK(this._pieces,s.index,t)),n}isComplete(){return this._isComplete}addSparseTokens(e,t){if(0===t.getLineContent().length)return t;const n=this._pieces;if(0===n.length)return t;const i=n[xt._findFirstPieceWithLine(n,e)].getLineTokens(e);if(!i)return t;const s=t.getCount(),r=i.getCount();let o=0;const a=[];let h=0,l=0;const c=(e,t)=>{e!==l&&(l=e,a[h++]=e,a[h++]=t)};for(let e=0;e<r;e++){const n=i.getStartCharacter(e),r=i.getEndCharacter(e),a=i.getMetadata(e),h=((1&a?2048:0)|(2&a?4096:0)|(4&a?8192:0)|(8&a?16384:0)|(16&a?16744448:0)|(32&a?4278190080:0))>>>0,l=~h>>>0;for(;o<s&&t.getEndOffset(o)<=n;)c(t.getEndOffset(o),t.getMetadata(o)),o++;for(o<s&&t.getStartOffset(o)<n&&c(n,t.getMetadata(o));o<s&&t.getEndOffset(o)<r;)c(t.getEndOffset(o),t.getMetadata(o)&l|a&h),o++;if(o<s)c(r,t.getMetadata(o)&l|a&h),t.getEndOffset(o)===r&&o++;else{const e=Math.min(Math.max(0,o-1),s-1);c(r,t.getMetadata(e)&l|a&h)}}for(;o<s;)c(t.getEndOffset(o),t.getMetadata(o)),o++;return new st.f(new Uint32Array(a),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let n=0,i=e.length-1;for(;n<i;){let s=n+Math.floor((i-n)/2);if(e[s].endLineNumber<t)n=s+1;else{if(!(e[s].startLineNumber>t)){for(;s>n&&e[s-1].startLineNumber<=t&&t<=e[s-1].endLineNumber;)s--;return s}i=s-1}}return n}acceptEdit(e,t,n,i,s){for(const r of this._pieces)r.acceptEdit(e,t,n,i,s)}}var St,vt=function(e,t){return function(n,i){t(n,i,e)}};let wt=St=class extends Xe._{constructor(e,t,n,i,s,r,h){super(),this._textModel=e,this._bracketPairsTextModelPart=t,this._languageId=n,this._attachedViews=i,this._languageService=s,this._languageConfigurationService=r,this._treeSitterService=h,this._semanticTokens=new xt(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new o.vl),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new o.vl),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new o.vl),this.onDidChangeTokens=this._onDidChangeTokens.event,this._tokensDisposables=this._register(new a.Cm),this._register(this._languageConfigurationService.onDidChange((e=>{e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}))),this._register(o.Jh.filter($e.OB.onDidChange,(e=>e.changedLanguages.includes(this._languageId)))((()=>{this.createPreferredTokenProvider()}))),this.createPreferredTokenProvider()}createGrammarTokens(){return this._register(new Et(this._languageService.languageIdCodec,this._textModel,(()=>this._languageId),this._attachedViews))}createTreeSitterTokens(){return this._register(new pt(this._treeSitterService,this._languageService.languageIdCodec,this._textModel,(()=>this._languageId)))}createTokens(e){const t=void 0!==this._tokens;this._tokens?.dispose(),this._tokens=e?this.createTreeSitterTokens():this.createGrammarTokens(),this._tokensDisposables.clear(),this._tokensDisposables.add(this._tokens.onDidChangeTokens((e=>{this._emitModelTokensChangedEvent(e)}))),this._tokensDisposables.add(this._tokens.onDidChangeBackgroundTokenizationState((e=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))),t&&this._tokens.resetTokenization()}createPreferredTokenProvider(){$e.OB.get(this._languageId)?this._tokens instanceof pt||this.createTokens(!0):this._tokens instanceof Et||this.createTokens(!1)}handleLanguageConfigurationServiceChange(e){e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}handleDidChangeContent(e){if(e.isFlush)this._semanticTokens.flush();else if(!e.isEolChange)for(const t of e.changes){const[e,n,i]=(0,c.W)(t.text);this._semanticTokens.acceptEdit(t.range,e,n,i,t.text.length>0?t.text.charCodeAt(0):0)}this._tokens.handleDidChangeContent(e)}handleDidChangeAttached(){this._tokens.handleDidChangeAttached()}getLineTokens(e){this.validateLineNumber(e);const t=this._tokens.getLineTokens(e);return this._semanticTokens.addSparseTokens(e,t)}_emitModelTokensChangedEvent(e){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}validateLineNumber(e){if(e<1||e>this._textModel.getLineCount())throw new r.D7("Illegal value for lineNumber")}get hasTokens(){return this._tokens.hasTokens}resetTokenization(){this._tokens.resetTokenization()}get backgroundTokenizationState(){return this._tokens.backgroundTokenizationState}forceTokenization(e){this.validateLineNumber(e),this._tokens.forceTokenization(e)}hasAccurateTokensForLine(e){return this.validateLineNumber(e),this._tokens.hasAccurateTokensForLine(e)}isCheapToTokenize(e){return this.validateLineNumber(e),this._tokens.isCheapToTokenize(e)}tokenizeIfCheap(e){this.validateLineNumber(e),this._tokens.tokenizeIfCheap(e)}getTokenTypeIfInsertingCharacter(e,t,n){return this._tokens.getTokenTypeIfInsertingCharacter(e,t,n)}tokenizeLineWithEdit(e,t,n){return this._tokens.tokenizeLineWithEdit(e,t,n)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({semanticTokensApplied:null!==e,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const n=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:n.startLineNumber,toLineNumber:n.endLineNumber}]})}getWordAtPosition(e){this.assertNotDisposed();const t=this._textModel.validatePosition(e),n=this._textModel.getLineContent(t.lineNumber),i=this.getLineTokens(t.lineNumber),s=i.findTokenIndexAtOffset(t.column-1),[r,o]=St._findLanguageBoundaries(i,s),a=(0,Ge.Th)(t.column,this.getLanguageConfiguration(i.getLanguageId(s)).getWordDefinition(),n.substring(r,o),r);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn)return a;if(s>0&&r===t.column-1){const[r,o]=St._findLanguageBoundaries(i,s-1),a=(0,Ge.Th)(t.column,this.getLanguageConfiguration(i.getLanguageId(s-1)).getWordDefinition(),n.substring(r,o),r);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn)return a}return null}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}static _findLanguageBoundaries(e,t){const n=e.getLanguageId(t);let i=0;for(let s=t;s>=0&&e.getLanguageId(s)===n;s--)i=e.getStartOffset(s);let s=e.getLineContent().length;for(let i=t,r=e.getCount();i<r&&e.getLanguageId(i)===n;i++)s=e.getEndOffset(i);return[i,s]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){const n=this._textModel.validatePosition(new d.y(e,t)),i=this.getLineTokens(n.lineNumber);return i.getLanguageId(i.findTokenIndexAtOffset(n.column-1))}setLanguageId(e,t="api"){if(this._languageId===e)return;const n={oldLanguage:this._languageId,newLanguage:e,source:t};this._languageId=e,this._bracketPairsTextModelPart.handleDidChangeLanguage(n),this._tokens.resetTokenization(),this.createPreferredTokenProvider(),this._onDidChangeLanguage.fire(n),this._onDidChangeLanguageConfiguration.fire({})}};wt=St=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([vt(4,p.L),vt(5,m.JZ),vt(6,mt.ITreeSitterParserService)],wt);class Et extends _t{constructor(e,t,n,i){super(e,t,n),this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new a.HE),this._tokens=new It(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new a.HE),this._attachedViewStates=this._register(new a.$w),this._register($e.dG.onDidChange((e=>{const t=this.getLanguageId();-1!==e.changedLanguages.indexOf(t)&&this.resetTokenization()}))),this.resetTokenization(),this._register(i.onDidChangeVisibleRanges((({view:e,state:t})=>{if(t){let n=this._attachedViewStates.get(e);n||(n=new ft((()=>this.refreshRanges(n.lineRanges))),this._attachedViewStates.set(e,n)),n.handleStateChange(t)}else this._attachedViewStates.deleteAndDispose(e)})))}resetTokenization(e=!0){this._tokens.flush(),this._debugBackgroundTokens?.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new at(this._textModel.getLineCount())),e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const[t,n]=(()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const e=$e.dG.get(this.getLanguageId());if(!e)return[null,null];let t;try{t=e.getInitialState()}catch(e){return(0,r.dz)(e),[null,null]}return[e,t]})();if(this._tokenizer=t&&n?new ot(this._textModel.getLineCount(),t,this._textModel,this._languageIdCodec):null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const e={setTokens:e=>{this.setTokens(e)},backgroundTokenizationFinished:()=>{2!==this._backgroundTokenizationState&&(this._backgroundTokenizationState=2,this._onDidChangeBackgroundTokenizationState.fire())},setEndState:(e,t)=>{if(!this._tokenizer)return;const n=this._tokenizer.store.getFirstInvalidEndStateLineNumber();null!==n&&e>=n&&this._tokenizer?.store.setEndState(e,t)}};t&&t.createBackgroundTokenizer&&!t.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=t.createBackgroundTokenizer(this._textModel,e)),this._backgroundTokenizer.value||this._textModel.isTooLargeForTokenization()||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new ut(this._tokenizer,e),this._defaultBackgroundTokenizer.handleChanges()),t?.backgroundTokenizerShouldOnlyVerifyTokens&&t.createBackgroundTokenizer?(this._debugBackgroundTokens=new It(this._languageIdCodec),this._debugBackgroundStates=new at(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=t.createBackgroundTokenizer(this._textModel,{setTokens:e=>{this._debugBackgroundTokens?.setMultilineTokens(e,this._textModel)},backgroundTokenizationFinished(){},setEndState:(e,t)=>{this._debugBackgroundStates?.setEndState(e,t)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){this._defaultBackgroundTokenizer?.handleChanges()}handleDidChangeContent(e){if(e.isFlush)this.resetTokenization(!1);else if(!e.isEolChange){for(const t of e.changes){const[e,n]=(0,c.W)(t.text);this._tokens.acceptEdit(t.range,e,n),this._debugBackgroundTokens?.acceptEdit(t.range,e,n)}this._debugBackgroundStates?.acceptChanges(e.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(e.changes),this._defaultBackgroundTokenizer?.handleChanges()}}setTokens(e){const{changes:t}=this._tokens.setMultilineTokens(e,this._textModel);return t.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:t}),{changes:t}}refreshAllVisibleLineTokens(){const e=qe.M.joinMany([...this._attachedViewStates].map((([e,t])=>t.lineRanges)));this.refreshRanges(e)}refreshRanges(e){for(const t of e)this.refreshRange(t.startLineNumber,t.endLineNumberExclusive-1)}refreshRange(e,t){if(!this._tokenizer)return;e=Math.max(1,Math.min(this._textModel.getLineCount(),e)),t=Math.min(this._textModel.getLineCount(),t);const n=new it,{heuristicTokens:i}=this._tokenizer.tokenizeHeuristically(n,e,t),s=this.setTokens(n.finalize());if(i)for(const e of s.changes)this._backgroundTokenizer.value?.requestTokens(e.fromLineNumber,e.toLineNumber+1);this._defaultBackgroundTokenizer?.checkFinished()}forceTokenization(e){const t=new it;this._tokenizer?.updateTokensUntilLine(t,e),this.setTokens(t.finalize()),this._defaultBackgroundTokenizer?.checkFinished()}hasAccurateTokensForLine(e){return!this._tokenizer||this._tokenizer.hasAccurateTokensForLine(e)}isCheapToTokenize(e){return!this._tokenizer||this._tokenizer.isCheapToTokenize(e)}getLineTokens(e){const t=this._textModel.getLineContent(e),n=this._tokens.getTokens(this._textModel.getLanguageId(),e-1,t);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>e&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>e){const i=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),e-1,t);!n.equals(i)&&this._debugBackgroundTokenizer.value?.reportMismatchingTokens&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(e)}return n}getTokenTypeIfInsertingCharacter(e,t,n){if(!this._tokenizer)return 0;const i=this._textModel.validatePosition(new d.y(e,t));return this.forceTokenization(i.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(i,n)}tokenizeLineWithEdit(e,t,n){if(!this._tokenizer)return null;const i=this._textModel.validatePosition(e);return this.forceTokenization(i.lineNumber),this._tokenizer.tokenizeLineWithEdit(i,t,n)}get hasTokens(){return this._tokens.hasTokens}}var Nt,Ot=n(3455),Bt=n(2399),Rt=n(8803),Mt=function(e,t){return function(n,i){t(n,i,e)}};function Dt(e,t){let n;return n="string"==typeof e?function(e){const t=new Qe;return t.acceptChunk(e),t.finish()}(e):C.nk(e)?function(e){const t=new Qe;let n;for(;"string"==typeof(n=e.read());)t.acceptChunk(n);return t.finish()}(e):e,n.create(t)}let At=0;class zt{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;const e=[];let t=0,n=0;for(;;){const i=this._source.read();if(null===i)return this._eos=!0,0===t?null:e.join("");if(i.length>0&&(e[t++]=i,n+=i.length),n>=65536)return e.join("")}}}const Pt=()=>{throw new Error("Invalid change accessor")};let yt=class extends a.jG{static{Nt=this}static{this._MODEL_SYNC_LIMIT=52428800}static{this.LARGE_FILE_SIZE_THRESHOLD=20971520}static{this.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5}static{this.LARGE_FILE_HEAP_OPERATION_THRESHOLD=268435456}static{this.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:_.R.tabSize,indentSize:_.R.indentSize,insertSpaces:_.R.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:_.R.trimAutoWhitespace,largeFileOptimizations:_.R.largeFileOptimizations,bracketPairColorizationOptions:_.R.bracketPairColorizationOptions}}static resolveOptions(e,t){if(t.detectIndentation){const n=X(e,t.tabSize,t.insertSpaces);return new C.X2({tabSize:n.tabSize,indentSize:"tabSize",insertSpaces:n.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new C.X2(t)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent((t=>e(t.contentChangedEvent)))}onDidChangeContentOrInjectedText(e){return(0,a.qE)(this._eventEmitter.fastEvent((t=>e(t))),this._onDidChangeInjectedText.event((t=>e(t))))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(e,t,n,i=null,s,r,c,u){super(),this._undoRedoService=s,this._languageService=r,this._languageConfigurationService=c,this.instantiationService=u,this._onWillDispose=this._register(new o.vl),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Yt((e=>this.handleBeforeFireDecorationsChangedEvent(e)))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new o.vl),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new o.vl),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new o.vl),this._eventEmitter=this._register(new Zt),this._languageSelectionListener=this._register(new a.HE),this._deltaDecorationCallCnt=0,this._attachedViews=new dt,At++,this.id="$model"+At,this.isForSimpleWidget=n.isForSimpleWidget,this._associatedResource=null==i?l.r.parse("inmemory://model/"+At):i,this._attachedEditorCount=0;const{textBuffer:d,disposable:f}=Dt(e,n.defaultEOL);this._buffer=d,this._bufferDisposable=f,this._options=Nt.resolveOptions(this._buffer,n);const _="string"==typeof t?t:t.languageId;"string"!=typeof t&&(this._languageSelectionListener.value=t.onDidChange((()=>this._setLanguage(t.languageId)))),this._bracketPairs=this._register(new P(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new q.P(this,this._languageConfigurationService)),this._decorationProvider=this._register(new j(this)),this._tokenizationTextModelPart=this.instantiationService.createInstance(wt,this,this._bracketPairs,_,this._attachedViews);const p=this._buffer.getLineCount(),m=this._buffer.getValueLengthInRange(new g.Q(1,1,p,this._buffer.getLineLength(p)+1),0);n.largeFileOptimizations?(this._isTooLargeForTokenization=m>Nt.LARGE_FILE_SIZE_THRESHOLD||p>Nt.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=m>Nt.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=m>Nt._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=h.tk(At),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Wt,this._commandManager=new Q.z8(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange((()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))),this._languageService.requestRichLanguageFeatures(_),this._register(this._languageConfigurationService.onDidChange((e=>{this._bracketPairs.handleLanguageConfigurationServiceChange(e),this._tokenizationTextModelPart.handleLanguageConfigurationServiceChange(e)})))}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const e=new je([],"","\n",!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=a.jG.None}_assertNotDisposed(){if(this._isDisposed)throw new r.D7("Model is disposed!")}_emitContentChangedEvent(e,t){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(t),this._bracketPairs.handleDidChangeContent(t),this._eventEmitter.fire(new Ot.Ic(e,t)))}setValue(e){if(this._assertNotDisposed(),null==e)throw(0,r.Qg)();const{textBuffer:t,disposable:n}=Dt(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,n)}_createContentChanged2(e,t,n,i,s,r,o,a){return{changes:[{range:e,rangeOffset:t,rangeLength:n,text:i}],eol:this._buffer.getEOL(),isEolChange:a,versionId:this.getVersionId(),isUndoing:s,isRedoing:r,isFlush:o}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const n=this.getFullModelRange(),i=this.getValueLengthInRange(n),s=this.getLineCount(),r=this.getLineMaxColumn(s);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new Wt,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Ot.HP([new Ot.Wn],this._versionId,!1,!1),this._createContentChanged2(new g.Q(1,1,s,r),0,i,this.getValue(),!1,!1,!0,!1))}setEOL(e){this._assertNotDisposed();const t=1===e?"\r\n":"\n";if(this._buffer.getEOL()===t)return;const n=this.getFullModelRange(),i=this.getValueLengthInRange(n),s=this.getLineCount(),r=this.getLineMaxColumn(s);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Ot.HP([new Ot.mS],this._versionId,!1,!1),this._createContentChanged2(new g.Q(1,1,s,r),0,i,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let n=0,i=t.length;n<i;n++){const i=t[n],s=i.range,r=i.cachedAbsoluteStart-i.start,o=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),a=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);i.cachedAbsoluteStart=o,i.cachedAbsoluteEnd=a,i.cachedVersionId=e,i.start=o-r,i.end=a-r,me(i)}}onBeforeAttached(){return this._attachedEditorCount++,1===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(e){this._attachedEditorCount--,0===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(e)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const n=this._buffer.getLineCount();for(let i=1;i<=n;i++){const n=this._buffer.getLineLength(i);n>=1e4?t+=n:e+=n}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const t=void 0!==e.tabSize?e.tabSize:this._options.tabSize,n=void 0!==e.indentSize?e.indentSize:this._options.originalIndentSize,i=void 0!==e.insertSpaces?e.insertSpaces:this._options.insertSpaces,s=void 0!==e.trimAutoWhitespace?e.trimAutoWhitespace:this._options.trimAutoWhitespace,r=void 0!==e.bracketColorizationOptions?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,o=new C.X2({tabSize:t,indentSize:n,insertSpaces:i,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:s,bracketPairColorizationOptions:r});if(this._options.equals(o))return;const a=this._options.createChangeEvent(o);this._options=o,this._bracketPairs.handleDidChangeOptions(a),this._decorationProvider.handleDidChangeOptions(a),this._onDidChangeOptions.fire(a)}detectIndentation(e,t){this._assertNotDisposed();const n=X(this._buffer,t,e);this.updateOptions({insertSpaces:n.insertSpaces,tabSize:n.tabSize,indentSize:n.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),(0,u.P)(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(h._J.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map((e=>({range:e.range,text:null}))),(()=>null))}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new r.D7("Operation would exceed heap memory limits");const n=this.getFullModelRange(),i=this.getValueInRange(n,e);return t?this._buffer.getBOM()+i:i}createSnapshot(e=!1){return new zt(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const n=this.getFullModelRange(),i=this.getValueLengthInRange(n,e);return t?this._buffer.getBOM().length+i:i}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new r.D7("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new r.D7("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new r.D7("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new r.D7("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new r.D7("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new r.D7("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),n=e.startLineNumber,i=e.startColumn;let s=Math.floor("number"!=typeof n||isNaN(n)?1:n),r=Math.floor("number"!=typeof i||isNaN(i)?1:i);if(s<1)s=1,r=1;else if(s>t)s=t,r=this.getLineMaxColumn(s);else if(r<=1)r=1;else{const e=this.getLineMaxColumn(s);r>=e&&(r=e)}const o=e.endLineNumber,a=e.endColumn;let h=Math.floor("number"!=typeof o||isNaN(o)?1:o),l=Math.floor("number"!=typeof a||isNaN(a)?1:a);if(h<1)h=1,l=1;else if(h>t)h=t,l=this.getLineMaxColumn(h);else if(l<=1)l=1;else{const e=this.getLineMaxColumn(h);l>=e&&(l=e)}return n===s&&i===r&&o===h&&a===l&&e instanceof g.Q&&!(e instanceof f.L)?e:new g.Q(s,r,h,l)}_isValidPosition(e,t,n){if("number"!=typeof e||"number"!=typeof t)return!1;if(isNaN(e)||isNaN(t))return!1;if(e<1||t<1)return!1;if((0|e)!==e||(0|t)!==t)return!1;if(e>this._buffer.getLineCount())return!1;if(1===t)return!0;if(t>this.getLineMaxColumn(e))return!1;if(1===n){const n=this._buffer.getLineCharCode(e,t-2);if(h.pc(n))return!1}return!0}_validatePosition(e,t,n){const i=Math.floor("number"!=typeof e||isNaN(e)?1:e),s=Math.floor("number"!=typeof t||isNaN(t)?1:t),r=this._buffer.getLineCount();if(i<1)return new d.y(1,1);if(i>r)return new d.y(r,this.getLineMaxColumn(r));if(s<=1)return new d.y(i,1);const o=this.getLineMaxColumn(i);if(s>=o)return new d.y(i,o);if(1===n){const e=this._buffer.getLineCharCode(i,s-2);if(h.pc(e))return new d.y(i,s-1)}return new d.y(i,s)}validatePosition(e){return this._assertNotDisposed(),e instanceof d.y&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const n=e.startLineNumber,i=e.startColumn,s=e.endLineNumber,r=e.endColumn;if(!this._isValidPosition(n,i,0))return!1;if(!this._isValidPosition(s,r,0))return!1;if(1===t){const e=i>1?this._buffer.getLineCharCode(n,i-2):0,t=r>1&&r<=this._buffer.getLineLength(s)?this._buffer.getLineCharCode(s,r-2):0,o=h.pc(e),a=h.pc(t);return!o&&!a}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof g.Q&&!(e instanceof f.L)&&this._isValidRange(e,1))return e;const t=this._validatePosition(e.startLineNumber,e.startColumn,0),n=this._validatePosition(e.endLineNumber,e.endColumn,0),i=t.lineNumber,s=t.column,r=n.lineNumber,o=n.column;{const e=s>1?this._buffer.getLineCharCode(i,s-2):0,t=o>1&&o<=this._buffer.getLineLength(r)?this._buffer.getLineCharCode(r,o-2):0,n=h.pc(e),a=h.pc(t);return n||a?i===r&&s===o?new g.Q(i,s-1,r,o-1):n&&a?new g.Q(i,s-1,r,o+1):n?new g.Q(i,s-1,r,o):new g.Q(i,s,r,o+1):new g.Q(i,s,r,o)}}modifyPosition(e,t){this._assertNotDisposed();const n=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,n)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new g.Q(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,n,i){return this._buffer.findMatchesLineByLine(e,t,n,i)}findMatches(e,t,n,i,s,r,o=999){this._assertNotDisposed();let a=null;null!==t&&(Array.isArray(t)||(t=[t]),t.every((e=>g.Q.isIRange(e)))&&(a=t.map((e=>this.validateRange(e))))),null===a&&(a=[this.getFullModelRange()]),a=a.sort(((e,t)=>e.startLineNumber-t.startLineNumber||e.startColumn-t.startColumn));const h=[];let l;if(h.push(a.reduce(((e,t)=>g.Q.areIntersecting(e,t)?e.plusRange(t):(h.push(e),t)))),!n&&e.indexOf("\n")<0){const t=new Re.lt(e,n,i,s).parseSearchRequest();if(!t)return[];l=e=>this.findMatchesLineByLine(e,t,r,o)}else l=t=>Re.hB.findMatches(this,new Re.lt(e,n,i,s),t,r,o);return h.map(l).reduce(((e,t)=>e.concat(t)),[])}findNextMatch(e,t,n,i,s,r){this._assertNotDisposed();const o=this.validatePosition(t);if(!n&&e.indexOf("\n")<0){const t=new Re.lt(e,n,i,s).parseSearchRequest();if(!t)return null;const a=this.getLineCount();let h=new g.Q(o.lineNumber,o.column,a,this.getLineMaxColumn(a)),l=this.findMatchesLineByLine(h,t,r,1);return Re.hB.findNextMatch(this,new Re.lt(e,n,i,s),o,r),l.length>0?l[0]:(h=new g.Q(1,1,o.lineNumber,this.getLineMaxColumn(o.lineNumber)),l=this.findMatchesLineByLine(h,t,r,1),l.length>0?l[0]:null)}return Re.hB.findNextMatch(this,new Re.lt(e,n,i,s),o,r)}findPreviousMatch(e,t,n,i,s,r){this._assertNotDisposed();const o=this.validatePosition(t);return Re.hB.findPreviousMatch(this,new Re.lt(e,n,i,s),o,r)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if(("\n"===this.getEOL()?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof C.Wo?e:new C.Wo(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let n=0,i=e.length;n<i;n++)t[n]=this._validateEditOperation(e[n]);return t}pushEditOperations(e,t,n,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),n,i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,n,i){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const n=t.map((e=>({range:this.validateRange(e.range),text:e.text})));let i=!0;if(e)for(let t=0,s=e.length;t<s;t++){const s=e[t];let r=!1;for(let e=0,t=n.length;e<t;e++){const t=n[e].range,i=t.startLineNumber>s.endLineNumber,o=s.startLineNumber>t.endLineNumber;if(!i&&!o){r=!0;break}}if(!r){i=!1;break}}if(i)for(let e=0,i=this._trimAutoWhitespaceLines.length;e<i;e++){const i=this._trimAutoWhitespaceLines[e],s=this.getLineMaxColumn(i);let r=!0;for(let e=0,t=n.length;e<t;e++){const t=n[e].range,o=n[e].text;if(!(i<t.startLineNumber||i>t.endLineNumber||i===t.startLineNumber&&t.startColumn===s&&t.isEmpty()&&o&&o.length>0&&"\n"===o.charAt(0)||i===t.startLineNumber&&1===t.startColumn&&t.isEmpty()&&o&&o.length>0&&"\n"===o.charAt(o.length-1))){r=!1;break}}if(r){const e=new g.Q(i,1,i,s);t.push(new C.Wo(null,e,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,n,i)}_applyUndo(e,t,n,i){const s=e.map((e=>{const t=this.getPositionAt(e.newPosition),n=this.getPositionAt(e.newEnd);return{range:new g.Q(t.lineNumber,t.column,n.lineNumber,n.column),text:e.oldText}}));this._applyUndoRedoEdits(s,t,!0,!1,n,i)}_applyRedo(e,t,n,i){const s=e.map((e=>{const t=this.getPositionAt(e.oldPosition),n=this.getPositionAt(e.oldEnd);return{range:new g.Q(t.lineNumber,t.column,n.lineNumber,n.column),text:e.newText}}));this._applyUndoRedoEdits(s,t,!1,!0,n,i)}_applyUndoRedoEdits(e,t,n,i,s,r){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=n,this._isRedoing=i,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(s)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(r),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const n=this._validateEditOperations(e);return this._doApplyEdits(n,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const n=this._buffer.getLineCount(),s=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),r=this._buffer.getLineCount(),o=s.changes;if(this._trimAutoWhitespaceLines=s.trimAutoWhitespaceLineNumbers,0!==o.length){for(let e=0,t=o.length;e<t;e++){const t=o[e];this._decorationsTree.acceptReplace(t.rangeOffset,t.rangeLength,t.text.length,t.forceMoveMarkers)}const e=[];this._increaseVersionId();let t=n;for(let n=0,s=o.length;n<s;n++){const s=o[n],[a]=(0,c.W)(s.text);this._onDidChangeDecorations.fire();const h=s.range.startLineNumber,l=s.range.endLineNumber,u=l-h,g=a,f=Math.min(u,g),_=g-u,p=r-t-_+h,m=p,C=p+g,k=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new d.y(m,1)),this.getOffsetAt(new d.y(C,this.getLineMaxColumn(C))),0),b=Ot.uK.fromDecorations(k),L=new i.j3(b);for(let t=f;t>=0;t--){const n=h+t,i=p+t;L.takeFromEndWhile((e=>e.lineNumber>i));const s=L.takeFromEndWhile((e=>e.lineNumber===i));e.push(new Ot.U0(n,this.getLineContent(i),s))}if(f<u){const t=h+f;e.push(new Ot.E$(t+1,l))}if(f<g){const n=new i.j3(b),s=h+f,o=g-f,a=r-t-o+s+1,l=[],c=[];for(let e=0;e<o;e++){const t=a+e;c[e]=this.getLineContent(t),n.takeWhile((e=>e.lineNumber<t)),l[e]=n.takeWhile((e=>e.lineNumber===t))}e.push(new Ot.bg(s+1,h+g,c,l))}t+=_}this._emitContentChangedEvent(new Ot.HP(e,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:o,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===s.reverseEdits?void 0:s.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(null===e||0===e.size)return;const t=Array.from(e).map((e=>new Ot.U0(e,this.getLineContent(e),this._getInjectedTextInLine(e))));this._onDidChangeInjectedText.fire(new Ot.vn(t))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const n={addDecoration:(t,n)=>this._deltaDecorationsImpl(e,[],[{range:t,options:n}])[0],changeDecoration:(e,t)=>{this._changeDecorationImpl(e,t)},changeDecorationOptions:(e,t)=>{this._changeDecorationOptionsImpl(e,Kt(t))},removeDecoration:t=>{this._deltaDecorationsImpl(e,[t],[])},deltaDecorations:(t,n)=>0===t.length&&0===n.length?[]:this._deltaDecorationsImpl(e,t,n)};let i=null;try{i=t(n)}catch(e){(0,r.dz)(e)}return n.addDecoration=Pt,n.changeDecoration=Pt,n.changeDecorationOptions=Pt,n.removeDecoration=Pt,n.deltaDecorations=Pt,i}deltaDecorations(e,t,n=0){if(this._assertNotDisposed(),e||(e=[]),0===e.length&&0===t.length)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,r.dz)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(n,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,n){const i=e?this._decorations[e]:null;if(!i)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:Xt[n]}],!0)[0]:null;if(!t)return this._decorationsTree.delete(i),delete this._decorations[i.id],null;const s=this._validateRangeRelaxedNoAllocations(t),r=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),o=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);return this._decorationsTree.delete(i),i.reset(this.getVersionId(),r,o,s),i.setOptions(Xt[n]),this._decorationsTree.insert(i),i.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let e=0,n=t.length;e<n;e++){const n=t[e];this._decorationsTree.delete(n),delete this._decorations[n.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,n=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,n)}getLinesDecorations(e,t,n=0,s=!1,r=!1){const o=this.getLineCount(),a=Math.min(o,Math.max(1,e)),h=Math.min(o,Math.max(1,t)),l=this.getLineMaxColumn(h),c=new g.Q(a,1,h,l),u=this._getDecorationsInRange(c,n,s,r);return(0,i.E4)(u,this._decorationProvider.getDecorationsInRange(c,n,s)),u}getDecorationsInRange(e,t=0,n=!1,s=!1,r=!1){const o=this.validateRange(e),a=this._getDecorationsInRange(o,t,n,r);return(0,i.E4)(a,this._decorationProvider.getDecorationsInRange(o,t,n,s)),a}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0,!1)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),n=t+this._buffer.getLineLength(e),i=this._decorationsTree.getInjectedTextInInterval(this,t,n,0);return Ot.uK.fromDecorations(i).filter((t=>t.lineNumber===e))}getAllDecorations(e=0,t=!1){let n=this._decorationsTree.getAll(this,e,t,!1,!1);return n=n.concat(this._decorationProvider.getAllDecorations(e,t)),n}getAllMarginDecorations(e=0){return this._decorationsTree.getAll(this,e,!1,!1,!0)}_getDecorationsInRange(e,t,n,i){const s=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),r=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,s,r,t,n,i)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const n=this._decorations[e];if(!n)return;if(n.options.after){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.endLineNumber)}if(n.options.before){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.startLineNumber)}const i=this._validateRangeRelaxedNoAllocations(t),s=this._buffer.getOffsetAt(i.startLineNumber,i.startColumn),r=this._buffer.getOffsetAt(i.endLineNumber,i.endColumn);this._decorationsTree.delete(n),n.reset(this.getVersionId(),s,r,i),this._decorationsTree.insert(n),this._onDidChangeDecorations.checkAffectedAndFire(n.options),n.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(i.endLineNumber),n.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(i.startLineNumber)}_changeDecorationOptionsImpl(e,t){const n=this._decorations[e];if(!n)return;const i=!(!n.options.overviewRuler||!n.options.overviewRuler.color),s=!(!t.overviewRuler||!t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(n.options),this._onDidChangeDecorations.checkAffectedAndFire(t),n.options.after||t.after){const e=this._decorationsTree.getNodeRange(this,n);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(n.options.before||t.before){const e=this._decorationsTree.getNodeRange(this,n);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}const r=i!==s,o=function(e){return!!e.after||!!e.before}(t)!==Vt(n);r||o?(this._decorationsTree.delete(n),n.setOptions(t),this._decorationsTree.insert(n)):n.setOptions(t)}_deltaDecorationsImpl(e,t,n,i=!1){const s=this.getVersionId(),r=t.length;let o=0;const a=n.length;let h=0;this._onDidChangeDecorations.beginDeferredEmit();try{const l=new Array(a);for(;o<r||h<a;){let c=null;if(o<r){do{c=this._decorations[t[o++]]}while(!c&&o<r);if(c){if(c.options.after){const e=this._decorationsTree.getNodeRange(this,c);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(c.options.before){const e=this._decorationsTree.getNodeRange(this,c);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}this._decorationsTree.delete(c),i||this._onDidChangeDecorations.checkAffectedAndFire(c.options)}}if(h<a){if(!c){const e=++this._lastDecorationId,t=`${this._instanceId};${e}`;c=new oe(t,0,0),this._decorations[t]=c}const t=n[h],r=this._validateRangeRelaxedNoAllocations(t.range),o=Kt(t.options),a=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),u=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);c.ownerId=e,c.reset(s,a,u,r),c.setOptions(o),c.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.endLineNumber),c.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.startLineNumber),i||this._onDidChangeDecorations.checkAffectedAndFire(o),this._decorationsTree.insert(c),l[h]=c.id,h++}else c&&delete this._decorations[c.id]}return l}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(e,t){"string"==typeof e?(this._languageSelectionListener.clear(),this._setLanguage(e,t)):(this._languageSelectionListener.value=e.onDidChange((()=>this._setLanguage(e.languageId,t))),this._setLanguage(e.languageId,t))}_setLanguage(e,t){this.tokenization.setLanguageId(e,t),this._languageService.requestRichLanguageFeatures(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return function(e){let t=0;for(const n of e){if(" "!==n&&"\t"!==n)break;t++}return t}(this.getLineContent(e))+1}};function Ft(e){return!(!e.options.overviewRuler||!e.options.overviewRuler.color)}function Vt(e){return!!e.options.after||!!e.options.before}yt=Nt=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([Mt(4,Rt.$D),Mt(5,p.L),Mt(6,m.JZ),Mt(7,Bt._Y)],yt);class Wt{constructor(){this._decorationsTree0=new he,this._decorationsTree1=new he,this._injectedTextDecorationsTree=new he}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1,!1)}_ensureNodesHaveRanges(e,t){for(const n of t)null===n.range&&(n.range=e.getRangeAt(n.cachedAbsoluteStart,n.cachedAbsoluteEnd));return t}getAllInInterval(e,t,n,i,s,r){const o=e.getVersionId(),a=this._intervalSearch(t,n,i,s,o,r);return this._ensureNodesHaveRanges(e,a)}_intervalSearch(e,t,n,i,s,r){const o=this._decorationsTree0.intervalSearch(e,t,n,i,s,r),a=this._decorationsTree1.intervalSearch(e,t,n,i,s,r),h=this._injectedTextDecorationsTree.intervalSearch(e,t,n,i,s,r);return o.concat(a).concat(h)}getInjectedTextInInterval(e,t,n,i){const s=e.getVersionId(),r=this._injectedTextDecorationsTree.intervalSearch(t,n,i,!1,s,!1);return this._ensureNodesHaveRanges(e,r).filter((e=>e.options.showIfCollapsed||!e.range.isEmpty()))}getAllInjectedText(e,t){const n=e.getVersionId(),i=this._injectedTextDecorationsTree.search(t,!1,n,!1);return this._ensureNodesHaveRanges(e,i).filter((e=>e.options.showIfCollapsed||!e.range.isEmpty()))}getAll(e,t,n,i,s){const r=e.getVersionId(),o=this._search(t,n,i,r,s);return this._ensureNodesHaveRanges(e,o)}_search(e,t,n,i,s){if(n)return this._decorationsTree1.search(e,t,i,s);{const n=this._decorationsTree0.search(e,t,i,s),r=this._decorationsTree1.search(e,t,i,s),o=this._injectedTextDecorationsTree.search(e,t,i,s);return n.concat(r).concat(o)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),n=this._decorationsTree1.collectNodesFromOwner(e),i=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(n).concat(i)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),n=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(n)}insert(e){Vt(e)?this._injectedTextDecorationsTree.insert(e):Ft(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){Vt(e)?this._injectedTextDecorationsTree.delete(e):Ft(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const n=e.getVersionId();return t.cachedVersionId!==n&&this._resolveNode(t,n),null===t.range&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){Vt(e)?this._injectedTextDecorationsTree.resolveNode(e,t):Ft(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,n,i){this._decorationsTree0.acceptReplace(e,t,n,i),this._decorationsTree1.acceptReplace(e,t,n,i),this._injectedTextDecorationsTree.acceptReplace(e,t,n,i)}}function Ut(e){return e.replace(/[^a-z0-9\-_]/gi," ")}class jt{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class Ht extends jt{constructor(e){super(e),this._resolvedColor=null,this.position="number"==typeof e.position?e.position:C.A5.Center}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if("string"==typeof e)return e;const n=e?t.getColor(e.id):null;return n?n.toString():""}}class Qt{constructor(e){this.position=e?.position??C.ZS.Center,this.persistLane=e?.persistLane}}class qt extends jt{constructor(e){super(e),this.position=e.position,this.sectionHeaderStyle=e.sectionHeaderStyle??null,this.sectionHeaderText=e.sectionHeaderText??null}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return"string"==typeof e?s.Q1.fromHex(e):t.getColor(e.id)}}class Gt{static from(e){return e instanceof Gt?e:new Gt(e)}constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}}class $t{static register(e){return new $t(e)}static createDynamic(e){return new $t(e)}constructor(e){this.description=e.description,this.blockClassName=e.blockClassName?Ut(e.blockClassName):null,this.blockDoesNotCollapse=e.blockDoesNotCollapse??null,this.blockIsAfterEnd=e.blockIsAfterEnd??null,this.blockPadding=e.blockPadding??null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Ut(e.className):null,this.shouldFillLineOnLineBreak=e.shouldFillLineOnLineBreak??null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=e.lineNumberHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new Ht(e.overviewRuler):null,this.minimap=e.minimap?new qt(e.minimap):null,this.glyphMargin=e.glyphMarginClassName?new Qt(e.glyphMargin):null,this.glyphMarginClassName=e.glyphMarginClassName?Ut(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Ut(e.linesDecorationsClassName):null,this.lineNumberClassName=e.lineNumberClassName?Ut(e.lineNumberClassName):null,this.linesDecorationsTooltip=e.linesDecorationsTooltip?h.jy(e.linesDecorationsTooltip):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?Ut(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?Ut(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Ut(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Ut(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Ut(e.afterContentClassName):null,this.after=e.after?Gt.from(e.after):null,this.before=e.before?Gt.from(e.before):null,this.hideInCommentTokens=e.hideInCommentTokens??!1,this.hideInStringTokens=e.hideInStringTokens??!1}}$t.EMPTY=$t.register({description:"empty"});const Xt=[$t.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),$t.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),$t.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),$t.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Kt(e){return e instanceof $t?e:$t.createDynamic(e)}class Yt extends a.jG{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new o.vl),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){this._deferredCnt--,0===this._deferredCnt&&(this._shouldFireDeferred&&this.doFire(),this._affectedInjectedTextLines?.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||=!!e.minimap?.position,this._affectsOverviewRuler||=!!e.overviewRuler?.color,this._affectsGlyphMargin||=!!e.glyphMarginClassName,this._affectsLineNumber||=!!e.lineNumberClassName,this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){0===this._deferredCnt?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(e)}}class Zt extends a.jG{constructor(){super(),this._fastEmitter=this._register(new o.vl),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new o.vl),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))}}},2177:(e,t,n)=>{n.d(t,{_:()=>s});var i=n(998);class s extends i.jG{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},969:(e,t,n)=>{function i(e,t){let n=0,i=0;const s=e.length;for(;i<s;){const s=e.charCodeAt(i);if(32===s)n++;else{if(9!==s)break;n=n-n%t+t}i++}return i===s?-1:n}n.d(t,{G:()=>i})},931:(e,t,n)=>{n.r(t),n.d(t,{DefaultModelSHA1Computer:()=>x,ModelService:()=>T});var i,s=n(2106),r=n(998),o=n(3339),a=n(1907),h=n(2590),l=n(4957),c=n(1504),u=n(5753),d=n(8803),g=n(2344),f=n(4296),_=n(3072),p=n(1386),m=n(2399),C=function(e,t){return function(n,i){t(n,i,e)}};function k(e){return e.toString()}class b{constructor(e,t,n){this.model=e,this._modelEventListeners=new r.Cm,this.model=e,this._modelEventListeners.add(e.onWillDispose((()=>t(e)))),this._modelEventListeners.add(e.onDidChangeLanguage((t=>n(e,t))))}dispose(){this._modelEventListeners.dispose()}}const L=o.j9||o.zx?1:2;class I{constructor(e,t,n,i,s,r,o,a){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=n,this.sharesUndoRedoStack=i,this.heapSize=s,this.sha1=r,this.versionId=o,this.alternativeVersionId=a}}let T=class extends r.jG{static{i=this}static{this.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520}constructor(e,t,n,i){super(),this._configurationService=e,this._resourcePropertiesService=t,this._undoRedoService=n,this._instantiationService=i,this._onModelAdded=this._register(new s.vl),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new s.vl),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new s.vl),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration((e=>this._updateModelOptions(e)))),this._updateModelOptions(void 0)}static _readModelOptions(e,t){let n=h.R.tabSize;if(e.editor&&void 0!==e.editor.tabSize){const t=parseInt(e.editor.tabSize,10);isNaN(t)||(n=t),n<1&&(n=1)}let i="tabSize";if(e.editor&&void 0!==e.editor.indentSize&&"tabSize"!==e.editor.indentSize){const t=parseInt(e.editor.indentSize,10);isNaN(t)||(i=Math.max(t,1))}let s=h.R.insertSpaces;e.editor&&void 0!==e.editor.insertSpaces&&(s="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));let r=L;const o=e.eol;"\r\n"===o?r=2:"\n"===o&&(r=1);let a=h.R.trimAutoWhitespace;e.editor&&void 0!==e.editor.trimAutoWhitespace&&(a="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));let l=h.R.detectIndentation;e.editor&&void 0!==e.editor.detectIndentation&&(l="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));let c=h.R.largeFileOptimizations;e.editor&&void 0!==e.editor.largeFileOptimizations&&(c="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations));let u=h.R.bracketPairColorizationOptions;return e.editor?.bracketPairColorization&&"object"==typeof e.editor.bracketPairColorization&&(u={enabled:!!e.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!e.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:t,tabSize:n,indentSize:i,insertSpaces:s,detectIndentation:l,defaultEOL:r,trimAutoWhitespace:a,largeFileOptimizations:c,bracketPairColorizationOptions:u}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const n=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return n&&"string"==typeof n&&"auto"!==n?n:3===o.OS||2===o.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof e||e}getCreationOptions(e,t,n){const s="string"==typeof e?e:e.languageId;let r=this._modelCreationOptionsByLanguageAndResource[s+t];if(!r){const e=this._configurationService.getValue("editor",{overrideIdentifier:s,resource:t}),o=this._getEOL(t,s);r=i._readModelOptions({editor:e,eol:o},n),this._modelCreationOptionsByLanguageAndResource[s+t]=r}return r}_updateModelOptions(e){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const n=Object.keys(this._models);for(let s=0,r=n.length;s<r;s++){const r=n[s],o=this._models[r],a=o.model.getLanguageId(),h=o.model.uri;if(e&&!e.affectsConfiguration("editor",{overrideIdentifier:a,resource:h})&&!e.affectsConfiguration("files.eol",{overrideIdentifier:a,resource:h}))continue;const l=t[a+h],c=this.getCreationOptions(a,h,o.model.isForSimpleWidget);i._setModelOptionsForModel(o.model,c,l)}}static _setModelOptionsForModel(e,t,n){n&&n.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),n&&n.detectIndentation===t.detectIndentation&&n.insertSpaces===t.insertSpaces&&n.tabSize===t.tabSize&&n.indentSize===t.indentSize&&n.trimAutoWhitespace===t.trimAutoWhitespace&&(0,p.aI)(n.bracketPairColorizationOptions,t.bracketPairColorizationOptions)||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(k(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(k(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(k(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach((e=>{e.sharesUndoRedoStack||t.push(e)})),t.sort(((e,t)=>e.time-t.time));t.length>0&&this._disposedModelsHeapSize>e;){const e=t.shift();this._removeDisposedModel(e.uri),null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}}}_createModelData(e,t,n,i){const s=this.getCreationOptions(t,n,i),r=this._instantiationService.createInstance(a.Bz,e,t,s,n);if(n&&this._disposedModels.has(k(n))){const e=this._removeDisposedModel(n),t=this._undoRedoService.getElements(n),i=this._getSHA1Computer(),s=!!i.canComputeSHA1(r)&&i.computeSHA1(r)===e.sha1;if(s||e.sharesUndoRedoStack){for(const e of t.past)(0,f.Th)(e)&&e.matchesResource(n)&&e.setModel(r);for(const e of t.future)(0,f.Th)(e)&&e.matchesResource(n)&&e.setModel(r);this._undoRedoService.setElementsValidFlag(n,!0,(e=>(0,f.Th)(e)&&e.matchesResource(n))),s&&(r._overwriteVersionId(e.versionId),r._overwriteAlternativeVersionId(e.alternativeVersionId),r._overwriteInitialUndoRedoSnapshot(e.initialUndoRedoSnapshot))}else null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}const o=k(r.uri);if(this._models[o])throw new Error("ModelService: Cannot add model because it already exists!");const h=new b(r,(e=>this._onWillDispose(e)),((e,t)=>this._onDidChangeLanguage(e,t)));return this._models[o]=h,h}createModel(e,t,n,i=!1){let s;return s=t?this._createModelData(e,t,n,i):this._createModelData(e,l.vH,n,i),this._onModelAdded.fire(s.model),s.model}getModels(){const e=[],t=Object.keys(this._models);for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(this._models[i].model)}return e}getModel(e){const t=k(e),n=this._models[t];return n?n.model:null}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===_.ny.file||e.scheme===_.ny.vscodeRemote||e.scheme===_.ny.vscodeUserData||e.scheme===_.ny.vscodeNotebookCell||"fake-fs"===e.scheme}_onWillDispose(e){const t=k(e.uri),n=this._models[t],s=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let r=!1,o=0;if(s||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){const t=this._undoRedoService.getElements(e.uri);if(t.past.length>0||t.future.length>0){for(const n of t.past)(0,f.Th)(n)&&n.matchesResource(e.uri)&&(r=!0,o+=n.heapSize(e.uri),n.setModel(e.uri));for(const n of t.future)(0,f.Th)(n)&&n.matchesResource(e.uri)&&(r=!0,o+=n.heapSize(e.uri),n.setModel(e.uri))}}const a=i.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,h=this._getSHA1Computer();if(r)if(s||!(o>a)&&h.canComputeSHA1(e))this._ensureDisposedModelsHeapSize(a-o),this._undoRedoService.setElementsValidFlag(e.uri,!1,(t=>(0,f.Th)(t)&&t.matchesResource(e.uri))),this._insertDisposedModel(new I(e.uri,n.model.getInitialUndoRedoSnapshot(),Date.now(),s,o,h.computeSHA1(e),e.getVersionId(),e.getAlternativeVersionId()));else{const e=n.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}else if(!s){const e=n.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}delete this._models[t],n.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const n=t.oldLanguage,s=e.getLanguageId(),r=this.getCreationOptions(n,e.uri,e.isForSimpleWidget),o=this.getCreationOptions(s,e.uri,e.isForSimpleWidget);i._setModelOptionsForModel(e,o,r),this._onModelModeChanged.fire({model:e,oldLanguageId:n})}_getSHA1Computer(){return new x}};T=i=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([C(0,u.pG),C(1,c.ITextResourcePropertiesService),C(2,d.$D),C(3,m._Y)],T);class x{static{this.MAX_MODEL_SIZE=10485760}canComputeSHA1(e){return e.getValueLength()<=x.MAX_MODEL_SIZE}computeSHA1(e){const t=new g.v7,n=e.createSnapshot();let i;for(;i=n.read();)t.update(i);return t.digest()}}},1504:(e,t,n)=>{n.r(t),n.d(t,{ITextResourceConfigurationService:()=>s,ITextResourcePropertiesService:()=>r});var i=n(2399);const s=(0,i.u1)("textResourceConfigurationService"),r=(0,i.u1)("textResourcePropertiesService")},5320:(e,t,n)=>{n.r(t),n.d(t,{ITreeSitterParserService:()=>i});const i=(0,n(2399).u1)("treeSitterParserService")},3455:(e,t,n)=>{n.d(t,{E$:()=>o,HP:()=>l,Ic:()=>u,U0:()=>r,Wn:()=>i,bg:()=>a,mS:()=>h,uK:()=>s,vn:()=>c});class i{constructor(){this.changeType=1}}class s{static applyInjectedText(e,t){if(!t||0===t.length)return e;let n="",i=0;for(const s of t)n+=e.substring(i,s.column-1),i=s.column-1,n+=s.options.content;return n+=e.substring(i),n}static fromDecorations(e){const t=[];for(const n of e)n.options.before&&n.options.before.content.length>0&&t.push(new s(n.ownerId,n.range.startLineNumber,n.range.startColumn,n.options.before,0)),n.options.after&&n.options.after.content.length>0&&t.push(new s(n.ownerId,n.range.endLineNumber,n.range.endColumn,n.options.after,1));return t.sort(((e,t)=>e.lineNumber===t.lineNumber?e.column===t.column?e.order-t.order:e.column-t.column:e.lineNumber-t.lineNumber)),t}constructor(e,t,n,i,s){this.ownerId=e,this.lineNumber=t,this.column=n,this.options=i,this.order=s}}class r{constructor(e,t,n){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=n}}class o{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class a{constructor(e,t,n,i){this.changeType=4,this.injectedTexts=i,this.fromLineNumber=e,this.toLineNumber=t,this.detail=n}}class h{constructor(){this.changeType=5}}class l{constructor(e,t,n,i){this.changes=e,this.versionId=t,this.isUndoing=n,this.isRedoing=i,this.resultingSelection=null}containsEvent(e){for(let t=0,n=this.changes.length;t<n;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){const n=[].concat(e.changes).concat(t.changes),i=t.versionId,s=e.isUndoing||t.isUndoing,r=e.isRedoing||t.isRedoing;return new l(n,i,s,r)}}class c{constructor(e){this.changes=e}}class u{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=l.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),n=u._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new u(t,n)}static _mergeChangeEvents(e,t){const n=[].concat(e.changes).concat(t.changes),i=t.eol,s=t.versionId,r=e.isUndoing||t.isUndoing,o=e.isRedoing||t.isRedoing,a=e.isFlush||t.isFlush;return{changes:n,eol:i,isEolChange:e.isEolChange&&t.isEolChange,versionId:s,isUndoing:r,isRedoing:o,isFlush:a}}}},779:(e,t,n)=>{var i;n.d(t,{N6:()=>i,TH:()=>s,pv:()=>r}),function(e){e[e.Disabled=0]="Disabled",e[e.EnabledForActive=1]="EnabledForActive",e[e.Enabled=2]="Enabled"}(i||(i={}));class s{constructor(e,t,n,i,s,r){if(this.visibleColumn=e,this.column=t,this.className=n,this.horizontalLine=i,this.forWrappedLinesAfterColumn=s,this.forWrappedLinesBeforeOrAtColumn=r,-1!==e==(-1!==t))throw new Error}}class r{constructor(e,t){this.top=e,this.endColumn=t}}},7445:(e,t,n)=>{n.d(t,{T:()=>o,f:()=>s});var i=n(5910);class s{static{this.defaultTokenMetadata=33587200}static createEmpty(e,t){const n=s.defaultTokenMetadata,i=new Uint32Array(2);return i[0]=e.length,i[1]=n,new s(i,e,t)}static createFromTextAndMetadata(e,t){let n=0,i="";const r=new Array;for(const{text:t,metadata:s}of e)r.push(n+t.length,s),n+=t.length,i+=t;return new s(new Uint32Array(r),i,t)}constructor(e,t,n){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this.languageIdCodec=n}equals(e){return e instanceof s&&this.slicedEquals(e,0,this._tokensCount)}slicedEquals(e,t,n){if(this._text!==e._text)return!1;if(this._tokensCount!==e._tokensCount)return!1;const i=t<<1,s=i+(n<<1);for(let t=i;t<s;t++)if(this._tokens[t]!==e._tokens[t])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[1+(e<<1)]}getLanguageId(e){const t=this._tokens[1+(e<<1)],n=i.x.getLanguageId(t);return this.languageIdCodec.decodeLanguageId(n)}getStandardTokenType(e){const t=this._tokens[1+(e<<1)];return i.x.getTokenType(t)}getForeground(e){const t=this._tokens[1+(e<<1)];return i.x.getForeground(t)}getClassName(e){const t=this._tokens[1+(e<<1)];return i.x.getClassNameFromMetadata(t)}getInlineStyle(e,t){const n=this._tokens[1+(e<<1)];return i.x.getInlineStyleFromMetadata(n,t)}getPresentation(e){const t=this._tokens[1+(e<<1)];return i.x.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return s.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,n){return new r(this,e,t,n)}static convertToEndOffset(e,t){const n=(e.length>>>1)-1;for(let t=0;t<n;t++)e[t<<1]=e[t+1<<1];e[n<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let n=0,i=(e.length>>>1)-1;for(;n<i;){const s=n+Math.floor((i-n)/2),r=e[s<<1];if(r===t)return s+1;r<t?n=s+1:r>t&&(i=s)}return n}withInserted(e){if(0===e.length)return this;let t=0,n=0,i="";const r=new Array;let o=0;for(;;){const s=t<this._tokensCount?this._tokens[t<<1]:-1,a=n<e.length?e[n]:null;if(-1!==s&&(null===a||s<=a.offset)){i+=this._text.substring(o,s);const e=this._tokens[1+(t<<1)];r.push(i.length,e),t++,o=s}else{if(!a)break;if(a.offset>o){i+=this._text.substring(o,a.offset);const e=this._tokens[1+(t<<1)];r.push(i.length,e),o=a.offset}i+=a.text,r.push(i.length,a.tokenMetadata),n++}}return new s(new Uint32Array(r),i,this.languageIdCodec)}getTokenText(e){const t=this.getStartOffset(e),n=this.getEndOffset(e);return this._text.substring(t,n)}forEach(e){const t=this.getCount();for(let n=0;n<t;n++)e(n)}}class r{constructor(e,t,n,i){this._source=e,this._startOffset=t,this._endOffset=n,this._deltaOffset=i,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this.languageIdCodec=e.languageIdCodec,this._tokensCount=0;for(let t=this._firstTokenIndex,i=e.getCount();t<i&&!(e.getStartOffset(t)>=n);t++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof r&&this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getStandardTokenType(e){return this._source.getStandardTokenType(this._firstTokenIndex+e)}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}getTokenText(e){const t=this._firstTokenIndex+e,n=this._source.getStartOffset(t),i=this._source.getEndOffset(t);let s=this._source.getTokenText(t);return n<this._startOffset&&(s=s.substring(this._startOffset-n)),i>this._endOffset&&(s=s.substring(0,s.length-(i-this._endOffset))),s}forEach(e){for(let t=0;t<this.getCount();t++)e(t)}}function o(e,t){const n=t.lineNumber;if(!e.tokenization.isCheapToTokenize(n))return;e.tokenization.forceTokenization(n);const i=e.tokenization.getLineTokens(n),s=i.findTokenIndexAtOffset(t.column-1);return i.getStandardTokenType(s)}},3312:(e,t,n)=>{n.d(t,{d:()=>i});class i{constructor(e,t=[],n=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=n}}},6726:(e,t,n)=>{n.d(t,{N:()=>o,v:()=>r});var i=n(3312);const s=[];function r(e,t,n){t instanceof i.d||(t=new i.d(t,[],Boolean(n))),s.push([e,t])}function o(){return s}},8803:(e,t,n)=>{n.d(t,{$D:()=>i,I_:()=>r,To:()=>s,Ym:()=>o});const i=(0,n(2399).u1)("undoRedoService");class s{constructor(e,t){this.resource=e,this.elements=t}}class r{static{this._ID=0}constructor(){this.id=r._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}static{this.None=new r}}class o{static{this._ID=0}constructor(){this.id=o._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}static{this.None=new o}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SzZ6RSxJQUFNLENBQUcsQ0FDdkIsV0FBQTl6RSxHQUNJQyxLQUFLeWxDLEdBQUttdUMsRUFBY0MsTUFDeEI3ekUsS0FBSytZLE1BQVEsQ0FDakIsQ0FDQSxTQUFBKzZELEdBQ0ksT0FBZ0IsSUFBWjl6RSxLQUFLeWxDLEdBQ0UsRUFFSnpsQyxLQUFLK1ksT0FDaEIsUUFDUy9ZLEtBQUsrNEQsS0FBTyxJQUFJNmEsQ0FBaUIsRUFFdkMsTUFBTUcsU0FDQS96RSxLQUFLNnpFLElBQU0sQ0FBRyxDQUN2QixXQUFBOXpFLEdBQ0lDLEtBQUt5bEMsR0FBS3N1QyxFQUFlRixNQUN6Qjd6RSxLQUFLK1ksTUFBUSxDQUNqQixDQUNBLFNBQUErNkQsR0FDSSxPQUFnQixJQUFaOXpFLEtBQUt5bEMsR0FDRSxFQUVKemxDLEtBQUsrWSxPQUNoQixRQUNTL1ksS0FBSys0RCxLQUFPLElBQUlnYixDQUFrQixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9idWZmZXIuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2NvcmUvY3Vyc29yQ29sdW1ucy5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vY29yZS9pbmRlbnRhdGlvbi5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vY29yZS9zdHJpbmdCdWlsZGVyLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9jb3JlL3RleHRDaGFuZ2UuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2NvcmUvdGV4dE1vZGVsRGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2xhbmd1YWdlcy9sYW5ndWFnZUNvbmZpZ3VyYXRpb24uanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2xhbmd1YWdlcy9zdXBwb3J0cy9jaGFyYWN0ZXJQYWlyLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9sYW5ndWFnZXMvc3VwcG9ydHMvZWxlY3RyaWNDaGFyYWN0ZXIuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2xhbmd1YWdlcy9zdXBwb3J0cy9pbmRlbnRSdWxlcy5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbGFuZ3VhZ2VzL3N1cHBvcnRzL29uRW50ZXIuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2xhbmd1YWdlcy9zdXBwb3J0cy9sYW5ndWFnZUJyYWNrZXRzQ29uZmlndXJhdGlvbi5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbGFuZ3VhZ2VzL2xhbmd1YWdlQ29uZmlndXJhdGlvblJlZ2lzdHJ5LmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9sYW5ndWFnZXMvbnVsbFRva2VuaXplLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9sYW5ndWFnZXMvc3VwcG9ydHMuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2xhbmd1YWdlcy9zdXBwb3J0cy9yaWNoRWRpdEJyYWNrZXRzLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9tb2RlbC9icmFja2V0UGFpcnNUZXh0TW9kZWxQYXJ0L2JyYWNrZXRQYWlyc1RyZWUvYXN0LmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9tb2RlbC9icmFja2V0UGFpcnNUZXh0TW9kZWxQYXJ0L2JyYWNrZXRQYWlyc1RyZWUvYmVmb3JlRWRpdFBvc2l0aW9uTWFwcGVyLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9tb2RlbC9icmFja2V0UGFpcnNUZXh0TW9kZWxQYXJ0L2JyYWNrZXRQYWlyc1RyZWUvYnJhY2tldHMuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL21vZGVsL2JyYWNrZXRQYWlyc1RleHRNb2RlbFBhcnQvYnJhY2tldFBhaXJzVHJlZS9jb21iaW5lVGV4dEVkaXRJbmZvcy5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbW9kZWwvYnJhY2tldFBhaXJzVGV4dE1vZGVsUGFydC9icmFja2V0UGFpcnNUcmVlL2xlbmd0aC5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbW9kZWwvYnJhY2tldFBhaXJzVGV4dE1vZGVsUGFydC9icmFja2V0UGFpcnNUcmVlL2NvbmNhdDIzVHJlZXMuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL21vZGVsL2JyYWNrZXRQYWlyc1RleHRNb2RlbFBhcnQvYnJhY2tldFBhaXJzVHJlZS9ub2RlUmVhZGVyLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9tb2RlbC9icmFja2V0UGFpcnNUZXh0TW9kZWxQYXJ0L2JyYWNrZXRQYWlyc1RyZWUvcGFyc2VyLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9tb2RlbC9icmFja2V0UGFpcnNUZXh0TW9kZWxQYXJ0L2JyYWNrZXRQYWlyc1RyZWUvc21hbGxJbW11dGFibGVTZXQuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL21vZGVsL2JyYWNrZXRQYWlyc1RleHRNb2RlbFBhcnQvYnJhY2tldFBhaXJzVHJlZS90b2tlbml6ZXIuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL21vZGVsL2VkaXRTdGFjay5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbW9kZWwvZ3VpZGVzVGV4dE1vZGVsUGFydC5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vdGV4dE1vZGVsQnJhY2tldFBhaXJzLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9tb2RlbC9icmFja2V0UGFpcnNUZXh0TW9kZWxQYXJ0L2JyYWNrZXRQYWlyc1RyZWUvYnJhY2tldFBhaXJzVHJlZS5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbW9kZWwvYnJhY2tldFBhaXJzVGV4dE1vZGVsUGFydC9icmFja2V0UGFpcnNJbXBsLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9tb2RlbC9icmFja2V0UGFpcnNUZXh0TW9kZWxQYXJ0L2NvbG9yaXplZEJyYWNrZXRQYWlyc0RlY29yYXRpb25Qcm92aWRlci5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbW9kZWwvaW5kZW50YXRpb25HdWVzc2VyLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9tb2RlbC9pbnRlcnZhbFRyZWUuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL21vZGVsL3BpZWNlVHJlZVRleHRCdWZmZXIvcmJUcmVlQmFzZS5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbW9kZWwvcGllY2VUcmVlVGV4dEJ1ZmZlci9waWVjZVRyZWVCYXNlLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9tb2RlbC9waWVjZVRyZWVUZXh0QnVmZmVyL3BpZWNlVHJlZVRleHRCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL21vZGVsL3BpZWNlVHJlZVRleHRCdWZmZXIvcGllY2VUcmVlVGV4dEJ1ZmZlckJ1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL21vZGVsL2ZpeGVkQXJyYXkuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL3Rva2Vucy9jb250aWd1b3VzTXVsdGlsaW5lVG9rZW5zLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi90b2tlbnMvY29udGlndW91c011bHRpbGluZVRva2Vuc0J1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL21vZGVsL3RleHRNb2RlbFRva2Vucy5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbW9kZWwvdG9rZW5zLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9tb2RlbC90cmVlU2l0dGVyVG9rZW5zLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi90b2tlbnMvY29udGlndW91c1Rva2Vuc0VkaXRpbmcuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL3Rva2Vucy9jb250aWd1b3VzVG9rZW5zU3RvcmUuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL3Rva2Vucy9zcGFyc2VUb2tlbnNTdG9yZS5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbW9kZWwvdG9rZW5pemF0aW9uVGV4dE1vZGVsUGFydC5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbW9kZWwvdGV4dE1vZGVsLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9tb2RlbC90ZXh0TW9kZWxQYXJ0LmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9tb2RlbC91dGlscy5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vc2VydmljZXMvbW9kZWxTZXJ2aWNlLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9zZXJ2aWNlcy90ZXh0UmVzb3VyY2VDb25maWd1cmF0aW9uLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9zZXJ2aWNlcy90cmVlU2l0dGVyUGFyc2VyU2VydmljZS5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vdGV4dE1vZGVsRXZlbnRzLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi90ZXh0TW9kZWxHdWlkZXMuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL3Rva2Vucy9saW5lVG9rZW5zLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvcGxhdGZvcm0vaW5zdGFudGlhdGlvbi9jb21tb24vZGVzY3JpcHRvcnMuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9wbGF0Zm9ybS9pbnN0YW50aWF0aW9uL2NvbW1vbi9leHRlbnNpb25zLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvcGxhdGZvcm0vdW5kb1JlZG8vY29tbW9uL3VuZG9SZWRvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgTGF6eSB9IGZyb20gJy4vbGF6eS5qcyc7XG5jb25zdCBoYXNCdWZmZXIgPSAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpO1xuY29uc3QgaW5kZXhPZlRhYmxlID0gbmV3IExhenkoKCkgPT4gbmV3IFVpbnQ4QXJyYXkoMjU2KSk7XG5sZXQgdGV4dERlY29kZXI7XG5leHBvcnQgY2xhc3MgVlNCdWZmZXIge1xuICAgIC8qKlxuICAgICAqIFdoZW4gcnVubmluZyBpbiBhIG5vZGVqcyBjb250ZXh0LCBpZiBgYWN0dWFsYCBpcyBub3QgYSBub2RlanMgQnVmZmVyLCB0aGUgYmFja2luZyBzdG9yZSBmb3JcbiAgICAgKiB0aGUgcmV0dXJuZWQgYFZTQnVmZmVyYCBpbnN0YW5jZSBtaWdodCB1c2UgYSBub2RlanMgQnVmZmVyIGFsbG9jYXRlZCBmcm9tIG5vZGUncyBCdWZmZXIgcG9vbCxcbiAgICAgKiB3aGljaCBpcyBub3QgdHJhbnNmZXJyYWJsZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgd3JhcChhY3R1YWwpIHtcbiAgICAgICAgaWYgKGhhc0J1ZmZlciAmJiAhKEJ1ZmZlci5pc0J1ZmZlcihhY3R1YWwpKSkge1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly9ub2RlanMub3JnL2Rpc3QvbGF0ZXN0LXYxMC54L2RvY3MvYXBpL2J1ZmZlci5odG1sI2J1ZmZlcl9jbGFzc19tZXRob2RfYnVmZmVyX2Zyb21fYXJyYXlidWZmZXJfYnl0ZW9mZnNldF9sZW5ndGhcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIHplcm8tY29weSBCdWZmZXIgd3JhcHBlciBhcm91bmQgdGhlIEFycmF5QnVmZmVyIHBvaW50ZWQgdG8gYnkgdGhlIFVpbnQ4QXJyYXlcbiAgICAgICAgICAgIGFjdHVhbCA9IEJ1ZmZlci5mcm9tKGFjdHVhbC5idWZmZXIsIGFjdHVhbC5ieXRlT2Zmc2V0LCBhY3R1YWwuYnl0ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBWU0J1ZmZlcihhY3R1YWwpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihidWZmZXIpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG4gICAgICAgIHRoaXMuYnl0ZUxlbmd0aCA9IHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBpZiAoaGFzQnVmZmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghdGV4dERlY29kZXIpIHtcbiAgICAgICAgICAgICAgICB0ZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRleHREZWNvZGVyLmRlY29kZSh0aGlzLmJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcmVhZFVJbnQxNkxFKHNvdXJjZSwgb2Zmc2V0KSB7XG4gICAgcmV0dXJuICgoKHNvdXJjZVtvZmZzZXQgKyAwXSA8PCAwKSA+Pj4gMCkgfFxuICAgICAgICAoKHNvdXJjZVtvZmZzZXQgKyAxXSA8PCA4KSA+Pj4gMCkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHdyaXRlVUludDE2TEUoZGVzdGluYXRpb24sIHZhbHVlLCBvZmZzZXQpIHtcbiAgICBkZXN0aW5hdGlvbltvZmZzZXQgKyAwXSA9ICh2YWx1ZSAmIDBiMTExMTExMTEpO1xuICAgIHZhbHVlID0gdmFsdWUgPj4+IDg7XG4gICAgZGVzdGluYXRpb25bb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAwYjExMTExMTExKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZWFkVUludDMyQkUoc291cmNlLCBvZmZzZXQpIHtcbiAgICByZXR1cm4gKHNvdXJjZVtvZmZzZXRdICogMiAqKiAyNFxuICAgICAgICArIHNvdXJjZVtvZmZzZXQgKyAxXSAqIDIgKiogMTZcbiAgICAgICAgKyBzb3VyY2Vbb2Zmc2V0ICsgMl0gKiAyICoqIDhcbiAgICAgICAgKyBzb3VyY2Vbb2Zmc2V0ICsgM10pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHdyaXRlVUludDMyQkUoZGVzdGluYXRpb24sIHZhbHVlLCBvZmZzZXQpIHtcbiAgICBkZXN0aW5hdGlvbltvZmZzZXQgKyAzXSA9IHZhbHVlO1xuICAgIHZhbHVlID0gdmFsdWUgPj4+IDg7XG4gICAgZGVzdGluYXRpb25bb2Zmc2V0ICsgMl0gPSB2YWx1ZTtcbiAgICB2YWx1ZSA9IHZhbHVlID4+PiA4O1xuICAgIGRlc3RpbmF0aW9uW29mZnNldCArIDFdID0gdmFsdWU7XG4gICAgdmFsdWUgPSB2YWx1ZSA+Pj4gODtcbiAgICBkZXN0aW5hdGlvbltvZmZzZXRdID0gdmFsdWU7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVhZFVJbnQ4KHNvdXJjZSwgb2Zmc2V0KSB7XG4gICAgcmV0dXJuIHNvdXJjZVtvZmZzZXRdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHdyaXRlVUludDgoZGVzdGluYXRpb24sIHZhbHVlLCBvZmZzZXQpIHtcbiAgICBkZXN0aW5hdGlvbltvZmZzZXRdID0gdmFsdWU7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCAqIGFzIHN0cmluZ3MgZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vc3RyaW5ncy5qcyc7XG4vKipcbiAqIEEgY29sdW1uIGluIGEgcG9zaXRpb24gaXMgdGhlIGdhcCBiZXR3ZWVuIHR3byBhZGphY2VudCBjaGFyYWN0ZXJzLiBUaGUgbWV0aG9kcyBoZXJlXG4gKiB3b3JrIHdpdGggYSBjb25jZXB0IGNhbGxlZCBcInZpc2libGUgY29sdW1uXCIuIEEgdmlzaWJsZSBjb2x1bW4gaXMgYSB2ZXJ5IHJvdWdoIGFwcHJveGltYXRpb25cbiAqIG9mIHRoZSBob3Jpem9udGFsIHNjcmVlbiBwb3NpdGlvbiBvZiBhIGNvbHVtbi4gRm9yIGV4YW1wbGUsIHVzaW5nIGEgdGFiIHNpemUgb2YgNDpcbiAqIGBgYHR4dFxuICogfDxUQUI+fDxUQUI+fFR8ZXh0XG4gKiB8ICAgICB8ICAgICB8IFxcLS0tLSBjb2x1bW4gPSA0LCB2aXNpYmxlIGNvbHVtbiA9IDlcbiAqIHwgICAgIHwgICAgIFxcLS0tLS0tIGNvbHVtbiA9IDMsIHZpc2libGUgY29sdW1uID0gOFxuICogfCAgICAgXFwtLS0tLS0tLS0tLS0gY29sdW1uID0gMiwgdmlzaWJsZSBjb2x1bW4gPSA0XG4gKiBcXC0tLS0tLS0tLS0tLS0tLS0tLSBjb2x1bW4gPSAxLCB2aXNpYmxlIGNvbHVtbiA9IDBcbiAqIGBgYFxuICpcbiAqICoqTk9URSoqOiBWaXN1YWwgY29sdW1ucyBkbyBub3Qgd29yayB3ZWxsIGZvciBSVEwgdGV4dCBvciB2YXJpYWJsZS13aWR0aCBmb250cyBvciBjaGFyYWN0ZXJzLlxuICpcbiAqICoqTk9URSoqOiBUaGVzZSBtZXRob2RzIHdvcmsgYW5kIG1ha2Ugc2Vuc2UgYm90aCBvbiB0aGUgbW9kZWwgYW5kIG9uIHRoZSB2aWV3IG1vZGVsLlxuICovXG5leHBvcnQgY2xhc3MgQ3Vyc29yQ29sdW1ucyB7XG4gICAgc3RhdGljIF9uZXh0VmlzaWJsZUNvbHVtbihjb2RlUG9pbnQsIHZpc2libGVDb2x1bW4sIHRhYlNpemUpIHtcbiAgICAgICAgaWYgKGNvZGVQb2ludCA9PT0gOSAvKiBDaGFyQ29kZS5UYWIgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBDdXJzb3JDb2x1bW5zLm5leHRSZW5kZXJUYWJTdG9wKHZpc2libGVDb2x1bW4sIHRhYlNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJpbmdzLmlzRnVsbFdpZHRoQ2hhcmFjdGVyKGNvZGVQb2ludCkgfHwgc3RyaW5ncy5pc0Vtb2ppSW1wcmVjaXNlKGNvZGVQb2ludCkpIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpYmxlQ29sdW1uICsgMjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlzaWJsZUNvbHVtbiArIDE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB2aXNpYmxlIGNvbHVtbiBmcm9tIGEgY29sdW1uLlxuICAgICAqIEBzZWUge0BsaW5rIEN1cnNvckNvbHVtbnN9XG4gICAgICovXG4gICAgc3RhdGljIHZpc2libGVDb2x1bW5Gcm9tQ29sdW1uKGxpbmVDb250ZW50LCBjb2x1bW4sIHRhYlNpemUpIHtcbiAgICAgICAgY29uc3QgdGV4dExlbiA9IE1hdGgubWluKGNvbHVtbiAtIDEsIGxpbmVDb250ZW50Lmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IHRleHQgPSBsaW5lQ29udGVudC5zdWJzdHJpbmcoMCwgdGV4dExlbik7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gbmV3IHN0cmluZ3MuR3JhcGhlbWVJdGVyYXRvcih0ZXh0KTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgICAgIHdoaWxlICghaXRlcmF0b3IuZW9sKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvZGVQb2ludCA9IHN0cmluZ3MuZ2V0TmV4dENvZGVQb2ludCh0ZXh0LCB0ZXh0TGVuLCBpdGVyYXRvci5vZmZzZXQpO1xuICAgICAgICAgICAgaXRlcmF0b3IubmV4dEdyYXBoZW1lTGVuZ3RoKCk7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9uZXh0VmlzaWJsZUNvbHVtbihjb2RlUG9pbnQsIHJlc3VsdCwgdGFiU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGNvbHVtbiBmcm9tIGEgdmlzaWJsZSBjb2x1bW4uXG4gICAgICogQHNlZSB7QGxpbmsgQ3Vyc29yQ29sdW1uc31cbiAgICAgKi9cbiAgICBzdGF0aWMgY29sdW1uRnJvbVZpc2libGVDb2x1bW4obGluZUNvbnRlbnQsIHZpc2libGVDb2x1bW4sIHRhYlNpemUpIHtcbiAgICAgICAgaWYgKHZpc2libGVDb2x1bW4gPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGluZUNvbnRlbnRMZW5ndGggPSBsaW5lQ29udGVudC5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gbmV3IHN0cmluZ3MuR3JhcGhlbWVJdGVyYXRvcihsaW5lQ29udGVudCk7XG4gICAgICAgIGxldCBiZWZvcmVWaXNpYmxlQ29sdW1uID0gMDtcbiAgICAgICAgbGV0IGJlZm9yZUNvbHVtbiA9IDE7XG4gICAgICAgIHdoaWxlICghaXRlcmF0b3IuZW9sKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvZGVQb2ludCA9IHN0cmluZ3MuZ2V0TmV4dENvZGVQb2ludChsaW5lQ29udGVudCwgbGluZUNvbnRlbnRMZW5ndGgsIGl0ZXJhdG9yLm9mZnNldCk7XG4gICAgICAgICAgICBpdGVyYXRvci5uZXh0R3JhcGhlbWVMZW5ndGgoKTtcbiAgICAgICAgICAgIGNvbnN0IGFmdGVyVmlzaWJsZUNvbHVtbiA9IHRoaXMuX25leHRWaXNpYmxlQ29sdW1uKGNvZGVQb2ludCwgYmVmb3JlVmlzaWJsZUNvbHVtbiwgdGFiU2l6ZSk7XG4gICAgICAgICAgICBjb25zdCBhZnRlckNvbHVtbiA9IGl0ZXJhdG9yLm9mZnNldCArIDE7XG4gICAgICAgICAgICBpZiAoYWZ0ZXJWaXNpYmxlQ29sdW1uID49IHZpc2libGVDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiZWZvcmVEZWx0YSA9IHZpc2libGVDb2x1bW4gLSBiZWZvcmVWaXNpYmxlQ29sdW1uO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFmdGVyRGVsdGEgPSBhZnRlclZpc2libGVDb2x1bW4gLSB2aXNpYmxlQ29sdW1uO1xuICAgICAgICAgICAgICAgIGlmIChhZnRlckRlbHRhIDwgYmVmb3JlRGVsdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFmdGVyQ29sdW1uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJlZm9yZUNvbHVtbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiZWZvcmVWaXNpYmxlQ29sdW1uID0gYWZ0ZXJWaXNpYmxlQ29sdW1uO1xuICAgICAgICAgICAgYmVmb3JlQ29sdW1uID0gYWZ0ZXJDb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2Fsa2VkIHRoZSBlbnRpcmUgc3RyaW5nXG4gICAgICAgIHJldHVybiBsaW5lQ29udGVudExlbmd0aCArIDE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFUVEVOVElPTjogVGhpcyB3b3JrcyB3aXRoIDAtYmFzZWQgY29sdW1ucyAoYXMgb3Bwb3NlZCB0byB0aGUgcmVndWxhciAxLWJhc2VkIGNvbHVtbnMpXG4gICAgICogQHNlZSB7QGxpbmsgQ3Vyc29yQ29sdW1uc31cbiAgICAgKi9cbiAgICBzdGF0aWMgbmV4dFJlbmRlclRhYlN0b3AodmlzaWJsZUNvbHVtbiwgdGFiU2l6ZSkge1xuICAgICAgICByZXR1cm4gdmlzaWJsZUNvbHVtbiArIHRhYlNpemUgLSB2aXNpYmxlQ29sdW1uICUgdGFiU2l6ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQVRURU5USU9OOiBUaGlzIHdvcmtzIHdpdGggMC1iYXNlZCBjb2x1bW5zIChhcyBvcHBvc2VkIHRvIHRoZSByZWd1bGFyIDEtYmFzZWQgY29sdW1ucylcbiAgICAgKiBAc2VlIHtAbGluayBDdXJzb3JDb2x1bW5zfVxuICAgICAqL1xuICAgIHN0YXRpYyBuZXh0SW5kZW50VGFiU3RvcCh2aXNpYmxlQ29sdW1uLCBpbmRlbnRTaXplKSB7XG4gICAgICAgIHJldHVybiB2aXNpYmxlQ29sdW1uICsgaW5kZW50U2l6ZSAtIHZpc2libGVDb2x1bW4gJSBpbmRlbnRTaXplO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBVFRFTlRJT046IFRoaXMgd29ya3Mgd2l0aCAwLWJhc2VkIGNvbHVtbnMgKGFzIG9wcG9zZWQgdG8gdGhlIHJlZ3VsYXIgMS1iYXNlZCBjb2x1bW5zKVxuICAgICAqIEBzZWUge0BsaW5rIEN1cnNvckNvbHVtbnN9XG4gICAgICovXG4gICAgc3RhdGljIHByZXZSZW5kZXJUYWJTdG9wKGNvbHVtbiwgdGFiU2l6ZSkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgY29sdW1uIC0gMSAtIChjb2x1bW4gLSAxKSAlIHRhYlNpemUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBVFRFTlRJT046IFRoaXMgd29ya3Mgd2l0aCAwLWJhc2VkIGNvbHVtbnMgKGFzIG9wcG9zZWQgdG8gdGhlIHJlZ3VsYXIgMS1iYXNlZCBjb2x1bW5zKVxuICAgICAqIEBzZWUge0BsaW5rIEN1cnNvckNvbHVtbnN9XG4gICAgICovXG4gICAgc3RhdGljIHByZXZJbmRlbnRUYWJTdG9wKGNvbHVtbiwgaW5kZW50U2l6ZSkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgY29sdW1uIC0gMSAtIChjb2x1bW4gLSAxKSAlIGluZGVudFNpemUpO1xuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0ICogYXMgc3RyaW5ncyBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9zdHJpbmdzLmpzJztcbmltcG9ydCB7IEN1cnNvckNvbHVtbnMgfSBmcm9tICcuL2N1cnNvckNvbHVtbnMuanMnO1xuZnVuY3Rpb24gX25vcm1hbGl6ZUluZGVudGF0aW9uRnJvbVdoaXRlc3BhY2Uoc3RyLCBpbmRlbnRTaXplLCBpbnNlcnRTcGFjZXMpIHtcbiAgICBsZXQgc3BhY2VzQ250ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc3RyLmNoYXJBdChpKSA9PT0gJ1xcdCcpIHtcbiAgICAgICAgICAgIHNwYWNlc0NudCA9IEN1cnNvckNvbHVtbnMubmV4dEluZGVudFRhYlN0b3Aoc3BhY2VzQ250LCBpbmRlbnRTaXplKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNwYWNlc0NudCsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSAnJztcbiAgICBpZiAoIWluc2VydFNwYWNlcykge1xuICAgICAgICBjb25zdCB0YWJzQ250ID0gTWF0aC5mbG9vcihzcGFjZXNDbnQgLyBpbmRlbnRTaXplKTtcbiAgICAgICAgc3BhY2VzQ250ID0gc3BhY2VzQ250ICUgaW5kZW50U2l6ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWJzQ250OyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSAnXFx0JztcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNwYWNlc0NudDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCArPSAnICc7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplSW5kZW50YXRpb24oc3RyLCBpbmRlbnRTaXplLCBpbnNlcnRTcGFjZXMpIHtcbiAgICBsZXQgZmlyc3ROb25XaGl0ZXNwYWNlSW5kZXggPSBzdHJpbmdzLmZpcnN0Tm9uV2hpdGVzcGFjZUluZGV4KHN0cik7XG4gICAgaWYgKGZpcnN0Tm9uV2hpdGVzcGFjZUluZGV4ID09PSAtMSkge1xuICAgICAgICBmaXJzdE5vbldoaXRlc3BhY2VJbmRleCA9IHN0ci5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiBfbm9ybWFsaXplSW5kZW50YXRpb25Gcm9tV2hpdGVzcGFjZShzdHIuc3Vic3RyaW5nKDAsIGZpcnN0Tm9uV2hpdGVzcGFjZUluZGV4KSwgaW5kZW50U2l6ZSwgaW5zZXJ0U3BhY2VzKSArIHN0ci5zdWJzdHJpbmcoZmlyc3ROb25XaGl0ZXNwYWNlSW5kZXgpO1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgKiBhcyBzdHJpbmdzIGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3N0cmluZ3MuanMnO1xuaW1wb3J0ICogYXMgcGxhdGZvcm0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vcGxhdGZvcm0uanMnO1xuaW1wb3J0ICogYXMgYnVmZmVyIGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2J1ZmZlci5qcyc7XG5sZXQgX3V0ZjE2TEVfVGV4dERlY29kZXI7XG5mdW5jdGlvbiBnZXRVVEYxNkxFX1RleHREZWNvZGVyKCkge1xuICAgIGlmICghX3V0ZjE2TEVfVGV4dERlY29kZXIpIHtcbiAgICAgICAgX3V0ZjE2TEVfVGV4dERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ1VURi0xNkxFJyk7XG4gICAgfVxuICAgIHJldHVybiBfdXRmMTZMRV9UZXh0RGVjb2Rlcjtcbn1cbmxldCBfdXRmMTZCRV9UZXh0RGVjb2RlcjtcbmZ1bmN0aW9uIGdldFVURjE2QkVfVGV4dERlY29kZXIoKSB7XG4gICAgaWYgKCFfdXRmMTZCRV9UZXh0RGVjb2Rlcikge1xuICAgICAgICBfdXRmMTZCRV9UZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcignVVRGLTE2QkUnKTtcbiAgICB9XG4gICAgcmV0dXJuIF91dGYxNkJFX1RleHREZWNvZGVyO1xufVxubGV0IF9wbGF0Zm9ybVRleHREZWNvZGVyO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBsYXRmb3JtVGV4dERlY29kZXIoKSB7XG4gICAgaWYgKCFfcGxhdGZvcm1UZXh0RGVjb2Rlcikge1xuICAgICAgICBfcGxhdGZvcm1UZXh0RGVjb2RlciA9IHBsYXRmb3JtLmlzTGl0dGxlRW5kaWFuKCkgPyBnZXRVVEYxNkxFX1RleHREZWNvZGVyKCkgOiBnZXRVVEYxNkJFX1RleHREZWNvZGVyKCk7XG4gICAgfVxuICAgIHJldHVybiBfcGxhdGZvcm1UZXh0RGVjb2Rlcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVVVEYxNkxFKHNvdXJjZSwgb2Zmc2V0LCBsZW4pIHtcbiAgICBjb25zdCB2aWV3ID0gbmV3IFVpbnQxNkFycmF5KHNvdXJjZS5idWZmZXIsIG9mZnNldCwgbGVuKTtcbiAgICBpZiAobGVuID4gMCAmJiAodmlld1swXSA9PT0gMHhGRUZGIHx8IHZpZXdbMF0gPT09IDB4RkZGRSkpIHtcbiAgICAgICAgLy8gVVRGMTYgc29tZXRpbWVzIHN0YXJ0cyB3aXRoIGEgQk9NIGh0dHBzOi8vZGUud2lraXBlZGlhLm9yZy93aWtpL0J5dGVfT3JkZXJfTWFya1xuICAgICAgICAvLyBJdCBsb29rcyBsaWtlIFRleHREZWNvZGVyLmRlY29kZSB3aWxsIGVhdCB1cCBhIGxlYWRpbmcgQk9NICgweEZFRkYgb3IgMHhGRkZFKVxuICAgICAgICAvLyBXZSBkb24ndCB3YW50IHRoYXQgYmVoYXZpb3IgYmVjYXVzZSB3ZSBrbm93IHRoZSBzdHJpbmcgaXMgVVRGMTZMRSBhbmQgdGhlIEJPTSBzaG91bGQgYmUgbWFpbnRhaW5lZFxuICAgICAgICAvLyBTbyB3ZSB1c2UgdGhlIG1hbnVhbCBkZWNvZGVyXG4gICAgICAgIHJldHVybiBjb21wYXREZWNvZGVVVEYxNkxFKHNvdXJjZSwgb2Zmc2V0LCBsZW4pO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0VVRGMTZMRV9UZXh0RGVjb2RlcigpLmRlY29kZSh2aWV3KTtcbn1cbmZ1bmN0aW9uIGNvbXBhdERlY29kZVVURjE2TEUoc291cmNlLCBvZmZzZXQsIGxlbikge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGxldCByZXN1bHRMZW4gPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hhckNvZGUgPSBidWZmZXIucmVhZFVJbnQxNkxFKHNvdXJjZSwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IDI7XG4gICAgICAgIHJlc3VsdFtyZXN1bHRMZW4rK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXJDb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5qb2luKCcnKTtcbn1cbmV4cG9ydCBjbGFzcyBTdHJpbmdCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihjYXBhY2l0eSkge1xuICAgICAgICB0aGlzLl9jYXBhY2l0eSA9IGNhcGFjaXR5IHwgMDtcbiAgICAgICAgdGhpcy5fYnVmZmVyID0gbmV3IFVpbnQxNkFycmF5KHRoaXMuX2NhcGFjaXR5KTtcbiAgICAgICAgdGhpcy5fY29tcGxldGVkU3RyaW5ncyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlckxlbmd0aCA9IDA7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLl9jb21wbGV0ZWRTdHJpbmdzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVyTGVuZ3RoID0gMDtcbiAgICB9XG4gICAgYnVpbGQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb21wbGV0ZWRTdHJpbmdzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9mbHVzaEJ1ZmZlcigpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBsZXRlZFN0cmluZ3Muam9pbignJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1aWxkQnVmZmVyKCk7XG4gICAgfVxuICAgIF9idWlsZEJ1ZmZlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlckxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgVWludDE2QXJyYXkodGhpcy5fYnVmZmVyLmJ1ZmZlciwgMCwgdGhpcy5fYnVmZmVyTGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIGdldFBsYXRmb3JtVGV4dERlY29kZXIoKS5kZWNvZGUodmlldyk7XG4gICAgfVxuICAgIF9mbHVzaEJ1ZmZlcigpIHtcbiAgICAgICAgY29uc3QgYnVmZmVyU3RyaW5nID0gdGhpcy5fYnVpbGRCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fYnVmZmVyTGVuZ3RoID0gMDtcbiAgICAgICAgaWYgKHRoaXMuX2NvbXBsZXRlZFN0cmluZ3MgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlZFN0cmluZ3MgPSBbYnVmZmVyU3RyaW5nXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlZFN0cmluZ3NbdGhpcy5fY29tcGxldGVkU3RyaW5ncy5sZW5ndGhdID0gYnVmZmVyU3RyaW5nO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGVuZCBhIGNoYXIgY29kZSAoPDJeMTYpXG4gICAgICovXG4gICAgYXBwZW5kQ2hhckNvZGUoY2hhckNvZGUpIHtcbiAgICAgICAgY29uc3QgcmVtYWluaW5nU3BhY2UgPSB0aGlzLl9jYXBhY2l0eSAtIHRoaXMuX2J1ZmZlckxlbmd0aDtcbiAgICAgICAgaWYgKHJlbWFpbmluZ1NwYWNlIDw9IDEpIHtcbiAgICAgICAgICAgIGlmIChyZW1haW5pbmdTcGFjZSA9PT0gMCB8fCBzdHJpbmdzLmlzSGlnaFN1cnJvZ2F0ZShjaGFyQ29kZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mbHVzaEJ1ZmZlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9idWZmZXJMZW5ndGgrK10gPSBjaGFyQ29kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwZW5kIGFuIEFTQ0lJIGNoYXIgY29kZSAoPDJeOClcbiAgICAgKi9cbiAgICBhcHBlbmRBU0NJSUNoYXJDb2RlKGNoYXJDb2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXJMZW5ndGggPT09IHRoaXMuX2NhcGFjaXR5KSB7XG4gICAgICAgICAgICAvLyBidWZmZXIgaXMgZnVsbFxuICAgICAgICAgICAgdGhpcy5fZmx1c2hCdWZmZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9idWZmZXJbdGhpcy5fYnVmZmVyTGVuZ3RoKytdID0gY2hhckNvZGU7XG4gICAgfVxuICAgIGFwcGVuZFN0cmluZyhzdHIpIHtcbiAgICAgICAgY29uc3Qgc3RyTGVuID0gc3RyLmxlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlckxlbmd0aCArIHN0ckxlbiA+PSB0aGlzLl9jYXBhY2l0eSkge1xuICAgICAgICAgICAgLy8gVGhpcyBzdHJpbmcgZG9lcyBub3QgZml0IGluIHRoZSByZW1haW5pbmcgYnVmZmVyIHNwYWNlXG4gICAgICAgICAgICB0aGlzLl9mbHVzaEJ1ZmZlcigpO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGVkU3RyaW5nc1t0aGlzLl9jb21wbGV0ZWRTdHJpbmdzLmxlbmd0aF0gPSBzdHI7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJMZW47IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fYnVmZmVyW3RoaXMuX2J1ZmZlckxlbmd0aCsrXSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgKiBhcyBidWZmZXIgZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vYnVmZmVyLmpzJztcbmltcG9ydCB7IGRlY29kZVVURjE2TEUgfSBmcm9tICcuL3N0cmluZ0J1aWxkZXIuanMnO1xuZnVuY3Rpb24gZXNjYXBlTmV3TGluZShzdHIpIHtcbiAgICByZXR1cm4gKHN0clxuICAgICAgICAucmVwbGFjZSgvXFxuL2csICdcXFxcbicpXG4gICAgICAgIC5yZXBsYWNlKC9cXHIvZywgJ1xcXFxyJykpO1xufVxuZXhwb3J0IGNsYXNzIFRleHRDaGFuZ2Uge1xuICAgIGdldCBvbGRMZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9sZFRleHQubGVuZ3RoO1xuICAgIH1cbiAgICBnZXQgb2xkRW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vbGRQb3NpdGlvbiArIHRoaXMub2xkVGV4dC5sZW5ndGg7XG4gICAgfVxuICAgIGdldCBuZXdMZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5ld1RleHQubGVuZ3RoO1xuICAgIH1cbiAgICBnZXQgbmV3RW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZXdQb3NpdGlvbiArIHRoaXMubmV3VGV4dC5sZW5ndGg7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKG9sZFBvc2l0aW9uLCBvbGRUZXh0LCBuZXdQb3NpdGlvbiwgbmV3VGV4dCkge1xuICAgICAgICB0aGlzLm9sZFBvc2l0aW9uID0gb2xkUG9zaXRpb247XG4gICAgICAgIHRoaXMub2xkVGV4dCA9IG9sZFRleHQ7XG4gICAgICAgIHRoaXMubmV3UG9zaXRpb24gPSBuZXdQb3NpdGlvbjtcbiAgICAgICAgdGhpcy5uZXdUZXh0ID0gbmV3VGV4dDtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLm9sZFRleHQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYChpbnNlcnRAJHt0aGlzLm9sZFBvc2l0aW9ufSBcIiR7ZXNjYXBlTmV3TGluZSh0aGlzLm5ld1RleHQpfVwiKWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubmV3VGV4dC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBgKGRlbGV0ZUAke3RoaXMub2xkUG9zaXRpb259IFwiJHtlc2NhcGVOZXdMaW5lKHRoaXMub2xkVGV4dCl9XCIpYDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYChyZXBsYWNlQCR7dGhpcy5vbGRQb3NpdGlvbn0gXCIke2VzY2FwZU5ld0xpbmUodGhpcy5vbGRUZXh0KX1cIiB3aXRoIFwiJHtlc2NhcGVOZXdMaW5lKHRoaXMubmV3VGV4dCl9XCIpYDtcbiAgICB9XG4gICAgc3RhdGljIF93cml0ZVN0cmluZ1NpemUoc3RyKSB7XG4gICAgICAgIHJldHVybiAoNCArIDIgKiBzdHIubGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIF93cml0ZVN0cmluZyhiLCBzdHIsIG9mZnNldCkge1xuICAgICAgICBjb25zdCBsZW4gPSBzdHIubGVuZ3RoO1xuICAgICAgICBidWZmZXIud3JpdGVVSW50MzJCRShiLCBsZW4sIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBidWZmZXIud3JpdGVVSW50MTZMRShiLCBzdHIuY2hhckNvZGVBdChpKSwgb2Zmc2V0KTtcbiAgICAgICAgICAgIG9mZnNldCArPSAyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfVxuICAgIHN0YXRpYyBfcmVhZFN0cmluZyhiLCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgbGVuID0gYnVmZmVyLnJlYWRVSW50MzJCRShiLCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gNDtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVURjE2TEUoYiwgb2Zmc2V0LCBsZW4pO1xuICAgIH1cbiAgICB3cml0ZVNpemUoKSB7XG4gICAgICAgIHJldHVybiAoKzQgLy8gb2xkUG9zaXRpb25cbiAgICAgICAgICAgICsgNCAvLyBuZXdQb3NpdGlvblxuICAgICAgICAgICAgKyBUZXh0Q2hhbmdlLl93cml0ZVN0cmluZ1NpemUodGhpcy5vbGRUZXh0KVxuICAgICAgICAgICAgKyBUZXh0Q2hhbmdlLl93cml0ZVN0cmluZ1NpemUodGhpcy5uZXdUZXh0KSk7XG4gICAgfVxuICAgIHdyaXRlKGIsIG9mZnNldCkge1xuICAgICAgICBidWZmZXIud3JpdGVVSW50MzJCRShiLCB0aGlzLm9sZFBvc2l0aW9uLCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gNDtcbiAgICAgICAgYnVmZmVyLndyaXRlVUludDMyQkUoYiwgdGhpcy5uZXdQb3NpdGlvbiwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgIG9mZnNldCA9IFRleHRDaGFuZ2UuX3dyaXRlU3RyaW5nKGIsIHRoaXMub2xkVGV4dCwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ID0gVGV4dENoYW5nZS5fd3JpdGVTdHJpbmcoYiwgdGhpcy5uZXdUZXh0LCBvZmZzZXQpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH1cbiAgICBzdGF0aWMgcmVhZChiLCBvZmZzZXQsIGRlc3QpIHtcbiAgICAgICAgY29uc3Qgb2xkUG9zaXRpb24gPSBidWZmZXIucmVhZFVJbnQzMkJFKGIsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICBjb25zdCBuZXdQb3NpdGlvbiA9IGJ1ZmZlci5yZWFkVUludDMyQkUoYiwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgIGNvbnN0IG9sZFRleHQgPSBUZXh0Q2hhbmdlLl9yZWFkU3RyaW5nKGIsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSBUZXh0Q2hhbmdlLl93cml0ZVN0cmluZ1NpemUob2xkVGV4dCk7XG4gICAgICAgIGNvbnN0IG5ld1RleHQgPSBUZXh0Q2hhbmdlLl9yZWFkU3RyaW5nKGIsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSBUZXh0Q2hhbmdlLl93cml0ZVN0cmluZ1NpemUobmV3VGV4dCk7XG4gICAgICAgIGRlc3QucHVzaChuZXcgVGV4dENoYW5nZShvbGRQb3NpdGlvbiwgb2xkVGV4dCwgbmV3UG9zaXRpb24sIG5ld1RleHQpKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY29tcHJlc3NDb25zZWN1dGl2ZVRleHRDaGFuZ2VzKHByZXZFZGl0cywgY3VyckVkaXRzKSB7XG4gICAgaWYgKHByZXZFZGl0cyA9PT0gbnVsbCB8fCBwcmV2RWRpdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBjdXJyRWRpdHM7XG4gICAgfVxuICAgIGNvbnN0IGNvbXByZXNzb3IgPSBuZXcgVGV4dENoYW5nZUNvbXByZXNzb3IocHJldkVkaXRzLCBjdXJyRWRpdHMpO1xuICAgIHJldHVybiBjb21wcmVzc29yLmNvbXByZXNzKCk7XG59XG5jbGFzcyBUZXh0Q2hhbmdlQ29tcHJlc3NvciB7XG4gICAgY29uc3RydWN0b3IocHJldkVkaXRzLCBjdXJyRWRpdHMpIHtcbiAgICAgICAgdGhpcy5fcHJldkVkaXRzID0gcHJldkVkaXRzO1xuICAgICAgICB0aGlzLl9jdXJyRWRpdHMgPSBjdXJyRWRpdHM7XG4gICAgICAgIHRoaXMuX3Jlc3VsdCA9IFtdO1xuICAgICAgICB0aGlzLl9yZXN1bHRMZW4gPSAwO1xuICAgICAgICB0aGlzLl9wcmV2TGVuID0gdGhpcy5fcHJldkVkaXRzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5fcHJldkRlbHRhT2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy5fY3VyckxlbiA9IHRoaXMuX2N1cnJFZGl0cy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2N1cnJEZWx0YU9mZnNldCA9IDA7XG4gICAgfVxuICAgIGNvbXByZXNzKCkge1xuICAgICAgICBsZXQgcHJldkluZGV4ID0gMDtcbiAgICAgICAgbGV0IGN1cnJJbmRleCA9IDA7XG4gICAgICAgIGxldCBwcmV2RWRpdCA9IHRoaXMuX2dldFByZXYocHJldkluZGV4KTtcbiAgICAgICAgbGV0IGN1cnJFZGl0ID0gdGhpcy5fZ2V0Q3VycihjdXJySW5kZXgpO1xuICAgICAgICB3aGlsZSAocHJldkluZGV4IDwgdGhpcy5fcHJldkxlbiB8fCBjdXJySW5kZXggPCB0aGlzLl9jdXJyTGVuKSB7XG4gICAgICAgICAgICBpZiAocHJldkVkaXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hY2NlcHRDdXJyKGN1cnJFZGl0KTtcbiAgICAgICAgICAgICAgICBjdXJyRWRpdCA9IHRoaXMuX2dldEN1cnIoKytjdXJySW5kZXgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJFZGl0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWNjZXB0UHJldihwcmV2RWRpdCk7XG4gICAgICAgICAgICAgICAgcHJldkVkaXQgPSB0aGlzLl9nZXRQcmV2KCsrcHJldkluZGV4KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJyRWRpdC5vbGRFbmQgPD0gcHJldkVkaXQubmV3UG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hY2NlcHRDdXJyKGN1cnJFZGl0KTtcbiAgICAgICAgICAgICAgICBjdXJyRWRpdCA9IHRoaXMuX2dldEN1cnIoKytjdXJySW5kZXgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZXZFZGl0Lm5ld0VuZCA8PSBjdXJyRWRpdC5vbGRQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FjY2VwdFByZXYocHJldkVkaXQpO1xuICAgICAgICAgICAgICAgIHByZXZFZGl0ID0gdGhpcy5fZ2V0UHJldigrK3ByZXZJbmRleCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3VyckVkaXQub2xkUG9zaXRpb24gPCBwcmV2RWRpdC5uZXdQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtlMSwgZTJdID0gVGV4dENoYW5nZUNvbXByZXNzb3IuX3NwbGl0Q3VycihjdXJyRWRpdCwgcHJldkVkaXQubmV3UG9zaXRpb24gLSBjdXJyRWRpdC5vbGRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWNjZXB0Q3VycihlMSk7XG4gICAgICAgICAgICAgICAgY3VyckVkaXQgPSBlMjtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcmV2RWRpdC5uZXdQb3NpdGlvbiA8IGN1cnJFZGl0Lm9sZFBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2UxLCBlMl0gPSBUZXh0Q2hhbmdlQ29tcHJlc3Nvci5fc3BsaXRQcmV2KHByZXZFZGl0LCBjdXJyRWRpdC5vbGRQb3NpdGlvbiAtIHByZXZFZGl0Lm5ld1Bvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hY2NlcHRQcmV2KGUxKTtcbiAgICAgICAgICAgICAgICBwcmV2RWRpdCA9IGUyO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgY3VyckVkaXQub2xkUG9zaXRpb24gPT09IHByZXZFZGl0Lm5ld1Bvc2l0aW9uXG4gICAgICAgICAgICBsZXQgbWVyZ2VQcmV2O1xuICAgICAgICAgICAgbGV0IG1lcmdlQ3VycjtcbiAgICAgICAgICAgIGlmIChjdXJyRWRpdC5vbGRFbmQgPT09IHByZXZFZGl0Lm5ld0VuZCkge1xuICAgICAgICAgICAgICAgIG1lcmdlUHJldiA9IHByZXZFZGl0O1xuICAgICAgICAgICAgICAgIG1lcmdlQ3VyciA9IGN1cnJFZGl0O1xuICAgICAgICAgICAgICAgIHByZXZFZGl0ID0gdGhpcy5fZ2V0UHJldigrK3ByZXZJbmRleCk7XG4gICAgICAgICAgICAgICAgY3VyckVkaXQgPSB0aGlzLl9nZXRDdXJyKCsrY3VyckluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJFZGl0Lm9sZEVuZCA8IHByZXZFZGl0Lm5ld0VuZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtlMSwgZTJdID0gVGV4dENoYW5nZUNvbXByZXNzb3IuX3NwbGl0UHJldihwcmV2RWRpdCwgY3VyckVkaXQub2xkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBtZXJnZVByZXYgPSBlMTtcbiAgICAgICAgICAgICAgICBtZXJnZUN1cnIgPSBjdXJyRWRpdDtcbiAgICAgICAgICAgICAgICBwcmV2RWRpdCA9IGUyO1xuICAgICAgICAgICAgICAgIGN1cnJFZGl0ID0gdGhpcy5fZ2V0Q3VycigrK2N1cnJJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbZTEsIGUyXSA9IFRleHRDaGFuZ2VDb21wcmVzc29yLl9zcGxpdEN1cnIoY3VyckVkaXQsIHByZXZFZGl0Lm5ld0xlbmd0aCk7XG4gICAgICAgICAgICAgICAgbWVyZ2VQcmV2ID0gcHJldkVkaXQ7XG4gICAgICAgICAgICAgICAgbWVyZ2VDdXJyID0gZTE7XG4gICAgICAgICAgICAgICAgcHJldkVkaXQgPSB0aGlzLl9nZXRQcmV2KCsrcHJldkluZGV4KTtcbiAgICAgICAgICAgICAgICBjdXJyRWRpdCA9IGUyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcmVzdWx0W3RoaXMuX3Jlc3VsdExlbisrXSA9IG5ldyBUZXh0Q2hhbmdlKG1lcmdlUHJldi5vbGRQb3NpdGlvbiwgbWVyZ2VQcmV2Lm9sZFRleHQsIG1lcmdlQ3Vyci5uZXdQb3NpdGlvbiwgbWVyZ2VDdXJyLm5ld1RleHQpO1xuICAgICAgICAgICAgdGhpcy5fcHJldkRlbHRhT2Zmc2V0ICs9IG1lcmdlUHJldi5uZXdMZW5ndGggLSBtZXJnZVByZXYub2xkTGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5fY3VyckRlbHRhT2Zmc2V0ICs9IG1lcmdlQ3Vyci5uZXdMZW5ndGggLSBtZXJnZUN1cnIub2xkTGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IFRleHRDaGFuZ2VDb21wcmVzc29yLl9tZXJnZSh0aGlzLl9yZXN1bHQpO1xuICAgICAgICBjb25zdCBjbGVhbmVkID0gVGV4dENoYW5nZUNvbXByZXNzb3IuX3JlbW92ZU5vT3BzKG1lcmdlZCk7XG4gICAgICAgIHJldHVybiBjbGVhbmVkO1xuICAgIH1cbiAgICBfYWNjZXB0Q3VycihjdXJyRWRpdCkge1xuICAgICAgICB0aGlzLl9yZXN1bHRbdGhpcy5fcmVzdWx0TGVuKytdID0gVGV4dENoYW5nZUNvbXByZXNzb3IuX3JlYmFzZUN1cnIodGhpcy5fcHJldkRlbHRhT2Zmc2V0LCBjdXJyRWRpdCk7XG4gICAgICAgIHRoaXMuX2N1cnJEZWx0YU9mZnNldCArPSBjdXJyRWRpdC5uZXdMZW5ndGggLSBjdXJyRWRpdC5vbGRMZW5ndGg7XG4gICAgfVxuICAgIF9nZXRDdXJyKGN1cnJJbmRleCkge1xuICAgICAgICByZXR1cm4gKGN1cnJJbmRleCA8IHRoaXMuX2N1cnJMZW4gPyB0aGlzLl9jdXJyRWRpdHNbY3VyckluZGV4XSA6IG51bGwpO1xuICAgIH1cbiAgICBfYWNjZXB0UHJldihwcmV2RWRpdCkge1xuICAgICAgICB0aGlzLl9yZXN1bHRbdGhpcy5fcmVzdWx0TGVuKytdID0gVGV4dENoYW5nZUNvbXByZXNzb3IuX3JlYmFzZVByZXYodGhpcy5fY3VyckRlbHRhT2Zmc2V0LCBwcmV2RWRpdCk7XG4gICAgICAgIHRoaXMuX3ByZXZEZWx0YU9mZnNldCArPSBwcmV2RWRpdC5uZXdMZW5ndGggLSBwcmV2RWRpdC5vbGRMZW5ndGg7XG4gICAgfVxuICAgIF9nZXRQcmV2KHByZXZJbmRleCkge1xuICAgICAgICByZXR1cm4gKHByZXZJbmRleCA8IHRoaXMuX3ByZXZMZW4gPyB0aGlzLl9wcmV2RWRpdHNbcHJldkluZGV4XSA6IG51bGwpO1xuICAgIH1cbiAgICBzdGF0aWMgX3JlYmFzZUN1cnIocHJldkRlbHRhT2Zmc2V0LCBjdXJyRWRpdCkge1xuICAgICAgICByZXR1cm4gbmV3IFRleHRDaGFuZ2UoY3VyckVkaXQub2xkUG9zaXRpb24gLSBwcmV2RGVsdGFPZmZzZXQsIGN1cnJFZGl0Lm9sZFRleHQsIGN1cnJFZGl0Lm5ld1Bvc2l0aW9uLCBjdXJyRWRpdC5uZXdUZXh0KTtcbiAgICB9XG4gICAgc3RhdGljIF9yZWJhc2VQcmV2KGN1cnJEZWx0YU9mZnNldCwgcHJldkVkaXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0Q2hhbmdlKHByZXZFZGl0Lm9sZFBvc2l0aW9uLCBwcmV2RWRpdC5vbGRUZXh0LCBwcmV2RWRpdC5uZXdQb3NpdGlvbiArIGN1cnJEZWx0YU9mZnNldCwgcHJldkVkaXQubmV3VGV4dCk7XG4gICAgfVxuICAgIHN0YXRpYyBfc3BsaXRQcmV2KGVkaXQsIG9mZnNldCkge1xuICAgICAgICBjb25zdCBwcmVUZXh0ID0gZWRpdC5uZXdUZXh0LnN1YnN0cigwLCBvZmZzZXQpO1xuICAgICAgICBjb25zdCBwb3N0VGV4dCA9IGVkaXQubmV3VGV4dC5zdWJzdHIob2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG5ldyBUZXh0Q2hhbmdlKGVkaXQub2xkUG9zaXRpb24sIGVkaXQub2xkVGV4dCwgZWRpdC5uZXdQb3NpdGlvbiwgcHJlVGV4dCksXG4gICAgICAgICAgICBuZXcgVGV4dENoYW5nZShlZGl0Lm9sZEVuZCwgJycsIGVkaXQubmV3UG9zaXRpb24gKyBvZmZzZXQsIHBvc3RUZXh0KVxuICAgICAgICBdO1xuICAgIH1cbiAgICBzdGF0aWMgX3NwbGl0Q3VycihlZGl0LCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgcHJlVGV4dCA9IGVkaXQub2xkVGV4dC5zdWJzdHIoMCwgb2Zmc2V0KTtcbiAgICAgICAgY29uc3QgcG9zdFRleHQgPSBlZGl0Lm9sZFRleHQuc3Vic3RyKG9mZnNldCk7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBuZXcgVGV4dENoYW5nZShlZGl0Lm9sZFBvc2l0aW9uLCBwcmVUZXh0LCBlZGl0Lm5ld1Bvc2l0aW9uLCBlZGl0Lm5ld1RleHQpLFxuICAgICAgICAgICAgbmV3IFRleHRDaGFuZ2UoZWRpdC5vbGRQb3NpdGlvbiArIG9mZnNldCwgcG9zdFRleHQsIGVkaXQubmV3RW5kLCAnJylcbiAgICAgICAgXTtcbiAgICB9XG4gICAgc3RhdGljIF9tZXJnZShlZGl0cykge1xuICAgICAgICBpZiAoZWRpdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZWRpdHM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCByZXN1bHRMZW4gPSAwO1xuICAgICAgICBsZXQgcHJldiA9IGVkaXRzWzBdO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGVkaXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyID0gZWRpdHNbaV07XG4gICAgICAgICAgICBpZiAocHJldi5vbGRFbmQgPT09IGN1cnIub2xkUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBNZXJnZSBpbnRvIGBwcmV2YFxuICAgICAgICAgICAgICAgIHByZXYgPSBuZXcgVGV4dENoYW5nZShwcmV2Lm9sZFBvc2l0aW9uLCBwcmV2Lm9sZFRleHQgKyBjdXJyLm9sZFRleHQsIHByZXYubmV3UG9zaXRpb24sIHByZXYubmV3VGV4dCArIGN1cnIubmV3VGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0TGVuKytdID0gcHJldjtcbiAgICAgICAgICAgICAgICBwcmV2ID0gY3VycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXN1bHRbcmVzdWx0TGVuKytdID0gcHJldjtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgc3RhdGljIF9yZW1vdmVOb09wcyhlZGl0cykge1xuICAgICAgICBpZiAoZWRpdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZWRpdHM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCByZXN1bHRMZW4gPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVkaXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlZGl0ID0gZWRpdHNbaV07XG4gICAgICAgICAgICBpZiAoZWRpdC5vbGRUZXh0ID09PSBlZGl0Lm5ld1RleHQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRMZW4rK10gPSBlZGl0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5leHBvcnQgY29uc3QgRURJVE9SX01PREVMX0RFRkFVTFRTID0ge1xuICAgIHRhYlNpemU6IDQsXG4gICAgaW5kZW50U2l6ZTogNCxcbiAgICBpbnNlcnRTcGFjZXM6IHRydWUsXG4gICAgZGV0ZWN0SW5kZW50YXRpb246IHRydWUsXG4gICAgdHJpbUF1dG9XaGl0ZXNwYWNlOiB0cnVlLFxuICAgIGxhcmdlRmlsZU9wdGltaXphdGlvbnM6IHRydWUsXG4gICAgYnJhY2tldFBhaXJDb2xvcml6YXRpb25PcHRpb25zOiB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGluZGVwZW5kZW50Q29sb3JQb29sUGVyQnJhY2tldFR5cGU6IGZhbHNlLFxuICAgIH0sXG59O1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vKipcbiAqIERlc2NyaWJlcyB3aGF0IHRvIGRvIHdpdGggdGhlIGluZGVudGF0aW9uIHdoZW4gcHJlc3NpbmcgRW50ZXIuXG4gKi9cbmV4cG9ydCB2YXIgSW5kZW50QWN0aW9uO1xuKGZ1bmN0aW9uIChJbmRlbnRBY3Rpb24pIHtcbiAgICAvKipcbiAgICAgKiBJbnNlcnQgbmV3IGxpbmUgYW5kIGNvcHkgdGhlIHByZXZpb3VzIGxpbmUncyBpbmRlbnRhdGlvbi5cbiAgICAgKi9cbiAgICBJbmRlbnRBY3Rpb25bSW5kZW50QWN0aW9uW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gICAgLyoqXG4gICAgICogSW5zZXJ0IG5ldyBsaW5lIGFuZCBpbmRlbnQgb25jZSAocmVsYXRpdmUgdG8gdGhlIHByZXZpb3VzIGxpbmUncyBpbmRlbnRhdGlvbikuXG4gICAgICovXG4gICAgSW5kZW50QWN0aW9uW0luZGVudEFjdGlvbltcIkluZGVudFwiXSA9IDFdID0gXCJJbmRlbnRcIjtcbiAgICAvKipcbiAgICAgKiBJbnNlcnQgdHdvIG5ldyBsaW5lczpcbiAgICAgKiAgLSB0aGUgZmlyc3Qgb25lIGluZGVudGVkIHdoaWNoIHdpbGwgaG9sZCB0aGUgY3Vyc29yXG4gICAgICogIC0gdGhlIHNlY29uZCBvbmUgYXQgdGhlIHNhbWUgaW5kZW50YXRpb24gbGV2ZWxcbiAgICAgKi9cbiAgICBJbmRlbnRBY3Rpb25bSW5kZW50QWN0aW9uW1wiSW5kZW50T3V0ZGVudFwiXSA9IDJdID0gXCJJbmRlbnRPdXRkZW50XCI7XG4gICAgLyoqXG4gICAgICogSW5zZXJ0IG5ldyBsaW5lIGFuZCBvdXRkZW50IG9uY2UgKHJlbGF0aXZlIHRvIHRoZSBwcmV2aW91cyBsaW5lJ3MgaW5kZW50YXRpb24pLlxuICAgICAqL1xuICAgIEluZGVudEFjdGlvbltJbmRlbnRBY3Rpb25bXCJPdXRkZW50XCJdID0gM10gPSBcIk91dGRlbnRcIjtcbn0pKEluZGVudEFjdGlvbiB8fCAoSW5kZW50QWN0aW9uID0ge30pKTtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBTdGFuZGFyZEF1dG9DbG9zaW5nUGFpckNvbmRpdGlvbmFsIHtcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5fbmV1dHJhbENoYXJhY3RlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX25ldXRyYWxDaGFyYWN0ZXJTZWFyY2hlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9wZW4gPSBzb3VyY2Uub3BlbjtcbiAgICAgICAgdGhpcy5jbG9zZSA9IHNvdXJjZS5jbG9zZTtcbiAgICAgICAgLy8gaW5pdGlhbGx5IGFsbG93ZWQgaW4gYWxsIHRva2Vuc1xuICAgICAgICB0aGlzLl9pblN0cmluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuX2luQ29tbWVudCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2luUmVnRXggPSB0cnVlO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2Uubm90SW4pKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gc291cmNlLm5vdEluLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm90SW4gPSBzb3VyY2Uubm90SW5baV07XG4gICAgICAgICAgICAgICAgc3dpdGNoIChub3RJbikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5TdHJpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luQ29tbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlZ2V4JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luUmVnRXggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpc09LKHN0YW5kYXJkVG9rZW4pIHtcbiAgICAgICAgc3dpdGNoIChzdGFuZGFyZFRva2VuKSB7XG4gICAgICAgICAgICBjYXNlIDAgLyogU3RhbmRhcmRUb2tlblR5cGUuT3RoZXIgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBjYXNlIDEgLyogU3RhbmRhcmRUb2tlblR5cGUuQ29tbWVudCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faW5Db21tZW50O1xuICAgICAgICAgICAgY2FzZSAyIC8qIFN0YW5kYXJkVG9rZW5UeXBlLlN0cmluZyAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faW5TdHJpbmc7XG4gICAgICAgICAgICBjYXNlIDMgLyogU3RhbmRhcmRUb2tlblR5cGUuUmVnRXggKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luUmVnRXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvdWxkQXV0b0Nsb3NlKGNvbnRleHQsIGNvbHVtbikge1xuICAgICAgICAvLyBBbHdheXMgY29tcGxldGUgb24gZW1wdHkgbGluZVxuICAgICAgICBpZiAoY29udGV4dC5nZXRUb2tlbkNvdW50KCkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRva2VuSW5kZXggPSBjb250ZXh0LmZpbmRUb2tlbkluZGV4QXRPZmZzZXQoY29sdW1uIC0gMik7XG4gICAgICAgIGNvbnN0IHN0YW5kYXJkVG9rZW5UeXBlID0gY29udGV4dC5nZXRTdGFuZGFyZFRva2VuVHlwZSh0b2tlbkluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNPSyhzdGFuZGFyZFRva2VuVHlwZSk7XG4gICAgfVxuICAgIF9maW5kTmV1dHJhbENoYXJhY3RlckluUmFuZ2UoZnJvbUNoYXJDb2RlLCB0b0NoYXJDb2RlKSB7XG4gICAgICAgIGZvciAobGV0IGNoYXJDb2RlID0gZnJvbUNoYXJDb2RlOyBjaGFyQ29kZSA8PSB0b0NoYXJDb2RlOyBjaGFyQ29kZSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXJDb2RlKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5vcGVuLmluY2x1ZGVzKGNoYXJhY3RlcikgJiYgIXRoaXMuY2xvc2UuaW5jbHVkZXMoY2hhcmFjdGVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGFyYWN0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgYSBjaGFyYWN0ZXIgaW4gdGhlIHJhbmdlIFswLTlhLXpBLVpdIHRoYXQgZG9lcyBub3QgYXBwZWFyIGluIHRoZSBvcGVuIG9yIGNsb3NlXG4gICAgICovXG4gICAgZmluZE5ldXRyYWxDaGFyYWN0ZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbmV1dHJhbENoYXJhY3RlclNlYXJjaGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9uZXV0cmFsQ2hhcmFjdGVyU2VhcmNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9uZXV0cmFsQ2hhcmFjdGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmV1dHJhbENoYXJhY3RlciA9IHRoaXMuX2ZpbmROZXV0cmFsQ2hhcmFjdGVySW5SYW5nZSg0OCAvKiBDaGFyQ29kZS5EaWdpdDAgKi8sIDU3IC8qIENoYXJDb2RlLkRpZ2l0OSAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX25ldXRyYWxDaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uZXV0cmFsQ2hhcmFjdGVyID0gdGhpcy5fZmluZE5ldXRyYWxDaGFyYWN0ZXJJblJhbmdlKDk3IC8qIENoYXJDb2RlLmEgKi8sIDEyMiAvKiBDaGFyQ29kZS56ICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5fbmV1dHJhbENoYXJhY3Rlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX25ldXRyYWxDaGFyYWN0ZXIgPSB0aGlzLl9maW5kTmV1dHJhbENoYXJhY3RlckluUmFuZ2UoNjUgLyogQ2hhckNvZGUuQSAqLywgOTAgLyogQ2hhckNvZGUuWiAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX25ldXRyYWxDaGFyYWN0ZXI7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIEF1dG9DbG9zaW5nUGFpcnMge1xuICAgIGNvbnN0cnVjdG9yKGF1dG9DbG9zaW5nUGFpcnMpIHtcbiAgICAgICAgdGhpcy5hdXRvQ2xvc2luZ1BhaXJzT3BlbkJ5U3RhcnQgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuYXV0b0Nsb3NpbmdQYWlyc09wZW5CeUVuZCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5hdXRvQ2xvc2luZ1BhaXJzQ2xvc2VCeVN0YXJ0ID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmF1dG9DbG9zaW5nUGFpcnNDbG9zZUJ5RW5kID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmF1dG9DbG9zaW5nUGFpcnNDbG9zZVNpbmdsZUNoYXIgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBhdXRvQ2xvc2luZ1BhaXJzKSB7XG4gICAgICAgICAgICBhcHBlbmRFbnRyeSh0aGlzLmF1dG9DbG9zaW5nUGFpcnNPcGVuQnlTdGFydCwgcGFpci5vcGVuLmNoYXJBdCgwKSwgcGFpcik7XG4gICAgICAgICAgICBhcHBlbmRFbnRyeSh0aGlzLmF1dG9DbG9zaW5nUGFpcnNPcGVuQnlFbmQsIHBhaXIub3Blbi5jaGFyQXQocGFpci5vcGVuLmxlbmd0aCAtIDEpLCBwYWlyKTtcbiAgICAgICAgICAgIGFwcGVuZEVudHJ5KHRoaXMuYXV0b0Nsb3NpbmdQYWlyc0Nsb3NlQnlTdGFydCwgcGFpci5jbG9zZS5jaGFyQXQoMCksIHBhaXIpO1xuICAgICAgICAgICAgYXBwZW5kRW50cnkodGhpcy5hdXRvQ2xvc2luZ1BhaXJzQ2xvc2VCeUVuZCwgcGFpci5jbG9zZS5jaGFyQXQocGFpci5jbG9zZS5sZW5ndGggLSAxKSwgcGFpcik7XG4gICAgICAgICAgICBpZiAocGFpci5jbG9zZS5sZW5ndGggPT09IDEgJiYgcGFpci5vcGVuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGFwcGVuZEVudHJ5KHRoaXMuYXV0b0Nsb3NpbmdQYWlyc0Nsb3NlU2luZ2xlQ2hhciwgcGFpci5jbG9zZSwgcGFpcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBhcHBlbmRFbnRyeSh0YXJnZXQsIGtleSwgdmFsdWUpIHtcbiAgICBpZiAodGFyZ2V0LmhhcyhrZXkpKSB7XG4gICAgICAgIHRhcmdldC5nZXQoa2V5KS5wdXNoKHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRhcmdldC5zZXQoa2V5LCBbdmFsdWVdKTtcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IFN0YW5kYXJkQXV0b0Nsb3NpbmdQYWlyQ29uZGl0aW9uYWwgfSBmcm9tICcuLi9sYW5ndWFnZUNvbmZpZ3VyYXRpb24uanMnO1xuZXhwb3J0IGNsYXNzIENoYXJhY3RlclBhaXJTdXBwb3J0IHtcbiAgICBzdGF0aWMgeyB0aGlzLkRFRkFVTFRfQVVUT0NMT1NFX0JFRk9SRV9MQU5HVUFHRV9ERUZJTkVEX1FVT1RFUyA9ICc7Oi4sPX1dKT4gXFxuXFx0JzsgfVxuICAgIHN0YXRpYyB7IHRoaXMuREVGQVVMVF9BVVRPQ0xPU0VfQkVGT1JFX0xBTkdVQUdFX0RFRklORURfQlJBQ0tFVFMgPSAnXFwnXCJgOzouLD19XSk+IFxcblxcdCc7IH1cbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZy5hdXRvQ2xvc2luZ1BhaXJzKSB7XG4gICAgICAgICAgICB0aGlzLl9hdXRvQ2xvc2luZ1BhaXJzID0gY29uZmlnLmF1dG9DbG9zaW5nUGFpcnMubWFwKGVsID0+IG5ldyBTdGFuZGFyZEF1dG9DbG9zaW5nUGFpckNvbmRpdGlvbmFsKGVsKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29uZmlnLmJyYWNrZXRzKSB7XG4gICAgICAgICAgICB0aGlzLl9hdXRvQ2xvc2luZ1BhaXJzID0gY29uZmlnLmJyYWNrZXRzLm1hcChiID0+IG5ldyBTdGFuZGFyZEF1dG9DbG9zaW5nUGFpckNvbmRpdGlvbmFsKHsgb3BlbjogYlswXSwgY2xvc2U6IGJbMV0gfSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYXV0b0Nsb3NpbmdQYWlycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuX19lbGVjdHJpY0NoYXJhY3RlclN1cHBvcnQgJiYgY29uZmlnLl9fZWxlY3RyaWNDaGFyYWN0ZXJTdXBwb3J0LmRvY0NvbW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRvY0NvbW1lbnQgPSBjb25maWcuX19lbGVjdHJpY0NoYXJhY3RlclN1cHBvcnQuZG9jQ29tbWVudDtcbiAgICAgICAgICAgIC8vIElEb2NDb21tZW50IGlzIGxlZ2FjeSwgb25seSBwYXJ0aWFsbHkgc3VwcG9ydGVkXG4gICAgICAgICAgICB0aGlzLl9hdXRvQ2xvc2luZ1BhaXJzLnB1c2gobmV3IFN0YW5kYXJkQXV0b0Nsb3NpbmdQYWlyQ29uZGl0aW9uYWwoeyBvcGVuOiBkb2NDb21tZW50Lm9wZW4sIGNsb3NlOiBkb2NDb21tZW50LmNsb3NlIHx8ICcnIH0pKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdXRvQ2xvc2VCZWZvcmVGb3JRdW90ZXMgPSB0eXBlb2YgY29uZmlnLmF1dG9DbG9zZUJlZm9yZSA9PT0gJ3N0cmluZycgPyBjb25maWcuYXV0b0Nsb3NlQmVmb3JlIDogQ2hhcmFjdGVyUGFpclN1cHBvcnQuREVGQVVMVF9BVVRPQ0xPU0VfQkVGT1JFX0xBTkdVQUdFX0RFRklORURfUVVPVEVTO1xuICAgICAgICB0aGlzLl9hdXRvQ2xvc2VCZWZvcmVGb3JCcmFja2V0cyA9IHR5cGVvZiBjb25maWcuYXV0b0Nsb3NlQmVmb3JlID09PSAnc3RyaW5nJyA/IGNvbmZpZy5hdXRvQ2xvc2VCZWZvcmUgOiBDaGFyYWN0ZXJQYWlyU3VwcG9ydC5ERUZBVUxUX0FVVE9DTE9TRV9CRUZPUkVfTEFOR1VBR0VfREVGSU5FRF9CUkFDS0VUUztcbiAgICAgICAgdGhpcy5fc3Vycm91bmRpbmdQYWlycyA9IGNvbmZpZy5zdXJyb3VuZGluZ1BhaXJzIHx8IHRoaXMuX2F1dG9DbG9zaW5nUGFpcnM7XG4gICAgfVxuICAgIGdldEF1dG9DbG9zaW5nUGFpcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdXRvQ2xvc2luZ1BhaXJzO1xuICAgIH1cbiAgICBnZXRBdXRvQ2xvc2VCZWZvcmVTZXQoZm9yUXVvdGVzKSB7XG4gICAgICAgIHJldHVybiAoZm9yUXVvdGVzID8gdGhpcy5fYXV0b0Nsb3NlQmVmb3JlRm9yUXVvdGVzIDogdGhpcy5fYXV0b0Nsb3NlQmVmb3JlRm9yQnJhY2tldHMpO1xuICAgIH1cbiAgICBnZXRTdXJyb3VuZGluZ1BhaXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3Vycm91bmRpbmdQYWlycztcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IGRpc3RpbmN0IH0gZnJvbSAnLi4vLi4vLi4vLi4vYmFzZS9jb21tb24vYXJyYXlzLmpzJztcbmltcG9ydCB7IGlnbm9yZUJyYWNrZXRzSW5Ub2tlbiB9IGZyb20gJy4uL3N1cHBvcnRzLmpzJztcbmltcG9ydCB7IEJyYWNrZXRzVXRpbHMgfSBmcm9tICcuL3JpY2hFZGl0QnJhY2tldHMuanMnO1xuZXhwb3J0IGNsYXNzIEJyYWNrZXRFbGVjdHJpY0NoYXJhY3RlclN1cHBvcnQge1xuICAgIGNvbnN0cnVjdG9yKHJpY2hFZGl0QnJhY2tldHMpIHtcbiAgICAgICAgdGhpcy5fcmljaEVkaXRCcmFja2V0cyA9IHJpY2hFZGl0QnJhY2tldHM7XG4gICAgfVxuICAgIGdldEVsZWN0cmljQ2hhcmFjdGVycygpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGlmICh0aGlzLl9yaWNoRWRpdEJyYWNrZXRzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGJyYWNrZXQgb2YgdGhpcy5fcmljaEVkaXRCcmFja2V0cy5icmFja2V0cykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2xvc2Ugb2YgYnJhY2tldC5jbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q2hhciA9IGNsb3NlLmNoYXJBdChjbG9zZS5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobGFzdENoYXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlzdGluY3QocmVzdWx0KTtcbiAgICB9XG4gICAgb25FbGVjdHJpY0NoYXJhY3RlcihjaGFyYWN0ZXIsIGNvbnRleHQsIGNvbHVtbikge1xuICAgICAgICBpZiAoIXRoaXMuX3JpY2hFZGl0QnJhY2tldHMgfHwgdGhpcy5fcmljaEVkaXRCcmFja2V0cy5icmFja2V0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRva2VuSW5kZXggPSBjb250ZXh0LmZpbmRUb2tlbkluZGV4QXRPZmZzZXQoY29sdW1uIC0gMSk7XG4gICAgICAgIGlmIChpZ25vcmVCcmFja2V0c0luVG9rZW4oY29udGV4dC5nZXRTdGFuZGFyZFRva2VuVHlwZSh0b2tlbkluZGV4KSkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJldmVyc2VkQnJhY2tldFJlZ2V4ID0gdGhpcy5fcmljaEVkaXRCcmFja2V0cy5yZXZlcnNlZFJlZ2V4O1xuICAgICAgICBjb25zdCB0ZXh0ID0gY29udGV4dC5nZXRMaW5lQ29udGVudCgpLnN1YnN0cmluZygwLCBjb2x1bW4gLSAxKSArIGNoYXJhY3RlcjtcbiAgICAgICAgY29uc3QgciA9IEJyYWNrZXRzVXRpbHMuZmluZFByZXZCcmFja2V0SW5SYW5nZShyZXZlcnNlZEJyYWNrZXRSZWdleCwgMSwgdGV4dCwgMCwgdGV4dC5sZW5ndGgpO1xuICAgICAgICBpZiAoIXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJyYWNrZXRUZXh0ID0gdGV4dC5zdWJzdHJpbmcoci5zdGFydENvbHVtbiAtIDEsIHIuZW5kQ29sdW1uIC0gMSkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgaXNPcGVuID0gdGhpcy5fcmljaEVkaXRCcmFja2V0cy50ZXh0SXNPcGVuQnJhY2tldFticmFja2V0VGV4dF07XG4gICAgICAgIGlmIChpc09wZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRleHRCZWZvcmVCcmFja2V0ID0gY29udGV4dC5nZXRBY3R1YWxMaW5lQ29udGVudEJlZm9yZShyLnN0YXJ0Q29sdW1uIC0gMSk7XG4gICAgICAgIGlmICghL15cXHMqJC8udGVzdCh0ZXh0QmVmb3JlQnJhY2tldCkpIHtcbiAgICAgICAgICAgIC8vIFRoZXJlIGlzIG90aGVyIHRleHQgb24gdGhlIGxpbmUgYmVmb3JlIHRoZSBicmFja2V0XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWF0Y2hPcGVuQnJhY2tldDogYnJhY2tldFRleHRcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmZ1bmN0aW9uIHJlc2V0R2xvYmFsUmVnZXgocmVnKSB7XG4gICAgaWYgKHJlZy5nbG9iYWwpIHtcbiAgICAgICAgcmVnLmxhc3RJbmRleCA9IDA7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGNsYXNzIEluZGVudFJ1bGVzU3VwcG9ydCB7XG4gICAgY29uc3RydWN0b3IoaW5kZW50YXRpb25SdWxlcykge1xuICAgICAgICB0aGlzLl9pbmRlbnRhdGlvblJ1bGVzID0gaW5kZW50YXRpb25SdWxlcztcbiAgICB9XG4gICAgc2hvdWxkSW5jcmVhc2UodGV4dCkge1xuICAgICAgICBpZiAodGhpcy5faW5kZW50YXRpb25SdWxlcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2luZGVudGF0aW9uUnVsZXMuaW5jcmVhc2VJbmRlbnRQYXR0ZXJuICYmIHJlc2V0R2xvYmFsUmVnZXgodGhpcy5faW5kZW50YXRpb25SdWxlcy5pbmNyZWFzZUluZGVudFBhdHRlcm4pICYmIHRoaXMuX2luZGVudGF0aW9uUnVsZXMuaW5jcmVhc2VJbmRlbnRQYXR0ZXJuLnRlc3QodGV4dCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmICh0aGlzLl9pbmRlbnRhdGlvblJ1bGVzLmluZGVudE5leHRMaW5lUGF0dGVybiAmJiB0aGlzLl9pbmRlbnRhdGlvblJ1bGVzLmluZGVudE5leHRMaW5lUGF0dGVybi50ZXN0KHRleHQpKSB7XG4gICAgICAgICAgICAvLyBcdHJldHVybiB0cnVlO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc2hvdWxkRGVjcmVhc2UodGV4dCkge1xuICAgICAgICBpZiAodGhpcy5faW5kZW50YXRpb25SdWxlcyAmJiB0aGlzLl9pbmRlbnRhdGlvblJ1bGVzLmRlY3JlYXNlSW5kZW50UGF0dGVybiAmJiByZXNldEdsb2JhbFJlZ2V4KHRoaXMuX2luZGVudGF0aW9uUnVsZXMuZGVjcmVhc2VJbmRlbnRQYXR0ZXJuKSAmJiB0aGlzLl9pbmRlbnRhdGlvblJ1bGVzLmRlY3JlYXNlSW5kZW50UGF0dGVybi50ZXN0KHRleHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHNob3VsZEluZGVudE5leHRMaW5lKHRleHQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2luZGVudGF0aW9uUnVsZXMgJiYgdGhpcy5faW5kZW50YXRpb25SdWxlcy5pbmRlbnROZXh0TGluZVBhdHRlcm4gJiYgcmVzZXRHbG9iYWxSZWdleCh0aGlzLl9pbmRlbnRhdGlvblJ1bGVzLmluZGVudE5leHRMaW5lUGF0dGVybikgJiYgdGhpcy5faW5kZW50YXRpb25SdWxlcy5pbmRlbnROZXh0TGluZVBhdHRlcm4udGVzdCh0ZXh0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzaG91bGRJZ25vcmUodGV4dCkge1xuICAgICAgICAvLyB0aGUgdGV4dCBtYXRjaGVzIGB1bkluZGVudGVkTGluZVBhdHRlcm5gXG4gICAgICAgIGlmICh0aGlzLl9pbmRlbnRhdGlvblJ1bGVzICYmIHRoaXMuX2luZGVudGF0aW9uUnVsZXMudW5JbmRlbnRlZExpbmVQYXR0ZXJuICYmIHJlc2V0R2xvYmFsUmVnZXgodGhpcy5faW5kZW50YXRpb25SdWxlcy51bkluZGVudGVkTGluZVBhdHRlcm4pICYmIHRoaXMuX2luZGVudGF0aW9uUnVsZXMudW5JbmRlbnRlZExpbmVQYXR0ZXJuLnRlc3QodGV4dCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZ2V0SW5kZW50TWV0YWRhdGEodGV4dCkge1xuICAgICAgICBsZXQgcmV0ID0gMDtcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkSW5jcmVhc2UodGV4dCkpIHtcbiAgICAgICAgICAgIHJldCArPSAxIC8qIEluZGVudENvbnN0cy5JTkNSRUFTRV9NQVNLICovO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNob3VsZERlY3JlYXNlKHRleHQpKSB7XG4gICAgICAgICAgICByZXQgKz0gMiAvKiBJbmRlbnRDb25zdHMuREVDUkVBU0VfTUFTSyAqLztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zaG91bGRJbmRlbnROZXh0TGluZSh0ZXh0KSkge1xuICAgICAgICAgICAgcmV0ICs9IDQgLyogSW5kZW50Q29uc3RzLklOREVOVF9ORVhUTElORV9NQVNLICovO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNob3VsZElnbm9yZSh0ZXh0KSkge1xuICAgICAgICAgICAgcmV0ICs9IDggLyogSW5kZW50Q29uc3RzLlVOSU5ERU5UX01BU0sgKi87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IG9uVW5leHBlY3RlZEVycm9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vYmFzZS9jb21tb24vZXJyb3JzLmpzJztcbmltcG9ydCAqIGFzIHN0cmluZ3MgZnJvbSAnLi4vLi4vLi4vLi4vYmFzZS9jb21tb24vc3RyaW5ncy5qcyc7XG5pbXBvcnQgeyBJbmRlbnRBY3Rpb24gfSBmcm9tICcuLi9sYW5ndWFnZUNvbmZpZ3VyYXRpb24uanMnO1xuZXhwb3J0IGNsYXNzIE9uRW50ZXJTdXBwb3J0IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgICAgICBvcHRzLmJyYWNrZXRzID0gb3B0cy5icmFja2V0cyB8fCBbXG4gICAgICAgICAgICBbJygnLCAnKSddLFxuICAgICAgICAgICAgWyd7JywgJ30nXSxcbiAgICAgICAgICAgIFsnWycsICddJ11cbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5fYnJhY2tldHMgPSBbXTtcbiAgICAgICAgb3B0cy5icmFja2V0cy5mb3JFYWNoKChicmFja2V0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcGVuUmVnRXhwID0gT25FbnRlclN1cHBvcnQuX2NyZWF0ZU9wZW5CcmFja2V0UmVnRXhwKGJyYWNrZXRbMF0pO1xuICAgICAgICAgICAgY29uc3QgY2xvc2VSZWdFeHAgPSBPbkVudGVyU3VwcG9ydC5fY3JlYXRlQ2xvc2VCcmFja2V0UmVnRXhwKGJyYWNrZXRbMV0pO1xuICAgICAgICAgICAgaWYgKG9wZW5SZWdFeHAgJiYgY2xvc2VSZWdFeHApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9icmFja2V0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgb3BlbjogYnJhY2tldFswXSxcbiAgICAgICAgICAgICAgICAgICAgb3BlblJlZ0V4cDogb3BlblJlZ0V4cCxcbiAgICAgICAgICAgICAgICAgICAgY2xvc2U6IGJyYWNrZXRbMV0sXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlUmVnRXhwOiBjbG9zZVJlZ0V4cCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3JlZ0V4cFJ1bGVzID0gb3B0cy5vbkVudGVyUnVsZXMgfHwgW107XG4gICAgfVxuICAgIG9uRW50ZXIoYXV0b0luZGVudCwgcHJldmlvdXNMaW5lVGV4dCwgYmVmb3JlRW50ZXJUZXh0LCBhZnRlckVudGVyVGV4dCkge1xuICAgICAgICAvLyAoMSk6IGByZWdFeHBSdWxlc2BcbiAgICAgICAgaWYgKGF1dG9JbmRlbnQgPj0gMyAvKiBFZGl0b3JBdXRvSW5kZW50U3RyYXRlZ3kuQWR2YW5jZWQgKi8pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLl9yZWdFeHBSdWxlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSB0aGlzLl9yZWdFeHBSdWxlc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdSZXN1bHQgPSBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVnOiBydWxlLmJlZm9yZVRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBiZWZvcmVFbnRlclRleHRcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVnOiBydWxlLmFmdGVyVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGFmdGVyRW50ZXJUZXh0XG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZzogcnVsZS5wcmV2aW91c0xpbmVUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcHJldmlvdXNMaW5lVGV4dFxuICAgICAgICAgICAgICAgICAgICB9XS5ldmVyeSgob2JqKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb2JqLnJlZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb2JqLnJlZy5sYXN0SW5kZXggPSAwOyAvLyBUbyBkaXNhYmxlIHRoZSBlZmZlY3Qgb2YgdGhlIFwiZ1wiIGZsYWcuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmoucmVnLnRlc3Qob2JqLnRleHQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZWdSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ1bGUuYWN0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyAoMik6IFNwZWNpYWwgaW5kZW50LW91dGRlbnRcbiAgICAgICAgaWYgKGF1dG9JbmRlbnQgPj0gMiAvKiBFZGl0b3JBdXRvSW5kZW50U3RyYXRlZ3kuQnJhY2tldHMgKi8pIHtcbiAgICAgICAgICAgIGlmIChiZWZvcmVFbnRlclRleHQubGVuZ3RoID4gMCAmJiBhZnRlckVudGVyVGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuX2JyYWNrZXRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJyYWNrZXQgPSB0aGlzLl9icmFja2V0c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJyYWNrZXQub3BlblJlZ0V4cC50ZXN0KGJlZm9yZUVudGVyVGV4dCkgJiYgYnJhY2tldC5jbG9zZVJlZ0V4cC50ZXN0KGFmdGVyRW50ZXJUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgaW5kZW50QWN0aW9uOiBJbmRlbnRBY3Rpb24uSW5kZW50T3V0ZGVudCB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vICg0KTogT3BlbiBicmFja2V0IGJhc2VkIGxvZ2ljXG4gICAgICAgIGlmIChhdXRvSW5kZW50ID49IDIgLyogRWRpdG9yQXV0b0luZGVudFN0cmF0ZWd5LkJyYWNrZXRzICovKSB7XG4gICAgICAgICAgICBpZiAoYmVmb3JlRW50ZXJUZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy5fYnJhY2tldHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnJhY2tldCA9IHRoaXMuX2JyYWNrZXRzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnJhY2tldC5vcGVuUmVnRXhwLnRlc3QoYmVmb3JlRW50ZXJUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgaW5kZW50QWN0aW9uOiBJbmRlbnRBY3Rpb24uSW5kZW50IH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHN0YXRpYyBfY3JlYXRlT3BlbkJyYWNrZXRSZWdFeHAoYnJhY2tldCkge1xuICAgICAgICBsZXQgc3RyID0gc3RyaW5ncy5lc2NhcGVSZWdFeHBDaGFyYWN0ZXJzKGJyYWNrZXQpO1xuICAgICAgICBpZiAoIS9cXEIvLnRlc3Qoc3RyLmNoYXJBdCgwKSkpIHtcbiAgICAgICAgICAgIHN0ciA9ICdcXFxcYicgKyBzdHI7XG4gICAgICAgIH1cbiAgICAgICAgc3RyICs9ICdcXFxccyokJztcbiAgICAgICAgcmV0dXJuIE9uRW50ZXJTdXBwb3J0Ll9zYWZlUmVnRXhwKHN0cik7XG4gICAgfVxuICAgIHN0YXRpYyBfY3JlYXRlQ2xvc2VCcmFja2V0UmVnRXhwKGJyYWNrZXQpIHtcbiAgICAgICAgbGV0IHN0ciA9IHN0cmluZ3MuZXNjYXBlUmVnRXhwQ2hhcmFjdGVycyhicmFja2V0KTtcbiAgICAgICAgaWYgKCEvXFxCLy50ZXN0KHN0ci5jaGFyQXQoc3RyLmxlbmd0aCAtIDEpKSkge1xuICAgICAgICAgICAgc3RyID0gc3RyICsgJ1xcXFxiJztcbiAgICAgICAgfVxuICAgICAgICBzdHIgPSAnXlxcXFxzKicgKyBzdHI7XG4gICAgICAgIHJldHVybiBPbkVudGVyU3VwcG9ydC5fc2FmZVJlZ0V4cChzdHIpO1xuICAgIH1cbiAgICBzdGF0aWMgX3NhZmVSZWdFeHAoZGVmKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChkZWYpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIG9uVW5leHBlY3RlZEVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgQ2FjaGVkRnVuY3Rpb24gfSBmcm9tICcuLi8uLi8uLi8uLi9iYXNlL2NvbW1vbi9jYWNoZS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVCcmFja2V0T3JSZWdFeHAgfSBmcm9tICcuL3JpY2hFZGl0QnJhY2tldHMuanMnO1xuLyoqXG4gKiBDYXB0dXJlcyBhbGwgYnJhY2tldCByZWxhdGVkIGNvbmZpZ3VyYXRpb25zIGZvciBhIHNpbmdsZSBsYW5ndWFnZS5cbiAqIEltbXV0YWJsZS5cbiovXG5leHBvcnQgY2xhc3MgTGFuZ3VhZ2VCcmFja2V0c0NvbmZpZ3VyYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGxhbmd1YWdlSWQsIGNvbmZpZykge1xuICAgICAgICB0aGlzLmxhbmd1YWdlSWQgPSBsYW5ndWFnZUlkO1xuICAgICAgICBjb25zdCBicmFja2V0UGFpcnMgPSBjb25maWcuYnJhY2tldHMgPyBmaWx0ZXJWYWxpZEJyYWNrZXRzKGNvbmZpZy5icmFja2V0cykgOiBbXTtcbiAgICAgICAgY29uc3Qgb3BlbmluZ0JyYWNrZXRJbmZvcyA9IG5ldyBDYWNoZWRGdW5jdGlvbigoYnJhY2tldCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2xvc2luZyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaW5mbzogbmV3IE9wZW5pbmdCcmFja2V0S2luZCh0aGlzLCBicmFja2V0LCBjbG9zaW5nKSxcbiAgICAgICAgICAgICAgICBjbG9zaW5nLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNsb3NpbmdCcmFja2V0SW5mb3MgPSBuZXcgQ2FjaGVkRnVuY3Rpb24oKGJyYWNrZXQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9wZW5pbmcgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBjb25zdCBvcGVuaW5nQ29sb3JpemVkID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpbmZvOiBuZXcgQ2xvc2luZ0JyYWNrZXRLaW5kKHRoaXMsIGJyYWNrZXQsIG9wZW5pbmcsIG9wZW5pbmdDb2xvcml6ZWQpLFxuICAgICAgICAgICAgICAgIG9wZW5pbmcsXG4gICAgICAgICAgICAgICAgb3BlbmluZ0NvbG9yaXplZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGNvbnN0IFtvcGVuLCBjbG9zZV0gb2YgYnJhY2tldFBhaXJzKSB7XG4gICAgICAgICAgICBjb25zdCBvcGVuaW5nID0gb3BlbmluZ0JyYWNrZXRJbmZvcy5nZXQob3Blbik7XG4gICAgICAgICAgICBjb25zdCBjbG9zaW5nID0gY2xvc2luZ0JyYWNrZXRJbmZvcy5nZXQoY2xvc2UpO1xuICAgICAgICAgICAgb3BlbmluZy5jbG9zaW5nLmFkZChjbG9zaW5nLmluZm8pO1xuICAgICAgICAgICAgY2xvc2luZy5vcGVuaW5nLmFkZChvcGVuaW5nLmluZm8pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRyZWF0IGNvbG9yaXplZCBicmFja2V0cyBhcyBicmFja2V0cywgYW5kIG1hcmsgdGhlbSBhcyBjb2xvcml6ZWQuXG4gICAgICAgIGNvbnN0IGNvbG9yaXplZEJyYWNrZXRQYWlycyA9IGNvbmZpZy5jb2xvcml6ZWRCcmFja2V0UGFpcnNcbiAgICAgICAgICAgID8gZmlsdGVyVmFsaWRCcmFja2V0cyhjb25maWcuY29sb3JpemVkQnJhY2tldFBhaXJzKVxuICAgICAgICAgICAgLy8gSWYgbm90IGNvbmZpZ3VyZWQ6IFRha2UgYWxsIGJyYWNrZXRzIGV4Y2VwdCBgPGAgLi4uIGA+YFxuICAgICAgICAgICAgLy8gTWFueSBsYW5ndWFnZXMgc2V0IDwgLi4uID4gYXMgYnJhY2tldCBwYWlyLCBldmVuIHRob3VnaCB0aGV5IGFsc28gdXNlIGl0IGFzIGNvbXBhcmlzb24gb3BlcmF0b3IuXG4gICAgICAgICAgICAvLyBUaGlzIGxlYWRzIHRvIHByb2JsZW1zIHdoZW4gY29sb3JpemluZyB0aGlzIGJyYWNrZXQsIHNvIHdlIGV4Y2x1ZGUgaXQgaWYgbm90IGV4cGxpY2l0bHkgY29uZmlndXJlZCBvdGhlcndpc2UuXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L3ZzY29kZS9pc3N1ZXMvMTMyNDc2XG4gICAgICAgICAgICA6IGJyYWNrZXRQYWlycy5maWx0ZXIoKHApID0+ICEocFswXSA9PT0gJzwnICYmIHBbMV0gPT09ICc+JykpO1xuICAgICAgICBmb3IgKGNvbnN0IFtvcGVuLCBjbG9zZV0gb2YgY29sb3JpemVkQnJhY2tldFBhaXJzKSB7XG4gICAgICAgICAgICBjb25zdCBvcGVuaW5nID0gb3BlbmluZ0JyYWNrZXRJbmZvcy5nZXQob3Blbik7XG4gICAgICAgICAgICBjb25zdCBjbG9zaW5nID0gY2xvc2luZ0JyYWNrZXRJbmZvcy5nZXQoY2xvc2UpO1xuICAgICAgICAgICAgb3BlbmluZy5jbG9zaW5nLmFkZChjbG9zaW5nLmluZm8pO1xuICAgICAgICAgICAgY2xvc2luZy5vcGVuaW5nQ29sb3JpemVkLmFkZChvcGVuaW5nLmluZm8pO1xuICAgICAgICAgICAgY2xvc2luZy5vcGVuaW5nLmFkZChvcGVuaW5nLmluZm8pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29wZW5pbmdCcmFja2V0cyA9IG5ldyBNYXAoWy4uLm9wZW5pbmdCcmFja2V0SW5mb3MuY2FjaGVkVmFsdWVzXS5tYXAoKFtrLCB2XSkgPT4gW2ssIHYuaW5mb10pKTtcbiAgICAgICAgdGhpcy5fY2xvc2luZ0JyYWNrZXRzID0gbmV3IE1hcChbLi4uY2xvc2luZ0JyYWNrZXRJbmZvcy5jYWNoZWRWYWx1ZXNdLm1hcCgoW2ssIHZdKSA9PiBbaywgdi5pbmZvXSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBObyB0d28gYnJhY2tldHMgaGF2ZSB0aGUgc2FtZSBicmFja2V0IHRleHQuXG4gICAgKi9cbiAgICBnZXQgb3BlbmluZ0JyYWNrZXRzKCkge1xuICAgICAgICByZXR1cm4gWy4uLnRoaXMuX29wZW5pbmdCcmFja2V0cy52YWx1ZXMoKV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vIHR3byBicmFja2V0cyBoYXZlIHRoZSBzYW1lIGJyYWNrZXQgdGV4dC5cbiAgICAqL1xuICAgIGdldCBjbG9zaW5nQnJhY2tldHMoKSB7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5fY2xvc2luZ0JyYWNrZXRzLnZhbHVlcygpXTtcbiAgICB9XG4gICAgZ2V0T3BlbmluZ0JyYWNrZXRJbmZvKGJyYWNrZXRUZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcGVuaW5nQnJhY2tldHMuZ2V0KGJyYWNrZXRUZXh0KTtcbiAgICB9XG4gICAgZ2V0Q2xvc2luZ0JyYWNrZXRJbmZvKGJyYWNrZXRUZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbG9zaW5nQnJhY2tldHMuZ2V0KGJyYWNrZXRUZXh0KTtcbiAgICB9XG4gICAgZ2V0QnJhY2tldEluZm8oYnJhY2tldFRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3BlbmluZ0JyYWNrZXRJbmZvKGJyYWNrZXRUZXh0KSB8fCB0aGlzLmdldENsb3NpbmdCcmFja2V0SW5mbyhicmFja2V0VGV4dCk7XG4gICAgfVxuICAgIGdldEJyYWNrZXRSZWdFeHAob3B0aW9ucykge1xuICAgICAgICBjb25zdCBicmFja2V0cyA9IEFycmF5LmZyb20oWy4uLnRoaXMuX29wZW5pbmdCcmFja2V0cy5rZXlzKCksIC4uLnRoaXMuX2Nsb3NpbmdCcmFja2V0cy5rZXlzKCldKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJyYWNrZXRPclJlZ0V4cChicmFja2V0cywgb3B0aW9ucyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZmlsdGVyVmFsaWRCcmFja2V0cyhicmFja2V0UGFpcnMpIHtcbiAgICByZXR1cm4gYnJhY2tldFBhaXJzLmZpbHRlcigoW29wZW4sIGNsb3NlXSkgPT4gb3BlbiAhPT0gJycgJiYgY2xvc2UgIT09ICcnKTtcbn1cbmV4cG9ydCBjbGFzcyBCcmFja2V0S2luZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgYnJhY2tldFRleHQpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuYnJhY2tldFRleHQgPSBicmFja2V0VGV4dDtcbiAgICB9XG4gICAgZ2V0IGxhbmd1YWdlSWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5sYW5ndWFnZUlkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBPcGVuaW5nQnJhY2tldEtpbmQgZXh0ZW5kcyBCcmFja2V0S2luZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgYnJhY2tldFRleHQsIG9wZW5lZEJyYWNrZXRzKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZywgYnJhY2tldFRleHQpO1xuICAgICAgICB0aGlzLm9wZW5lZEJyYWNrZXRzID0gb3BlbmVkQnJhY2tldHM7XG4gICAgICAgIHRoaXMuaXNPcGVuaW5nQnJhY2tldCA9IHRydWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENsb3NpbmdCcmFja2V0S2luZCBleHRlbmRzIEJyYWNrZXRLaW5kQmFzZSB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnLCBicmFja2V0VGV4dCwgXG4gICAgLyoqXG4gICAgICogTm9uIGVtcHR5IGFycmF5IG9mIGFsbCBvcGVuaW5nIGJyYWNrZXRzIHRoaXMgYnJhY2tldCBjbG9zZXMuXG4gICAgKi9cbiAgICBvcGVuaW5nQnJhY2tldHMsIG9wZW5pbmdDb2xvcml6ZWRCcmFja2V0cykge1xuICAgICAgICBzdXBlcihjb25maWcsIGJyYWNrZXRUZXh0KTtcbiAgICAgICAgdGhpcy5vcGVuaW5nQnJhY2tldHMgPSBvcGVuaW5nQnJhY2tldHM7XG4gICAgICAgIHRoaXMub3BlbmluZ0NvbG9yaXplZEJyYWNrZXRzID0gb3BlbmluZ0NvbG9yaXplZEJyYWNrZXRzO1xuICAgICAgICB0aGlzLmlzT3BlbmluZ0JyYWNrZXQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoaXMgYnJhY2tldCBjbG9zZXMgdGhlIGdpdmVuIG90aGVyIGJyYWNrZXQuXG4gICAgICogSWYgdGhlIGJyYWNrZXQgaW5mb3MgY29tZSBmcm9tIGRpZmZlcmVudCBjb25maWd1cmF0aW9ucywgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gZmFsc2UuXG4gICAgKi9cbiAgICBjbG9zZXMob3RoZXIpIHtcbiAgICAgICAgaWYgKG90aGVyWydjb25maWcnXSAhPT0gdGhpcy5jb25maWcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5vcGVuaW5nQnJhY2tldHMuaGFzKG90aGVyKTtcbiAgICB9XG4gICAgY2xvc2VzQ29sb3JpemVkKG90aGVyKSB7XG4gICAgICAgIGlmIChvdGhlclsnY29uZmlnJ10gIT09IHRoaXMuY29uZmlnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMub3BlbmluZ0NvbG9yaXplZEJyYWNrZXRzLmhhcyhvdGhlcik7XG4gICAgfVxuICAgIGdldE9wZW5pbmdCcmFja2V0cygpIHtcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLm9wZW5pbmdCcmFja2V0c107XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG52YXIgX19wYXJhbSA9ICh0aGlzICYmIHRoaXMuX19wYXJhbSkgfHwgZnVuY3Rpb24gKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufTtcbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9ldmVudC5qcyc7XG5pbXBvcnQgeyBEaXNwb3NhYmxlLCB0b0Rpc3Bvc2FibGUgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9saWZlY3ljbGUuanMnO1xuaW1wb3J0ICogYXMgc3RyaW5ncyBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9zdHJpbmdzLmpzJztcbmltcG9ydCB7IERFRkFVTFRfV09SRF9SRUdFWFAsIGVuc3VyZVZhbGlkV29yZERlZmluaXRpb24gfSBmcm9tICcuLi9jb3JlL3dvcmRIZWxwZXIuanMnO1xuaW1wb3J0IHsgQXV0b0Nsb3NpbmdQYWlycyB9IGZyb20gJy4vbGFuZ3VhZ2VDb25maWd1cmF0aW9uLmpzJztcbmltcG9ydCB7IENoYXJhY3RlclBhaXJTdXBwb3J0IH0gZnJvbSAnLi9zdXBwb3J0cy9jaGFyYWN0ZXJQYWlyLmpzJztcbmltcG9ydCB7IEJyYWNrZXRFbGVjdHJpY0NoYXJhY3RlclN1cHBvcnQgfSBmcm9tICcuL3N1cHBvcnRzL2VsZWN0cmljQ2hhcmFjdGVyLmpzJztcbmltcG9ydCB7IEluZGVudFJ1bGVzU3VwcG9ydCB9IGZyb20gJy4vc3VwcG9ydHMvaW5kZW50UnVsZXMuanMnO1xuaW1wb3J0IHsgT25FbnRlclN1cHBvcnQgfSBmcm9tICcuL3N1cHBvcnRzL29uRW50ZXIuanMnO1xuaW1wb3J0IHsgUmljaEVkaXRCcmFja2V0cyB9IGZyb20gJy4vc3VwcG9ydHMvcmljaEVkaXRCcmFja2V0cy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVEZWNvcmF0b3IgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9pbnN0YW50aWF0aW9uL2NvbW1vbi9pbnN0YW50aWF0aW9uLmpzJztcbmltcG9ydCB7IElDb25maWd1cmF0aW9uU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3BsYXRmb3JtL2NvbmZpZ3VyYXRpb24vY29tbW9uL2NvbmZpZ3VyYXRpb24uanMnO1xuaW1wb3J0IHsgSUxhbmd1YWdlU2VydmljZSB9IGZyb20gJy4vbGFuZ3VhZ2UuanMnO1xuaW1wb3J0IHsgcmVnaXN0ZXJTaW5nbGV0b24gfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9pbnN0YW50aWF0aW9uL2NvbW1vbi9leHRlbnNpb25zLmpzJztcbmltcG9ydCB7IFBMQUlOVEVYVF9MQU5HVUFHRV9JRCB9IGZyb20gJy4vbW9kZXNSZWdpc3RyeS5qcyc7XG5pbXBvcnQgeyBMYW5ndWFnZUJyYWNrZXRzQ29uZmlndXJhdGlvbiB9IGZyb20gJy4vc3VwcG9ydHMvbGFuZ3VhZ2VCcmFja2V0c0NvbmZpZ3VyYXRpb24uanMnO1xuZXhwb3J0IGNsYXNzIExhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2VDaGFuZ2VFdmVudCB7XG4gICAgY29uc3RydWN0b3IobGFuZ3VhZ2VJZCkge1xuICAgICAgICB0aGlzLmxhbmd1YWdlSWQgPSBsYW5ndWFnZUlkO1xuICAgIH1cbiAgICBhZmZlY3RzKGxhbmd1YWdlSWQpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmxhbmd1YWdlSWQgPyB0cnVlIDogdGhpcy5sYW5ndWFnZUlkID09PSBsYW5ndWFnZUlkO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBJTGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZSA9IGNyZWF0ZURlY29yYXRvcignbGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZScpO1xubGV0IExhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UgPSBjbGFzcyBMYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlIGV4dGVuZHMgRGlzcG9zYWJsZSB7XG4gICAgY29uc3RydWN0b3IoY29uZmlndXJhdGlvblNlcnZpY2UsIGxhbmd1YWdlU2VydmljZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb25TZXJ2aWNlID0gY29uZmlndXJhdGlvblNlcnZpY2U7XG4gICAgICAgIHRoaXMubGFuZ3VhZ2VTZXJ2aWNlID0gbGFuZ3VhZ2VTZXJ2aWNlO1xuICAgICAgICB0aGlzLl9yZWdpc3RyeSA9IHRoaXMuX3JlZ2lzdGVyKG5ldyBMYW5ndWFnZUNvbmZpZ3VyYXRpb25SZWdpc3RyeSgpKTtcbiAgICAgICAgdGhpcy5vbkRpZENoYW5nZUVtaXR0ZXIgPSB0aGlzLl9yZWdpc3RlcihuZXcgRW1pdHRlcigpKTtcbiAgICAgICAgdGhpcy5vbkRpZENoYW5nZSA9IHRoaXMub25EaWRDaGFuZ2VFbWl0dGVyLmV2ZW50O1xuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb25zID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCBsYW5ndWFnZUNvbmZpZ0tleXMgPSBuZXcgU2V0KE9iamVjdC52YWx1ZXMoY3VzdG9taXplZExhbmd1YWdlQ29uZmlnS2V5cykpO1xuICAgICAgICB0aGlzLl9yZWdpc3Rlcih0aGlzLmNvbmZpZ3VyYXRpb25TZXJ2aWNlLm9uRGlkQ2hhbmdlQ29uZmlndXJhdGlvbigoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ2xvYmFsQ29uZmlnQ2hhbmdlZCA9IGUuY2hhbmdlLmtleXMuc29tZSgoaykgPT4gbGFuZ3VhZ2VDb25maWdLZXlzLmhhcyhrKSk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbENvbmZpZ0NoYW5nZWQgPSBlLmNoYW5nZS5vdmVycmlkZXNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChbb3ZlcnJpZGVMYW5nTmFtZSwga2V5c10pID0+IGtleXMuc29tZSgoaykgPT4gbGFuZ3VhZ2VDb25maWdLZXlzLmhhcyhrKSkpXG4gICAgICAgICAgICAgICAgLm1hcCgoW292ZXJyaWRlTGFuZ05hbWVdKSA9PiBvdmVycmlkZUxhbmdOYW1lKTtcbiAgICAgICAgICAgIGlmIChnbG9iYWxDb25maWdDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9ucy5jbGVhcigpO1xuICAgICAgICAgICAgICAgIHRoaXMub25EaWRDaGFuZ2VFbWl0dGVyLmZpcmUobmV3IExhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2VDaGFuZ2VFdmVudCh1bmRlZmluZWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbGFuZ3VhZ2VJZCBvZiBsb2NhbENvbmZpZ0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGFuZ3VhZ2VTZXJ2aWNlLmlzUmVnaXN0ZXJlZExhbmd1YWdlSWQobGFuZ3VhZ2VJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbnMuZGVsZXRlKGxhbmd1YWdlSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRpZENoYW5nZUVtaXR0ZXIuZmlyZShuZXcgTGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZUNoYW5nZUV2ZW50KGxhbmd1YWdlSWQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLl9yZWdpc3Rlcih0aGlzLl9yZWdpc3RyeS5vbkRpZENoYW5nZSgoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9ucy5kZWxldGUoZS5sYW5ndWFnZUlkKTtcbiAgICAgICAgICAgIHRoaXMub25EaWRDaGFuZ2VFbWl0dGVyLmZpcmUobmV3IExhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2VDaGFuZ2VFdmVudChlLmxhbmd1YWdlSWQpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICByZWdpc3RlcihsYW5ndWFnZUlkLCBjb25maWd1cmF0aW9uLCBwcmlvcml0eSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVnaXN0cnkucmVnaXN0ZXIobGFuZ3VhZ2VJZCwgY29uZmlndXJhdGlvbiwgcHJpb3JpdHkpO1xuICAgIH1cbiAgICBnZXRMYW5ndWFnZUNvbmZpZ3VyYXRpb24obGFuZ3VhZ2VJZCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5jb25maWd1cmF0aW9ucy5nZXQobGFuZ3VhZ2VJZCk7XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSBjb21wdXRlQ29uZmlnKGxhbmd1YWdlSWQsIHRoaXMuX3JlZ2lzdHJ5LCB0aGlzLmNvbmZpZ3VyYXRpb25TZXJ2aWNlLCB0aGlzLmxhbmd1YWdlU2VydmljZSk7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb25zLnNldChsYW5ndWFnZUlkLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufTtcbkxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UgPSBfX2RlY29yYXRlKFtcbiAgICBfX3BhcmFtKDAsIElDb25maWd1cmF0aW9uU2VydmljZSksXG4gICAgX19wYXJhbSgxLCBJTGFuZ3VhZ2VTZXJ2aWNlKVxuXSwgTGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZSk7XG5leHBvcnQgeyBMYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlIH07XG5mdW5jdGlvbiBjb21wdXRlQ29uZmlnKGxhbmd1YWdlSWQsIHJlZ2lzdHJ5LCBjb25maWd1cmF0aW9uU2VydmljZSwgbGFuZ3VhZ2VTZXJ2aWNlKSB7XG4gICAgbGV0IGxhbmd1YWdlQ29uZmlnID0gcmVnaXN0cnkuZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uKGxhbmd1YWdlSWQpO1xuICAgIGlmICghbGFuZ3VhZ2VDb25maWcpIHtcbiAgICAgICAgaWYgKCFsYW5ndWFnZVNlcnZpY2UuaXNSZWdpc3RlcmVkTGFuZ3VhZ2VJZChsYW5ndWFnZUlkKSkge1xuICAgICAgICAgICAgLy8gdGhpcyBoYXBwZW5zIGZvciB0aGUgbnVsbCBsYW5ndWFnZSwgd2hpY2ggY2FuIGJlIHJldHVybmVkIGJ5IG1vbmFyY2guXG4gICAgICAgICAgICAvLyBJbnN0ZWFkIG9mIHRocm93aW5nIGFuIGVycm9yLCB3ZSBqdXN0IHJldHVybiBhIGRlZmF1bHQgY29uZmlnLlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNvbHZlZExhbmd1YWdlQ29uZmlndXJhdGlvbihsYW5ndWFnZUlkLCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFuZ3VhZ2VDb25maWcgPSBuZXcgUmVzb2x2ZWRMYW5ndWFnZUNvbmZpZ3VyYXRpb24obGFuZ3VhZ2VJZCwge30pO1xuICAgIH1cbiAgICBjb25zdCBjdXN0b21pemVkQ29uZmlnID0gZ2V0Q3VzdG9taXplZExhbmd1YWdlQ29uZmlnKGxhbmd1YWdlQ29uZmlnLmxhbmd1YWdlSWQsIGNvbmZpZ3VyYXRpb25TZXJ2aWNlKTtcbiAgICBjb25zdCBkYXRhID0gY29tYmluZUxhbmd1YWdlQ29uZmlndXJhdGlvbnMoW2xhbmd1YWdlQ29uZmlnLnVuZGVybHlpbmdDb25maWcsIGN1c3RvbWl6ZWRDb25maWddKTtcbiAgICBjb25zdCBjb25maWcgPSBuZXcgUmVzb2x2ZWRMYW5ndWFnZUNvbmZpZ3VyYXRpb24obGFuZ3VhZ2VDb25maWcubGFuZ3VhZ2VJZCwgZGF0YSk7XG4gICAgcmV0dXJuIGNvbmZpZztcbn1cbmNvbnN0IGN1c3RvbWl6ZWRMYW5ndWFnZUNvbmZpZ0tleXMgPSB7XG4gICAgYnJhY2tldHM6ICdlZGl0b3IubGFuZ3VhZ2UuYnJhY2tldHMnLFxuICAgIGNvbG9yaXplZEJyYWNrZXRQYWlyczogJ2VkaXRvci5sYW5ndWFnZS5jb2xvcml6ZWRCcmFja2V0UGFpcnMnXG59O1xuZnVuY3Rpb24gZ2V0Q3VzdG9taXplZExhbmd1YWdlQ29uZmlnKGxhbmd1YWdlSWQsIGNvbmZpZ3VyYXRpb25TZXJ2aWNlKSB7XG4gICAgY29uc3QgYnJhY2tldHMgPSBjb25maWd1cmF0aW9uU2VydmljZS5nZXRWYWx1ZShjdXN0b21pemVkTGFuZ3VhZ2VDb25maWdLZXlzLmJyYWNrZXRzLCB7XG4gICAgICAgIG92ZXJyaWRlSWRlbnRpZmllcjogbGFuZ3VhZ2VJZCxcbiAgICB9KTtcbiAgICBjb25zdCBjb2xvcml6ZWRCcmFja2V0UGFpcnMgPSBjb25maWd1cmF0aW9uU2VydmljZS5nZXRWYWx1ZShjdXN0b21pemVkTGFuZ3VhZ2VDb25maWdLZXlzLmNvbG9yaXplZEJyYWNrZXRQYWlycywge1xuICAgICAgICBvdmVycmlkZUlkZW50aWZpZXI6IGxhbmd1YWdlSWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYnJhY2tldHM6IHZhbGlkYXRlQnJhY2tldFBhaXJzKGJyYWNrZXRzKSxcbiAgICAgICAgY29sb3JpemVkQnJhY2tldFBhaXJzOiB2YWxpZGF0ZUJyYWNrZXRQYWlycyhjb2xvcml6ZWRCcmFja2V0UGFpcnMpLFxuICAgIH07XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUJyYWNrZXRQYWlycyhkYXRhKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBkYXRhLm1hcChwYWlyID0+IHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHBhaXIpIHx8IHBhaXIubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcGFpclswXSwgcGFpclsxXV07XG4gICAgfSkuZmlsdGVyKChwKSA9PiAhIXApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEluZGVudGF0aW9uQXRQb3NpdGlvbihtb2RlbCwgbGluZU51bWJlciwgY29sdW1uKSB7XG4gICAgY29uc3QgbGluZVRleHQgPSBtb2RlbC5nZXRMaW5lQ29udGVudChsaW5lTnVtYmVyKTtcbiAgICBsZXQgaW5kZW50YXRpb24gPSBzdHJpbmdzLmdldExlYWRpbmdXaGl0ZXNwYWNlKGxpbmVUZXh0KTtcbiAgICBpZiAoaW5kZW50YXRpb24ubGVuZ3RoID4gY29sdW1uIC0gMSkge1xuICAgICAgICBpbmRlbnRhdGlvbiA9IGluZGVudGF0aW9uLnN1YnN0cmluZygwLCBjb2x1bW4gLSAxKTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGVudGF0aW9uO1xufVxuY2xhc3MgQ29tcG9zZWRMYW5ndWFnZUNvbmZpZ3VyYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGxhbmd1YWdlSWQpIHtcbiAgICAgICAgdGhpcy5sYW5ndWFnZUlkID0gbGFuZ3VhZ2VJZDtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9lbnRyaWVzID0gW107XG4gICAgICAgIHRoaXMuX29yZGVyID0gMDtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZWQgPSBudWxsO1xuICAgIH1cbiAgICByZWdpc3Rlcihjb25maWd1cmF0aW9uLCBwcmlvcml0eSkge1xuICAgICAgICBjb25zdCBlbnRyeSA9IG5ldyBMYW5ndWFnZUNvbmZpZ3VyYXRpb25Db250cmlidXRpb24oY29uZmlndXJhdGlvbiwgcHJpb3JpdHksICsrdGhpcy5fb3JkZXIpO1xuICAgICAgICB0aGlzLl9lbnRyaWVzLnB1c2goZW50cnkpO1xuICAgICAgICB0aGlzLl9yZXNvbHZlZCA9IG51bGw7XG4gICAgICAgIHJldHVybiB0b0Rpc3Bvc2FibGUoKCkgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9lbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2VudHJpZXNbaV0gPT09IGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VudHJpZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNvbHZlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFJlc29sdmVkQ29uZmlndXJhdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9yZXNvbHZlZCkge1xuICAgICAgICAgICAgY29uc3QgY29uZmlnID0gdGhpcy5fcmVzb2x2ZSgpO1xuICAgICAgICAgICAgaWYgKGNvbmZpZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVkID0gbmV3IFJlc29sdmVkTGFuZ3VhZ2VDb25maWd1cmF0aW9uKHRoaXMubGFuZ3VhZ2VJZCwgY29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVzb2x2ZWQ7XG4gICAgfVxuICAgIF9yZXNvbHZlKCkge1xuICAgICAgICBpZiAodGhpcy5fZW50cmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VudHJpZXMuc29ydChMYW5ndWFnZUNvbmZpZ3VyYXRpb25Db250cmlidXRpb24uY21wKTtcbiAgICAgICAgcmV0dXJuIGNvbWJpbmVMYW5ndWFnZUNvbmZpZ3VyYXRpb25zKHRoaXMuX2VudHJpZXMubWFwKGUgPT4gZS5jb25maWd1cmF0aW9uKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY29tYmluZUxhbmd1YWdlQ29uZmlndXJhdGlvbnMoY29uZmlncykge1xuICAgIGxldCByZXN1bHQgPSB7XG4gICAgICAgIGNvbW1lbnRzOiB1bmRlZmluZWQsXG4gICAgICAgIGJyYWNrZXRzOiB1bmRlZmluZWQsXG4gICAgICAgIHdvcmRQYXR0ZXJuOiB1bmRlZmluZWQsXG4gICAgICAgIGluZGVudGF0aW9uUnVsZXM6IHVuZGVmaW5lZCxcbiAgICAgICAgb25FbnRlclJ1bGVzOiB1bmRlZmluZWQsXG4gICAgICAgIGF1dG9DbG9zaW5nUGFpcnM6IHVuZGVmaW5lZCxcbiAgICAgICAgc3Vycm91bmRpbmdQYWlyczogdW5kZWZpbmVkLFxuICAgICAgICBhdXRvQ2xvc2VCZWZvcmU6IHVuZGVmaW5lZCxcbiAgICAgICAgZm9sZGluZzogdW5kZWZpbmVkLFxuICAgICAgICBjb2xvcml6ZWRCcmFja2V0UGFpcnM6IHVuZGVmaW5lZCxcbiAgICAgICAgX19lbGVjdHJpY0NoYXJhY3RlclN1cHBvcnQ6IHVuZGVmaW5lZCxcbiAgICB9O1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgY29uZmlncykge1xuICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgICBjb21tZW50czogZW50cnkuY29tbWVudHMgfHwgcmVzdWx0LmNvbW1lbnRzLFxuICAgICAgICAgICAgYnJhY2tldHM6IGVudHJ5LmJyYWNrZXRzIHx8IHJlc3VsdC5icmFja2V0cyxcbiAgICAgICAgICAgIHdvcmRQYXR0ZXJuOiBlbnRyeS53b3JkUGF0dGVybiB8fCByZXN1bHQud29yZFBhdHRlcm4sXG4gICAgICAgICAgICBpbmRlbnRhdGlvblJ1bGVzOiBlbnRyeS5pbmRlbnRhdGlvblJ1bGVzIHx8IHJlc3VsdC5pbmRlbnRhdGlvblJ1bGVzLFxuICAgICAgICAgICAgb25FbnRlclJ1bGVzOiBlbnRyeS5vbkVudGVyUnVsZXMgfHwgcmVzdWx0Lm9uRW50ZXJSdWxlcyxcbiAgICAgICAgICAgIGF1dG9DbG9zaW5nUGFpcnM6IGVudHJ5LmF1dG9DbG9zaW5nUGFpcnMgfHwgcmVzdWx0LmF1dG9DbG9zaW5nUGFpcnMsXG4gICAgICAgICAgICBzdXJyb3VuZGluZ1BhaXJzOiBlbnRyeS5zdXJyb3VuZGluZ1BhaXJzIHx8IHJlc3VsdC5zdXJyb3VuZGluZ1BhaXJzLFxuICAgICAgICAgICAgYXV0b0Nsb3NlQmVmb3JlOiBlbnRyeS5hdXRvQ2xvc2VCZWZvcmUgfHwgcmVzdWx0LmF1dG9DbG9zZUJlZm9yZSxcbiAgICAgICAgICAgIGZvbGRpbmc6IGVudHJ5LmZvbGRpbmcgfHwgcmVzdWx0LmZvbGRpbmcsXG4gICAgICAgICAgICBjb2xvcml6ZWRCcmFja2V0UGFpcnM6IGVudHJ5LmNvbG9yaXplZEJyYWNrZXRQYWlycyB8fCByZXN1bHQuY29sb3JpemVkQnJhY2tldFBhaXJzLFxuICAgICAgICAgICAgX19lbGVjdHJpY0NoYXJhY3RlclN1cHBvcnQ6IGVudHJ5Ll9fZWxlY3RyaWNDaGFyYWN0ZXJTdXBwb3J0IHx8IHJlc3VsdC5fX2VsZWN0cmljQ2hhcmFjdGVyU3VwcG9ydCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmNsYXNzIExhbmd1YWdlQ29uZmlndXJhdGlvbkNvbnRyaWJ1dGlvbiB7XG4gICAgY29uc3RydWN0b3IoY29uZmlndXJhdGlvbiwgcHJpb3JpdHksIG9yZGVyKSB7XG4gICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICAgICAgdGhpcy5vcmRlciA9IG9yZGVyO1xuICAgIH1cbiAgICBzdGF0aWMgY21wKGEsIGIpIHtcbiAgICAgICAgaWYgKGEucHJpb3JpdHkgPT09IGIucHJpb3JpdHkpIHtcbiAgICAgICAgICAgIC8vIGhpZ2hlciBvcmRlciBsYXN0XG4gICAgICAgICAgICByZXR1cm4gYS5vcmRlciAtIGIub3JkZXI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGlnaGVyIHByaW9yaXR5IGxhc3RcbiAgICAgICAgcmV0dXJuIGEucHJpb3JpdHkgLSBiLnByaW9yaXR5O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBMYW5ndWFnZUNvbmZpZ3VyYXRpb25DaGFuZ2VFdmVudCB7XG4gICAgY29uc3RydWN0b3IobGFuZ3VhZ2VJZCkge1xuICAgICAgICB0aGlzLmxhbmd1YWdlSWQgPSBsYW5ndWFnZUlkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBMYW5ndWFnZUNvbmZpZ3VyYXRpb25SZWdpc3RyeSBleHRlbmRzIERpc3Bvc2FibGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9lbnRyaWVzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZSA9IHRoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyKCkpO1xuICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlID0gdGhpcy5fb25EaWRDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyKHRoaXMucmVnaXN0ZXIoUExBSU5URVhUX0xBTkdVQUdFX0lELCB7XG4gICAgICAgICAgICBicmFja2V0czogW1xuICAgICAgICAgICAgICAgIFsnKCcsICcpJ10sXG4gICAgICAgICAgICAgICAgWydbJywgJ10nXSxcbiAgICAgICAgICAgICAgICBbJ3snLCAnfSddLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHN1cnJvdW5kaW5nUGFpcnM6IFtcbiAgICAgICAgICAgICAgICB7IG9wZW46ICd7JywgY2xvc2U6ICd9JyB9LFxuICAgICAgICAgICAgICAgIHsgb3BlbjogJ1snLCBjbG9zZTogJ10nIH0sXG4gICAgICAgICAgICAgICAgeyBvcGVuOiAnKCcsIGNsb3NlOiAnKScgfSxcbiAgICAgICAgICAgICAgICB7IG9wZW46ICc8JywgY2xvc2U6ICc+JyB9LFxuICAgICAgICAgICAgICAgIHsgb3BlbjogJ1xcXCInLCBjbG9zZTogJ1xcXCInIH0sXG4gICAgICAgICAgICAgICAgeyBvcGVuOiAnXFwnJywgY2xvc2U6ICdcXCcnIH0sXG4gICAgICAgICAgICAgICAgeyBvcGVuOiAnYCcsIGNsb3NlOiAnYCcgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBjb2xvcml6ZWRCcmFja2V0UGFpcnM6IFtdLFxuICAgICAgICAgICAgZm9sZGluZzoge1xuICAgICAgICAgICAgICAgIG9mZlNpZGU6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcHJpb3JpdHkgVXNlIGEgaGlnaGVyIG51bWJlciBmb3IgaGlnaGVyIHByaW9yaXR5XG4gICAgICovXG4gICAgcmVnaXN0ZXIobGFuZ3VhZ2VJZCwgY29uZmlndXJhdGlvbiwgcHJpb3JpdHkgPSAwKSB7XG4gICAgICAgIGxldCBlbnRyaWVzID0gdGhpcy5fZW50cmllcy5nZXQobGFuZ3VhZ2VJZCk7XG4gICAgICAgIGlmICghZW50cmllcykge1xuICAgICAgICAgICAgZW50cmllcyA9IG5ldyBDb21wb3NlZExhbmd1YWdlQ29uZmlndXJhdGlvbihsYW5ndWFnZUlkKTtcbiAgICAgICAgICAgIHRoaXMuX2VudHJpZXMuc2V0KGxhbmd1YWdlSWQsIGVudHJpZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpc3Bvc2FibGUgPSBlbnRyaWVzLnJlZ2lzdGVyKGNvbmZpZ3VyYXRpb24sIHByaW9yaXR5KTtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2UuZmlyZShuZXcgTGFuZ3VhZ2VDb25maWd1cmF0aW9uQ2hhbmdlRXZlbnQobGFuZ3VhZ2VJZCkpO1xuICAgICAgICByZXR1cm4gdG9EaXNwb3NhYmxlKCgpID0+IHtcbiAgICAgICAgICAgIGRpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2UuZmlyZShuZXcgTGFuZ3VhZ2VDb25maWd1cmF0aW9uQ2hhbmdlRXZlbnQobGFuZ3VhZ2VJZCkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uKGxhbmd1YWdlSWQpIHtcbiAgICAgICAgY29uc3QgZW50cmllcyA9IHRoaXMuX2VudHJpZXMuZ2V0KGxhbmd1YWdlSWQpO1xuICAgICAgICByZXR1cm4gZW50cmllcz8uZ2V0UmVzb2x2ZWRDb25maWd1cmF0aW9uKCkgfHwgbnVsbDtcbiAgICB9XG59XG4vKipcbiAqIEltbXV0YWJsZS5cbiovXG5leHBvcnQgY2xhc3MgUmVzb2x2ZWRMYW5ndWFnZUNvbmZpZ3VyYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGxhbmd1YWdlSWQsIHVuZGVybHlpbmdDb25maWcpIHtcbiAgICAgICAgdGhpcy5sYW5ndWFnZUlkID0gbGFuZ3VhZ2VJZDtcbiAgICAgICAgdGhpcy51bmRlcmx5aW5nQ29uZmlnID0gdW5kZXJseWluZ0NvbmZpZztcbiAgICAgICAgdGhpcy5fYnJhY2tldHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9lbGVjdHJpY0NoYXJhY3RlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uRW50ZXJTdXBwb3J0ID1cbiAgICAgICAgICAgIHRoaXMudW5kZXJseWluZ0NvbmZpZy5icmFja2V0cyB8fFxuICAgICAgICAgICAgICAgIHRoaXMudW5kZXJseWluZ0NvbmZpZy5pbmRlbnRhdGlvblJ1bGVzIHx8XG4gICAgICAgICAgICAgICAgdGhpcy51bmRlcmx5aW5nQ29uZmlnLm9uRW50ZXJSdWxlc1xuICAgICAgICAgICAgICAgID8gbmV3IE9uRW50ZXJTdXBwb3J0KHRoaXMudW5kZXJseWluZ0NvbmZpZylcbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIHRoaXMuY29tbWVudHMgPSBSZXNvbHZlZExhbmd1YWdlQ29uZmlndXJhdGlvbi5faGFuZGxlQ29tbWVudHModGhpcy51bmRlcmx5aW5nQ29uZmlnKTtcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXJQYWlyID0gbmV3IENoYXJhY3RlclBhaXJTdXBwb3J0KHRoaXMudW5kZXJseWluZ0NvbmZpZyk7XG4gICAgICAgIHRoaXMud29yZERlZmluaXRpb24gPSB0aGlzLnVuZGVybHlpbmdDb25maWcud29yZFBhdHRlcm4gfHwgREVGQVVMVF9XT1JEX1JFR0VYUDtcbiAgICAgICAgdGhpcy5pbmRlbnRhdGlvblJ1bGVzID0gdGhpcy51bmRlcmx5aW5nQ29uZmlnLmluZGVudGF0aW9uUnVsZXM7XG4gICAgICAgIGlmICh0aGlzLnVuZGVybHlpbmdDb25maWcuaW5kZW50YXRpb25SdWxlcykge1xuICAgICAgICAgICAgdGhpcy5pbmRlbnRSdWxlc1N1cHBvcnQgPSBuZXcgSW5kZW50UnVsZXNTdXBwb3J0KHRoaXMudW5kZXJseWluZ0NvbmZpZy5pbmRlbnRhdGlvblJ1bGVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZW50UnVsZXNTdXBwb3J0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZvbGRpbmdSdWxlcyA9IHRoaXMudW5kZXJseWluZ0NvbmZpZy5mb2xkaW5nIHx8IHt9O1xuICAgICAgICB0aGlzLmJyYWNrZXRzTmV3ID0gbmV3IExhbmd1YWdlQnJhY2tldHNDb25maWd1cmF0aW9uKGxhbmd1YWdlSWQsIHRoaXMudW5kZXJseWluZ0NvbmZpZyk7XG4gICAgfVxuICAgIGdldFdvcmREZWZpbml0aW9uKCkge1xuICAgICAgICByZXR1cm4gZW5zdXJlVmFsaWRXb3JkRGVmaW5pdGlvbih0aGlzLndvcmREZWZpbml0aW9uKTtcbiAgICB9XG4gICAgZ2V0IGJyYWNrZXRzKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2JyYWNrZXRzICYmIHRoaXMudW5kZXJseWluZ0NvbmZpZy5icmFja2V0cykge1xuICAgICAgICAgICAgdGhpcy5fYnJhY2tldHMgPSBuZXcgUmljaEVkaXRCcmFja2V0cyh0aGlzLmxhbmd1YWdlSWQsIHRoaXMudW5kZXJseWluZ0NvbmZpZy5icmFja2V0cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JyYWNrZXRzO1xuICAgIH1cbiAgICBnZXQgZWxlY3RyaWNDaGFyYWN0ZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5fZWxlY3RyaWNDaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZWN0cmljQ2hhcmFjdGVyID0gbmV3IEJyYWNrZXRFbGVjdHJpY0NoYXJhY3RlclN1cHBvcnQodGhpcy5icmFja2V0cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZWN0cmljQ2hhcmFjdGVyO1xuICAgIH1cbiAgICBvbkVudGVyKGF1dG9JbmRlbnQsIHByZXZpb3VzTGluZVRleHQsIGJlZm9yZUVudGVyVGV4dCwgYWZ0ZXJFbnRlclRleHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vbkVudGVyU3VwcG9ydCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX29uRW50ZXJTdXBwb3J0Lm9uRW50ZXIoYXV0b0luZGVudCwgcHJldmlvdXNMaW5lVGV4dCwgYmVmb3JlRW50ZXJUZXh0LCBhZnRlckVudGVyVGV4dCk7XG4gICAgfVxuICAgIGdldEF1dG9DbG9zaW5nUGFpcnMoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXV0b0Nsb3NpbmdQYWlycyh0aGlzLmNoYXJhY3RlclBhaXIuZ2V0QXV0b0Nsb3NpbmdQYWlycygpKTtcbiAgICB9XG4gICAgZ2V0QXV0b0Nsb3NlQmVmb3JlU2V0KGZvclF1b3Rlcykge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFyYWN0ZXJQYWlyLmdldEF1dG9DbG9zZUJlZm9yZVNldChmb3JRdW90ZXMpO1xuICAgIH1cbiAgICBnZXRTdXJyb3VuZGluZ1BhaXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFyYWN0ZXJQYWlyLmdldFN1cnJvdW5kaW5nUGFpcnMoKTtcbiAgICB9XG4gICAgc3RhdGljIF9oYW5kbGVDb21tZW50cyhjb25mKSB7XG4gICAgICAgIGNvbnN0IGNvbW1lbnRSdWxlID0gY29uZi5jb21tZW50cztcbiAgICAgICAgaWYgKCFjb21tZW50UnVsZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29tbWVudCBjb25maWd1cmF0aW9uXG4gICAgICAgIGNvbnN0IGNvbW1lbnRzID0ge307XG4gICAgICAgIGlmIChjb21tZW50UnVsZS5saW5lQ29tbWVudCkge1xuICAgICAgICAgICAgY29tbWVudHMubGluZUNvbW1lbnRUb2tlbiA9IGNvbW1lbnRSdWxlLmxpbmVDb21tZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21tZW50UnVsZS5ibG9ja0NvbW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IFtibG9ja1N0YXJ0LCBibG9ja0VuZF0gPSBjb21tZW50UnVsZS5ibG9ja0NvbW1lbnQ7XG4gICAgICAgICAgICBjb21tZW50cy5ibG9ja0NvbW1lbnRTdGFydFRva2VuID0gYmxvY2tTdGFydDtcbiAgICAgICAgICAgIGNvbW1lbnRzLmJsb2NrQ29tbWVudEVuZFRva2VuID0gYmxvY2tFbmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbW1lbnRzO1xuICAgIH1cbn1cbnJlZ2lzdGVyU2luZ2xldG9uKElMYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlLCBMYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlLCAxIC8qIEluc3RhbnRpYXRpb25UeXBlLkRlbGF5ZWQgKi8pO1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBUb2tlbiwgVG9rZW5pemF0aW9uUmVzdWx0LCBFbmNvZGVkVG9rZW5pemF0aW9uUmVzdWx0IH0gZnJvbSAnLi4vbGFuZ3VhZ2VzLmpzJztcbmV4cG9ydCBjb25zdCBOdWxsU3RhdGUgPSBuZXcgY2xhc3Mge1xuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIHJldHVybiAodGhpcyA9PT0gb3RoZXIpO1xuICAgIH1cbn07XG5leHBvcnQgZnVuY3Rpb24gbnVsbFRva2VuaXplKGxhbmd1YWdlSWQsIHN0YXRlKSB7XG4gICAgcmV0dXJuIG5ldyBUb2tlbml6YXRpb25SZXN1bHQoW25ldyBUb2tlbigwLCAnJywgbGFuZ3VhZ2VJZCldLCBzdGF0ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbnVsbFRva2VuaXplRW5jb2RlZChsYW5ndWFnZUlkLCBzdGF0ZSkge1xuICAgIGNvbnN0IHRva2VucyA9IG5ldyBVaW50MzJBcnJheSgyKTtcbiAgICB0b2tlbnNbMF0gPSAwO1xuICAgIHRva2Vuc1sxXSA9ICgobGFuZ3VhZ2VJZCA8PCAwIC8qIE1ldGFkYXRhQ29uc3RzLkxBTkdVQUdFSURfT0ZGU0VUICovKVxuICAgICAgICB8ICgwIC8qIFN0YW5kYXJkVG9rZW5UeXBlLk90aGVyICovIDw8IDggLyogTWV0YWRhdGFDb25zdHMuVE9LRU5fVFlQRV9PRkZTRVQgKi8pXG4gICAgICAgIHwgKDAgLyogRm9udFN0eWxlLk5vbmUgKi8gPDwgMTEgLyogTWV0YWRhdGFDb25zdHMuRk9OVF9TVFlMRV9PRkZTRVQgKi8pXG4gICAgICAgIHwgKDEgLyogQ29sb3JJZC5EZWZhdWx0Rm9yZWdyb3VuZCAqLyA8PCAxNSAvKiBNZXRhZGF0YUNvbnN0cy5GT1JFR1JPVU5EX09GRlNFVCAqLylcbiAgICAgICAgfCAoMiAvKiBDb2xvcklkLkRlZmF1bHRCYWNrZ3JvdW5kICovIDw8IDI0IC8qIE1ldGFkYXRhQ29uc3RzLkJBQ0tHUk9VTkRfT0ZGU0VUICovKSkgPj4+IDA7XG4gICAgcmV0dXJuIG5ldyBFbmNvZGVkVG9rZW5pemF0aW9uUmVzdWx0KHRva2Vucywgc3RhdGUgPT09IG51bGwgPyBOdWxsU3RhdGUgOiBzdGF0ZSk7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTY29wZWRMaW5lVG9rZW5zKGNvbnRleHQsIG9mZnNldCkge1xuICAgIGNvbnN0IHRva2VuQ291bnQgPSBjb250ZXh0LmdldENvdW50KCk7XG4gICAgY29uc3QgdG9rZW5JbmRleCA9IGNvbnRleHQuZmluZFRva2VuSW5kZXhBdE9mZnNldChvZmZzZXQpO1xuICAgIGNvbnN0IGRlc2lyZWRMYW5ndWFnZUlkID0gY29udGV4dC5nZXRMYW5ndWFnZUlkKHRva2VuSW5kZXgpO1xuICAgIGxldCBsYXN0VG9rZW5JbmRleCA9IHRva2VuSW5kZXg7XG4gICAgd2hpbGUgKGxhc3RUb2tlbkluZGV4ICsgMSA8IHRva2VuQ291bnQgJiYgY29udGV4dC5nZXRMYW5ndWFnZUlkKGxhc3RUb2tlbkluZGV4ICsgMSkgPT09IGRlc2lyZWRMYW5ndWFnZUlkKSB7XG4gICAgICAgIGxhc3RUb2tlbkluZGV4Kys7XG4gICAgfVxuICAgIGxldCBmaXJzdFRva2VuSW5kZXggPSB0b2tlbkluZGV4O1xuICAgIHdoaWxlIChmaXJzdFRva2VuSW5kZXggPiAwICYmIGNvbnRleHQuZ2V0TGFuZ3VhZ2VJZChmaXJzdFRva2VuSW5kZXggLSAxKSA9PT0gZGVzaXJlZExhbmd1YWdlSWQpIHtcbiAgICAgICAgZmlyc3RUb2tlbkluZGV4LS07XG4gICAgfVxuICAgIHJldHVybiBuZXcgU2NvcGVkTGluZVRva2Vucyhjb250ZXh0LCBkZXNpcmVkTGFuZ3VhZ2VJZCwgZmlyc3RUb2tlbkluZGV4LCBsYXN0VG9rZW5JbmRleCArIDEsIGNvbnRleHQuZ2V0U3RhcnRPZmZzZXQoZmlyc3RUb2tlbkluZGV4KSwgY29udGV4dC5nZXRFbmRPZmZzZXQobGFzdFRva2VuSW5kZXgpKTtcbn1cbmV4cG9ydCBjbGFzcyBTY29wZWRMaW5lVG9rZW5zIHtcbiAgICBjb25zdHJ1Y3RvcihhY3R1YWwsIGxhbmd1YWdlSWQsIGZpcnN0VG9rZW5JbmRleCwgbGFzdFRva2VuSW5kZXgsIGZpcnN0Q2hhck9mZnNldCwgbGFzdENoYXJPZmZzZXQpIHtcbiAgICAgICAgdGhpcy5fc2NvcGVkTGluZVRva2Vuc0JyYW5kID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9hY3R1YWwgPSBhY3R1YWw7XG4gICAgICAgIHRoaXMubGFuZ3VhZ2VJZCA9IGxhbmd1YWdlSWQ7XG4gICAgICAgIHRoaXMuX2ZpcnN0VG9rZW5JbmRleCA9IGZpcnN0VG9rZW5JbmRleDtcbiAgICAgICAgdGhpcy5fbGFzdFRva2VuSW5kZXggPSBsYXN0VG9rZW5JbmRleDtcbiAgICAgICAgdGhpcy5maXJzdENoYXJPZmZzZXQgPSBmaXJzdENoYXJPZmZzZXQ7XG4gICAgICAgIHRoaXMuX2xhc3RDaGFyT2Zmc2V0ID0gbGFzdENoYXJPZmZzZXQ7XG4gICAgICAgIHRoaXMubGFuZ3VhZ2VJZENvZGVjID0gYWN0dWFsLmxhbmd1YWdlSWRDb2RlYztcbiAgICB9XG4gICAgZ2V0TGluZUNvbnRlbnQoKSB7XG4gICAgICAgIGNvbnN0IGFjdHVhbExpbmVDb250ZW50ID0gdGhpcy5fYWN0dWFsLmdldExpbmVDb250ZW50KCk7XG4gICAgICAgIHJldHVybiBhY3R1YWxMaW5lQ29udGVudC5zdWJzdHJpbmcodGhpcy5maXJzdENoYXJPZmZzZXQsIHRoaXMuX2xhc3RDaGFyT2Zmc2V0KTtcbiAgICB9XG4gICAgZ2V0TGluZUxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhc3RDaGFyT2Zmc2V0IC0gdGhpcy5maXJzdENoYXJPZmZzZXQ7XG4gICAgfVxuICAgIGdldEFjdHVhbExpbmVDb250ZW50QmVmb3JlKG9mZnNldCkge1xuICAgICAgICBjb25zdCBhY3R1YWxMaW5lQ29udGVudCA9IHRoaXMuX2FjdHVhbC5nZXRMaW5lQ29udGVudCgpO1xuICAgICAgICByZXR1cm4gYWN0dWFsTGluZUNvbnRlbnQuc3Vic3RyaW5nKDAsIHRoaXMuZmlyc3RDaGFyT2Zmc2V0ICsgb2Zmc2V0KTtcbiAgICB9XG4gICAgZ2V0VG9rZW5Db3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhc3RUb2tlbkluZGV4IC0gdGhpcy5fZmlyc3RUb2tlbkluZGV4O1xuICAgIH1cbiAgICBmaW5kVG9rZW5JbmRleEF0T2Zmc2V0KG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0dWFsLmZpbmRUb2tlbkluZGV4QXRPZmZzZXQob2Zmc2V0ICsgdGhpcy5maXJzdENoYXJPZmZzZXQpIC0gdGhpcy5fZmlyc3RUb2tlbkluZGV4O1xuICAgIH1cbiAgICBnZXRTdGFuZGFyZFRva2VuVHlwZSh0b2tlbkluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hY3R1YWwuZ2V0U3RhbmRhcmRUb2tlblR5cGUodG9rZW5JbmRleCArIHRoaXMuX2ZpcnN0VG9rZW5JbmRleCk7XG4gICAgfVxuICAgIHRvSVZpZXdMaW5lVG9rZW5zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0dWFsLnNsaWNlQW5kSW5mbGF0ZSh0aGlzLmZpcnN0Q2hhck9mZnNldCwgdGhpcy5fbGFzdENoYXJPZmZzZXQsIDApO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpZ25vcmVCcmFja2V0c0luVG9rZW4oc3RhbmRhcmRUb2tlblR5cGUpIHtcbiAgICByZXR1cm4gKHN0YW5kYXJkVG9rZW5UeXBlICYgMyAvKiBJZ25vcmVCcmFja2V0c0luVG9rZW5zLnZhbHVlICovKSAhPT0gMDtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0ICogYXMgc3RyaW5ncyBmcm9tICcuLi8uLi8uLi8uLi9iYXNlL2NvbW1vbi9zdHJpbmdzLmpzJztcbmltcG9ydCAqIGFzIHN0cmluZ0J1aWxkZXIgZnJvbSAnLi4vLi4vY29yZS9zdHJpbmdCdWlsZGVyLmpzJztcbmltcG9ydCB7IFJhbmdlIH0gZnJvbSAnLi4vLi4vY29yZS9yYW5nZS5qcyc7XG4vKipcbiAqIFJlcHJlc2VudHMgYSBncm91cGluZyBvZiBjb2xsaWRpbmcgYnJhY2tldCBwYWlycy5cbiAqXG4gKiBNb3N0IG9mIHRoZSB0aW1lcyB0aGlzIGNvbnRhaW5zIGEgc2luZ2xlIGJyYWNrZXQgcGFpcixcbiAqIGJ1dCBzb21ldGltZXMgdGhpcyBjb250YWlucyBtdWx0aXBsZSBicmFja2V0IHBhaXJzIGluIGNhc2VzXG4gKiB3aGVyZSB0aGUgc2FtZSBzdHJpbmcgYXBwZWFycyBhcyBhIGNsb3NpbmcgYnJhY2tldCBmb3IgbXVsdGlwbGVcbiAqIGJyYWNrZXQgcGFpcnMsIG9yIHRoZSBzYW1lIHN0cmluZyBhcHBlYXJzIGFuIG9wZW5pbmcgYnJhY2tldCBmb3JcbiAqIG11bHRpcGxlIGJyYWNrZXQgcGFpcnMuXG4gKlxuICogZS5nLiBvZiBhIGdyb3VwIGNvbnRhaW5pbmcgYSBzaW5nbGUgcGFpcjpcbiAqICAgb3BlbjogWyd7J10sIGNsb3NlOiBbJ30nXVxuICpcbiAqIGUuZy4gb2YgYSBncm91cCBjb250YWluaW5nIG11bHRpcGxlIHBhaXJzOlxuICogICBvcGVuOiBbJ2lmJywgJ2ZvciddLCBjbG9zZTogWydlbmQnLCAnZW5kJ11cbiAqL1xuZXhwb3J0IGNsYXNzIFJpY2hFZGl0QnJhY2tldCB7XG4gICAgY29uc3RydWN0b3IobGFuZ3VhZ2VJZCwgaW5kZXgsIG9wZW4sIGNsb3NlLCBmb3J3YXJkUmVnZXgsIHJldmVyc2VkUmVnZXgpIHtcbiAgICAgICAgdGhpcy5fcmljaEVkaXRCcmFja2V0QnJhbmQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubGFuZ3VhZ2VJZCA9IGxhbmd1YWdlSWQ7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5vcGVuID0gb3BlbjtcbiAgICAgICAgdGhpcy5jbG9zZSA9IGNsb3NlO1xuICAgICAgICB0aGlzLmZvcndhcmRSZWdleCA9IGZvcndhcmRSZWdleDtcbiAgICAgICAgdGhpcy5yZXZlcnNlZFJlZ2V4ID0gcmV2ZXJzZWRSZWdleDtcbiAgICAgICAgdGhpcy5fb3BlblNldCA9IFJpY2hFZGl0QnJhY2tldC5fdG9TZXQodGhpcy5vcGVuKTtcbiAgICAgICAgdGhpcy5fY2xvc2VTZXQgPSBSaWNoRWRpdEJyYWNrZXQuX3RvU2V0KHRoaXMuY2xvc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgcHJvdmlkZWQgYHRleHRgIGlzIGFuIG9wZW4gYnJhY2tldCBpbiB0aGlzIGdyb3VwLlxuICAgICAqL1xuICAgIGlzT3Blbih0ZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcGVuU2V0Lmhhcyh0ZXh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIHByb3ZpZGVkIGB0ZXh0YCBpcyBhIGNsb3NlIGJyYWNrZXQgaW4gdGhpcyBncm91cC5cbiAgICAgKi9cbiAgICBpc0Nsb3NlKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb3NlU2V0Lmhhcyh0ZXh0KTtcbiAgICB9XG4gICAgc3RhdGljIF90b1NldChhcnIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgYXJyKSB7XG4gICAgICAgICAgICByZXN1bHQuYWRkKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLyoqXG4gKiBHcm91cHMgdG9nZXRoZXIgYnJhY2tldHMgdGhhdCBoYXZlIGVxdWFsIG9wZW4gb3IgY2xvc2Ugc2VxdWVuY2VzLlxuICpcbiAqIEZvciBleGFtcGxlLCBpZiB0aGUgZm9sbG93aW5nIGJyYWNrZXRzIGFyZSBkZWZpbmVkOlxuICogICBbJ0lGJywnRU5EJ11cbiAqICAgWydmb3InLCdlbmQnXVxuICogICBbJ3snLCd9J11cbiAqXG4gKiBUaGVuIHRoZSBncm91cGVkIGJyYWNrZXRzIHdvdWxkIGJlOlxuICogICB7IG9wZW46IFsnaWYnLCAnZm9yJ10sIGNsb3NlOiBbJ2VuZCcsICdlbmQnXSB9XG4gKiAgIHsgb3BlbjogWyd7J10sIGNsb3NlOiBbJ30nXSB9XG4gKlxuICovXG5mdW5jdGlvbiBncm91cEZ1enp5QnJhY2tldHMoYnJhY2tldHMpIHtcbiAgICBjb25zdCBOID0gYnJhY2tldHMubGVuZ3RoO1xuICAgIGJyYWNrZXRzID0gYnJhY2tldHMubWFwKGIgPT4gW2JbMF0udG9Mb3dlckNhc2UoKSwgYlsxXS50b0xvd2VyQ2FzZSgpXSk7XG4gICAgY29uc3QgZ3JvdXAgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47IGkrKykge1xuICAgICAgICBncm91cFtpXSA9IGk7XG4gICAgfVxuICAgIGNvbnN0IGFyZU92ZXJsYXBwaW5nID0gKGEsIGIpID0+IHtcbiAgICAgICAgY29uc3QgW2FPcGVuLCBhQ2xvc2VdID0gYTtcbiAgICAgICAgY29uc3QgW2JPcGVuLCBiQ2xvc2VdID0gYjtcbiAgICAgICAgcmV0dXJuIChhT3BlbiA9PT0gYk9wZW4gfHwgYU9wZW4gPT09IGJDbG9zZSB8fCBhQ2xvc2UgPT09IGJPcGVuIHx8IGFDbG9zZSA9PT0gYkNsb3NlKTtcbiAgICB9O1xuICAgIGNvbnN0IG1lcmdlR3JvdXBzID0gKGcxLCBnMikgPT4ge1xuICAgICAgICBjb25zdCBuZXdHID0gTWF0aC5taW4oZzEsIGcyKTtcbiAgICAgICAgY29uc3Qgb2xkRyA9IE1hdGgubWF4KGcxLCBnMik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZ3JvdXBbaV0gPT09IG9sZEcpIHtcbiAgICAgICAgICAgICAgICBncm91cFtpXSA9IG5ld0c7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIGdyb3VwIHRvZ2V0aGVyIGJyYWNrZXRzIHRoYXQgaGF2ZSB0aGUgc2FtZSBvcGVuIG9yIHRoZSBzYW1lIGNsb3NlIHNlcXVlbmNlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyBpKyspIHtcbiAgICAgICAgY29uc3QgYSA9IGJyYWNrZXRzW2ldO1xuICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBOOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGIgPSBicmFja2V0c1tqXTtcbiAgICAgICAgICAgIGlmIChhcmVPdmVybGFwcGluZyhhLCBiKSkge1xuICAgICAgICAgICAgICAgIG1lcmdlR3JvdXBzKGdyb3VwW2ldLCBncm91cFtqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZm9yIChsZXQgZyA9IDA7IGcgPCBOOyBnKyspIHtcbiAgICAgICAgY29uc3QgY3VycmVudE9wZW4gPSBbXTtcbiAgICAgICAgY29uc3QgY3VycmVudENsb3NlID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZ3JvdXBbaV0gPT09IGcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbb3BlbiwgY2xvc2VdID0gYnJhY2tldHNbaV07XG4gICAgICAgICAgICAgICAgY3VycmVudE9wZW4ucHVzaChvcGVuKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2xvc2UucHVzaChjbG9zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRPcGVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICBvcGVuOiBjdXJyZW50T3BlbixcbiAgICAgICAgICAgICAgICBjbG9zZTogY3VycmVudENsb3NlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGNsYXNzIFJpY2hFZGl0QnJhY2tldHMge1xuICAgIGNvbnN0cnVjdG9yKGxhbmd1YWdlSWQsIF9icmFja2V0cykge1xuICAgICAgICB0aGlzLl9yaWNoRWRpdEJyYWNrZXRzQnJhbmQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGJyYWNrZXRzID0gZ3JvdXBGdXp6eUJyYWNrZXRzKF9icmFja2V0cyk7XG4gICAgICAgIHRoaXMuYnJhY2tldHMgPSBicmFja2V0cy5tYXAoKGIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJpY2hFZGl0QnJhY2tldChsYW5ndWFnZUlkLCBpbmRleCwgYi5vcGVuLCBiLmNsb3NlLCBnZXRSZWdleEZvckJyYWNrZXRQYWlyKGIub3BlbiwgYi5jbG9zZSwgYnJhY2tldHMsIGluZGV4KSwgZ2V0UmV2ZXJzZWRSZWdleEZvckJyYWNrZXRQYWlyKGIub3BlbiwgYi5jbG9zZSwgYnJhY2tldHMsIGluZGV4KSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZvcndhcmRSZWdleCA9IGdldFJlZ2V4Rm9yQnJhY2tldHModGhpcy5icmFja2V0cyk7XG4gICAgICAgIHRoaXMucmV2ZXJzZWRSZWdleCA9IGdldFJldmVyc2VkUmVnZXhGb3JCcmFja2V0cyh0aGlzLmJyYWNrZXRzKTtcbiAgICAgICAgdGhpcy50ZXh0SXNCcmFja2V0ID0ge307XG4gICAgICAgIHRoaXMudGV4dElzT3BlbkJyYWNrZXQgPSB7fTtcbiAgICAgICAgdGhpcy5tYXhCcmFja2V0TGVuZ3RoID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBicmFja2V0IG9mIHRoaXMuYnJhY2tldHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3BlbiBvZiBicmFja2V0Lm9wZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRJc0JyYWNrZXRbb3Blbl0gPSBicmFja2V0O1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dElzT3BlbkJyYWNrZXRbb3Blbl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMubWF4QnJhY2tldExlbmd0aCA9IE1hdGgubWF4KHRoaXMubWF4QnJhY2tldExlbmd0aCwgb3Blbi5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBjbG9zZSBvZiBicmFja2V0LmNsb3NlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0SXNCcmFja2V0W2Nsb3NlXSA9IGJyYWNrZXQ7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0SXNPcGVuQnJhY2tldFtjbG9zZV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLm1heEJyYWNrZXRMZW5ndGggPSBNYXRoLm1heCh0aGlzLm1heEJyYWNrZXRMZW5ndGgsIGNsb3NlLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjb2xsZWN0U3VwZXJzdHJpbmdzKHN0ciwgYnJhY2tldHMsIGN1cnJlbnRJbmRleCwgZGVzdCkge1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBicmFja2V0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAoaSA9PT0gY3VycmVudEluZGV4KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBicmFja2V0ID0gYnJhY2tldHNbaV07XG4gICAgICAgIGZvciAoY29uc3Qgb3BlbiBvZiBicmFja2V0Lm9wZW4pIHtcbiAgICAgICAgICAgIGlmIChvcGVuLmluZGV4T2Yoc3RyKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVzdC5wdXNoKG9wZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgY2xvc2Ugb2YgYnJhY2tldC5jbG9zZSkge1xuICAgICAgICAgICAgaWYgKGNsb3NlLmluZGV4T2Yoc3RyKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVzdC5wdXNoKGNsb3NlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGxlbmd0aGNtcChhLCBiKSB7XG4gICAgcmV0dXJuIGEubGVuZ3RoIC0gYi5sZW5ndGg7XG59XG5mdW5jdGlvbiB1bmlxdWUoYXJyKSB7XG4gICAgaWYgKGFyci5sZW5ndGggPD0gMSkge1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBjb25zdCBzZWVuID0gbmV3IFNldCgpO1xuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBhcnIpIHtcbiAgICAgICAgaWYgKHNlZW4uaGFzKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQucHVzaChlbGVtZW50KTtcbiAgICAgICAgc2Vlbi5hZGQoZWxlbWVudCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIENyZWF0ZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIHNlYXJjaCBmb3J3YXJkIGluIGEgcGllY2Ugb2YgdGV4dFxuICogZm9yIGEgZ3JvdXAgb2YgYnJhY2tldCBwYWlycy4gQnV0IHRoaXMgcmVnZXggbXVzdCBiZSBidWlsdCBpbiBhIHdheSBpbiB3aGljaFxuICogaXQgaXMgYXdhcmUgb2YgdGhlIG90aGVyIGJyYWNrZXQgcGFpcnMgZGVmaW5lZCBmb3IgdGhlIGxhbmd1YWdlLlxuICpcbiAqIEZvciBleGFtcGxlLCBpZiBhIGxhbmd1YWdlIGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgYnJhY2tldCBwYWlyczpcbiAqICAgWydiZWdpbicsICdlbmQnXVxuICogICBbJ2lmJywgJ2VuZCBpZiddXG4gKiBUaGUgdHdvIGJyYWNrZXQgcGFpcnMgZG8gbm90IGNvbGxpZGUgYmVjYXVzZSBubyBvcGVuIG9yIGNsb3NlIGJyYWNrZXRzIGFyZSBlcXVhbC5cbiAqIFNvIHRoZSBmdW5jdGlvbiBnZXRSZWdleEZvckJyYWNrZXRQYWlyIGlzIGNhbGxlZCB0d2ljZSwgb25jZSB3aXRoXG4gKiB0aGUgWydiZWdpbiddLCBbJ2VuZCddIGdyb3VwIGNvbnNpc3Rpbmcgb2Ygb25lIGJyYWNrZXQgcGFpciwgYW5kIG9uY2Ugd2l0aFxuICogdGhlIFsnaWYnXSwgWydlbmQgaWYnXSBncm91cCBjb25zaXRpbmcgb2YgdGhlIG90aGVyIGJyYWNrZXQgcGFpci5cbiAqXG4gKiBCdXQgdGhlcmUgY291bGQgYmUgYSBzaXR1YXRpb24gd2hlcmUgYW4gb2NjdXJyZW5jZSBvZiAnZW5kIGlmJyBpcyBtaXN0YWtlblxuICogZm9yIGFuIG9jY3VycmVuY2Ugb2YgJ2VuZCcuXG4gKlxuICogVGhlcmVmb3JlLCBmb3IgdGhlIGJyYWNrZXQgcGFpciBbJ2JlZ2luJywgJ2VuZCddLCB0aGUgcmVnZXggd2lsbCBhbHNvXG4gKiB0YXJnZXQgJ2VuZCBpZicuIFRoZSByZWdleCB3aWxsIGJlIHNvbWV0aGluZyBsaWtlOlxuICogICAvKFxcYmVuZCBpZlxcYil8KFxcYmVuZFxcYil8KFxcYmlmXFxiKS9cbiAqXG4gKiBUaGUgcmVnZXggYWxzbyBzZWFyY2hlcyBmb3IgXCJzdXBlcnN0cmluZ3NcIiAob3RoZXIgYnJhY2tldHMgdGhhdCBtaWdodCBiZSBtaXN0YWtlbiB3aXRoIHRoZSBjdXJyZW50IGJyYWNrZXQpLlxuICpcbiAqL1xuZnVuY3Rpb24gZ2V0UmVnZXhGb3JCcmFja2V0UGFpcihvcGVuLCBjbG9zZSwgYnJhY2tldHMsIGN1cnJlbnRJbmRleCkge1xuICAgIC8vIHNlYXJjaCBpbiBhbGwgYnJhY2tldHMgZm9yIG90aGVyIGJyYWNrZXRzIHRoYXQgYXJlIGEgc3VwZXJzdHJpbmcgb2YgdGhlc2UgYnJhY2tldHNcbiAgICBsZXQgcGllY2VzID0gW107XG4gICAgcGllY2VzID0gcGllY2VzLmNvbmNhdChvcGVuKTtcbiAgICBwaWVjZXMgPSBwaWVjZXMuY29uY2F0KGNsb3NlKTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcGllY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbGxlY3RTdXBlcnN0cmluZ3MocGllY2VzW2ldLCBicmFja2V0cywgY3VycmVudEluZGV4LCBwaWVjZXMpO1xuICAgIH1cbiAgICBwaWVjZXMgPSB1bmlxdWUocGllY2VzKTtcbiAgICBwaWVjZXMuc29ydChsZW5ndGhjbXApO1xuICAgIHBpZWNlcy5yZXZlcnNlKCk7XG4gICAgcmV0dXJuIGNyZWF0ZUJyYWNrZXRPclJlZ0V4cChwaWVjZXMpO1xufVxuLyoqXG4gKiBNYXRjaGluZyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBpbiBKUyBjYW4gb25seSBiZSBkb25lIFwiZm9yd2FyZHNcIi4gU28gSlMgb2ZmZXJzIG5hdGl2ZWx5IG9ubHlcbiAqIG1ldGhvZHMgdG8gZmluZCB0aGUgZmlyc3QgbWF0Y2ggb2YgYSByZWdleCBpbiBhIHN0cmluZy4gQnV0IHNvbWV0aW1lcywgaXQgaXMgdXNlZnVsIHRvXG4gKiBmaW5kIHRoZSBsYXN0IG1hdGNoIG9mIGEgcmVnZXggaW4gYSBzdHJpbmcuIEZvciBzdWNoIGEgc2l0dWF0aW9uLCBhIG5pY2Ugc29sdXRpb24gaXMgdG9cbiAqIHNpbXBseSByZXZlcnNlIHRoZSBzdHJpbmcgYW5kIHRoZW4gc2VhcmNoIGZvciBhIHJldmVyc2VkIHJlZ2V4LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gYWxzbyBoYXMgdGhlIGZpbmUgZGV0YWlscyBvZiBgZ2V0UmVnZXhGb3JCcmFja2V0UGFpcmAuIEZvciB0aGUgc2FtZSBleGFtcGxlXG4gKiBnaXZlbiBhYm92ZSwgdGhlIHJlZ2V4IHByb2R1Y2VkIGhlcmUgd291bGQgbG9vayBsaWtlOlxuICogICAvKFxcYmZpIGRuZVxcYil8KFxcYmRuZVxcYil8KFxcYmZpXFxiKS9cbiAqL1xuZnVuY3Rpb24gZ2V0UmV2ZXJzZWRSZWdleEZvckJyYWNrZXRQYWlyKG9wZW4sIGNsb3NlLCBicmFja2V0cywgY3VycmVudEluZGV4KSB7XG4gICAgLy8gc2VhcmNoIGluIGFsbCBicmFja2V0cyBmb3Igb3RoZXIgYnJhY2tldHMgdGhhdCBhcmUgYSBzdXBlcnN0cmluZyBvZiB0aGVzZSBicmFja2V0c1xuICAgIGxldCBwaWVjZXMgPSBbXTtcbiAgICBwaWVjZXMgPSBwaWVjZXMuY29uY2F0KG9wZW4pO1xuICAgIHBpZWNlcyA9IHBpZWNlcy5jb25jYXQoY2xvc2UpO1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwaWVjZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29sbGVjdFN1cGVyc3RyaW5ncyhwaWVjZXNbaV0sIGJyYWNrZXRzLCBjdXJyZW50SW5kZXgsIHBpZWNlcyk7XG4gICAgfVxuICAgIHBpZWNlcyA9IHVuaXF1ZShwaWVjZXMpO1xuICAgIHBpZWNlcy5zb3J0KGxlbmd0aGNtcCk7XG4gICAgcGllY2VzLnJldmVyc2UoKTtcbiAgICByZXR1cm4gY3JlYXRlQnJhY2tldE9yUmVnRXhwKHBpZWNlcy5tYXAodG9SZXZlcnNlZFN0cmluZykpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgcmVndWxhciBleHByZXNzaW9uIHRoYXQgdGFyZ2V0cyBhbGwgYnJhY2tldCBwYWlycy5cbiAqXG4gKiBlLmcuIGZvciB0aGUgYnJhY2tldCBwYWlyczpcbiAqICBbJ3snLCd9J11cbiAqICBbJ2JlZ2luLCdlbmQnXVxuICogIFsnZm9yJywnZW5kJ11cbiAqIHRoZSByZWdleCB3b3VsZCBsb29rIGxpa2U6XG4gKiAgLyhcXHspfChcXH0pfChcXGJiZWdpblxcYil8KFxcYmVuZFxcYil8KFxcYmZvclxcYikvXG4gKi9cbmZ1bmN0aW9uIGdldFJlZ2V4Rm9yQnJhY2tldHMoYnJhY2tldHMpIHtcbiAgICBsZXQgcGllY2VzID0gW107XG4gICAgZm9yIChjb25zdCBicmFja2V0IG9mIGJyYWNrZXRzKSB7XG4gICAgICAgIGZvciAoY29uc3Qgb3BlbiBvZiBicmFja2V0Lm9wZW4pIHtcbiAgICAgICAgICAgIHBpZWNlcy5wdXNoKG9wZW4pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgY2xvc2Ugb2YgYnJhY2tldC5jbG9zZSkge1xuICAgICAgICAgICAgcGllY2VzLnB1c2goY2xvc2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBpZWNlcyA9IHVuaXF1ZShwaWVjZXMpO1xuICAgIHJldHVybiBjcmVhdGVCcmFja2V0T3JSZWdFeHAocGllY2VzKTtcbn1cbi8qKlxuICogTWF0Y2hpbmcgYSByZWd1bGFyIGV4cHJlc3Npb24gaW4gSlMgY2FuIG9ubHkgYmUgZG9uZSBcImZvcndhcmRzXCIuIFNvIEpTIG9mZmVycyBuYXRpdmVseSBvbmx5XG4gKiBtZXRob2RzIHRvIGZpbmQgdGhlIGZpcnN0IG1hdGNoIG9mIGEgcmVnZXggaW4gYSBzdHJpbmcuIEJ1dCBzb21ldGltZXMsIGl0IGlzIHVzZWZ1bCB0b1xuICogZmluZCB0aGUgbGFzdCBtYXRjaCBvZiBhIHJlZ2V4IGluIGEgc3RyaW5nLiBGb3Igc3VjaCBhIHNpdHVhdGlvbiwgYSBuaWNlIHNvbHV0aW9uIGlzIHRvXG4gKiBzaW1wbHkgcmV2ZXJzZSB0aGUgc3RyaW5nIGFuZCB0aGVuIHNlYXJjaCBmb3IgYSByZXZlcnNlZCByZWdleC5cbiAqXG4gKiBlLmcuIGZvciB0aGUgYnJhY2tldCBwYWlyczpcbiAqICBbJ3snLCd9J11cbiAqICBbJ2JlZ2luLCdlbmQnXVxuICogIFsnZm9yJywnZW5kJ11cbiAqIHRoZSByZWdleCB3b3VsZCBsb29rIGxpa2U6XG4gKiAgLyhcXHspfChcXH0pfChcXGJuaWdlYlxcYil8KFxcYmRuZVxcYil8KFxcYnJvZlxcYikvXG4gKi9cbmZ1bmN0aW9uIGdldFJldmVyc2VkUmVnZXhGb3JCcmFja2V0cyhicmFja2V0cykge1xuICAgIGxldCBwaWVjZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGJyYWNrZXQgb2YgYnJhY2tldHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBvcGVuIG9mIGJyYWNrZXQub3Blbikge1xuICAgICAgICAgICAgcGllY2VzLnB1c2gob3Blbik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBjbG9zZSBvZiBicmFja2V0LmNsb3NlKSB7XG4gICAgICAgICAgICBwaWVjZXMucHVzaChjbG9zZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGllY2VzID0gdW5pcXVlKHBpZWNlcyk7XG4gICAgcmV0dXJuIGNyZWF0ZUJyYWNrZXRPclJlZ0V4cChwaWVjZXMubWFwKHRvUmV2ZXJzZWRTdHJpbmcpKTtcbn1cbmZ1bmN0aW9uIHByZXBhcmVCcmFja2V0Rm9yUmVnRXhwKHN0cikge1xuICAgIC8vIFRoaXMgYnJhY2tldCBwYWlyIHVzZXMgbGV0dGVycyBsaWtlIGUuZy4gXCJiZWdpblwiIC0gXCJlbmRcIlxuICAgIGNvbnN0IGluc2VydFdvcmRCb3VuZGFyaWVzID0gKC9eW1xcdyBdKyQvLnRlc3Qoc3RyKSk7XG4gICAgc3RyID0gc3RyaW5ncy5lc2NhcGVSZWdFeHBDaGFyYWN0ZXJzKHN0cik7XG4gICAgcmV0dXJuIChpbnNlcnRXb3JkQm91bmRhcmllcyA/IGBcXFxcYiR7c3RyfVxcXFxiYCA6IHN0cik7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQnJhY2tldE9yUmVnRXhwKHBpZWNlcywgb3B0aW9ucykge1xuICAgIGNvbnN0IHJlZ2V4U3RyID0gYCgke3BpZWNlcy5tYXAocHJlcGFyZUJyYWNrZXRGb3JSZWdFeHApLmpvaW4oJyl8KCcpfSlgO1xuICAgIHJldHVybiBzdHJpbmdzLmNyZWF0ZVJlZ0V4cChyZWdleFN0ciwgdHJ1ZSwgb3B0aW9ucyk7XG59XG5jb25zdCB0b1JldmVyc2VkU3RyaW5nID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiByZXZlcnNlKHN0cikge1xuICAgICAgICAvLyBjcmVhdGUgYSBVaW50MTZBcnJheSBhbmQgdGhlbiB1c2UgYSBUZXh0RGVjb2RlciB0byBjcmVhdGUgYSBzdHJpbmdcbiAgICAgICAgY29uc3QgYXJyID0gbmV3IFVpbnQxNkFycmF5KHN0ci5sZW5ndGgpO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0ci5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgYXJyW29mZnNldCsrXSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJpbmdCdWlsZGVyLmdldFBsYXRmb3JtVGV4dERlY29kZXIoKS5kZWNvZGUoYXJyKTtcbiAgICB9XG4gICAgbGV0IGxhc3RJbnB1dCA9IG51bGw7XG4gICAgbGV0IGxhc3RPdXRwdXQgPSBudWxsO1xuICAgIHJldHVybiBmdW5jdGlvbiB0b1JldmVyc2VkU3RyaW5nKHN0cikge1xuICAgICAgICBpZiAobGFzdElucHV0ICE9PSBzdHIpIHtcbiAgICAgICAgICAgIGxhc3RJbnB1dCA9IHN0cjtcbiAgICAgICAgICAgIGxhc3RPdXRwdXQgPSByZXZlcnNlKGxhc3RJbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxhc3RPdXRwdXQ7XG4gICAgfTtcbn0pKCk7XG5leHBvcnQgY2xhc3MgQnJhY2tldHNVdGlscyB7XG4gICAgc3RhdGljIF9maW5kUHJldkJyYWNrZXRJblRleHQocmV2ZXJzZWRCcmFja2V0UmVnZXgsIGxpbmVOdW1iZXIsIHJldmVyc2VkVGV4dCwgb2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IG0gPSByZXZlcnNlZFRleHQubWF0Y2gocmV2ZXJzZWRCcmFja2V0UmVnZXgpO1xuICAgICAgICBpZiAoIW0pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1hdGNoT2Zmc2V0ID0gcmV2ZXJzZWRUZXh0Lmxlbmd0aCAtIChtLmluZGV4IHx8IDApO1xuICAgICAgICBjb25zdCBtYXRjaExlbmd0aCA9IG1bMF0ubGVuZ3RoO1xuICAgICAgICBjb25zdCBhYnNvbHV0ZU1hdGNoT2Zmc2V0ID0gb2Zmc2V0ICsgbWF0Y2hPZmZzZXQ7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UobGluZU51bWJlciwgYWJzb2x1dGVNYXRjaE9mZnNldCAtIG1hdGNoTGVuZ3RoICsgMSwgbGluZU51bWJlciwgYWJzb2x1dGVNYXRjaE9mZnNldCArIDEpO1xuICAgIH1cbiAgICBzdGF0aWMgZmluZFByZXZCcmFja2V0SW5SYW5nZShyZXZlcnNlZEJyYWNrZXRSZWdleCwgbGluZU51bWJlciwgbGluZVRleHQsIHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQpIHtcbiAgICAgICAgLy8gQmVjYXVzZSBKUyBkb2VzIG5vdCBzdXBwb3J0IGJhY2t3YXJkcyByZWdleCBzZWFyY2gsIHdlIHNlYXJjaCBmb3J3YXJkcyBpbiBhIHJldmVyc2VkIHN0cmluZyB3aXRoIGEgcmV2ZXJzZWQgcmVnZXggOylcbiAgICAgICAgY29uc3QgcmV2ZXJzZWRMaW5lVGV4dCA9IHRvUmV2ZXJzZWRTdHJpbmcobGluZVRleHQpO1xuICAgICAgICBjb25zdCByZXZlcnNlZFN1YnN0ciA9IHJldmVyc2VkTGluZVRleHQuc3Vic3RyaW5nKGxpbmVUZXh0Lmxlbmd0aCAtIGVuZE9mZnNldCwgbGluZVRleHQubGVuZ3RoIC0gc3RhcnRPZmZzZXQpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZmluZFByZXZCcmFja2V0SW5UZXh0KHJldmVyc2VkQnJhY2tldFJlZ2V4LCBsaW5lTnVtYmVyLCByZXZlcnNlZFN1YnN0ciwgc3RhcnRPZmZzZXQpO1xuICAgIH1cbiAgICBzdGF0aWMgZmluZE5leHRCcmFja2V0SW5UZXh0KGJyYWNrZXRSZWdleCwgbGluZU51bWJlciwgdGV4dCwgb2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IG0gPSB0ZXh0Lm1hdGNoKGJyYWNrZXRSZWdleCk7XG4gICAgICAgIGlmICghbSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWF0Y2hPZmZzZXQgPSBtLmluZGV4IHx8IDA7XG4gICAgICAgIGNvbnN0IG1hdGNoTGVuZ3RoID0gbVswXS5sZW5ndGg7XG4gICAgICAgIGlmIChtYXRjaExlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWJzb2x1dGVNYXRjaE9mZnNldCA9IG9mZnNldCArIG1hdGNoT2Zmc2V0O1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKGxpbmVOdW1iZXIsIGFic29sdXRlTWF0Y2hPZmZzZXQgKyAxLCBsaW5lTnVtYmVyLCBhYnNvbHV0ZU1hdGNoT2Zmc2V0ICsgMSArIG1hdGNoTGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIGZpbmROZXh0QnJhY2tldEluUmFuZ2UoYnJhY2tldFJlZ2V4LCBsaW5lTnVtYmVyLCBsaW5lVGV4dCwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCkge1xuICAgICAgICBjb25zdCBzdWJzdHIgPSBsaW5lVGV4dC5zdWJzdHJpbmcoc3RhcnRPZmZzZXQsIGVuZE9mZnNldCk7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmROZXh0QnJhY2tldEluVGV4dChicmFja2V0UmVnZXgsIGxpbmVOdW1iZXIsIHN1YnN0ciwgc3RhcnRPZmZzZXQpO1xuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgQnVnSW5kaWNhdGluZ0Vycm9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vYmFzZS9jb21tb24vZXJyb3JzLmpzJztcbmltcG9ydCB7IEN1cnNvckNvbHVtbnMgfSBmcm9tICcuLi8uLi8uLi9jb3JlL2N1cnNvckNvbHVtbnMuanMnO1xuaW1wb3J0IHsgbGVuZ3RoQWRkLCBsZW5ndGhHZXRMaW5lQ291bnQsIGxlbmd0aFRvT2JqLCBsZW5ndGhaZXJvIH0gZnJvbSAnLi9sZW5ndGguanMnO1xuaW1wb3J0IHsgU21hbGxJbW11dGFibGVTZXQgfSBmcm9tICcuL3NtYWxsSW1tdXRhYmxlU2V0LmpzJztcbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gZm9yIGFsbCBBU1Qgbm9kZXMuXG4qL1xuY2xhc3MgQmFzZUFzdE5vZGUge1xuICAgIC8qKlxuICAgICAqIFRoZSBsZW5ndGggb2YgdGhlIGVudGlyZSBub2RlLCB3aGljaCBzaG91bGQgZXF1YWwgdGhlIHN1bSBvZiBsZW5ndGhzIG9mIGFsbCBjaGlsZHJlbi5cbiAgICAqL1xuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sZW5ndGg7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGxlbmd0aCkge1xuICAgICAgICB0aGlzLl9sZW5ndGggPSBsZW5ndGg7XG4gICAgfVxufVxuLyoqXG4gKiBSZXByZXNlbnRzIGEgYnJhY2tldCBwYWlyIGluY2x1ZGluZyBpdHMgY2hpbGQgKGUuZy4gYHsgLi4uIH1gKS5cbiAqIE1pZ2h0IGJlIHVuY2xvc2VkLlxuICogSW1tdXRhYmxlLCBpZiBhbGwgY2hpbGRyZW4gYXJlIGltbXV0YWJsZS5cbiovXG5leHBvcnQgY2xhc3MgUGFpckFzdE5vZGUgZXh0ZW5kcyBCYXNlQXN0Tm9kZSB7XG4gICAgc3RhdGljIGNyZWF0ZShvcGVuaW5nQnJhY2tldCwgY2hpbGQsIGNsb3NpbmdCcmFja2V0KSB7XG4gICAgICAgIGxldCBsZW5ndGggPSBvcGVuaW5nQnJhY2tldC5sZW5ndGg7XG4gICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgbGVuZ3RoID0gbGVuZ3RoQWRkKGxlbmd0aCwgY2hpbGQubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xvc2luZ0JyYWNrZXQpIHtcbiAgICAgICAgICAgIGxlbmd0aCA9IGxlbmd0aEFkZChsZW5ndGgsIGNsb3NpbmdCcmFja2V0Lmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQYWlyQXN0Tm9kZShsZW5ndGgsIG9wZW5pbmdCcmFja2V0LCBjaGlsZCwgY2xvc2luZ0JyYWNrZXQsIGNoaWxkID8gY2hpbGQubWlzc2luZ09wZW5pbmdCcmFja2V0SWRzIDogU21hbGxJbW11dGFibGVTZXQuZ2V0RW1wdHkoKSk7XG4gICAgfVxuICAgIGdldCBraW5kKCkge1xuICAgICAgICByZXR1cm4gMiAvKiBBc3ROb2RlS2luZC5QYWlyICovO1xuICAgIH1cbiAgICBnZXQgbGlzdEhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGdldCBjaGlsZHJlbkxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIDM7XG4gICAgfVxuICAgIGdldENoaWxkKGlkeCkge1xuICAgICAgICBzd2l0Y2ggKGlkeCkge1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gdGhpcy5vcGVuaW5nQnJhY2tldDtcbiAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIHRoaXMuY2hpbGQ7XG4gICAgICAgICAgICBjYXNlIDI6IHJldHVybiB0aGlzLmNsb3NpbmdCcmFja2V0O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjaGlsZCBpbmRleCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdm9pZCB1c2luZyB0aGlzIHByb3BlcnR5LCBpdCBhbGxvY2F0ZXMgYW4gYXJyYXkhXG4gICAgKi9cbiAgICBnZXQgY2hpbGRyZW4oKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICByZXN1bHQucHVzaCh0aGlzLm9wZW5pbmdCcmFja2V0KTtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNsb3NpbmdCcmFja2V0KSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmNsb3NpbmdCcmFja2V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihsZW5ndGgsIG9wZW5pbmdCcmFja2V0LCBjaGlsZCwgY2xvc2luZ0JyYWNrZXQsIG1pc3NpbmdPcGVuaW5nQnJhY2tldElkcykge1xuICAgICAgICBzdXBlcihsZW5ndGgpO1xuICAgICAgICB0aGlzLm9wZW5pbmdCcmFja2V0ID0gb3BlbmluZ0JyYWNrZXQ7XG4gICAgICAgIHRoaXMuY2hpbGQgPSBjaGlsZDtcbiAgICAgICAgdGhpcy5jbG9zaW5nQnJhY2tldCA9IGNsb3NpbmdCcmFja2V0O1xuICAgICAgICB0aGlzLm1pc3NpbmdPcGVuaW5nQnJhY2tldElkcyA9IG1pc3NpbmdPcGVuaW5nQnJhY2tldElkcztcbiAgICB9XG4gICAgY2FuQmVSZXVzZWQob3BlbkJyYWNrZXRJZHMpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2luZ0JyYWNrZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFVuY2xvc2VkIHBhaXIgYXN0IG5vZGVzIG9ubHlcbiAgICAgICAgICAgIC8vIGVuZCBhdCB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudFxuICAgICAgICAgICAgLy8gb3Igd2hlbiBhIHBhcmVudCBub2RlIGlzIGNsb3NlZC5cbiAgICAgICAgICAgIC8vIFRoaXMgY291bGQgYmUgaW1wcm92ZWQ6XG4gICAgICAgICAgICAvLyBPbmx5IHJldHVybiBmYWxzZSBpZiBzb21lIG5leHQgdG9rZW4gaXMgbmVpdGhlciBcInVuZGVmaW5lZFwiIG5vciBhIGJyYWNrZXQgdGhhdCBjbG9zZXMgYSBwYXJlbnQuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wZW5CcmFja2V0SWRzLmludGVyc2VjdHModGhpcy5taXNzaW5nT3BlbmluZ0JyYWNrZXRJZHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGRlZXBDbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQYWlyQXN0Tm9kZSh0aGlzLmxlbmd0aCwgdGhpcy5vcGVuaW5nQnJhY2tldC5kZWVwQ2xvbmUoKSwgdGhpcy5jaGlsZCAmJiB0aGlzLmNoaWxkLmRlZXBDbG9uZSgpLCB0aGlzLmNsb3NpbmdCcmFja2V0ICYmIHRoaXMuY2xvc2luZ0JyYWNrZXQuZGVlcENsb25lKCksIHRoaXMubWlzc2luZ09wZW5pbmdCcmFja2V0SWRzKTtcbiAgICB9XG4gICAgY29tcHV0ZU1pbkluZGVudGF0aW9uKG9mZnNldCwgdGV4dE1vZGVsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkID8gdGhpcy5jaGlsZC5jb21wdXRlTWluSW5kZW50YXRpb24obGVuZ3RoQWRkKG9mZnNldCwgdGhpcy5vcGVuaW5nQnJhY2tldC5sZW5ndGgpLCB0ZXh0TW9kZWwpIDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIExpc3RBc3ROb2RlIGV4dGVuZHMgQmFzZUFzdE5vZGUge1xuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHVzZXMgbW9yZSBtZW1vcnktZWZmaWNpZW50IGxpc3Qgbm9kZXMgdGhhdCBjYW4gb25seSBzdG9yZSAyIG9yIDMgY2hpbGRyZW4uXG4gICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlMjMoaXRlbTEsIGl0ZW0yLCBpdGVtMywgaW1tdXRhYmxlID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IGxlbmd0aCA9IGl0ZW0xLmxlbmd0aDtcbiAgICAgICAgbGV0IG1pc3NpbmdCcmFja2V0SWRzID0gaXRlbTEubWlzc2luZ09wZW5pbmdCcmFja2V0SWRzO1xuICAgICAgICBpZiAoaXRlbTEubGlzdEhlaWdodCAhPT0gaXRlbTIubGlzdEhlaWdodCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGxpc3QgaGVpZ2h0cycpO1xuICAgICAgICB9XG4gICAgICAgIGxlbmd0aCA9IGxlbmd0aEFkZChsZW5ndGgsIGl0ZW0yLmxlbmd0aCk7XG4gICAgICAgIG1pc3NpbmdCcmFja2V0SWRzID0gbWlzc2luZ0JyYWNrZXRJZHMubWVyZ2UoaXRlbTIubWlzc2luZ09wZW5pbmdCcmFja2V0SWRzKTtcbiAgICAgICAgaWYgKGl0ZW0zKSB7XG4gICAgICAgICAgICBpZiAoaXRlbTEubGlzdEhlaWdodCAhPT0gaXRlbTMubGlzdEhlaWdodCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBsaXN0IGhlaWdodHMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxlbmd0aCA9IGxlbmd0aEFkZChsZW5ndGgsIGl0ZW0zLmxlbmd0aCk7XG4gICAgICAgICAgICBtaXNzaW5nQnJhY2tldElkcyA9IG1pc3NpbmdCcmFja2V0SWRzLm1lcmdlKGl0ZW0zLm1pc3NpbmdPcGVuaW5nQnJhY2tldElkcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltbXV0YWJsZVxuICAgICAgICAgICAgPyBuZXcgSW1tdXRhYmxlMjNMaXN0QXN0Tm9kZShsZW5ndGgsIGl0ZW0xLmxpc3RIZWlnaHQgKyAxLCBpdGVtMSwgaXRlbTIsIGl0ZW0zLCBtaXNzaW5nQnJhY2tldElkcylcbiAgICAgICAgICAgIDogbmV3IFR3b1RocmVlTGlzdEFzdE5vZGUobGVuZ3RoLCBpdGVtMS5saXN0SGVpZ2h0ICsgMSwgaXRlbTEsIGl0ZW0yLCBpdGVtMywgbWlzc2luZ0JyYWNrZXRJZHMpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RW1wdHkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW1tdXRhYmxlQXJyYXlMaXN0QXN0Tm9kZShsZW5ndGhaZXJvLCAwLCBbXSwgU21hbGxJbW11dGFibGVTZXQuZ2V0RW1wdHkoKSk7XG4gICAgfVxuICAgIGdldCBraW5kKCkge1xuICAgICAgICByZXR1cm4gNCAvKiBBc3ROb2RlS2luZC5MaXN0ICovO1xuICAgIH1cbiAgICBnZXQgbWlzc2luZ09wZW5pbmdCcmFja2V0SWRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWlzc2luZ09wZW5pbmdCcmFja2V0SWRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2UgTGlzdEFzdE5vZGUuY3JlYXRlLlxuICAgICovXG4gICAgY29uc3RydWN0b3IobGVuZ3RoLCBsaXN0SGVpZ2h0LCBfbWlzc2luZ09wZW5pbmdCcmFja2V0SWRzKSB7XG4gICAgICAgIHN1cGVyKGxlbmd0aCk7XG4gICAgICAgIHRoaXMubGlzdEhlaWdodCA9IGxpc3RIZWlnaHQ7XG4gICAgICAgIHRoaXMuX21pc3NpbmdPcGVuaW5nQnJhY2tldElkcyA9IF9taXNzaW5nT3BlbmluZ0JyYWNrZXRJZHM7XG4gICAgICAgIHRoaXMuY2FjaGVkTWluSW5kZW50YXRpb24gPSAtMTtcbiAgICB9XG4gICAgdGhyb3dJZkltbXV0YWJsZSgpIHtcbiAgICAgICAgLy8gTk9PUFxuICAgIH1cbiAgICBtYWtlTGFzdEVsZW1lbnRNdXRhYmxlKCkge1xuICAgICAgICB0aGlzLnRocm93SWZJbW11dGFibGUoKTtcbiAgICAgICAgY29uc3QgY2hpbGRDb3VudCA9IHRoaXMuY2hpbGRyZW5MZW5ndGg7XG4gICAgICAgIGlmIChjaGlsZENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxhc3RDaGlsZCA9IHRoaXMuZ2V0Q2hpbGQoY2hpbGRDb3VudCAtIDEpO1xuICAgICAgICBjb25zdCBtdXRhYmxlID0gbGFzdENoaWxkLmtpbmQgPT09IDQgLyogQXN0Tm9kZUtpbmQuTGlzdCAqLyA/IGxhc3RDaGlsZC50b011dGFibGUoKSA6IGxhc3RDaGlsZDtcbiAgICAgICAgaWYgKGxhc3RDaGlsZCAhPT0gbXV0YWJsZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRDaGlsZChjaGlsZENvdW50IC0gMSwgbXV0YWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG11dGFibGU7XG4gICAgfVxuICAgIG1ha2VGaXJzdEVsZW1lbnRNdXRhYmxlKCkge1xuICAgICAgICB0aGlzLnRocm93SWZJbW11dGFibGUoKTtcbiAgICAgICAgY29uc3QgY2hpbGRDb3VudCA9IHRoaXMuY2hpbGRyZW5MZW5ndGg7XG4gICAgICAgIGlmIChjaGlsZENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpcnN0Q2hpbGQgPSB0aGlzLmdldENoaWxkKDApO1xuICAgICAgICBjb25zdCBtdXRhYmxlID0gZmlyc3RDaGlsZC5raW5kID09PSA0IC8qIEFzdE5vZGVLaW5kLkxpc3QgKi8gPyBmaXJzdENoaWxkLnRvTXV0YWJsZSgpIDogZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKGZpcnN0Q2hpbGQgIT09IG11dGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q2hpbGQoMCwgbXV0YWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG11dGFibGU7XG4gICAgfVxuICAgIGNhbkJlUmV1c2VkKG9wZW5CcmFja2V0SWRzKSB7XG4gICAgICAgIGlmIChvcGVuQnJhY2tldElkcy5pbnRlcnNlY3RzKHRoaXMubWlzc2luZ09wZW5pbmdCcmFja2V0SWRzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuTGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBEb24ndCByZXVzZSBlbXB0eSBsaXN0cy5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGFzdENoaWxkID0gdGhpcztcbiAgICAgICAgd2hpbGUgKGxhc3RDaGlsZC5raW5kID09PSA0IC8qIEFzdE5vZGVLaW5kLkxpc3QgKi8pIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RMZW5ndGggPSBsYXN0Q2hpbGQuY2hpbGRyZW5MZW5ndGg7XG4gICAgICAgICAgICBpZiAobGFzdExlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIEVtcHR5IGxpc3RzIHNob3VsZCBuZXZlciBiZSBjb250YWluZWQgaW4gb3RoZXIgbGlzdHMuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEJ1Z0luZGljYXRpbmdFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdENoaWxkID0gbGFzdENoaWxkLmdldENoaWxkKGxhc3RMZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGFzdENoaWxkLmNhbkJlUmV1c2VkKG9wZW5CcmFja2V0SWRzKTtcbiAgICB9XG4gICAgaGFuZGxlQ2hpbGRyZW5DaGFuZ2VkKCkge1xuICAgICAgICB0aGlzLnRocm93SWZJbW11dGFibGUoKTtcbiAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLmNoaWxkcmVuTGVuZ3RoO1xuICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy5nZXRDaGlsZCgwKS5sZW5ndGg7XG4gICAgICAgIGxldCB1bm9wZW5lZEJyYWNrZXRzID0gdGhpcy5nZXRDaGlsZCgwKS5taXNzaW5nT3BlbmluZ0JyYWNrZXRJZHM7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmdldENoaWxkKGkpO1xuICAgICAgICAgICAgbGVuZ3RoID0gbGVuZ3RoQWRkKGxlbmd0aCwgY2hpbGQubGVuZ3RoKTtcbiAgICAgICAgICAgIHVub3BlbmVkQnJhY2tldHMgPSB1bm9wZW5lZEJyYWNrZXRzLm1lcmdlKGNoaWxkLm1pc3NpbmdPcGVuaW5nQnJhY2tldElkcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLl9taXNzaW5nT3BlbmluZ0JyYWNrZXRJZHMgPSB1bm9wZW5lZEJyYWNrZXRzO1xuICAgICAgICB0aGlzLmNhY2hlZE1pbkluZGVudGF0aW9uID0gLTE7XG4gICAgfVxuICAgIGNvbXB1dGVNaW5JbmRlbnRhdGlvbihvZmZzZXQsIHRleHRNb2RlbCkge1xuICAgICAgICBpZiAodGhpcy5jYWNoZWRNaW5JbmRlbnRhdGlvbiAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlZE1pbkluZGVudGF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtaW5JbmRlbnRhdGlvbiA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgICAgICBsZXQgY2hpbGRPZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuZ2V0Q2hpbGQoaSk7XG4gICAgICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBtaW5JbmRlbnRhdGlvbiA9IE1hdGgubWluKG1pbkluZGVudGF0aW9uLCBjaGlsZC5jb21wdXRlTWluSW5kZW50YXRpb24oY2hpbGRPZmZzZXQsIHRleHRNb2RlbCkpO1xuICAgICAgICAgICAgICAgIGNoaWxkT2Zmc2V0ID0gbGVuZ3RoQWRkKGNoaWxkT2Zmc2V0LCBjaGlsZC5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FjaGVkTWluSW5kZW50YXRpb24gPSBtaW5JbmRlbnRhdGlvbjtcbiAgICAgICAgcmV0dXJuIG1pbkluZGVudGF0aW9uO1xuICAgIH1cbn1cbmNsYXNzIFR3b1RocmVlTGlzdEFzdE5vZGUgZXh0ZW5kcyBMaXN0QXN0Tm9kZSB7XG4gICAgZ2V0IGNoaWxkcmVuTGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXRlbTMgIT09IG51bGwgPyAzIDogMjtcbiAgICB9XG4gICAgZ2V0Q2hpbGQoaWR4KSB7XG4gICAgICAgIHN3aXRjaCAoaWR4KSB7XG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiB0aGlzLl9pdGVtMTtcbiAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIHRoaXMuX2l0ZW0yO1xuICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gdGhpcy5faXRlbTM7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNoaWxkIGluZGV4Jyk7XG4gICAgfVxuICAgIHNldENoaWxkKGlkeCwgbm9kZSkge1xuICAgICAgICBzd2l0Y2ggKGlkeCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMuX2l0ZW0xID0gbm9kZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGhpcy5faXRlbTIgPSBub2RlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzLl9pdGVtMyA9IG5vZGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjaGlsZCBpbmRleCcpO1xuICAgIH1cbiAgICBnZXQgY2hpbGRyZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtMyA/IFt0aGlzLl9pdGVtMSwgdGhpcy5faXRlbTIsIHRoaXMuX2l0ZW0zXSA6IFt0aGlzLl9pdGVtMSwgdGhpcy5faXRlbTJdO1xuICAgIH1cbiAgICBnZXQgaXRlbTEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtMTtcbiAgICB9XG4gICAgZ2V0IGl0ZW0yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXRlbTI7XG4gICAgfVxuICAgIGdldCBpdGVtMygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW0zO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihsZW5ndGgsIGxpc3RIZWlnaHQsIF9pdGVtMSwgX2l0ZW0yLCBfaXRlbTMsIG1pc3NpbmdPcGVuaW5nQnJhY2tldElkcykge1xuICAgICAgICBzdXBlcihsZW5ndGgsIGxpc3RIZWlnaHQsIG1pc3NpbmdPcGVuaW5nQnJhY2tldElkcyk7XG4gICAgICAgIHRoaXMuX2l0ZW0xID0gX2l0ZW0xO1xuICAgICAgICB0aGlzLl9pdGVtMiA9IF9pdGVtMjtcbiAgICAgICAgdGhpcy5faXRlbTMgPSBfaXRlbTM7XG4gICAgfVxuICAgIGRlZXBDbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUd29UaHJlZUxpc3RBc3ROb2RlKHRoaXMubGVuZ3RoLCB0aGlzLmxpc3RIZWlnaHQsIHRoaXMuX2l0ZW0xLmRlZXBDbG9uZSgpLCB0aGlzLl9pdGVtMi5kZWVwQ2xvbmUoKSwgdGhpcy5faXRlbTMgPyB0aGlzLl9pdGVtMy5kZWVwQ2xvbmUoKSA6IG51bGwsIHRoaXMubWlzc2luZ09wZW5pbmdCcmFja2V0SWRzKTtcbiAgICB9XG4gICAgYXBwZW5kQ2hpbGRPZlNhbWVIZWlnaHQobm9kZSkge1xuICAgICAgICBpZiAodGhpcy5faXRlbTMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFwcGVuZCB0byBhIGZ1bGwgKDIsMykgdHJlZSBub2RlJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aHJvd0lmSW1tdXRhYmxlKCk7XG4gICAgICAgIHRoaXMuX2l0ZW0zID0gbm9kZTtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGlsZHJlbkNoYW5nZWQoKTtcbiAgICB9XG4gICAgdW5hcHBlbmRDaGlsZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pdGVtMykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmVtb3ZlIGZyb20gYSBub24tZnVsbCAoMiwzKSB0cmVlIG5vZGUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRocm93SWZJbW11dGFibGUoKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5faXRlbTM7XG4gICAgICAgIHRoaXMuX2l0ZW0zID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGlsZHJlbkNoYW5nZWQoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcHJlcGVuZENoaWxkT2ZTYW1lSGVpZ2h0KG5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2l0ZW0zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBwcmVwZW5kIHRvIGEgZnVsbCAoMiwzKSB0cmVlIG5vZGUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRocm93SWZJbW11dGFibGUoKTtcbiAgICAgICAgdGhpcy5faXRlbTMgPSB0aGlzLl9pdGVtMjtcbiAgICAgICAgdGhpcy5faXRlbTIgPSB0aGlzLl9pdGVtMTtcbiAgICAgICAgdGhpcy5faXRlbTEgPSBub2RlO1xuICAgICAgICB0aGlzLmhhbmRsZUNoaWxkcmVuQ2hhbmdlZCgpO1xuICAgIH1cbiAgICB1bnByZXBlbmRDaGlsZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pdGVtMykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmVtb3ZlIGZyb20gYSBub24tZnVsbCAoMiwzKSB0cmVlIG5vZGUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRocm93SWZJbW11dGFibGUoKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5faXRlbTE7XG4gICAgICAgIHRoaXMuX2l0ZW0xID0gdGhpcy5faXRlbTI7XG4gICAgICAgIHRoaXMuX2l0ZW0yID0gdGhpcy5faXRlbTM7XG4gICAgICAgIHRoaXMuX2l0ZW0zID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGlsZHJlbkNoYW5nZWQoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgdG9NdXRhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vKipcbiAqIEltbXV0YWJsZSwgaWYgYWxsIGNoaWxkcmVuIGFyZSBpbW11dGFibGUuXG4qL1xuY2xhc3MgSW1tdXRhYmxlMjNMaXN0QXN0Tm9kZSBleHRlbmRzIFR3b1RocmVlTGlzdEFzdE5vZGUge1xuICAgIHRvTXV0YWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUd29UaHJlZUxpc3RBc3ROb2RlKHRoaXMubGVuZ3RoLCB0aGlzLmxpc3RIZWlnaHQsIHRoaXMuaXRlbTEsIHRoaXMuaXRlbTIsIHRoaXMuaXRlbTMsIHRoaXMubWlzc2luZ09wZW5pbmdCcmFja2V0SWRzKTtcbiAgICB9XG4gICAgdGhyb3dJZkltbXV0YWJsZSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0aGlzIGluc3RhbmNlIGlzIGltbXV0YWJsZScpO1xuICAgIH1cbn1cbi8qKlxuICogRm9yIGRlYnVnZ2luZy5cbiovXG5jbGFzcyBBcnJheUxpc3RBc3ROb2RlIGV4dGVuZHMgTGlzdEFzdE5vZGUge1xuICAgIGdldCBjaGlsZHJlbkxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtcbiAgICB9XG4gICAgZ2V0Q2hpbGQoaWR4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGlsZHJlbltpZHhdO1xuICAgIH1cbiAgICBzZXRDaGlsZChpZHgsIGNoaWxkKSB7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuW2lkeF0gPSBjaGlsZDtcbiAgICB9XG4gICAgZ2V0IGNoaWxkcmVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW47XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGxlbmd0aCwgbGlzdEhlaWdodCwgX2NoaWxkcmVuLCBtaXNzaW5nT3BlbmluZ0JyYWNrZXRJZHMpIHtcbiAgICAgICAgc3VwZXIobGVuZ3RoLCBsaXN0SGVpZ2h0LCBtaXNzaW5nT3BlbmluZ0JyYWNrZXRJZHMpO1xuICAgICAgICB0aGlzLl9jaGlsZHJlbiA9IF9jaGlsZHJlbjtcbiAgICB9XG4gICAgZGVlcENsb25lKCkge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IG5ldyBBcnJheSh0aGlzLl9jaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjaGlsZHJlbltpXSA9IHRoaXMuX2NoaWxkcmVuW2ldLmRlZXBDbG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQXJyYXlMaXN0QXN0Tm9kZSh0aGlzLmxlbmd0aCwgdGhpcy5saXN0SGVpZ2h0LCBjaGlsZHJlbiwgdGhpcy5taXNzaW5nT3BlbmluZ0JyYWNrZXRJZHMpO1xuICAgIH1cbiAgICBhcHBlbmRDaGlsZE9mU2FtZUhlaWdodChub2RlKSB7XG4gICAgICAgIHRoaXMudGhyb3dJZkltbXV0YWJsZSgpO1xuICAgICAgICB0aGlzLl9jaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgICB0aGlzLmhhbmRsZUNoaWxkcmVuQ2hhbmdlZCgpO1xuICAgIH1cbiAgICB1bmFwcGVuZENoaWxkKCkge1xuICAgICAgICB0aGlzLnRocm93SWZJbW11dGFibGUoKTtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX2NoaWxkcmVuLnBvcCgpO1xuICAgICAgICB0aGlzLmhhbmRsZUNoaWxkcmVuQ2hhbmdlZCgpO1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG4gICAgcHJlcGVuZENoaWxkT2ZTYW1lSGVpZ2h0KG5vZGUpIHtcbiAgICAgICAgdGhpcy50aHJvd0lmSW1tdXRhYmxlKCk7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuLnVuc2hpZnQobm9kZSk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ2hpbGRyZW5DaGFuZ2VkKCk7XG4gICAgfVxuICAgIHVucHJlcGVuZENoaWxkKCkge1xuICAgICAgICB0aGlzLnRocm93SWZJbW11dGFibGUoKTtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX2NoaWxkcmVuLnNoaWZ0KCk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ2hpbGRyZW5DaGFuZ2VkKCk7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cbiAgICB0b011dGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8qKlxuICogSW1tdXRhYmxlLCBpZiBhbGwgY2hpbGRyZW4gYXJlIGltbXV0YWJsZS5cbiovXG5jbGFzcyBJbW11dGFibGVBcnJheUxpc3RBc3ROb2RlIGV4dGVuZHMgQXJyYXlMaXN0QXN0Tm9kZSB7XG4gICAgdG9NdXRhYmxlKCkge1xuICAgICAgICByZXR1cm4gbmV3IEFycmF5TGlzdEFzdE5vZGUodGhpcy5sZW5ndGgsIHRoaXMubGlzdEhlaWdodCwgWy4uLnRoaXMuY2hpbGRyZW5dLCB0aGlzLm1pc3NpbmdPcGVuaW5nQnJhY2tldElkcyk7XG4gICAgfVxuICAgIHRocm93SWZJbW11dGFibGUoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndGhpcyBpbnN0YW5jZSBpcyBpbW11dGFibGUnKTtcbiAgICB9XG59XG5jb25zdCBlbXB0eUFycmF5ID0gW107XG5jbGFzcyBJbW11dGFibGVMZWFmQXN0Tm9kZSBleHRlbmRzIEJhc2VBc3ROb2RlIHtcbiAgICBnZXQgbGlzdEhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGdldCBjaGlsZHJlbkxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGdldENoaWxkKGlkeCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZ2V0IGNoaWxkcmVuKCkge1xuICAgICAgICByZXR1cm4gZW1wdHlBcnJheTtcbiAgICB9XG4gICAgZGVlcENsb25lKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVGV4dEFzdE5vZGUgZXh0ZW5kcyBJbW11dGFibGVMZWFmQXN0Tm9kZSB7XG4gICAgZ2V0IGtpbmQoKSB7XG4gICAgICAgIHJldHVybiAwIC8qIEFzdE5vZGVLaW5kLlRleHQgKi87XG4gICAgfVxuICAgIGdldCBtaXNzaW5nT3BlbmluZ0JyYWNrZXRJZHMoKSB7XG4gICAgICAgIHJldHVybiBTbWFsbEltbXV0YWJsZVNldC5nZXRFbXB0eSgpO1xuICAgIH1cbiAgICBjYW5CZVJldXNlZChfb3BlbmVkQnJhY2tldElkcykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29tcHV0ZU1pbkluZGVudGF0aW9uKG9mZnNldCwgdGV4dE1vZGVsKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gbGVuZ3RoVG9PYmoob2Zmc2V0KTtcbiAgICAgICAgLy8gVGV4dCBhc3Qgbm9kZXMgZG9uJ3QgaGF2ZSBwYXJ0aWFsIGluZGVudGF0aW9uIChlbnN1cmVkIGJ5IHRoZSB0b2tlbml6ZXIpLlxuICAgICAgICAvLyBUaHVzLCBpZiB0aGlzIHRleHQgbm9kZSBkb2VzIG5vdCBzdGFydCBhdCBjb2x1bW4gMCwgdGhlIGZpcnN0IGxpbmUgY2Fubm90IGhhdmUgYW55IGluZGVudGF0aW9uIGF0IGFsbC5cbiAgICAgICAgY29uc3Qgc3RhcnRMaW5lTnVtYmVyID0gKHN0YXJ0LmNvbHVtbkNvdW50ID09PSAwID8gc3RhcnQubGluZUNvdW50IDogc3RhcnQubGluZUNvdW50ICsgMSkgKyAxO1xuICAgICAgICBjb25zdCBlbmRMaW5lTnVtYmVyID0gbGVuZ3RoR2V0TGluZUNvdW50KGxlbmd0aEFkZChvZmZzZXQsIHRoaXMubGVuZ3RoKSkgKyAxO1xuICAgICAgICBsZXQgcmVzdWx0ID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gICAgICAgIGZvciAobGV0IGxpbmVOdW1iZXIgPSBzdGFydExpbmVOdW1iZXI7IGxpbmVOdW1iZXIgPD0gZW5kTGluZU51bWJlcjsgbGluZU51bWJlcisrKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdE5vbldzQ29sdW1uID0gdGV4dE1vZGVsLmdldExpbmVGaXJzdE5vbldoaXRlc3BhY2VDb2x1bW4obGluZU51bWJlcik7XG4gICAgICAgICAgICBjb25zdCBsaW5lQ29udGVudCA9IHRleHRNb2RlbC5nZXRMaW5lQ29udGVudChsaW5lTnVtYmVyKTtcbiAgICAgICAgICAgIGlmIChmaXJzdE5vbldzQ29sdW1uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlQ29sdW1uID0gQ3Vyc29yQ29sdW1ucy52aXNpYmxlQ29sdW1uRnJvbUNvbHVtbihsaW5lQ29udGVudCwgZmlyc3ROb25Xc0NvbHVtbiwgdGV4dE1vZGVsLmdldE9wdGlvbnMoKS50YWJTaXplKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IE1hdGgubWluKHJlc3VsdCwgdmlzaWJsZUNvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQnJhY2tldEFzdE5vZGUgZXh0ZW5kcyBJbW11dGFibGVMZWFmQXN0Tm9kZSB7XG4gICAgc3RhdGljIGNyZWF0ZShsZW5ndGgsIGJyYWNrZXRJbmZvLCBicmFja2V0SWRzKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgQnJhY2tldEFzdE5vZGUobGVuZ3RoLCBicmFja2V0SW5mbywgYnJhY2tldElkcyk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBnZXQga2luZCgpIHtcbiAgICAgICAgcmV0dXJuIDEgLyogQXN0Tm9kZUtpbmQuQnJhY2tldCAqLztcbiAgICB9XG4gICAgZ2V0IG1pc3NpbmdPcGVuaW5nQnJhY2tldElkcygpIHtcbiAgICAgICAgcmV0dXJuIFNtYWxsSW1tdXRhYmxlU2V0LmdldEVtcHR5KCk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGxlbmd0aCwgYnJhY2tldEluZm8sIFxuICAgIC8qKlxuICAgICAqIEluIGNhc2Ugb2YgYSBvcGVuaW5nIGJyYWNrZXQsIHRoaXMgaXMgdGhlIGlkIG9mIHRoZSBvcGVuaW5nIGJyYWNrZXQuXG4gICAgICogSW4gY2FzZSBvZiBhIGNsb3NpbmcgYnJhY2tldCwgdGhpcyBjb250YWlucyB0aGUgaWRzIG9mIGFsbCBvcGVuaW5nIGJyYWNrZXRzIGl0IGNhbiBjbG9zZS5cbiAgICAqL1xuICAgIGJyYWNrZXRJZHMpIHtcbiAgICAgICAgc3VwZXIobGVuZ3RoKTtcbiAgICAgICAgdGhpcy5icmFja2V0SW5mbyA9IGJyYWNrZXRJbmZvO1xuICAgICAgICB0aGlzLmJyYWNrZXRJZHMgPSBicmFja2V0SWRzO1xuICAgIH1cbiAgICBnZXQgdGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnJhY2tldEluZm8uYnJhY2tldFRleHQ7XG4gICAgfVxuICAgIGdldCBsYW5ndWFnZUlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5icmFja2V0SW5mby5sYW5ndWFnZUlkO1xuICAgIH1cbiAgICBjYW5CZVJldXNlZChfb3BlbmVkQnJhY2tldElkcykge1xuICAgICAgICAvLyBUaGVzZSBub2RlcyBjb3VsZCBiZSByZXVzZWQsXG4gICAgICAgIC8vIGJ1dCBub3QgaW4gYSBnZW5lcmFsIHdheS5cbiAgICAgICAgLy8gVGhlaXIgcGFyZW50IG1heSBiZSByZXVzZWQuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29tcHV0ZU1pbkluZGVudGF0aW9uKG9mZnNldCwgdGV4dE1vZGVsKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZEJyYWNrZXRBc3ROb2RlIGV4dGVuZHMgSW1tdXRhYmxlTGVhZkFzdE5vZGUge1xuICAgIGdldCBraW5kKCkge1xuICAgICAgICByZXR1cm4gMyAvKiBBc3ROb2RlS2luZC5VbmV4cGVjdGVkQ2xvc2luZ0JyYWNrZXQgKi87XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGNsb3NpbmdCcmFja2V0cywgbGVuZ3RoKSB7XG4gICAgICAgIHN1cGVyKGxlbmd0aCk7XG4gICAgICAgIHRoaXMubWlzc2luZ09wZW5pbmdCcmFja2V0SWRzID0gY2xvc2luZ0JyYWNrZXRzO1xuICAgIH1cbiAgICBjYW5CZVJldXNlZChvcGVuZWRCcmFja2V0SWRzKSB7XG4gICAgICAgIHJldHVybiAhb3BlbmVkQnJhY2tldElkcy5pbnRlcnNlY3RzKHRoaXMubWlzc2luZ09wZW5pbmdCcmFja2V0SWRzKTtcbiAgICB9XG4gICAgY29tcHV0ZU1pbkluZGVudGF0aW9uKG9mZnNldCwgdGV4dE1vZGVsKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IFJhbmdlIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9yYW5nZS5qcyc7XG5pbXBvcnQgeyBsZW5ndGhBZGQsIGxlbmd0aERpZmZOb25OZWdhdGl2ZSwgbGVuZ3RoTGVzc1RoYW5FcXVhbCwgbGVuZ3RoT2ZTdHJpbmcsIGxlbmd0aFRvT2JqLCBwb3NpdGlvblRvTGVuZ3RoLCB0b0xlbmd0aCB9IGZyb20gJy4vbGVuZ3RoLmpzJztcbmV4cG9ydCBjbGFzcyBUZXh0RWRpdEluZm8ge1xuICAgIHN0YXRpYyBmcm9tTW9kZWxDb250ZW50Q2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgICAgIC8vIE11c3QgYmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlclxuICAgICAgICBjb25zdCBlZGl0cyA9IGNoYW5nZXMubWFwKGMgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBSYW5nZS5saWZ0KGMucmFuZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXh0RWRpdEluZm8ocG9zaXRpb25Ub0xlbmd0aChyYW5nZS5nZXRTdGFydFBvc2l0aW9uKCkpLCBwb3NpdGlvblRvTGVuZ3RoKHJhbmdlLmdldEVuZFBvc2l0aW9uKCkpLCBsZW5ndGhPZlN0cmluZyhjLnRleHQpKTtcbiAgICAgICAgfSkucmV2ZXJzZSgpO1xuICAgICAgICByZXR1cm4gZWRpdHM7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQsIG5ld0xlbmd0aCkge1xuICAgICAgICB0aGlzLnN0YXJ0T2Zmc2V0ID0gc3RhcnRPZmZzZXQ7XG4gICAgICAgIHRoaXMuZW5kT2Zmc2V0ID0gZW5kT2Zmc2V0O1xuICAgICAgICB0aGlzLm5ld0xlbmd0aCA9IG5ld0xlbmd0aDtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgWyR7bGVuZ3RoVG9PYmoodGhpcy5zdGFydE9mZnNldCl9Li4uJHtsZW5ndGhUb09iaih0aGlzLmVuZE9mZnNldCl9KSAtPiAke2xlbmd0aFRvT2JqKHRoaXMubmV3TGVuZ3RoKX1gO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCZWZvcmVFZGl0UG9zaXRpb25NYXBwZXIge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBlZGl0cyBNdXN0IGJlIHNvcnRlZCBieSBvZmZzZXQgaW4gYXNjZW5kaW5nIG9yZGVyLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoZWRpdHMpIHtcbiAgICAgICAgdGhpcy5uZXh0RWRpdElkeCA9IDA7XG4gICAgICAgIHRoaXMuZGVsdGFPbGRUb05ld0xpbmVDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuZGVsdGFPbGRUb05ld0NvbHVtbkNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5kZWx0YUxpbmVJZHhJbk9sZCA9IC0xO1xuICAgICAgICB0aGlzLmVkaXRzID0gZWRpdHMubWFwKGVkaXQgPT4gVGV4dEVkaXRJbmZvQ2FjaGUuZnJvbShlZGl0KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBvZmZzZXQgTXVzdCBiZSBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gdGhlIGxhc3Qgb2Zmc2V0IHRoaXMgbWV0aG9kIGhhcyBiZWVuIGNhbGxlZCB3aXRoLlxuICAgICovXG4gICAgZ2V0T2Zmc2V0QmVmb3JlQ2hhbmdlKG9mZnNldCkge1xuICAgICAgICB0aGlzLmFkanVzdE5leHRFZGl0KG9mZnNldCk7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0ZUN1clRvT2xkKG9mZnNldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBvZmZzZXQgTXVzdCBiZSBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gdGhlIGxhc3Qgb2Zmc2V0IHRoaXMgbWV0aG9kIGhhcyBiZWVuIGNhbGxlZCB3aXRoLlxuICAgICAqIFJldHVybnMgbnVsbCBpZiB0aGVyZSBpcyBubyBlZGl0IGFueW1vcmUuXG4gICAgKi9cbiAgICBnZXREaXN0YW5jZVRvTmV4dENoYW5nZShvZmZzZXQpIHtcbiAgICAgICAgdGhpcy5hZGp1c3ROZXh0RWRpdChvZmZzZXQpO1xuICAgICAgICBjb25zdCBuZXh0RWRpdCA9IHRoaXMuZWRpdHNbdGhpcy5uZXh0RWRpdElkeF07XG4gICAgICAgIGNvbnN0IG5leHRDaGFuZ2VPZmZzZXQgPSBuZXh0RWRpdCA/IHRoaXMudHJhbnNsYXRlT2xkVG9DdXIobmV4dEVkaXQub2Zmc2V0T2JqKSA6IG51bGw7XG4gICAgICAgIGlmIChuZXh0Q2hhbmdlT2Zmc2V0ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGVuZ3RoRGlmZk5vbk5lZ2F0aXZlKG9mZnNldCwgbmV4dENoYW5nZU9mZnNldCk7XG4gICAgfVxuICAgIHRyYW5zbGF0ZU9sZFRvQ3VyKG9sZE9mZnNldE9iaikge1xuICAgICAgICBpZiAob2xkT2Zmc2V0T2JqLmxpbmVDb3VudCA9PT0gdGhpcy5kZWx0YUxpbmVJZHhJbk9sZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRvTGVuZ3RoKG9sZE9mZnNldE9iai5saW5lQ291bnQgKyB0aGlzLmRlbHRhT2xkVG9OZXdMaW5lQ291bnQsIG9sZE9mZnNldE9iai5jb2x1bW5Db3VudCArIHRoaXMuZGVsdGFPbGRUb05ld0NvbHVtbkNvdW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0b0xlbmd0aChvbGRPZmZzZXRPYmoubGluZUNvdW50ICsgdGhpcy5kZWx0YU9sZFRvTmV3TGluZUNvdW50LCBvbGRPZmZzZXRPYmouY29sdW1uQ291bnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRyYW5zbGF0ZUN1clRvT2xkKG5ld09mZnNldCkge1xuICAgICAgICBjb25zdCBvZmZzZXRPYmogPSBsZW5ndGhUb09iaihuZXdPZmZzZXQpO1xuICAgICAgICBpZiAob2Zmc2V0T2JqLmxpbmVDb3VudCAtIHRoaXMuZGVsdGFPbGRUb05ld0xpbmVDb3VudCA9PT0gdGhpcy5kZWx0YUxpbmVJZHhJbk9sZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRvTGVuZ3RoKG9mZnNldE9iai5saW5lQ291bnQgLSB0aGlzLmRlbHRhT2xkVG9OZXdMaW5lQ291bnQsIG9mZnNldE9iai5jb2x1bW5Db3VudCAtIHRoaXMuZGVsdGFPbGRUb05ld0NvbHVtbkNvdW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0b0xlbmd0aChvZmZzZXRPYmoubGluZUNvdW50IC0gdGhpcy5kZWx0YU9sZFRvTmV3TGluZUNvdW50LCBvZmZzZXRPYmouY29sdW1uQ291bnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkanVzdE5leHRFZGl0KG9mZnNldCkge1xuICAgICAgICB3aGlsZSAodGhpcy5uZXh0RWRpdElkeCA8IHRoaXMuZWRpdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0RWRpdCA9IHRoaXMuZWRpdHNbdGhpcy5uZXh0RWRpdElkeF07XG4gICAgICAgICAgICAvLyBBZnRlciBhcHBseWluZyB0aGUgZWRpdCwgd2hhdCBpcyBpdHMgZW5kIG9mZnNldCAoY29uc2lkZXJpbmcgYWxsIHByZXZpb3VzIGVkaXRzKT9cbiAgICAgICAgICAgIGNvbnN0IG5leHRFZGl0RW5kT2Zmc2V0SW5DdXIgPSB0aGlzLnRyYW5zbGF0ZU9sZFRvQ3VyKG5leHRFZGl0LmVuZE9mZnNldEFmdGVyT2JqKTtcbiAgICAgICAgICAgIGlmIChsZW5ndGhMZXNzVGhhbkVxdWFsKG5leHRFZGl0RW5kT2Zmc2V0SW5DdXIsIG9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBhcmUgYWZ0ZXIgdGhlIGVkaXQsIHNraXAgaXRcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRFZGl0SWR4Kys7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dEVkaXRFbmRPZmZzZXRJbkN1ck9iaiA9IGxlbmd0aFRvT2JqKG5leHRFZGl0RW5kT2Zmc2V0SW5DdXIpO1xuICAgICAgICAgICAgICAgIC8vIEJlZm9yZSBhcHBseWluZyB0aGUgZWRpdCwgd2hhdCBpcyBpdHMgZW5kIG9mZnNldCAoY29uc2lkZXJpbmcgYWxsIHByZXZpb3VzIGVkaXRzKT9cbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0RWRpdEVuZE9mZnNldEJlZm9yZUluQ3VyT2JqID0gbGVuZ3RoVG9PYmoodGhpcy50cmFuc2xhdGVPbGRUb0N1cihuZXh0RWRpdC5lbmRPZmZzZXRCZWZvcmVPYmopKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lRGVsdGEgPSBuZXh0RWRpdEVuZE9mZnNldEluQ3VyT2JqLmxpbmVDb3VudCAtIG5leHRFZGl0RW5kT2Zmc2V0QmVmb3JlSW5DdXJPYmoubGluZUNvdW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsdGFPbGRUb05ld0xpbmVDb3VudCArPSBsaW5lRGVsdGE7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNDb2x1bW5EZWx0YSA9IHRoaXMuZGVsdGFMaW5lSWR4SW5PbGQgPT09IG5leHRFZGl0LmVuZE9mZnNldEJlZm9yZU9iai5saW5lQ291bnQgPyB0aGlzLmRlbHRhT2xkVG9OZXdDb2x1bW5Db3VudCA6IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sdW1uRGVsdGEgPSBuZXh0RWRpdEVuZE9mZnNldEluQ3VyT2JqLmNvbHVtbkNvdW50IC0gbmV4dEVkaXRFbmRPZmZzZXRCZWZvcmVJbkN1ck9iai5jb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbHRhT2xkVG9OZXdDb2x1bW5Db3VudCA9IHByZXZpb3VzQ29sdW1uRGVsdGEgKyBjb2x1bW5EZWx0YTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbHRhTGluZUlkeEluT2xkID0gbmV4dEVkaXQuZW5kT2Zmc2V0QmVmb3JlT2JqLmxpbmVDb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBpbiBvciBiZWZvcmUgdGhlIGVkaXQuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBUZXh0RWRpdEluZm9DYWNoZSB7XG4gICAgc3RhdGljIGZyb20oZWRpdCkge1xuICAgICAgICByZXR1cm4gbmV3IFRleHRFZGl0SW5mb0NhY2hlKGVkaXQuc3RhcnRPZmZzZXQsIGVkaXQuZW5kT2Zmc2V0LCBlZGl0Lm5ld0xlbmd0aCk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQsIHRleHRMZW5ndGgpIHtcbiAgICAgICAgdGhpcy5lbmRPZmZzZXRCZWZvcmVPYmogPSBsZW5ndGhUb09iaihlbmRPZmZzZXQpO1xuICAgICAgICB0aGlzLmVuZE9mZnNldEFmdGVyT2JqID0gbGVuZ3RoVG9PYmoobGVuZ3RoQWRkKHN0YXJ0T2Zmc2V0LCB0ZXh0TGVuZ3RoKSk7XG4gICAgICAgIHRoaXMub2Zmc2V0T2JqID0gbGVuZ3RoVG9PYmooc3RhcnRPZmZzZXQpO1xuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgZXNjYXBlUmVnRXhwQ2hhcmFjdGVycyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2Jhc2UvY29tbW9uL3N0cmluZ3MuanMnO1xuaW1wb3J0IHsgQnJhY2tldEFzdE5vZGUgfSBmcm9tICcuL2FzdC5qcyc7XG5pbXBvcnQgeyB0b0xlbmd0aCB9IGZyb20gJy4vbGVuZ3RoLmpzJztcbmltcG9ydCB7IGlkZW50aXR5S2V5UHJvdmlkZXIsIFNtYWxsSW1tdXRhYmxlU2V0IH0gZnJvbSAnLi9zbWFsbEltbXV0YWJsZVNldC5qcyc7XG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gJy4vdG9rZW5pemVyLmpzJztcbmV4cG9ydCBjbGFzcyBCcmFja2V0VG9rZW5zIHtcbiAgICBzdGF0aWMgY3JlYXRlRnJvbUxhbmd1YWdlKGNvbmZpZ3VyYXRpb24sIGRlbnNlS2V5UHJvdmlkZXIpIHtcbiAgICAgICAgZnVuY3Rpb24gZ2V0SWQoYnJhY2tldEluZm8pIHtcbiAgICAgICAgICAgIHJldHVybiBkZW5zZUtleVByb3ZpZGVyLmdldEtleShgJHticmFja2V0SW5mby5sYW5ndWFnZUlkfTo6OiR7YnJhY2tldEluZm8uYnJhY2tldFRleHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWFwID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IG9wZW5pbmdCcmFja2V0IG9mIGNvbmZpZ3VyYXRpb24uYnJhY2tldHNOZXcub3BlbmluZ0JyYWNrZXRzKSB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSB0b0xlbmd0aCgwLCBvcGVuaW5nQnJhY2tldC5icmFja2V0VGV4dC5sZW5ndGgpO1xuICAgICAgICAgICAgY29uc3Qgb3BlbmluZ1RleHRJZCA9IGdldElkKG9wZW5pbmdCcmFja2V0KTtcbiAgICAgICAgICAgIGNvbnN0IGJyYWNrZXRJZHMgPSBTbWFsbEltbXV0YWJsZVNldC5nZXRFbXB0eSgpLmFkZChvcGVuaW5nVGV4dElkLCBpZGVudGl0eUtleVByb3ZpZGVyKTtcbiAgICAgICAgICAgIG1hcC5zZXQob3BlbmluZ0JyYWNrZXQuYnJhY2tldFRleHQsIG5ldyBUb2tlbihsZW5ndGgsIDEgLyogVG9rZW5LaW5kLk9wZW5pbmdCcmFja2V0ICovLCBvcGVuaW5nVGV4dElkLCBicmFja2V0SWRzLCBCcmFja2V0QXN0Tm9kZS5jcmVhdGUobGVuZ3RoLCBvcGVuaW5nQnJhY2tldCwgYnJhY2tldElkcykpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGNsb3NpbmdCcmFja2V0IG9mIGNvbmZpZ3VyYXRpb24uYnJhY2tldHNOZXcuY2xvc2luZ0JyYWNrZXRzKSB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSB0b0xlbmd0aCgwLCBjbG9zaW5nQnJhY2tldC5icmFja2V0VGV4dC5sZW5ndGgpO1xuICAgICAgICAgICAgbGV0IGJyYWNrZXRJZHMgPSBTbWFsbEltbXV0YWJsZVNldC5nZXRFbXB0eSgpO1xuICAgICAgICAgICAgY29uc3QgY2xvc2luZ0JyYWNrZXRzID0gY2xvc2luZ0JyYWNrZXQuZ2V0T3BlbmluZ0JyYWNrZXRzKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGJyYWNrZXQgb2YgY2xvc2luZ0JyYWNrZXRzKSB7XG4gICAgICAgICAgICAgICAgYnJhY2tldElkcyA9IGJyYWNrZXRJZHMuYWRkKGdldElkKGJyYWNrZXQpLCBpZGVudGl0eUtleVByb3ZpZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hcC5zZXQoY2xvc2luZ0JyYWNrZXQuYnJhY2tldFRleHQsIG5ldyBUb2tlbihsZW5ndGgsIDIgLyogVG9rZW5LaW5kLkNsb3NpbmdCcmFja2V0ICovLCBnZXRJZChjbG9zaW5nQnJhY2tldHNbMF0pLCBicmFja2V0SWRzLCBCcmFja2V0QXN0Tm9kZS5jcmVhdGUobGVuZ3RoLCBjbG9zaW5nQnJhY2tldCwgYnJhY2tldElkcykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEJyYWNrZXRUb2tlbnMobWFwKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IobWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmhhc1JlZ0V4cCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZWdFeHBHbG9iYWwgPSBudWxsO1xuICAgIH1cbiAgICBnZXRSZWdFeHBTdHIoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IFsuLi50aGlzLm1hcC5rZXlzKCldO1xuICAgICAgICAgICAga2V5cy5zb3J0KCk7XG4gICAgICAgICAgICBrZXlzLnJldmVyc2UoKTtcbiAgICAgICAgICAgIHJldHVybiBrZXlzLm1hcChrID0+IHByZXBhcmVCcmFja2V0Rm9yUmVnRXhwKGspKS5qb2luKCd8Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBudWxsIGlmIHRoZXJlIGlzIG5vIHN1Y2ggcmVnZXhwIChiZWNhdXNlIHRoZXJlIGFyZSBubyBicmFja2V0cykuXG4gICAgKi9cbiAgICBnZXQgcmVnRXhwR2xvYmFsKCkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzUmVnRXhwKSB7XG4gICAgICAgICAgICBjb25zdCByZWdFeHBTdHIgPSB0aGlzLmdldFJlZ0V4cFN0cigpO1xuICAgICAgICAgICAgdGhpcy5fcmVnRXhwR2xvYmFsID0gcmVnRXhwU3RyID8gbmV3IFJlZ0V4cChyZWdFeHBTdHIsICdnaScpIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaGFzUmVnRXhwID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVnRXhwR2xvYmFsO1xuICAgIH1cbiAgICBnZXRUb2tlbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuZ2V0KHZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cbiAgICBmaW5kQ2xvc2luZ1Rva2VuVGV4dChvcGVuaW5nQnJhY2tldElkcykge1xuICAgICAgICBmb3IgKGNvbnN0IFtjbG9zaW5nVGV4dCwgaW5mb10gb2YgdGhpcy5tYXApIHtcbiAgICAgICAgICAgIGlmIChpbmZvLmtpbmQgPT09IDIgLyogVG9rZW5LaW5kLkNsb3NpbmdCcmFja2V0ICovICYmIGluZm8uYnJhY2tldElkcy5pbnRlcnNlY3RzKG9wZW5pbmdCcmFja2V0SWRzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjbG9zaW5nVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBnZXQgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLnNpemUgPT09IDA7XG4gICAgfVxufVxuZnVuY3Rpb24gcHJlcGFyZUJyYWNrZXRGb3JSZWdFeHAoc3RyKSB7XG4gICAgbGV0IGVzY2FwZWQgPSBlc2NhcGVSZWdFeHBDaGFyYWN0ZXJzKHN0cik7XG4gICAgLy8gVGhlc2UgYnJhY2tldCBwYWlyIGRlbGltaXRlcnMgc3RhcnQgb3IgZW5kIHdpdGggbGV0dGVyc1xuICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L3ZzY29kZS9pc3N1ZXMvMTMyMTYyIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvdnNjb2RlL2lzc3Vlcy8xNTA0NDBcbiAgICBpZiAoL15bXFx3IF0rLy50ZXN0KHN0cikpIHtcbiAgICAgICAgZXNjYXBlZCA9IGBcXFxcYiR7ZXNjYXBlZH1gO1xuICAgIH1cbiAgICBpZiAoL1tcXHcgXSskLy50ZXN0KHN0cikpIHtcbiAgICAgICAgZXNjYXBlZCA9IGAke2VzY2FwZWR9XFxcXGJgO1xuICAgIH1cbiAgICByZXR1cm4gZXNjYXBlZDtcbn1cbmV4cG9ydCBjbGFzcyBMYW5ndWFnZUFnbm9zdGljQnJhY2tldFRva2VucyB7XG4gICAgY29uc3RydWN0b3IoZGVuc2VLZXlQcm92aWRlciwgZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIHRoaXMuZGVuc2VLZXlQcm92aWRlciA9IGRlbnNlS2V5UHJvdmlkZXI7XG4gICAgICAgIHRoaXMuZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uID0gZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uO1xuICAgICAgICB0aGlzLmxhbmd1YWdlSWRUb0JyYWNrZXRUb2tlbnMgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGRpZExhbmd1YWdlQ2hhbmdlKGxhbmd1YWdlSWQpIHtcbiAgICAgICAgLy8gUmVwb3J0IGEgY2hhbmdlIHdoZW5ldmVyIHRoZSBsYW5ndWFnZSBjb25maWd1cmF0aW9uIHVwZGF0ZXMuXG4gICAgICAgIHJldHVybiB0aGlzLmxhbmd1YWdlSWRUb0JyYWNrZXRUb2tlbnMuaGFzKGxhbmd1YWdlSWQpO1xuICAgIH1cbiAgICBnZXRTaW5nbGVMYW5ndWFnZUJyYWNrZXRUb2tlbnMobGFuZ3VhZ2VJZCkge1xuICAgICAgICBsZXQgc2luZ2xlTGFuZ3VhZ2VCcmFja2V0VG9rZW5zID0gdGhpcy5sYW5ndWFnZUlkVG9CcmFja2V0VG9rZW5zLmdldChsYW5ndWFnZUlkKTtcbiAgICAgICAgaWYgKCFzaW5nbGVMYW5ndWFnZUJyYWNrZXRUb2tlbnMpIHtcbiAgICAgICAgICAgIHNpbmdsZUxhbmd1YWdlQnJhY2tldFRva2VucyA9IEJyYWNrZXRUb2tlbnMuY3JlYXRlRnJvbUxhbmd1YWdlKHRoaXMuZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uKGxhbmd1YWdlSWQpLCB0aGlzLmRlbnNlS2V5UHJvdmlkZXIpO1xuICAgICAgICAgICAgdGhpcy5sYW5ndWFnZUlkVG9CcmFja2V0VG9rZW5zLnNldChsYW5ndWFnZUlkLCBzaW5nbGVMYW5ndWFnZUJyYWNrZXRUb2tlbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaW5nbGVMYW5ndWFnZUJyYWNrZXRUb2tlbnM7XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBBcnJheVF1ZXVlIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vYmFzZS9jb21tb24vYXJyYXlzLmpzJztcbmltcG9ydCB7IFRleHRFZGl0SW5mbyB9IGZyb20gJy4vYmVmb3JlRWRpdFBvc2l0aW9uTWFwcGVyLmpzJztcbmltcG9ydCB7IGxlbmd0aEFkZCwgbGVuZ3RoRGlmZk5vbk5lZ2F0aXZlLCBsZW5ndGhFcXVhbHMsIGxlbmd0aElzWmVybywgbGVuZ3RoVG9PYmosIGxlbmd0aFplcm8sIHN1bUxlbmd0aHMgfSBmcm9tICcuL2xlbmd0aC5qcyc7XG5leHBvcnQgZnVuY3Rpb24gY29tYmluZVRleHRFZGl0SW5mb3ModGV4dEVkaXRJbmZvRmlyc3QsIHRleHRFZGl0SW5mb1NlY29uZCkge1xuICAgIGlmICh0ZXh0RWRpdEluZm9GaXJzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRleHRFZGl0SW5mb1NlY29uZDtcbiAgICB9XG4gICAgaWYgKHRleHRFZGl0SW5mb1NlY29uZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRleHRFZGl0SW5mb0ZpcnN0O1xuICAgIH1cbiAgICAvLyBzMDogU3RhdGUgYmVmb3JlIGFueSBlZGl0c1xuICAgIGNvbnN0IHMwVG9TMU1hcCA9IG5ldyBBcnJheVF1ZXVlKHRvTGVuZ3RoTWFwcGluZyh0ZXh0RWRpdEluZm9GaXJzdCkpO1xuICAgIC8vIHMxOiBTdGF0ZSBhZnRlciBmaXJzdCBlZGl0LCBidXQgYmVmb3JlIHNlY29uZCBlZGl0XG4gICAgY29uc3QgczFUb1MyTWFwID0gdG9MZW5ndGhNYXBwaW5nKHRleHRFZGl0SW5mb1NlY29uZCk7XG4gICAgczFUb1MyTWFwLnB1c2goeyBtb2RpZmllZDogZmFsc2UsIGxlbmd0aEJlZm9yZTogdW5kZWZpbmVkLCBsZW5ndGhBZnRlcjogdW5kZWZpbmVkIH0pOyAvLyBDb3B5IGV2ZXJ5dGhpbmcgZnJvbSBvbGQgdG8gbmV3XG4gICAgLy8gczI6IFN0YXRlIGFmdGVyIGJvdGggZWRpdHNcbiAgICBsZXQgY3VySXRlbSA9IHMwVG9TMU1hcC5kZXF1ZXVlKCk7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHMxTGVuZ3RoIFVzZSB1bmRlZmluZWQgZm9yIGxlbmd0aCBcImluZmluaXR5XCJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuZXh0UzBUb1MxTWFwV2l0aFMxTGVuZ3RoT2YoczFMZW5ndGgpIHtcbiAgICAgICAgaWYgKHMxTGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGFyciA9IHMwVG9TMU1hcC50YWtlV2hpbGUodiA9PiB0cnVlKSB8fCBbXTtcbiAgICAgICAgICAgIGlmIChjdXJJdGVtKSB7XG4gICAgICAgICAgICAgICAgYXJyLnVuc2hpZnQoY3VySXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICB3aGlsZSAoY3VySXRlbSAmJiAhbGVuZ3RoSXNaZXJvKHMxTGVuZ3RoKSkge1xuICAgICAgICAgICAgY29uc3QgW2l0ZW0sIHJlbWFpbmluZ0l0ZW1dID0gY3VySXRlbS5zcGxpdEF0KHMxTGVuZ3RoKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgczFMZW5ndGggPSBsZW5ndGhEaWZmTm9uTmVnYXRpdmUoaXRlbS5sZW5ndGhBZnRlciwgczFMZW5ndGgpO1xuICAgICAgICAgICAgY3VySXRlbSA9IHJlbWFpbmluZ0l0ZW0gPz8gczBUb1MxTWFwLmRlcXVldWUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWxlbmd0aElzWmVybyhzMUxlbmd0aCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMZW5ndGhNYXBwaW5nKGZhbHNlLCBzMUxlbmd0aCwgczFMZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBmdW5jdGlvbiBwdXNoRWRpdChzdGFydE9mZnNldCwgZW5kT2Zmc2V0LCBuZXdMZW5ndGgpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwICYmIGxlbmd0aEVxdWFscyhyZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLmVuZE9mZnNldCwgc3RhcnRPZmZzZXQpKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0UmVzdWx0ID0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gPSBuZXcgVGV4dEVkaXRJbmZvKGxhc3RSZXN1bHQuc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgbGVuZ3RoQWRkKGxhc3RSZXN1bHQubmV3TGVuZ3RoLCBuZXdMZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgbmV3TGVuZ3RoIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBzMG9mZnNldCA9IGxlbmd0aFplcm87XG4gICAgZm9yIChjb25zdCBzMVRvUzIgb2YgczFUb1MyTWFwKSB7XG4gICAgICAgIGNvbnN0IHMwVG9TMU1hcCA9IG5leHRTMFRvUzFNYXBXaXRoUzFMZW5ndGhPZihzMVRvUzIubGVuZ3RoQmVmb3JlKTtcbiAgICAgICAgaWYgKHMxVG9TMi5tb2RpZmllZCkge1xuICAgICAgICAgICAgY29uc3QgczBMZW5ndGggPSBzdW1MZW5ndGhzKHMwVG9TMU1hcCwgcyA9PiBzLmxlbmd0aEJlZm9yZSk7XG4gICAgICAgICAgICBjb25zdCBzMEVuZE9mZnNldCA9IGxlbmd0aEFkZChzMG9mZnNldCwgczBMZW5ndGgpO1xuICAgICAgICAgICAgcHVzaEVkaXQoczBvZmZzZXQsIHMwRW5kT2Zmc2V0LCBzMVRvUzIubGVuZ3RoQWZ0ZXIpO1xuICAgICAgICAgICAgczBvZmZzZXQgPSBzMEVuZE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgczEgb2YgczBUb1MxTWFwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgczBzdGFydE9mZnNldCA9IHMwb2Zmc2V0O1xuICAgICAgICAgICAgICAgIHMwb2Zmc2V0ID0gbGVuZ3RoQWRkKHMwb2Zmc2V0LCBzMS5sZW5ndGhCZWZvcmUpO1xuICAgICAgICAgICAgICAgIGlmIChzMS5tb2RpZmllZCkge1xuICAgICAgICAgICAgICAgICAgICBwdXNoRWRpdChzMHN0YXJ0T2Zmc2V0LCBzMG9mZnNldCwgczEubGVuZ3RoQWZ0ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY2xhc3MgTGVuZ3RoTWFwcGluZyB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogSWYgZmFsc2UsIGxlbmd0aCBiZWZvcmUgYW5kIGxlbmd0aCBhZnRlciBlcXVhbC5cbiAgICAgKi9cbiAgICBtb2RpZmllZCwgbGVuZ3RoQmVmb3JlLCBsZW5ndGhBZnRlcikge1xuICAgICAgICB0aGlzLm1vZGlmaWVkID0gbW9kaWZpZWQ7XG4gICAgICAgIHRoaXMubGVuZ3RoQmVmb3JlID0gbGVuZ3RoQmVmb3JlO1xuICAgICAgICB0aGlzLmxlbmd0aEFmdGVyID0gbGVuZ3RoQWZ0ZXI7XG4gICAgfVxuICAgIHNwbGl0QXQobGVuZ3RoQWZ0ZXIpIHtcbiAgICAgICAgY29uc3QgcmVtYWluaW5nTGVuZ3RoQWZ0ZXIgPSBsZW5ndGhEaWZmTm9uTmVnYXRpdmUobGVuZ3RoQWZ0ZXIsIHRoaXMubGVuZ3RoQWZ0ZXIpO1xuICAgICAgICBpZiAobGVuZ3RoRXF1YWxzKHJlbWFpbmluZ0xlbmd0aEFmdGVyLCBsZW5ndGhaZXJvKSkge1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLCB1bmRlZmluZWRdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubW9kaWZpZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgbmV3IExlbmd0aE1hcHBpbmcodGhpcy5tb2RpZmllZCwgdGhpcy5sZW5ndGhCZWZvcmUsIGxlbmd0aEFmdGVyKSxcbiAgICAgICAgICAgICAgICBuZXcgTGVuZ3RoTWFwcGluZyh0aGlzLm1vZGlmaWVkLCBsZW5ndGhaZXJvLCByZW1haW5pbmdMZW5ndGhBZnRlcilcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIG5ldyBMZW5ndGhNYXBwaW5nKHRoaXMubW9kaWZpZWQsIGxlbmd0aEFmdGVyLCBsZW5ndGhBZnRlciksXG4gICAgICAgICAgICAgICAgbmV3IExlbmd0aE1hcHBpbmcodGhpcy5tb2RpZmllZCwgcmVtYWluaW5nTGVuZ3RoQWZ0ZXIsIHJlbWFpbmluZ0xlbmd0aEFmdGVyKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMubW9kaWZpZWQgPyAnTScgOiAnVSd9OiR7bGVuZ3RoVG9PYmoodGhpcy5sZW5ndGhCZWZvcmUpfSAtPiAke2xlbmd0aFRvT2JqKHRoaXMubGVuZ3RoQWZ0ZXIpfWA7XG4gICAgfVxufVxuZnVuY3Rpb24gdG9MZW5ndGhNYXBwaW5nKHRleHRFZGl0SW5mb3MpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBsZXQgbGFzdE9mZnNldCA9IGxlbmd0aFplcm87XG4gICAgZm9yIChjb25zdCB0ZXh0RWRpdEluZm8gb2YgdGV4dEVkaXRJbmZvcykge1xuICAgICAgICBjb25zdCBzcGFjZUxlbmd0aCA9IGxlbmd0aERpZmZOb25OZWdhdGl2ZShsYXN0T2Zmc2V0LCB0ZXh0RWRpdEluZm8uc3RhcnRPZmZzZXQpO1xuICAgICAgICBpZiAoIWxlbmd0aElzWmVybyhzcGFjZUxlbmd0aCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMZW5ndGhNYXBwaW5nKGZhbHNlLCBzcGFjZUxlbmd0aCwgc3BhY2VMZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZW5ndGhCZWZvcmUgPSBsZW5ndGhEaWZmTm9uTmVnYXRpdmUodGV4dEVkaXRJbmZvLnN0YXJ0T2Zmc2V0LCB0ZXh0RWRpdEluZm8uZW5kT2Zmc2V0KTtcbiAgICAgICAgcmVzdWx0LnB1c2gobmV3IExlbmd0aE1hcHBpbmcodHJ1ZSwgbGVuZ3RoQmVmb3JlLCB0ZXh0RWRpdEluZm8ubmV3TGVuZ3RoKSk7XG4gICAgICAgIGxhc3RPZmZzZXQgPSB0ZXh0RWRpdEluZm8uZW5kT2Zmc2V0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBzcGxpdExpbmVzIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vYmFzZS9jb21tb24vc3RyaW5ncy5qcyc7XG5pbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4uLy4uLy4uL2NvcmUvcmFuZ2UuanMnO1xuaW1wb3J0IHsgVGV4dExlbmd0aCB9IGZyb20gJy4uLy4uLy4uL2NvcmUvdGV4dExlbmd0aC5qcyc7XG4vKipcbiAqIFRoZSBlbmQgbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHN0YXJ0LlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGhEaWZmKHN0YXJ0TGluZUNvdW50LCBzdGFydENvbHVtbkNvdW50LCBlbmRMaW5lQ291bnQsIGVuZENvbHVtbkNvdW50KSB7XG4gICAgcmV0dXJuIChzdGFydExpbmVDb3VudCAhPT0gZW5kTGluZUNvdW50KVxuICAgICAgICA/IHRvTGVuZ3RoKGVuZExpbmVDb3VudCAtIHN0YXJ0TGluZUNvdW50LCBlbmRDb2x1bW5Db3VudClcbiAgICAgICAgOiB0b0xlbmd0aCgwLCBlbmRDb2x1bW5Db3VudCAtIHN0YXJ0Q29sdW1uQ291bnQpO1xufVxuZXhwb3J0IGNvbnN0IGxlbmd0aFplcm8gPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aElzWmVybyhsZW5ndGgpIHtcbiAgICByZXR1cm4gbGVuZ3RoID09PSAwO1xufVxuLypcbiAqIFdlIGhhdmUgNTIgYml0cyBhdmFpbGFibGUgaW4gYSBKUyBudW1iZXIuXG4gKiBXZSB1c2UgdGhlIHVwcGVyIDI2IGJpdHMgdG8gc3RvcmUgdGhlIGxpbmUgYW5kIHRoZSBsb3dlciAyNiBiaXRzIHRvIHN0b3JlIHRoZSBjb2x1bW4uXG4gKi9cbi8vLypcbmNvbnN0IGZhY3RvciA9IDIgKiogMjY7XG4vKi9cbmNvbnN0IGZhY3RvciA9IDEwMDAwMDA7XG4vLyAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvTGVuZ3RoKGxpbmVDb3VudCwgY29sdW1uQ291bnQpIHtcbiAgICAvLyBsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGNjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjICg1MiBiaXRzKVxuICAgIC8vICAgICAgIGxpbmUgY291bnQgKDI2IGJpdHMpICAgIGNvbHVtbiBjb3VudCAoMjYgYml0cylcbiAgICAvLyBJZiB0aGVyZSBpcyBubyBvdmVyZmxvdyAoYWxsIHZhbHVlcy9zdW1zIGJlbG93IDJeMjYgPSA2NzEwODg2NCksXG4gICAgLy8gd2UgaGF2ZSBgdG9MZW5ndGgobG5zMSwgY29sczEpICsgdG9MZW5ndGgobG5zMiwgY29sczIpID0gdG9MZW5ndGgobG5zMSArIGxuczIsIGNvbHMxICsgY29sczIpYC5cbiAgICByZXR1cm4gKGxpbmVDb3VudCAqIGZhY3RvciArIGNvbHVtbkNvdW50KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGhUb09iaihsZW5ndGgpIHtcbiAgICBjb25zdCBsID0gbGVuZ3RoO1xuICAgIGNvbnN0IGxpbmVDb3VudCA9IE1hdGguZmxvb3IobCAvIGZhY3Rvcik7XG4gICAgY29uc3QgY29sdW1uQ291bnQgPSBsIC0gbGluZUNvdW50ICogZmFjdG9yO1xuICAgIHJldHVybiBuZXcgVGV4dExlbmd0aChsaW5lQ291bnQsIGNvbHVtbkNvdW50KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGhHZXRMaW5lQ291bnQobGVuZ3RoKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IobGVuZ3RoIC8gZmFjdG9yKTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgYW1vdW50IG9mIGNvbHVtbnMgb2YgdGhlIGdpdmVuIGxlbmd0aCwgYXNzdW1pbmcgdGhhdCBpdCBkb2VzIG5vdCBzcGFuIGFueSBsaW5lLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGhHZXRDb2x1bW5Db3VudElmWmVyb0xpbmVDb3VudChsZW5ndGgpIHtcbiAgICByZXR1cm4gbGVuZ3RoO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aEFkZChsMSwgbDIpIHtcbiAgICBsZXQgciA9IGwxICsgbDI7XG4gICAgaWYgKGwyID49IGZhY3Rvcikge1xuICAgICAgICByID0gciAtIChsMSAlIGZhY3Rvcik7XG4gICAgfVxuICAgIHJldHVybiByO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN1bUxlbmd0aHMoaXRlbXMsIGxlbmd0aEZuKSB7XG4gICAgcmV0dXJuIGl0ZW1zLnJlZHVjZSgoYSwgYikgPT4gbGVuZ3RoQWRkKGEsIGxlbmd0aEZuKGIpKSwgbGVuZ3RoWmVybyk7XG59XG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoRXF1YWxzKGxlbmd0aDEsIGxlbmd0aDIpIHtcbiAgICByZXR1cm4gbGVuZ3RoMSA9PT0gbGVuZ3RoMjtcbn1cbi8qKlxuICogUmV0dXJucyBhIG5vbiBuZWdhdGl2ZSBsZW5ndGggYHJlc3VsdGAgc3VjaCB0aGF0IGBsZW5ndGhBZGQobGVuZ3RoMSwgcmVzdWx0KSA9IGxlbmd0aDJgLCBvciB6ZXJvIGlmIHN1Y2ggbGVuZ3RoIGRvZXMgbm90IGV4aXN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoRGlmZk5vbk5lZ2F0aXZlKGxlbmd0aDEsIGxlbmd0aDIpIHtcbiAgICBjb25zdCBsMSA9IGxlbmd0aDE7XG4gICAgY29uc3QgbDIgPSBsZW5ndGgyO1xuICAgIGNvbnN0IGRpZmYgPSBsMiAtIGwxO1xuICAgIGlmIChkaWZmIDw9IDApIHtcbiAgICAgICAgLy8gbGluZS1jb3VudCBvZiBsZW5ndGgxIGlzIGhpZ2hlciB0aGFuIGxpbmUtY291bnQgb2YgbGVuZ3RoMlxuICAgICAgICAvLyBvciB0aGV5IGFyZSBlcXVhbCBhbmQgY29sdW1uLWNvdW50IG9mIGxlbmd0aDEgaXMgaGlnaGVyIHRoYW4gY29sdW1uLWNvdW50IG9mIGxlbmd0aDJcbiAgICAgICAgcmV0dXJuIGxlbmd0aFplcm87XG4gICAgfVxuICAgIGNvbnN0IGxpbmVDb3VudDEgPSBNYXRoLmZsb29yKGwxIC8gZmFjdG9yKTtcbiAgICBjb25zdCBsaW5lQ291bnQyID0gTWF0aC5mbG9vcihsMiAvIGZhY3Rvcik7XG4gICAgY29uc3QgY29sQ291bnQyID0gbDIgLSBsaW5lQ291bnQyICogZmFjdG9yO1xuICAgIGlmIChsaW5lQ291bnQxID09PSBsaW5lQ291bnQyKSB7XG4gICAgICAgIGNvbnN0IGNvbENvdW50MSA9IGwxIC0gbGluZUNvdW50MSAqIGZhY3RvcjtcbiAgICAgICAgcmV0dXJuIHRvTGVuZ3RoKDAsIGNvbENvdW50MiAtIGNvbENvdW50MSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdG9MZW5ndGgobGluZUNvdW50MiAtIGxpbmVDb3VudDEsIGNvbENvdW50Mik7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aExlc3NUaGFuKGxlbmd0aDEsIGxlbmd0aDIpIHtcbiAgICAvLyBGaXJzdCwgY29tcGFyZSBsaW5lIGNvdW50cywgdGhlbiBjb2x1bW4gY291bnRzLlxuICAgIHJldHVybiBsZW5ndGgxIDwgbGVuZ3RoMjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGhMZXNzVGhhbkVxdWFsKGxlbmd0aDEsIGxlbmd0aDIpIHtcbiAgICByZXR1cm4gbGVuZ3RoMSA8PSBsZW5ndGgyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aEdyZWF0ZXJUaGFuRXF1YWwobGVuZ3RoMSwgbGVuZ3RoMikge1xuICAgIHJldHVybiBsZW5ndGgxID49IGxlbmd0aDI7XG59XG5leHBvcnQgZnVuY3Rpb24gcG9zaXRpb25Ub0xlbmd0aChwb3NpdGlvbikge1xuICAgIHJldHVybiB0b0xlbmd0aChwb3NpdGlvbi5saW5lTnVtYmVyIC0gMSwgcG9zaXRpb24uY29sdW1uIC0gMSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbGVuZ3Roc1RvUmFuZ2UobGVuZ3RoU3RhcnQsIGxlbmd0aEVuZCkge1xuICAgIGNvbnN0IGwgPSBsZW5ndGhTdGFydDtcbiAgICBjb25zdCBsaW5lQ291bnQgPSBNYXRoLmZsb29yKGwgLyBmYWN0b3IpO1xuICAgIGNvbnN0IGNvbENvdW50ID0gbCAtIGxpbmVDb3VudCAqIGZhY3RvcjtcbiAgICBjb25zdCBsMiA9IGxlbmd0aEVuZDtcbiAgICBjb25zdCBsaW5lQ291bnQyID0gTWF0aC5mbG9vcihsMiAvIGZhY3Rvcik7XG4gICAgY29uc3QgY29sQ291bnQyID0gbDIgLSBsaW5lQ291bnQyICogZmFjdG9yO1xuICAgIHJldHVybiBuZXcgUmFuZ2UobGluZUNvdW50ICsgMSwgY29sQ291bnQgKyAxLCBsaW5lQ291bnQyICsgMSwgY29sQ291bnQyICsgMSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoT2ZTdHJpbmcoc3RyKSB7XG4gICAgY29uc3QgbGluZXMgPSBzcGxpdExpbmVzKHN0cik7XG4gICAgcmV0dXJuIHRvTGVuZ3RoKGxpbmVzLmxlbmd0aCAtIDEsIGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aCk7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IExpc3RBc3ROb2RlIH0gZnJvbSAnLi9hc3QuanMnO1xuLyoqXG4gKiBDb25jYXRlbmF0ZXMgYSBsaXN0IG9mICgyLDMpIEFzdE5vZGUncyBpbnRvIGEgc2luZ2xlICgyLDMpIEFzdE5vZGUuXG4gKiBUaGlzIG11dGF0ZXMgdGhlIGl0ZW1zIG9mIHRoZSBpbnB1dCBhcnJheSFcbiAqIElmIGFsbCBpdGVtcyBoYXZlIHRoZSBzYW1lIGhlaWdodCwgdGhpcyBtZXRob2QgaGFzIHJ1bnRpbWUgTyhpdGVtcy5sZW5ndGgpLlxuICogT3RoZXJ3aXNlLCBpdCBoYXMgcnVudGltZSBPKGl0ZW1zLmxlbmd0aCAqIG1heChsb2coaXRlbXMubGVuZ3RoKSwgaXRlbXMubWF4KGkgPT4gaS5oZWlnaHQpKSkuXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdDIzVHJlZXMoaXRlbXMpIHtcbiAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBpdGVtc1swXTtcbiAgICB9XG4gICAgbGV0IGkgPSAwO1xuICAgIC8qKlxuICAgICAqIFJlYWRzIG5vZGVzIG9mIHNhbWUgaGVpZ2h0IGFuZCBjb25jYXRlbmF0ZXMgdGhlbSB0byBhIHNpbmdsZSBub2RlLlxuICAgICovXG4gICAgZnVuY3Rpb24gcmVhZE5vZGUoKSB7XG4gICAgICAgIGlmIChpID49IGl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhcnQgPSBpO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBpdGVtc1tzdGFydF0ubGlzdEhlaWdodDtcbiAgICAgICAgaSsrO1xuICAgICAgICB3aGlsZSAoaSA8IGl0ZW1zLmxlbmd0aCAmJiBpdGVtc1tpXS5saXN0SGVpZ2h0ID09PSBoZWlnaHQpIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSAtIHN0YXJ0ID49IDIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25jYXQyM1RyZWVzT2ZTYW1lSGVpZ2h0KHN0YXJ0ID09PSAwICYmIGkgPT09IGl0ZW1zLmxlbmd0aCA/IGl0ZW1zIDogaXRlbXMuc2xpY2Uoc3RhcnQsIGkpLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbXNbc3RhcnRdO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRoZSBpdGVtcyBtaWdodCBub3QgaGF2ZSB0aGUgc2FtZSBoZWlnaHQuXG4gICAgLy8gV2UgbWVyZ2UgYWxsIGl0ZW1zIGJ5IHVzaW5nIGEgYmluYXJ5IGNvbmNhdCBvcGVyYXRvci5cbiAgICBsZXQgZmlyc3QgPSByZWFkTm9kZSgpOyAvLyBUaGVyZSBtdXN0IGJlIGEgZmlyc3QgaXRlbVxuICAgIGxldCBzZWNvbmQgPSByZWFkTm9kZSgpO1xuICAgIGlmICghc2Vjb25kKSB7XG4gICAgICAgIHJldHVybiBmaXJzdDtcbiAgICB9XG4gICAgZm9yIChsZXQgaXRlbSA9IHJlYWROb2RlKCk7IGl0ZW07IGl0ZW0gPSByZWFkTm9kZSgpKSB7XG4gICAgICAgIC8vIFByZWZlciBjb25jYXRlbmF0aW5nIHNtYWxsZXIgdHJlZXMsIGFzIHRoZSBydW50aW1lIG9mIGNvbmNhdCBkZXBlbmRzIG9uIHRoZSB0cmVlIGhlaWdodC5cbiAgICAgICAgaWYgKGhlaWdodERpZmYoZmlyc3QsIHNlY29uZCkgPD0gaGVpZ2h0RGlmZihzZWNvbmQsIGl0ZW0pKSB7XG4gICAgICAgICAgICBmaXJzdCA9IGNvbmNhdChmaXJzdCwgc2Vjb25kKTtcbiAgICAgICAgICAgIHNlY29uZCA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZWNvbmQgPSBjb25jYXQoc2Vjb25kLCBpdGVtKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBjb25jYXQoZmlyc3QsIHNlY29uZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb25jYXQyM1RyZWVzT2ZTYW1lSGVpZ2h0KGl0ZW1zLCBjcmVhdGVJbW11dGFibGVMaXN0cyA9IGZhbHNlKSB7XG4gICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gaXRlbXNbMF07XG4gICAgfVxuICAgIGxldCBsZW5ndGggPSBpdGVtcy5sZW5ndGg7XG4gICAgLy8gQWxsIHRyZWVzIGhhdmUgc2FtZSBoZWlnaHQsIGp1c3QgY3JlYXRlIHBhcmVudCBub2Rlcy5cbiAgICB3aGlsZSAobGVuZ3RoID4gMykge1xuICAgICAgICBjb25zdCBuZXdMZW5ndGggPSBsZW5ndGggPj4gMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaiA9IGkgPDwgMTtcbiAgICAgICAgICAgIGl0ZW1zW2ldID0gTGlzdEFzdE5vZGUuY3JlYXRlMjMoaXRlbXNbal0sIGl0ZW1zW2ogKyAxXSwgaiArIDMgPT09IGxlbmd0aCA/IGl0ZW1zW2ogKyAyXSA6IG51bGwsIGNyZWF0ZUltbXV0YWJsZUxpc3RzKTtcbiAgICAgICAgfVxuICAgICAgICBsZW5ndGggPSBuZXdMZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiBMaXN0QXN0Tm9kZS5jcmVhdGUyMyhpdGVtc1swXSwgaXRlbXNbMV0sIGxlbmd0aCA+PSAzID8gaXRlbXNbMl0gOiBudWxsLCBjcmVhdGVJbW11dGFibGVMaXN0cyk7XG59XG5mdW5jdGlvbiBoZWlnaHREaWZmKG5vZGUxLCBub2RlMikge1xuICAgIHJldHVybiBNYXRoLmFicyhub2RlMS5saXN0SGVpZ2h0IC0gbm9kZTIubGlzdEhlaWdodCk7XG59XG5mdW5jdGlvbiBjb25jYXQobm9kZTEsIG5vZGUyKSB7XG4gICAgaWYgKG5vZGUxLmxpc3RIZWlnaHQgPT09IG5vZGUyLmxpc3RIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIExpc3RBc3ROb2RlLmNyZWF0ZTIzKG5vZGUxLCBub2RlMiwgbnVsbCwgZmFsc2UpO1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlMS5saXN0SGVpZ2h0ID4gbm9kZTIubGlzdEhlaWdodCkge1xuICAgICAgICAvLyBub2RlMSBpcyB0aGUgdHJlZSB3ZSB3YW50IHRvIGluc2VydCBpbnRvXG4gICAgICAgIHJldHVybiBhcHBlbmQobm9kZTEsIG5vZGUyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBwcmVwZW5kKG5vZGUyLCBub2RlMSk7XG4gICAgfVxufVxuLyoqXG4gKiBBcHBlbmRzIHRoZSBnaXZlbiBub2RlIHRvIHRoZSBlbmQgb2YgdGhpcyAoMiwzKSB0cmVlLlxuICogUmV0dXJucyB0aGUgbmV3IHJvb3QuXG4qL1xuZnVuY3Rpb24gYXBwZW5kKGxpc3QsIG5vZGVUb0FwcGVuZCkge1xuICAgIGxpc3QgPSBsaXN0LnRvTXV0YWJsZSgpO1xuICAgIGxldCBjdXJOb2RlID0gbGlzdDtcbiAgICBjb25zdCBwYXJlbnRzID0gW107XG4gICAgbGV0IG5vZGVUb0FwcGVuZE9mQ29ycmVjdEhlaWdodDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAvLyBhc3NlcnQgbm9kZVRvSW5zZXJ0Lmxpc3RIZWlnaHQgPD0gY3VyTm9kZS5saXN0SGVpZ2h0XG4gICAgICAgIGlmIChub2RlVG9BcHBlbmQubGlzdEhlaWdodCA9PT0gY3VyTm9kZS5saXN0SGVpZ2h0KSB7XG4gICAgICAgICAgICBub2RlVG9BcHBlbmRPZkNvcnJlY3RIZWlnaHQgPSBub2RlVG9BcHBlbmQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBhc3NlcnQgMCA8PSBub2RlVG9JbnNlcnQubGlzdEhlaWdodCA8IGN1ck5vZGUubGlzdEhlaWdodFxuICAgICAgICBpZiAoY3VyTm9kZS5raW5kICE9PSA0IC8qIEFzdE5vZGVLaW5kLkxpc3QgKi8pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5leHBlY3RlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudHMucHVzaChjdXJOb2RlKTtcbiAgICAgICAgLy8gYXNzZXJ0IDIgPD0gY3VyTm9kZS5jaGlsZHJlbkxlbmd0aCA8PSAzXG4gICAgICAgIGN1ck5vZGUgPSBjdXJOb2RlLm1ha2VMYXN0RWxlbWVudE11dGFibGUoKTtcbiAgICB9XG4gICAgLy8gYXNzZXJ0IG5vZGVUb0FwcGVuZE9mQ29ycmVjdEhlaWdodCEubGlzdEhlaWdodCA9PT0gY3VyTm9kZS5saXN0SGVpZ2h0XG4gICAgZm9yIChsZXQgaSA9IHBhcmVudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gcGFyZW50c1tpXTtcbiAgICAgICAgaWYgKG5vZGVUb0FwcGVuZE9mQ29ycmVjdEhlaWdodCkge1xuICAgICAgICAgICAgLy8gQ2FuIHdlIHRha2UgdGhlIGVsZW1lbnQ/XG4gICAgICAgICAgICBpZiAocGFyZW50LmNoaWxkcmVuTGVuZ3RoID49IDMpIHtcbiAgICAgICAgICAgICAgICAvLyBhc3NlcnQgcGFyZW50LmNoaWxkcmVuTGVuZ3RoID09PSAzICYmIHBhcmVudC5saXN0SGVpZ2h0ID09PSBub2RlVG9BcHBlbmRPZkNvcnJlY3RIZWlnaHQubGlzdEhlaWdodCArIDFcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHNwbGl0IHRvIG1haW50YWluICgyLDMpLXRyZWUgcHJvcGVydHkuXG4gICAgICAgICAgICAgICAgLy8gU2VuZCB0aGUgdGhpcmQgZWxlbWVudCArIHRoZSBuZXcgZWxlbWVudCB0byB0aGUgcGFyZW50LlxuICAgICAgICAgICAgICAgIG5vZGVUb0FwcGVuZE9mQ29ycmVjdEhlaWdodCA9IExpc3RBc3ROb2RlLmNyZWF0ZTIzKHBhcmVudC51bmFwcGVuZENoaWxkKCksIG5vZGVUb0FwcGVuZE9mQ29ycmVjdEhlaWdodCwgbnVsbCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkT2ZTYW1lSGVpZ2h0KG5vZGVUb0FwcGVuZE9mQ29ycmVjdEhlaWdodCk7XG4gICAgICAgICAgICAgICAgbm9kZVRvQXBwZW5kT2ZDb3JyZWN0SGVpZ2h0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50LmhhbmRsZUNoaWxkcmVuQ2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChub2RlVG9BcHBlbmRPZkNvcnJlY3RIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIExpc3RBc3ROb2RlLmNyZWF0ZTIzKGxpc3QsIG5vZGVUb0FwcGVuZE9mQ29ycmVjdEhlaWdodCwgbnVsbCwgZmFsc2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxufVxuLyoqXG4gKiBQcmVwZW5kcyB0aGUgZ2l2ZW4gbm9kZSB0byB0aGUgZW5kIG9mIHRoaXMgKDIsMykgdHJlZS5cbiAqIFJldHVybnMgdGhlIG5ldyByb290LlxuKi9cbmZ1bmN0aW9uIHByZXBlbmQobGlzdCwgbm9kZVRvQXBwZW5kKSB7XG4gICAgbGlzdCA9IGxpc3QudG9NdXRhYmxlKCk7XG4gICAgbGV0IGN1ck5vZGUgPSBsaXN0O1xuICAgIGNvbnN0IHBhcmVudHMgPSBbXTtcbiAgICAvLyBhc3NlcnQgbm9kZVRvSW5zZXJ0Lmxpc3RIZWlnaHQgPD0gY3VyTm9kZS5saXN0SGVpZ2h0XG4gICAgd2hpbGUgKG5vZGVUb0FwcGVuZC5saXN0SGVpZ2h0ICE9PSBjdXJOb2RlLmxpc3RIZWlnaHQpIHtcbiAgICAgICAgLy8gYXNzZXJ0IDAgPD0gbm9kZVRvSW5zZXJ0Lmxpc3RIZWlnaHQgPCBjdXJOb2RlLmxpc3RIZWlnaHRcbiAgICAgICAgaWYgKGN1ck5vZGUua2luZCAhPT0gNCAvKiBBc3ROb2RlS2luZC5MaXN0ICovKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuZXhwZWN0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnRzLnB1c2goY3VyTm9kZSk7XG4gICAgICAgIC8vIGFzc2VydCAyIDw9IGN1ck5vZGUuY2hpbGRyZW5GYXN0Lmxlbmd0aCA8PSAzXG4gICAgICAgIGN1ck5vZGUgPSBjdXJOb2RlLm1ha2VGaXJzdEVsZW1lbnRNdXRhYmxlKCk7XG4gICAgfVxuICAgIGxldCBub2RlVG9QcmVwZW5kT2ZDb3JyZWN0SGVpZ2h0ID0gbm9kZVRvQXBwZW5kO1xuICAgIC8vIGFzc2VydCBub2RlVG9BcHBlbmRPZkNvcnJlY3RIZWlnaHQhLmxpc3RIZWlnaHQgPT09IGN1ck5vZGUubGlzdEhlaWdodFxuICAgIGZvciAobGV0IGkgPSBwYXJlbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHBhcmVudHNbaV07XG4gICAgICAgIGlmIChub2RlVG9QcmVwZW5kT2ZDb3JyZWN0SGVpZ2h0KSB7XG4gICAgICAgICAgICAvLyBDYW4gd2UgdGFrZSB0aGUgZWxlbWVudD9cbiAgICAgICAgICAgIGlmIChwYXJlbnQuY2hpbGRyZW5MZW5ndGggPj0gMykge1xuICAgICAgICAgICAgICAgIC8vIGFzc2VydCBwYXJlbnQuY2hpbGRyZW5MZW5ndGggPT09IDMgJiYgcGFyZW50Lmxpc3RIZWlnaHQgPT09IG5vZGVUb0FwcGVuZE9mQ29ycmVjdEhlaWdodC5saXN0SGVpZ2h0ICsgMVxuICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gc3BsaXQgdG8gbWFpbnRhaW4gKDIsMyktdHJlZSBwcm9wZXJ0eS5cbiAgICAgICAgICAgICAgICAvLyBTZW5kIHRoZSB0aGlyZCBlbGVtZW50ICsgdGhlIG5ldyBlbGVtZW50IHRvIHRoZSBwYXJlbnQuXG4gICAgICAgICAgICAgICAgbm9kZVRvUHJlcGVuZE9mQ29ycmVjdEhlaWdodCA9IExpc3RBc3ROb2RlLmNyZWF0ZTIzKG5vZGVUb1ByZXBlbmRPZkNvcnJlY3RIZWlnaHQsIHBhcmVudC51bnByZXBlbmRDaGlsZCgpLCBudWxsLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQucHJlcGVuZENoaWxkT2ZTYW1lSGVpZ2h0KG5vZGVUb1ByZXBlbmRPZkNvcnJlY3RIZWlnaHQpO1xuICAgICAgICAgICAgICAgIG5vZGVUb1ByZXBlbmRPZkNvcnJlY3RIZWlnaHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnQuaGFuZGxlQ2hpbGRyZW5DaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5vZGVUb1ByZXBlbmRPZkNvcnJlY3RIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIExpc3RBc3ROb2RlLmNyZWF0ZTIzKG5vZGVUb1ByZXBlbmRPZkNvcnJlY3RIZWlnaHQsIGxpc3QsIG51bGwsIGZhbHNlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgbGVuZ3RoQWRkLCBsZW5ndGhaZXJvLCBsZW5ndGhMZXNzVGhhbiB9IGZyb20gJy4vbGVuZ3RoLmpzJztcbi8qKlxuICogQWxsb3dzIHRvIGVmZmljaWVudGx5IGZpbmQgYSBsb25nZXN0IGNoaWxkIGF0IGEgZ2l2ZW4gb2Zmc2V0IGluIGEgZml4ZWQgbm9kZS5cbiAqIFRoZSByZXF1ZXN0ZWQgb2Zmc2V0cyBtdXN0IGluY3JlYXNlIG1vbm90b25vdXNseS5cbiovXG5leHBvcnQgY2xhc3MgTm9kZVJlYWRlciB7XG4gICAgY29uc3RydWN0b3Iobm9kZSkge1xuICAgICAgICB0aGlzLmxhc3RPZmZzZXQgPSBsZW5ndGhaZXJvO1xuICAgICAgICB0aGlzLm5leHROb2RlcyA9IFtub2RlXTtcbiAgICAgICAgdGhpcy5vZmZzZXRzID0gW2xlbmd0aFplcm9dO1xuICAgICAgICB0aGlzLmlkeHMgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbG9uZ2VzdCBub2RlIGF0IGBvZmZzZXRgIHRoYXQgc2F0aXNmaWVzIHRoZSBwcmVkaWNhdGUuXG4gICAgICogQHBhcmFtIG9mZnNldCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgbGFzdCBvZmZzZXQgdGhpcyBtZXRob2QgaGFzIGJlZW4gY2FsbGVkIHdpdGghXG4gICAgKi9cbiAgICByZWFkTG9uZ2VzdE5vZGVBdChvZmZzZXQsIHByZWRpY2F0ZSkge1xuICAgICAgICBpZiAobGVuZ3RoTGVzc1RoYW4ob2Zmc2V0LCB0aGlzLmxhc3RPZmZzZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgb2Zmc2V0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0T2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICAvLyBGaW5kIHRoZSBsb25nZXN0IG5vZGUgb2YgYWxsIHRob3NlIHRoYXQgYXJlIGNsb3Nlc3QgdG8gdGhlIGN1cnJlbnQgb2Zmc2V0LlxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgY3VyTm9kZSA9IGxhc3RPclVuZGVmaW5lZCh0aGlzLm5leHROb2Rlcyk7XG4gICAgICAgICAgICBpZiAoIWN1ck5vZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY3VyTm9kZU9mZnNldCA9IGxhc3RPclVuZGVmaW5lZCh0aGlzLm9mZnNldHMpO1xuICAgICAgICAgICAgaWYgKGxlbmd0aExlc3NUaGFuKG9mZnNldCwgY3VyTm9kZU9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgbmV4dCBiZXN0IG5vZGUgaXMgbm90IGhlcmUgeWV0LlxuICAgICAgICAgICAgICAgIC8vIFRoZSByZWFkZXIgbXVzdCBhZHZhbmNlIGJlZm9yZSBhIGNhY2hlZCBub2RlIGlzIGhpdC5cbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxlbmd0aExlc3NUaGFuKGN1ck5vZGVPZmZzZXQsIG9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgcmVhZGVyIGlzIGFoZWFkIG9mIHRoZSBjdXJyZW50IG5vZGUuXG4gICAgICAgICAgICAgICAgaWYgKGxlbmd0aEFkZChjdXJOb2RlT2Zmc2V0LCBjdXJOb2RlLmxlbmd0aCkgPD0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSByZWFkZXIgaXMgYWZ0ZXIgdGhlIGVuZCBvZiB0aGUgY3VycmVudCBub2RlLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHROb2RlQWZ0ZXJDdXJyZW50KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcmVhZGVyIGlzIHNvbWV3aGVyZSBpbiB0aGUgY3VycmVudCBub2RlLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q2hpbGRJZHggPSBnZXROZXh0Q2hpbGRJZHgoY3VyTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Q2hpbGRJZHggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHbyB0byB0aGUgZmlyc3QgY2hpbGQgYW5kIHJlcGVhdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dE5vZGVzLnB1c2goY3VyTm9kZS5nZXRDaGlsZChuZXh0Q2hpbGRJZHgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0cy5wdXNoKGN1ck5vZGVPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pZHhzLnB1c2gobmV4dENoaWxkSWR4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IGhhdmUgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dE5vZGVBZnRlckN1cnJlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHJlYWRlck9mZnNldEJlZm9yZUNoYW5nZSA9PT0gY3VyTm9kZU9mZnNldFxuICAgICAgICAgICAgICAgIGlmIChwcmVkaWNhdGUoY3VyTm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Tm9kZUFmdGVyQ3VycmVudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VyTm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDaGlsZElkeCA9IGdldE5leHRDaGlsZElkeChjdXJOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9vayBmb3Igc2hvcnRlciBub2RlXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Q2hpbGRJZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBpcyBubyBzaG9ydGVyIG5vZGUuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHROb2RlQWZ0ZXJDdXJyZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVzY2VuZCBpbnRvIGZpcnN0IGNoaWxkICYgcmVwZWF0LlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Tm9kZXMucHVzaChjdXJOb2RlLmdldENoaWxkKG5leHRDaGlsZElkeCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRzLnB1c2goY3VyTm9kZU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlkeHMucHVzaChuZXh0Q2hpbGRJZHgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIE5hdmlnYXRlcyB0byB0aGUgbG9uZ2VzdCBub2RlIHRoYXQgY29udGludWVzIGFmdGVyIHRoZSBjdXJyZW50IG5vZGUuXG4gICAgbmV4dE5vZGVBZnRlckN1cnJlbnQoKSB7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50T2Zmc2V0ID0gbGFzdE9yVW5kZWZpbmVkKHRoaXMub2Zmc2V0cyk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IGxhc3RPclVuZGVmaW5lZCh0aGlzLm5leHROb2Rlcyk7XG4gICAgICAgICAgICB0aGlzLm5leHROb2Rlcy5wb3AoKTtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0cy5wb3AoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlkeHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UganVzdCBwb3BwZWQgdGhlIHJvb3Qgbm9kZSwgdGhlcmUgaXMgbm8gbmV4dCBub2RlLlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUGFyZW50IGlzIG5vdCB1bmRlZmluZWQsIGJlY2F1c2UgaWR4cyBpcyBub3QgZW1wdHlcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGxhc3RPclVuZGVmaW5lZCh0aGlzLm5leHROb2Rlcyk7XG4gICAgICAgICAgICBjb25zdCBuZXh0Q2hpbGRJZHggPSBnZXROZXh0Q2hpbGRJZHgocGFyZW50LCB0aGlzLmlkeHNbdGhpcy5pZHhzLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgIGlmIChuZXh0Q2hpbGRJZHggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0Tm9kZXMucHVzaChwYXJlbnQuZ2V0Q2hpbGQobmV4dENoaWxkSWR4KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRzLnB1c2gobGVuZ3RoQWRkKGN1cnJlbnRPZmZzZXQsIGN1cnJlbnROb2RlLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuaWR4c1t0aGlzLmlkeHMubGVuZ3RoIC0gMV0gPSBuZXh0Q2hpbGRJZHg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlkeHMucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXZSBmdWxseSBjb25zdW1lZCB0aGUgcGFyZW50LlxuICAgICAgICAgICAgLy8gQ3VycmVudCBub2RlIGlzIG5vdyBwYXJlbnQsIHNvIGNhbGwgbmV4dE5vZGVBZnRlckN1cnJlbnQgYWdhaW5cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGdldE5leHRDaGlsZElkeChub2RlLCBjdXJJZHggPSAtMSkge1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGN1cklkeCsrO1xuICAgICAgICBpZiAoY3VySWR4ID49IG5vZGUuY2hpbGRyZW5MZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5nZXRDaGlsZChjdXJJZHgpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VySWR4O1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gbGFzdE9yVW5kZWZpbmVkKGFycikge1xuICAgIHJldHVybiBhcnIubGVuZ3RoID4gMCA/IGFyclthcnIubGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IEludmFsaWRCcmFja2V0QXN0Tm9kZSwgTGlzdEFzdE5vZGUsIFBhaXJBc3ROb2RlLCBUZXh0QXN0Tm9kZSB9IGZyb20gJy4vYXN0LmpzJztcbmltcG9ydCB7IEJlZm9yZUVkaXRQb3NpdGlvbk1hcHBlciB9IGZyb20gJy4vYmVmb3JlRWRpdFBvc2l0aW9uTWFwcGVyLmpzJztcbmltcG9ydCB7IFNtYWxsSW1tdXRhYmxlU2V0IH0gZnJvbSAnLi9zbWFsbEltbXV0YWJsZVNldC5qcyc7XG5pbXBvcnQgeyBsZW5ndGhJc1plcm8sIGxlbmd0aExlc3NUaGFuIH0gZnJvbSAnLi9sZW5ndGguanMnO1xuaW1wb3J0IHsgY29uY2F0MjNUcmVlcywgY29uY2F0MjNUcmVlc09mU2FtZUhlaWdodCB9IGZyb20gJy4vY29uY2F0MjNUcmVlcy5qcyc7XG5pbXBvcnQgeyBOb2RlUmVhZGVyIH0gZnJvbSAnLi9ub2RlUmVhZGVyLmpzJztcbi8qKlxuICogTm9uIGluY3JlbWVudGFsbHkgYnVpbHQgQVNUcyBhcmUgaW1tdXRhYmxlLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZURvY3VtZW50KHRva2VuaXplciwgZWRpdHMsIG9sZE5vZGUsIGNyZWF0ZUltbXV0YWJsZUxpc3RzKSB7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IFBhcnNlcih0b2tlbml6ZXIsIGVkaXRzLCBvbGROb2RlLCBjcmVhdGVJbW11dGFibGVMaXN0cyk7XG4gICAgcmV0dXJuIHBhcnNlci5wYXJzZURvY3VtZW50KCk7XG59XG4vKipcbiAqIE5vbiBpbmNyZW1lbnRhbGx5IGJ1aWx0IEFTVHMgYXJlIGltbXV0YWJsZS5cbiovXG5jbGFzcyBQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKHRva2VuaXplciwgZWRpdHMsIG9sZE5vZGUsIGNyZWF0ZUltbXV0YWJsZUxpc3RzKSB7XG4gICAgICAgIHRoaXMudG9rZW5pemVyID0gdG9rZW5pemVyO1xuICAgICAgICB0aGlzLmNyZWF0ZUltbXV0YWJsZUxpc3RzID0gY3JlYXRlSW1tdXRhYmxlTGlzdHM7XG4gICAgICAgIHRoaXMuX2l0ZW1zQ29uc3RydWN0ZWQgPSAwO1xuICAgICAgICB0aGlzLl9pdGVtc0Zyb21DYWNoZSA9IDA7XG4gICAgICAgIGlmIChvbGROb2RlICYmIGNyZWF0ZUltbXV0YWJsZUxpc3RzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9sZE5vZGVSZWFkZXIgPSBvbGROb2RlID8gbmV3IE5vZGVSZWFkZXIob2xkTm9kZSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucG9zaXRpb25NYXBwZXIgPSBuZXcgQmVmb3JlRWRpdFBvc2l0aW9uTWFwcGVyKGVkaXRzKTtcbiAgICB9XG4gICAgcGFyc2VEb2N1bWVudCgpIHtcbiAgICAgICAgdGhpcy5faXRlbXNDb25zdHJ1Y3RlZCA9IDA7XG4gICAgICAgIHRoaXMuX2l0ZW1zRnJvbUNhY2hlID0gMDtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMucGFyc2VMaXN0KFNtYWxsSW1tdXRhYmxlU2V0LmdldEVtcHR5KCksIDApO1xuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gTGlzdEFzdE5vZGUuZ2V0RW1wdHkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBwYXJzZUxpc3Qob3BlbmVkQnJhY2tldElkcywgbGV2ZWwpIHtcbiAgICAgICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHRoaXMudHJ5UmVhZENoaWxkRnJvbUNhY2hlKG9wZW5lZEJyYWNrZXRJZHMpO1xuICAgICAgICAgICAgaWYgKCFjaGlsZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gdGhpcy50b2tlbml6ZXIucGVlaygpO1xuICAgICAgICAgICAgICAgIGlmICghdG9rZW4gfHxcbiAgICAgICAgICAgICAgICAgICAgKHRva2VuLmtpbmQgPT09IDIgLyogVG9rZW5LaW5kLkNsb3NpbmdCcmFja2V0ICovICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbi5icmFja2V0SWRzLmludGVyc2VjdHMob3BlbmVkQnJhY2tldElkcykpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGlsZCA9IHRoaXMucGFyc2VDaGlsZChvcGVuZWRCcmFja2V0SWRzLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoaWxkLmtpbmQgPT09IDQgLyogQXN0Tm9kZUtpbmQuTGlzdCAqLyAmJiBjaGlsZC5jaGlsZHJlbkxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbXMucHVzaChjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiB0aGVyZSBpcyBubyBvbGROb2RlUmVhZGVyLCBhbGwgaXRlbXMgYXJlIGNyZWF0ZWQgZnJvbSBzY3JhdGNoIGFuZCBtdXN0IGhhdmUgdGhlIHNhbWUgaGVpZ2h0LlxuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLm9sZE5vZGVSZWFkZXIgPyBjb25jYXQyM1RyZWVzKGl0ZW1zKSA6IGNvbmNhdDIzVHJlZXNPZlNhbWVIZWlnaHQoaXRlbXMsIHRoaXMuY3JlYXRlSW1tdXRhYmxlTGlzdHMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICB0cnlSZWFkQ2hpbGRGcm9tQ2FjaGUob3BlbmVkQnJhY2tldElkcykge1xuICAgICAgICBpZiAodGhpcy5vbGROb2RlUmVhZGVyKSB7XG4gICAgICAgICAgICBjb25zdCBtYXhDYWNoZWFibGVMZW5ndGggPSB0aGlzLnBvc2l0aW9uTWFwcGVyLmdldERpc3RhbmNlVG9OZXh0Q2hhbmdlKHRoaXMudG9rZW5pemVyLm9mZnNldCk7XG4gICAgICAgICAgICBpZiAobWF4Q2FjaGVhYmxlTGVuZ3RoID09PSBudWxsIHx8ICFsZW5ndGhJc1plcm8obWF4Q2FjaGVhYmxlTGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlZE5vZGUgPSB0aGlzLm9sZE5vZGVSZWFkZXIucmVhZExvbmdlc3ROb2RlQXQodGhpcy5wb3NpdGlvbk1hcHBlci5nZXRPZmZzZXRCZWZvcmVDaGFuZ2UodGhpcy50b2tlbml6ZXIub2Zmc2V0KSwgY3VyTm9kZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBlZGl0IGNvdWxkIGV4dGVuZCB0aGUgZW5kaW5nIHRva2VuLCB0aHVzIHdlIGNhbm5vdCByZS11c2Ugbm9kZXMgdGhhdCB0b3VjaCB0aGUgZWRpdC5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gZWRpdCBhbnltb3JlLCB3ZSBjYW4gcmUtdXNlIHRoZSBub2RlIGluIGFueSBjYXNlLlxuICAgICAgICAgICAgICAgICAgICBpZiAobWF4Q2FjaGVhYmxlTGVuZ3RoICE9PSBudWxsICYmICFsZW5ndGhMZXNzVGhhbihjdXJOb2RlLmxlbmd0aCwgbWF4Q2FjaGVhYmxlTGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRWl0aGVyIHRoZSBub2RlIGNvbnRhaW5zIGVkaXRlZCB0ZXh0IG9yIHRvdWNoZXMgZWRpdGVkIHRleHQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiB0aGUgbGF0dGVyIGNhc2UsIGJyYWNrZXRzIG1pZ2h0IGhhdmUgYmVlbiBleHRlbmRlZCAoYGVuZGAgLT4gYGVuZGluZ2ApLCBzbyBldmVuIHRvdWNoaW5nIG5vZGVzIGNhbm5vdCBiZSByZXVzZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FuQmVSZXVzZWQgPSBjdXJOb2RlLmNhbkJlUmV1c2VkKG9wZW5lZEJyYWNrZXRJZHMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FuQmVSZXVzZWQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlZE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXRlbXNGcm9tQ2FjaGUrKztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2tlbml6ZXIuc2tpcChjYWNoZWROb2RlLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZWROb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBwYXJzZUNoaWxkKG9wZW5lZEJyYWNrZXRJZHMsIGxldmVsKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zQ29uc3RydWN0ZWQrKztcbiAgICAgICAgY29uc3QgdG9rZW4gPSB0aGlzLnRva2VuaXplci5yZWFkKCk7XG4gICAgICAgIHN3aXRjaCAodG9rZW4ua2luZCkge1xuICAgICAgICAgICAgY2FzZSAyIC8qIFRva2VuS2luZC5DbG9zaW5nQnJhY2tldCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludmFsaWRCcmFja2V0QXN0Tm9kZSh0b2tlbi5icmFja2V0SWRzLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgICAgICAgY2FzZSAwIC8qIFRva2VuS2luZC5UZXh0ICovOlxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbi5hc3ROb2RlO1xuICAgICAgICAgICAgY2FzZSAxIC8qIFRva2VuS2luZC5PcGVuaW5nQnJhY2tldCAqLzoge1xuICAgICAgICAgICAgICAgIGlmIChsZXZlbCA+IDMwMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUbyBwcmV2ZW50IHN0YWNrIG92ZXJmbG93c1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRleHRBc3ROb2RlKHRva2VuLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNldCA9IG9wZW5lZEJyYWNrZXRJZHMubWVyZ2UodG9rZW4uYnJhY2tldElkcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLnBhcnNlTGlzdChzZXQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFRva2VuID0gdGhpcy50b2tlbml6ZXIucGVlaygpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0VG9rZW4gJiZcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRva2VuLmtpbmQgPT09IDIgLyogVG9rZW5LaW5kLkNsb3NpbmdCcmFja2V0ICovICYmXG4gICAgICAgICAgICAgICAgICAgIChuZXh0VG9rZW4uYnJhY2tldElkID09PSB0b2tlbi5icmFja2V0SWQgfHwgbmV4dFRva2VuLmJyYWNrZXRJZHMuaW50ZXJzZWN0cyh0b2tlbi5icmFja2V0SWRzKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2tlbml6ZXIucmVhZCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUGFpckFzdE5vZGUuY3JlYXRlKHRva2VuLmFzdE5vZGUsIGNoaWxkLCBuZXh0VG9rZW4uYXN0Tm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUGFpckFzdE5vZGUuY3JlYXRlKHRva2VuLmFzdE5vZGUsIGNoaWxkLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5leHBlY3RlZCcpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5jb25zdCBlbXB0eUFyciA9IFtdO1xuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGltbXV0YWJsZSBzZXQgdGhhdCB3b3JrcyBiZXN0IGZvciBhIHNtYWxsIG51bWJlciBvZiBlbGVtZW50cyAobGVzcyB0aGFuIDMyKS5cbiAqIEl0IHVzZXMgYml0cyB0byBlbmNvZGUgZWxlbWVudCBtZW1iZXJzaGlwIGVmZmljaWVudGx5LlxuKi9cbmV4cG9ydCBjbGFzcyBTbWFsbEltbXV0YWJsZVNldCB7XG4gICAgc3RhdGljIHsgdGhpcy5jYWNoZSA9IG5ldyBBcnJheSgxMjkpOyB9XG4gICAgc3RhdGljIGNyZWF0ZShpdGVtcywgYWRkaXRpb25hbEl0ZW1zKSB7XG4gICAgICAgIGlmIChpdGVtcyA8PSAxMjggJiYgYWRkaXRpb25hbEl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gV2UgY3JlYXRlIGEgY2FjaGUgb2YgMTI4PTJeNyBlbGVtZW50cyB0byBjb3ZlciBhbGwgc2V0cyB3aXRoIHVwIHRvIDcgKGRlbnNlKSBlbGVtZW50cy5cbiAgICAgICAgICAgIGxldCBjYWNoZWQgPSBTbWFsbEltbXV0YWJsZVNldC5jYWNoZVtpdGVtc107XG4gICAgICAgICAgICBpZiAoIWNhY2hlZCkge1xuICAgICAgICAgICAgICAgIGNhY2hlZCA9IG5ldyBTbWFsbEltbXV0YWJsZVNldChpdGVtcywgYWRkaXRpb25hbEl0ZW1zKTtcbiAgICAgICAgICAgICAgICBTbWFsbEltbXV0YWJsZVNldC5jYWNoZVtpdGVtc10gPSBjYWNoZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU21hbGxJbW11dGFibGVTZXQoaXRlbXMsIGFkZGl0aW9uYWxJdGVtcyk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuZW1wdHkgPSBTbWFsbEltbXV0YWJsZVNldC5jcmVhdGUoMCwgZW1wdHlBcnIpOyB9XG4gICAgc3RhdGljIGdldEVtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbXB0eTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaXRlbXMsIGFkZGl0aW9uYWxJdGVtcykge1xuICAgICAgICB0aGlzLml0ZW1zID0gaXRlbXM7XG4gICAgICAgIHRoaXMuYWRkaXRpb25hbEl0ZW1zID0gYWRkaXRpb25hbEl0ZW1zO1xuICAgIH1cbiAgICBhZGQodmFsdWUsIGtleVByb3ZpZGVyKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGtleVByb3ZpZGVyLmdldEtleSh2YWx1ZSk7XG4gICAgICAgIGxldCBpZHggPSBrZXkgPj4gNTsgLy8gZGl2aWRlZCBieSAzMlxuICAgICAgICBpZiAoaWR4ID09PSAwKSB7XG4gICAgICAgICAgICAvLyBmYXN0IHBhdGhcbiAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW0gPSAoMSA8PCBrZXkpIHwgdGhpcy5pdGVtcztcbiAgICAgICAgICAgIGlmIChuZXdJdGVtID09PSB0aGlzLml0ZW1zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gU21hbGxJbW11dGFibGVTZXQuY3JlYXRlKG5ld0l0ZW0sIHRoaXMuYWRkaXRpb25hbEl0ZW1zKTtcbiAgICAgICAgfVxuICAgICAgICBpZHgtLTtcbiAgICAgICAgY29uc3QgbmV3SXRlbXMgPSB0aGlzLmFkZGl0aW9uYWxJdGVtcy5zbGljZSgwKTtcbiAgICAgICAgd2hpbGUgKG5ld0l0ZW1zLmxlbmd0aCA8IGlkeCkge1xuICAgICAgICAgICAgbmV3SXRlbXMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgICBuZXdJdGVtc1tpZHhdIHw9IDEgPDwgKGtleSAmIDMxKTtcbiAgICAgICAgcmV0dXJuIFNtYWxsSW1tdXRhYmxlU2V0LmNyZWF0ZSh0aGlzLml0ZW1zLCBuZXdJdGVtcyk7XG4gICAgfVxuICAgIG1lcmdlKG90aGVyKSB7XG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IHRoaXMuaXRlbXMgfCBvdGhlci5pdGVtcztcbiAgICAgICAgaWYgKHRoaXMuYWRkaXRpb25hbEl0ZW1zID09PSBlbXB0eUFyciAmJiBvdGhlci5hZGRpdGlvbmFsSXRlbXMgPT09IGVtcHR5QXJyKSB7XG4gICAgICAgICAgICAvLyBmYXN0IHBhdGhcbiAgICAgICAgICAgIGlmIChtZXJnZWQgPT09IHRoaXMuaXRlbXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXJnZWQgPT09IG90aGVyLml0ZW1zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFNtYWxsSW1tdXRhYmxlU2V0LmNyZWF0ZShtZXJnZWQsIGVtcHR5QXJyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGlzIGNhbiBiZSBvcHRpbWl6ZWQsIGJ1dCBpdCdzIG5vdCBhIGNvbW1vbiBjYXNlXG4gICAgICAgIGNvbnN0IG5ld0l0ZW1zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5tYXgodGhpcy5hZGRpdGlvbmFsSXRlbXMubGVuZ3RoLCBvdGhlci5hZGRpdGlvbmFsSXRlbXMubGVuZ3RoKTsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtMSA9IHRoaXMuYWRkaXRpb25hbEl0ZW1zW2ldIHx8IDA7XG4gICAgICAgICAgICBjb25zdCBpdGVtMiA9IG90aGVyLmFkZGl0aW9uYWxJdGVtc1tpXSB8fCAwO1xuICAgICAgICAgICAgbmV3SXRlbXMucHVzaChpdGVtMSB8IGl0ZW0yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU21hbGxJbW11dGFibGVTZXQuY3JlYXRlKG1lcmdlZCwgbmV3SXRlbXMpO1xuICAgIH1cbiAgICBpbnRlcnNlY3RzKG90aGVyKSB7XG4gICAgICAgIGlmICgodGhpcy5pdGVtcyAmIG90aGVyLml0ZW1zKSAhPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1pbih0aGlzLmFkZGl0aW9uYWxJdGVtcy5sZW5ndGgsIG90aGVyLmFkZGl0aW9uYWxJdGVtcy5sZW5ndGgpOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgodGhpcy5hZGRpdGlvbmFsSXRlbXNbaV0gJiBvdGhlci5hZGRpdGlvbmFsSXRlbXNbaV0pICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBpZGVudGl0eUtleVByb3ZpZGVyID0ge1xuICAgIGdldEtleSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufTtcbi8qKlxuICogQXNzaWducyB2YWx1ZXMgYSB1bmlxdWUgaW5jcmVtZW50aW5nIGtleS5cbiovXG5leHBvcnQgY2xhc3MgRGVuc2VLZXlQcm92aWRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGdldEtleSh2YWx1ZSkge1xuICAgICAgICBsZXQgZXhpc3RpbmcgPSB0aGlzLml0ZW1zLmdldCh2YWx1ZSk7XG4gICAgICAgIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBleGlzdGluZyA9IHRoaXMuaXRlbXMuc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXMuc2V0KHZhbHVlLCBleGlzdGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgTm90U3VwcG9ydGVkRXJyb3IgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9iYXNlL2NvbW1vbi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgVG9rZW5NZXRhZGF0YSB9IGZyb20gJy4uLy4uLy4uL2VuY29kZWRUb2tlbkF0dHJpYnV0ZXMuanMnO1xuaW1wb3J0IHsgVGV4dEFzdE5vZGUgfSBmcm9tICcuL2FzdC5qcyc7XG5pbXBvcnQgeyBsZW5ndGhBZGQsIGxlbmd0aERpZmYsIGxlbmd0aEdldENvbHVtbkNvdW50SWZaZXJvTGluZUNvdW50LCBsZW5ndGhUb09iaiwgbGVuZ3RoWmVybywgdG9MZW5ndGggfSBmcm9tICcuL2xlbmd0aC5qcyc7XG5pbXBvcnQgeyBTbWFsbEltbXV0YWJsZVNldCB9IGZyb20gJy4vc21hbGxJbW11dGFibGVTZXQuanMnO1xuZXhwb3J0IGNsYXNzIFRva2VuIHtcbiAgICBjb25zdHJ1Y3RvcihsZW5ndGgsIGtpbmQsIFxuICAgIC8qKlxuICAgICAqIElmIHRoaXMgdG9rZW4gaXMgYW4gb3BlbmluZyBicmFja2V0LCB0aGlzIGlzIHRoZSBpZCBvZiB0aGUgb3BlbmluZyBicmFja2V0LlxuICAgICAqIElmIHRoaXMgdG9rZW4gaXMgYSBjbG9zaW5nIGJyYWNrZXQsIHRoaXMgaXMgdGhlIGlkIG9mIHRoZSBmaXJzdCBvcGVuaW5nIGJyYWNrZXQgdGhhdCBpcyBjbG9zZWQgYnkgdGhpcyBicmFja2V0LlxuICAgICAqIE90aGVyd2lzZSwgaXQgaXMgLTEuXG4gICAgICovXG4gICAgYnJhY2tldElkLCBcbiAgICAvKipcbiAgICAgKiBJZiB0aGlzIHRva2VuIGlzIGFuIG9wZW5pbmcgYnJhY2tldCwgdGhpcyBqdXN0IGNvbnRhaW5zIGBicmFja2V0SWRgLlxuICAgICAqIElmIHRoaXMgdG9rZW4gaXMgYSBjbG9zaW5nIGJyYWNrZXQsIHRoaXMgbGlzdHMgYWxsIG9wZW5pbmcgYnJhY2tldCBpZHMsIHRoYXQgaXQgY2xvc2VzLlxuICAgICAqIE90aGVyd2lzZSwgaXQgaXMgZW1wdHkuXG4gICAgICovXG4gICAgYnJhY2tldElkcywgYXN0Tm9kZSkge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdGhpcy5raW5kID0ga2luZDtcbiAgICAgICAgdGhpcy5icmFja2V0SWQgPSBicmFja2V0SWQ7XG4gICAgICAgIHRoaXMuYnJhY2tldElkcyA9IGJyYWNrZXRJZHM7XG4gICAgICAgIHRoaXMuYXN0Tm9kZSA9IGFzdE5vZGU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRleHRCdWZmZXJUb2tlbml6ZXIge1xuICAgIGNvbnN0cnVjdG9yKHRleHRNb2RlbCwgYnJhY2tldFRva2Vucykge1xuICAgICAgICB0aGlzLnRleHRNb2RlbCA9IHRleHRNb2RlbDtcbiAgICAgICAgdGhpcy5icmFja2V0VG9rZW5zID0gYnJhY2tldFRva2VucztcbiAgICAgICAgdGhpcy5yZWFkZXIgPSBuZXcgTm9uUGVla2FibGVUZXh0QnVmZmVyVG9rZW5pemVyKHRoaXMudGV4dE1vZGVsLCB0aGlzLmJyYWNrZXRUb2tlbnMpO1xuICAgICAgICB0aGlzLl9vZmZzZXQgPSBsZW5ndGhaZXJvO1xuICAgICAgICB0aGlzLmRpZFBlZWsgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wZWVrZWQgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHRCdWZmZXJMaW5lQ291bnQgPSB0ZXh0TW9kZWwuZ2V0TGluZUNvdW50KCk7XG4gICAgICAgIHRoaXMudGV4dEJ1ZmZlckxhc3RMaW5lTGVuZ3RoID0gdGV4dE1vZGVsLmdldExpbmVMZW5ndGgodGhpcy50ZXh0QnVmZmVyTGluZUNvdW50KTtcbiAgICB9XG4gICAgZ2V0IG9mZnNldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29mZnNldDtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRvTGVuZ3RoKHRoaXMudGV4dEJ1ZmZlckxpbmVDb3VudCAtIDEsIHRoaXMudGV4dEJ1ZmZlckxhc3RMaW5lTGVuZ3RoKTtcbiAgICB9XG4gICAgc2tpcChsZW5ndGgpIHtcbiAgICAgICAgdGhpcy5kaWRQZWVrID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX29mZnNldCA9IGxlbmd0aEFkZCh0aGlzLl9vZmZzZXQsIGxlbmd0aCk7XG4gICAgICAgIGNvbnN0IG9iaiA9IGxlbmd0aFRvT2JqKHRoaXMuX29mZnNldCk7XG4gICAgICAgIHRoaXMucmVhZGVyLnNldFBvc2l0aW9uKG9iai5saW5lQ291bnQsIG9iai5jb2x1bW5Db3VudCk7XG4gICAgfVxuICAgIHJlYWQoKSB7XG4gICAgICAgIGxldCB0b2tlbjtcbiAgICAgICAgaWYgKHRoaXMucGVla2VkKSB7XG4gICAgICAgICAgICB0aGlzLmRpZFBlZWsgPSBmYWxzZTtcbiAgICAgICAgICAgIHRva2VuID0gdGhpcy5wZWVrZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0b2tlbiA9IHRoaXMucmVhZGVyLnJlYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX29mZnNldCA9IGxlbmd0aEFkZCh0aGlzLl9vZmZzZXQsIHRva2VuLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICBwZWVrKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGlkUGVlaykge1xuICAgICAgICAgICAgdGhpcy5wZWVrZWQgPSB0aGlzLnJlYWRlci5yZWFkKCk7XG4gICAgICAgICAgICB0aGlzLmRpZFBlZWsgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnBlZWtlZDtcbiAgICB9XG59XG4vKipcbiAqIERvZXMgbm90IHN1cHBvcnQgcGVlay5cbiovXG5jbGFzcyBOb25QZWVrYWJsZVRleHRCdWZmZXJUb2tlbml6ZXIge1xuICAgIGNvbnN0cnVjdG9yKHRleHRNb2RlbCwgYnJhY2tldFRva2Vucykge1xuICAgICAgICB0aGlzLnRleHRNb2RlbCA9IHRleHRNb2RlbDtcbiAgICAgICAgdGhpcy5icmFja2V0VG9rZW5zID0gYnJhY2tldFRva2VucztcbiAgICAgICAgdGhpcy5saW5lSWR4ID0gMDtcbiAgICAgICAgdGhpcy5saW5lID0gbnVsbDtcbiAgICAgICAgdGhpcy5saW5lQ2hhck9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMubGluZVRva2VucyA9IG51bGw7XG4gICAgICAgIHRoaXMubGluZVRva2VuT2Zmc2V0ID0gMDtcbiAgICAgICAgLyoqIE11c3QgYmUgYSB6ZXJvIGxpbmUgdG9rZW4uIFRoZSBlbmQgb2YgdGhlIGRvY3VtZW50IGNhbm5vdCBiZSBwZWVrZWQuICovXG4gICAgICAgIHRoaXMucGVla2VkVG9rZW4gPSBudWxsO1xuICAgICAgICB0aGlzLnRleHRCdWZmZXJMaW5lQ291bnQgPSB0ZXh0TW9kZWwuZ2V0TGluZUNvdW50KCk7XG4gICAgICAgIHRoaXMudGV4dEJ1ZmZlckxhc3RMaW5lTGVuZ3RoID0gdGV4dE1vZGVsLmdldExpbmVMZW5ndGgodGhpcy50ZXh0QnVmZmVyTGluZUNvdW50KTtcbiAgICB9XG4gICAgc2V0UG9zaXRpb24obGluZUlkeCwgY29sdW1uKSB7XG4gICAgICAgIC8vIFdlIG11c3Qgbm90IGp1bXAgaW50byBhIHRva2VuIVxuICAgICAgICBpZiAobGluZUlkeCA9PT0gdGhpcy5saW5lSWR4KSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVDaGFyT2Zmc2V0ID0gY29sdW1uO1xuICAgICAgICAgICAgaWYgKHRoaXMubGluZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGluZVRva2VuT2Zmc2V0ID0gdGhpcy5saW5lQ2hhck9mZnNldCA9PT0gMCA/IDAgOiB0aGlzLmxpbmVUb2tlbnMuZmluZFRva2VuSW5kZXhBdE9mZnNldCh0aGlzLmxpbmVDaGFyT2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGluZUlkeCA9IGxpbmVJZHg7XG4gICAgICAgICAgICB0aGlzLmxpbmVDaGFyT2Zmc2V0ID0gY29sdW1uO1xuICAgICAgICAgICAgdGhpcy5saW5lID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlZWtlZFRva2VuID0gbnVsbDtcbiAgICB9XG4gICAgcmVhZCgpIHtcbiAgICAgICAgaWYgKHRoaXMucGVla2VkVG9rZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gdGhpcy5wZWVrZWRUb2tlbjtcbiAgICAgICAgICAgIHRoaXMucGVla2VkVG9rZW4gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5saW5lQ2hhck9mZnNldCArPSBsZW5ndGhHZXRDb2x1bW5Db3VudElmWmVyb0xpbmVDb3VudCh0b2tlbi5sZW5ndGgpO1xuICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxpbmVJZHggPiB0aGlzLnRleHRCdWZmZXJMaW5lQ291bnQgLSAxIHx8ICh0aGlzLmxpbmVJZHggPT09IHRoaXMudGV4dEJ1ZmZlckxpbmVDb3VudCAtIDEgJiYgdGhpcy5saW5lQ2hhck9mZnNldCA+PSB0aGlzLnRleHRCdWZmZXJMYXN0TGluZUxlbmd0aCkpIHtcbiAgICAgICAgICAgIC8vIFdlIGFyZSBhZnRlciB0aGUgZW5kXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5saW5lID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVUb2tlbnMgPSB0aGlzLnRleHRNb2RlbC50b2tlbml6YXRpb24uZ2V0TGluZVRva2Vucyh0aGlzLmxpbmVJZHggKyAxKTtcbiAgICAgICAgICAgIHRoaXMubGluZSA9IHRoaXMubGluZVRva2Vucy5nZXRMaW5lQ29udGVudCgpO1xuICAgICAgICAgICAgdGhpcy5saW5lVG9rZW5PZmZzZXQgPSB0aGlzLmxpbmVDaGFyT2Zmc2V0ID09PSAwID8gMCA6IHRoaXMubGluZVRva2Vucy5maW5kVG9rZW5JbmRleEF0T2Zmc2V0KHRoaXMubGluZUNoYXJPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXJ0TGluZUlkeCA9IHRoaXMubGluZUlkeDtcbiAgICAgICAgY29uc3Qgc3RhcnRMaW5lQ2hhck9mZnNldCA9IHRoaXMubGluZUNoYXJPZmZzZXQ7XG4gICAgICAgIC8vIGxpbWl0cyB0aGUgbGVuZ3RoIG9mIHRleHQgdG9rZW5zLlxuICAgICAgICAvLyBJZiB0ZXh0IHRva2VucyBnZXQgdG9vIGxvbmcsIGluY3JlbWVudGFsIHVwZGF0ZXMgd2lsbCBiZSBzbG93XG4gICAgICAgIGxldCBsZW5ndGhIZXVyaXN0aWMgPSAwO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgbGluZVRva2VucyA9IHRoaXMubGluZVRva2VucztcbiAgICAgICAgICAgIGNvbnN0IHRva2VuQ291bnQgPSBsaW5lVG9rZW5zLmdldENvdW50KCk7XG4gICAgICAgICAgICBsZXQgcGVla2VkQnJhY2tldFRva2VuID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLmxpbmVUb2tlbk9mZnNldCA8IHRva2VuQ291bnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbk1ldGFkYXRhID0gbGluZVRva2Vucy5nZXRNZXRhZGF0YSh0aGlzLmxpbmVUb2tlbk9mZnNldCk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMubGluZVRva2VuT2Zmc2V0ICsgMSA8IHRva2VuQ291bnQgJiYgdG9rZW5NZXRhZGF0YSA9PT0gbGluZVRva2Vucy5nZXRNZXRhZGF0YSh0aGlzLmxpbmVUb2tlbk9mZnNldCArIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNraXAgdG9rZW5zIHRoYXQgYXJlIGlkZW50aWNhbC5cbiAgICAgICAgICAgICAgICAgICAgLy8gU29tZXRpbWVzLCAoYnJhY2tldCkgaWRlbnRpZmllcnMgYXJlIHNwbGl0IHVwIGludG8gbXVsdGlwbGUgdG9rZW5zLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmVUb2tlbk9mZnNldCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBpc090aGVyID0gVG9rZW5NZXRhZGF0YS5nZXRUb2tlblR5cGUodG9rZW5NZXRhZGF0YSkgPT09IDAgLyogU3RhbmRhcmRUb2tlblR5cGUuT3RoZXIgKi87XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFpbnNCcmFja2V0VHlwZSA9IFRva2VuTWV0YWRhdGEuY29udGFpbnNCYWxhbmNlZEJyYWNrZXRzKHRva2VuTWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuZE9mZnNldCA9IGxpbmVUb2tlbnMuZ2V0RW5kT2Zmc2V0KHRoaXMubGluZVRva2VuT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAvLyBJcyB0aGVyZSBhIGJyYWNrZXQgdG9rZW4gbmV4dD8gT25seSBjb25zdW1lIHRleHQuXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5zQnJhY2tldFR5cGUgJiYgaXNPdGhlciAmJiB0aGlzLmxpbmVDaGFyT2Zmc2V0IDwgZW5kT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhbmd1YWdlSWQgPSBsaW5lVG9rZW5zLmdldExhbmd1YWdlSWQodGhpcy5saW5lVG9rZW5PZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5saW5lLnN1YnN0cmluZyh0aGlzLmxpbmVDaGFyT2Zmc2V0LCBlbmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBicmFja2V0cyA9IHRoaXMuYnJhY2tldFRva2Vucy5nZXRTaW5nbGVMYW5ndWFnZUJyYWNrZXRUb2tlbnMobGFuZ3VhZ2VJZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4cCA9IGJyYWNrZXRzLnJlZ0V4cEdsb2JhbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ2V4cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IHJlZ2V4cC5leGVjKHRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVla2VkQnJhY2tldFRva2VuID0gYnJhY2tldHMuZ2V0VG9rZW4obWF0Y2hbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWVrZWRCcmFja2V0VG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29uc3VtZSBsZWFkaW5nIHRleHQgb2YgdGhlIHRva2VuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGluZUNoYXJPZmZzZXQgKz0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxlbmd0aEhldXJpc3RpYyArPSBlbmRPZmZzZXQgLSB0aGlzLmxpbmVDaGFyT2Zmc2V0O1xuICAgICAgICAgICAgICAgIGlmIChwZWVrZWRCcmFja2V0VG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3Qgc2tpcCB0aGUgZW50aXJlIHRva2VuLCBhcyBhIHNpbmdsZSB0b2tlbiBjb3VsZCBjb250YWluIG11bHRpcGxlIGJyYWNrZXRzLlxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRMaW5lSWR4ICE9PSB0aGlzLmxpbmVJZHggfHwgc3RhcnRMaW5lQ2hhck9mZnNldCAhPT0gdGhpcy5saW5lQ2hhck9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgaXMgdGV4dCBiZWZvcmUgdGhlIGJyYWNrZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVla2VkVG9rZW4gPSBwZWVrZWRCcmFja2V0VG9rZW47XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnN1bWUgdGhlIHBlZWtlZCB0b2tlblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lQ2hhck9mZnNldCArPSBsZW5ndGhHZXRDb2x1bW5Db3VudElmWmVyb0xpbmVDb3VudChwZWVrZWRCcmFja2V0VG9rZW4ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwZWVrZWRCcmFja2V0VG9rZW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNraXAgdGhlIGVudGlyZSB0b2tlbiwgYXMgdGhlIHRva2VuIGNvbnRhaW5zIG5vIGJyYWNrZXRzIGF0IGFsbC5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lVG9rZW5PZmZzZXQrKztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lQ2hhck9mZnNldCA9IGVuZE9mZnNldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5saW5lSWR4ID09PSB0aGlzLnRleHRCdWZmZXJMaW5lQ291bnQgLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVJZHgrKztcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVUb2tlbnMgPSB0aGlzLnRleHRNb2RlbC50b2tlbml6YXRpb24uZ2V0TGluZVRva2Vucyh0aGlzLmxpbmVJZHggKyAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVUb2tlbk9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5saW5lID0gdGhpcy5saW5lVG9rZW5zLmdldExpbmVDb250ZW50KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5saW5lQ2hhck9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgbGVuZ3RoSGV1cmlzdGljICs9IDMzOyAvLyBtYXggMTAwMC8zMyA9IDMwIGxpbmVzXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBsaW1pdHMgdGhlIGFtb3VudCBvZiB3b3JrIHRvIHJlY29tcHV0ZSBtaW4taW5kZW50YXRpb25cbiAgICAgICAgICAgICAgICBpZiAobGVuZ3RoSGV1cmlzdGljID4gMTAwMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IGJyZWFrIChhdXRvbWF0aWNhbGx5KSBhdCB0aGUgZW5kIG9mIGxpbmUuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsZW5ndGhIZXVyaXN0aWMgPiAxNTAwKSB7XG4gICAgICAgICAgICAgICAgLy8gRXZlbnR1YWxseSBicmVhayByZWdhcmRsZXNzIG9mIHRoZSBsaW5lIGxlbmd0aCBzbyB0aGF0XG4gICAgICAgICAgICAgICAgLy8gdmVyeSBsb25nIGxpbmVzIGRvIG5vdCBjYXVzZSBiYWQgcGVyZm9ybWFuY2UuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBlZmZlY3RpdmUgbGltaXRzIG1heCBpbmRlbnRhdGlvbiB0byA1MDAsIGFzXG4gICAgICAgICAgICAgICAgLy8gaW5kZW50YXRpb24gaXMgbm90IGNvbXB1dGVkIGFjcm9zcyBtdWx0aXBsZSB0ZXh0IG5vZGVzLlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIGEgdG9rZW4gY29udGFpbnMgc29tZSBwcm9wZXIgaW5kZW50YXRpb24sIGl0IGFsc28gY29udGFpbnMgXFxue0lOREVOVEFUSU9OK30oPyF7SU5ERU5UQVRJT059KSxcbiAgICAgICAgLy8gdW5sZXNzIHRoZSBsaW5lIGlzIHRvbyBsb25nLlxuICAgICAgICAvLyBUaHVzLCB0aGUgbWluIGluZGVudGF0aW9uIG9mIHRoZSBkb2N1bWVudCBpcyB0aGUgbWluaW11bSBtaW4gaW5kZW50YXRpb24gb2YgZXZlcnkgdGV4dCBub2RlLlxuICAgICAgICBjb25zdCBsZW5ndGggPSBsZW5ndGhEaWZmKHN0YXJ0TGluZUlkeCwgc3RhcnRMaW5lQ2hhck9mZnNldCwgdGhpcy5saW5lSWR4LCB0aGlzLmxpbmVDaGFyT2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBUb2tlbihsZW5ndGgsIDAgLyogVG9rZW5LaW5kLlRleHQgKi8sIC0xLCBTbWFsbEltbXV0YWJsZVNldC5nZXRFbXB0eSgpLCBuZXcgVGV4dEFzdE5vZGUobGVuZ3RoKSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEZhc3RUb2tlbml6ZXIge1xuICAgIGNvbnN0cnVjdG9yKHRleHQsIGJyYWNrZXRzKSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuX29mZnNldCA9IGxlbmd0aFplcm87XG4gICAgICAgIHRoaXMuaWR4ID0gMDtcbiAgICAgICAgY29uc3QgcmVnRXhwU3RyID0gYnJhY2tldHMuZ2V0UmVnRXhwU3RyKCk7XG4gICAgICAgIGNvbnN0IHJlZ2V4cCA9IHJlZ0V4cFN0ciA/IG5ldyBSZWdFeHAocmVnRXhwU3RyICsgJ3xcXG4nLCAnZ2knKSA6IG51bGw7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IFtdO1xuICAgICAgICBsZXQgbWF0Y2g7XG4gICAgICAgIGxldCBjdXJMaW5lQ291bnQgPSAwO1xuICAgICAgICBsZXQgbGFzdExpbmVCcmVha09mZnNldCA9IDA7XG4gICAgICAgIGxldCBsYXN0VG9rZW5FbmRPZmZzZXQgPSAwO1xuICAgICAgICBsZXQgbGFzdFRva2VuRW5kTGluZSA9IDA7XG4gICAgICAgIGNvbnN0IHNtYWxsVGV4dFRva2VuczBMaW5lID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjA7IGkrKykge1xuICAgICAgICAgICAgc21hbGxUZXh0VG9rZW5zMExpbmUucHVzaChuZXcgVG9rZW4odG9MZW5ndGgoMCwgaSksIDAgLyogVG9rZW5LaW5kLlRleHQgKi8sIC0xLCBTbWFsbEltbXV0YWJsZVNldC5nZXRFbXB0eSgpLCBuZXcgVGV4dEFzdE5vZGUodG9MZW5ndGgoMCwgaSkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc21hbGxUZXh0VG9rZW5zMUxpbmUgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2MDsgaSsrKSB7XG4gICAgICAgICAgICBzbWFsbFRleHRUb2tlbnMxTGluZS5wdXNoKG5ldyBUb2tlbih0b0xlbmd0aCgxLCBpKSwgMCAvKiBUb2tlbktpbmQuVGV4dCAqLywgLTEsIFNtYWxsSW1tdXRhYmxlU2V0LmdldEVtcHR5KCksIG5ldyBUZXh0QXN0Tm9kZSh0b0xlbmd0aCgxLCBpKSkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVnZXhwKSB7XG4gICAgICAgICAgICByZWdleHAubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgIC8vIElmIGEgdG9rZW4gY29udGFpbnMgaW5kZW50YXRpb24sIGl0IGFsc28gY29udGFpbnMgXFxue0lOREVOVEFUSU9OK30oPyF7SU5ERU5UQVRJT059KVxuICAgICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHJlZ2V4cC5leGVjKHRleHQpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1ck9mZnNldCA9IG1hdGNoLmluZGV4O1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbWF0Y2hbMF07XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAgICAgICBjdXJMaW5lQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgbGFzdExpbmVCcmVha09mZnNldCA9IGN1ck9mZnNldCArIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdFRva2VuRW5kT2Zmc2V0ICE9PSBjdXJPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0VG9rZW5FbmRMaW5lID09PSBjdXJMaW5lQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xDb3VudCA9IGN1ck9mZnNldCAtIGxhc3RUb2tlbkVuZE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sQ291bnQgPCBzbWFsbFRleHRUb2tlbnMwTGluZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBzbWFsbFRleHRUb2tlbnMwTGluZVtjb2xDb3VudF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSB0b0xlbmd0aCgwLCBjb2xDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gbmV3IFRva2VuKGxlbmd0aCwgMCAvKiBUb2tlbktpbmQuVGV4dCAqLywgLTEsIFNtYWxsSW1tdXRhYmxlU2V0LmdldEVtcHR5KCksIG5ldyBUZXh0QXN0Tm9kZShsZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lQ291bnQgPSBjdXJMaW5lQ291bnQgLSBsYXN0VG9rZW5FbmRMaW5lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbENvdW50ID0gY3VyT2Zmc2V0IC0gbGFzdExpbmVCcmVha09mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZUNvdW50ID09PSAxICYmIGNvbENvdW50IDwgc21hbGxUZXh0VG9rZW5zMUxpbmUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gc21hbGxUZXh0VG9rZW5zMUxpbmVbY29sQ291bnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gdG9MZW5ndGgobGluZUNvdW50LCBjb2xDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gbmV3IFRva2VuKGxlbmd0aCwgMCAvKiBUb2tlbktpbmQuVGV4dCAqLywgLTEsIFNtYWxsSW1tdXRhYmxlU2V0LmdldEVtcHR5KCksIG5ldyBUZXh0QXN0Tm9kZShsZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gdmFsdWUgaXMgbWF0Y2hlZCBieSByZWdleHAsIHNvIHRoZSB0b2tlbiBtdXN0IGV4aXN0XG4gICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKGJyYWNrZXRzLmdldFRva2VuKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUb2tlbkVuZE9mZnNldCA9IGN1ck9mZnNldCArIHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRva2VuRW5kTGluZSA9IGN1ckxpbmVDb3VudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGV4dC5sZW5ndGg7XG4gICAgICAgIGlmIChsYXN0VG9rZW5FbmRPZmZzZXQgIT09IG9mZnNldCkge1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gKGxhc3RUb2tlbkVuZExpbmUgPT09IGN1ckxpbmVDb3VudClcbiAgICAgICAgICAgICAgICA/IHRvTGVuZ3RoKDAsIG9mZnNldCAtIGxhc3RUb2tlbkVuZE9mZnNldClcbiAgICAgICAgICAgICAgICA6IHRvTGVuZ3RoKGN1ckxpbmVDb3VudCAtIGxhc3RUb2tlbkVuZExpbmUsIG9mZnNldCAtIGxhc3RMaW5lQnJlYWtPZmZzZXQpO1xuICAgICAgICAgICAgdG9rZW5zLnB1c2gobmV3IFRva2VuKGxlbmd0aCwgMCAvKiBUb2tlbktpbmQuVGV4dCAqLywgLTEsIFNtYWxsSW1tdXRhYmxlU2V0LmdldEVtcHR5KCksIG5ldyBUZXh0QXN0Tm9kZShsZW5ndGgpKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sZW5ndGggPSB0b0xlbmd0aChjdXJMaW5lQ291bnQsIG9mZnNldCAtIGxhc3RMaW5lQnJlYWtPZmZzZXQpO1xuICAgICAgICB0aGlzLnRva2VucyA9IHRva2VucztcbiAgICB9XG4gICAgZ2V0IG9mZnNldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29mZnNldDtcbiAgICB9XG4gICAgcmVhZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9rZW5zW3RoaXMuaWR4KytdIHx8IG51bGw7XG4gICAgfVxuICAgIHBlZWsoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRva2Vuc1t0aGlzLmlkeF0gfHwgbnVsbDtcbiAgICB9XG4gICAgc2tpcChsZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IE5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgKiBhcyBubHMgZnJvbSAnLi4vLi4vLi4vbmxzLmpzJztcbmltcG9ydCB7IG9uVW5leHBlY3RlZEVycm9yIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vZXJyb3JzLmpzJztcbmltcG9ydCB7IFNlbGVjdGlvbiB9IGZyb20gJy4uL2NvcmUvc2VsZWN0aW9uLmpzJztcbmltcG9ydCB7IFVSSSB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3VyaS5qcyc7XG5pbXBvcnQgeyBUZXh0Q2hhbmdlLCBjb21wcmVzc0NvbnNlY3V0aXZlVGV4dENoYW5nZXMgfSBmcm9tICcuLi9jb3JlL3RleHRDaGFuZ2UuanMnO1xuaW1wb3J0ICogYXMgYnVmZmVyIGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2J1ZmZlci5qcyc7XG5pbXBvcnQgeyBiYXNlbmFtZSB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3Jlc291cmNlcy5qcyc7XG5mdW5jdGlvbiB1cmlHZXRDb21wYXJpc29uS2V5KHJlc291cmNlKSB7XG4gICAgcmV0dXJuIHJlc291cmNlLnRvU3RyaW5nKCk7XG59XG5leHBvcnQgY2xhc3MgU2luZ2xlTW9kZWxFZGl0U3RhY2tEYXRhIHtcbiAgICBzdGF0aWMgY3JlYXRlKG1vZGVsLCBiZWZvcmVDdXJzb3JTdGF0ZSkge1xuICAgICAgICBjb25zdCBhbHRlcm5hdGl2ZVZlcnNpb25JZCA9IG1vZGVsLmdldEFsdGVybmF0aXZlVmVyc2lvbklkKCk7XG4gICAgICAgIGNvbnN0IGVvbCA9IGdldE1vZGVsRU9MKG1vZGVsKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVNb2RlbEVkaXRTdGFja0RhdGEoYWx0ZXJuYXRpdmVWZXJzaW9uSWQsIGFsdGVybmF0aXZlVmVyc2lvbklkLCBlb2wsIGVvbCwgYmVmb3JlQ3Vyc29yU3RhdGUsIGJlZm9yZUN1cnNvclN0YXRlLCBbXSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGJlZm9yZVZlcnNpb25JZCwgYWZ0ZXJWZXJzaW9uSWQsIGJlZm9yZUVPTCwgYWZ0ZXJFT0wsIGJlZm9yZUN1cnNvclN0YXRlLCBhZnRlckN1cnNvclN0YXRlLCBjaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMuYmVmb3JlVmVyc2lvbklkID0gYmVmb3JlVmVyc2lvbklkO1xuICAgICAgICB0aGlzLmFmdGVyVmVyc2lvbklkID0gYWZ0ZXJWZXJzaW9uSWQ7XG4gICAgICAgIHRoaXMuYmVmb3JlRU9MID0gYmVmb3JlRU9MO1xuICAgICAgICB0aGlzLmFmdGVyRU9MID0gYWZ0ZXJFT0w7XG4gICAgICAgIHRoaXMuYmVmb3JlQ3Vyc29yU3RhdGUgPSBiZWZvcmVDdXJzb3JTdGF0ZTtcbiAgICAgICAgdGhpcy5hZnRlckN1cnNvclN0YXRlID0gYWZ0ZXJDdXJzb3JTdGF0ZTtcbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gY2hhbmdlcztcbiAgICB9XG4gICAgYXBwZW5kKG1vZGVsLCB0ZXh0Q2hhbmdlcywgYWZ0ZXJFT0wsIGFmdGVyVmVyc2lvbklkLCBhZnRlckN1cnNvclN0YXRlKSB7XG4gICAgICAgIGlmICh0ZXh0Q2hhbmdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZXMgPSBjb21wcmVzc0NvbnNlY3V0aXZlVGV4dENoYW5nZXModGhpcy5jaGFuZ2VzLCB0ZXh0Q2hhbmdlcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZnRlckVPTCA9IGFmdGVyRU9MO1xuICAgICAgICB0aGlzLmFmdGVyVmVyc2lvbklkID0gYWZ0ZXJWZXJzaW9uSWQ7XG4gICAgICAgIHRoaXMuYWZ0ZXJDdXJzb3JTdGF0ZSA9IGFmdGVyQ3Vyc29yU3RhdGU7XG4gICAgfVxuICAgIHN0YXRpYyBfd3JpdGVTZWxlY3Rpb25zU2l6ZShzZWxlY3Rpb25zKSB7XG4gICAgICAgIHJldHVybiA0ICsgNCAqIDQgKiAoc2VsZWN0aW9ucyA/IHNlbGVjdGlvbnMubGVuZ3RoIDogMCk7XG4gICAgfVxuICAgIHN0YXRpYyBfd3JpdGVTZWxlY3Rpb25zKGIsIHNlbGVjdGlvbnMsIG9mZnNldCkge1xuICAgICAgICBidWZmZXIud3JpdGVVSW50MzJCRShiLCAoc2VsZWN0aW9ucyA/IHNlbGVjdGlvbnMubGVuZ3RoIDogMCksIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICBpZiAoc2VsZWN0aW9ucykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBzZWxlY3Rpb24gb2Ygc2VsZWN0aW9ucykge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci53cml0ZVVJbnQzMkJFKGIsIHNlbGVjdGlvbi5zZWxlY3Rpb25TdGFydExpbmVOdW1iZXIsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgICAgICAgICAgYnVmZmVyLndyaXRlVUludDMyQkUoYiwgc2VsZWN0aW9uLnNlbGVjdGlvblN0YXJ0Q29sdW1uLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICAgICAgICAgIGJ1ZmZlci53cml0ZVVJbnQzMkJFKGIsIHNlbGVjdGlvbi5wb3NpdGlvbkxpbmVOdW1iZXIsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgICAgICAgICAgYnVmZmVyLndyaXRlVUludDMyQkUoYiwgc2VsZWN0aW9uLnBvc2l0aW9uQ29sdW1uLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfVxuICAgIHN0YXRpYyBfcmVhZFNlbGVjdGlvbnMoYiwgb2Zmc2V0LCBkZXN0KSB7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gYnVmZmVyLnJlYWRVSW50MzJCRShiLCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gNDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3Rpb25TdGFydExpbmVOdW1iZXIgPSBidWZmZXIucmVhZFVJbnQzMkJFKGIsIG9mZnNldCk7XG4gICAgICAgICAgICBvZmZzZXQgKz0gNDtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvblN0YXJ0Q29sdW1uID0gYnVmZmVyLnJlYWRVSW50MzJCRShiLCBvZmZzZXQpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbkxpbmVOdW1iZXIgPSBidWZmZXIucmVhZFVJbnQzMkJFKGIsIG9mZnNldCk7XG4gICAgICAgICAgICBvZmZzZXQgKz0gNDtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uQ29sdW1uID0gYnVmZmVyLnJlYWRVSW50MzJCRShiLCBvZmZzZXQpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgICAgICBkZXN0LnB1c2gobmV3IFNlbGVjdGlvbihzZWxlY3Rpb25TdGFydExpbmVOdW1iZXIsIHNlbGVjdGlvblN0YXJ0Q29sdW1uLCBwb3NpdGlvbkxpbmVOdW1iZXIsIHBvc2l0aW9uQ29sdW1uKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICBsZXQgbmVjZXNzYXJ5U2l6ZSA9ICgrNCAvLyBiZWZvcmVWZXJzaW9uSWRcbiAgICAgICAgICAgICsgNCAvLyBhZnRlclZlcnNpb25JZFxuICAgICAgICAgICAgKyAxIC8vIGJlZm9yZUVPTFxuICAgICAgICAgICAgKyAxIC8vIGFmdGVyRU9MXG4gICAgICAgICAgICArIFNpbmdsZU1vZGVsRWRpdFN0YWNrRGF0YS5fd3JpdGVTZWxlY3Rpb25zU2l6ZSh0aGlzLmJlZm9yZUN1cnNvclN0YXRlKVxuICAgICAgICAgICAgKyBTaW5nbGVNb2RlbEVkaXRTdGFja0RhdGEuX3dyaXRlU2VsZWN0aW9uc1NpemUodGhpcy5hZnRlckN1cnNvclN0YXRlKVxuICAgICAgICAgICAgKyA0IC8vIGNoYW5nZSBjb3VudFxuICAgICAgICApO1xuICAgICAgICBmb3IgKGNvbnN0IGNoYW5nZSBvZiB0aGlzLmNoYW5nZXMpIHtcbiAgICAgICAgICAgIG5lY2Vzc2FyeVNpemUgKz0gY2hhbmdlLndyaXRlU2l6ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGIgPSBuZXcgVWludDhBcnJheShuZWNlc3NhcnlTaXplKTtcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIGJ1ZmZlci53cml0ZVVJbnQzMkJFKGIsIHRoaXMuYmVmb3JlVmVyc2lvbklkLCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gNDtcbiAgICAgICAgYnVmZmVyLndyaXRlVUludDMyQkUoYiwgdGhpcy5hZnRlclZlcnNpb25JZCwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgIGJ1ZmZlci53cml0ZVVJbnQ4KGIsIHRoaXMuYmVmb3JlRU9MLCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gMTtcbiAgICAgICAgYnVmZmVyLndyaXRlVUludDgoYiwgdGhpcy5hZnRlckVPTCwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IDE7XG4gICAgICAgIG9mZnNldCA9IFNpbmdsZU1vZGVsRWRpdFN0YWNrRGF0YS5fd3JpdGVTZWxlY3Rpb25zKGIsIHRoaXMuYmVmb3JlQ3Vyc29yU3RhdGUsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCA9IFNpbmdsZU1vZGVsRWRpdFN0YWNrRGF0YS5fd3JpdGVTZWxlY3Rpb25zKGIsIHRoaXMuYWZ0ZXJDdXJzb3JTdGF0ZSwgb2Zmc2V0KTtcbiAgICAgICAgYnVmZmVyLndyaXRlVUludDMyQkUoYiwgdGhpcy5jaGFuZ2VzLmxlbmd0aCwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgIGZvciAoY29uc3QgY2hhbmdlIG9mIHRoaXMuY2hhbmdlcykge1xuICAgICAgICAgICAgb2Zmc2V0ID0gY2hhbmdlLndyaXRlKGIsIG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGIuYnVmZmVyO1xuICAgIH1cbiAgICBzdGF0aWMgZGVzZXJpYWxpemUoc291cmNlKSB7XG4gICAgICAgIGNvbnN0IGIgPSBuZXcgVWludDhBcnJheShzb3VyY2UpO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgY29uc3QgYmVmb3JlVmVyc2lvbklkID0gYnVmZmVyLnJlYWRVSW50MzJCRShiLCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gNDtcbiAgICAgICAgY29uc3QgYWZ0ZXJWZXJzaW9uSWQgPSBidWZmZXIucmVhZFVJbnQzMkJFKGIsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICBjb25zdCBiZWZvcmVFT0wgPSBidWZmZXIucmVhZFVJbnQ4KGIsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSAxO1xuICAgICAgICBjb25zdCBhZnRlckVPTCA9IGJ1ZmZlci5yZWFkVUludDgoYiwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IDE7XG4gICAgICAgIGNvbnN0IGJlZm9yZUN1cnNvclN0YXRlID0gW107XG4gICAgICAgIG9mZnNldCA9IFNpbmdsZU1vZGVsRWRpdFN0YWNrRGF0YS5fcmVhZFNlbGVjdGlvbnMoYiwgb2Zmc2V0LCBiZWZvcmVDdXJzb3JTdGF0ZSk7XG4gICAgICAgIGNvbnN0IGFmdGVyQ3Vyc29yU3RhdGUgPSBbXTtcbiAgICAgICAgb2Zmc2V0ID0gU2luZ2xlTW9kZWxFZGl0U3RhY2tEYXRhLl9yZWFkU2VsZWN0aW9ucyhiLCBvZmZzZXQsIGFmdGVyQ3Vyc29yU3RhdGUpO1xuICAgICAgICBjb25zdCBjaGFuZ2VDb3VudCA9IGJ1ZmZlci5yZWFkVUludDMyQkUoYiwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgIGNvbnN0IGNoYW5nZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFuZ2VDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSBUZXh0Q2hhbmdlLnJlYWQoYiwgb2Zmc2V0LCBjaGFuZ2VzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNpbmdsZU1vZGVsRWRpdFN0YWNrRGF0YShiZWZvcmVWZXJzaW9uSWQsIGFmdGVyVmVyc2lvbklkLCBiZWZvcmVFT0wsIGFmdGVyRU9MLCBiZWZvcmVDdXJzb3JTdGF0ZSwgYWZ0ZXJDdXJzb3JTdGF0ZSwgY2hhbmdlcyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFNpbmdsZU1vZGVsRWRpdFN0YWNrRWxlbWVudCB7XG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiAwIC8qIFVuZG9SZWRvRWxlbWVudFR5cGUuUmVzb3VyY2UgKi87XG4gICAgfVxuICAgIGdldCByZXNvdXJjZSgpIHtcbiAgICAgICAgaWYgKFVSSS5pc1VyaSh0aGlzLm1vZGVsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwudXJpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihsYWJlbCwgY29kZSwgbW9kZWwsIGJlZm9yZUN1cnNvclN0YXRlKSB7XG4gICAgICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICAgICAgICB0aGlzLl9kYXRhID0gU2luZ2xlTW9kZWxFZGl0U3RhY2tEYXRhLmNyZWF0ZShtb2RlbCwgYmVmb3JlQ3Vyc29yU3RhdGUpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9ICh0aGlzLl9kYXRhIGluc3RhbmNlb2YgU2luZ2xlTW9kZWxFZGl0U3RhY2tEYXRhID8gdGhpcy5fZGF0YSA6IFNpbmdsZU1vZGVsRWRpdFN0YWNrRGF0YS5kZXNlcmlhbGl6ZSh0aGlzLl9kYXRhKSk7XG4gICAgICAgIHJldHVybiBkYXRhLmNoYW5nZXMubWFwKGNoYW5nZSA9PiBjaGFuZ2UudG9TdHJpbmcoKSkuam9pbignLCAnKTtcbiAgICB9XG4gICAgbWF0Y2hlc1Jlc291cmNlKHJlc291cmNlKSB7XG4gICAgICAgIGNvbnN0IHVyaSA9IChVUkkuaXNVcmkodGhpcy5tb2RlbCkgPyB0aGlzLm1vZGVsIDogdGhpcy5tb2RlbC51cmkpO1xuICAgICAgICByZXR1cm4gKHVyaS50b1N0cmluZygpID09PSByZXNvdXJjZS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgc2V0TW9kZWwobW9kZWwpIHtcbiAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICAgIH1cbiAgICBjYW5BcHBlbmQobW9kZWwpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1vZGVsID09PSBtb2RlbCAmJiB0aGlzLl9kYXRhIGluc3RhbmNlb2YgU2luZ2xlTW9kZWxFZGl0U3RhY2tEYXRhKTtcbiAgICB9XG4gICAgYXBwZW5kKG1vZGVsLCB0ZXh0Q2hhbmdlcywgYWZ0ZXJFT0wsIGFmdGVyVmVyc2lvbklkLCBhZnRlckN1cnNvclN0YXRlKSB7XG4gICAgICAgIGlmICh0aGlzLl9kYXRhIGluc3RhbmNlb2YgU2luZ2xlTW9kZWxFZGl0U3RhY2tEYXRhKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhLmFwcGVuZChtb2RlbCwgdGV4dENoYW5nZXMsIGFmdGVyRU9MLCBhZnRlclZlcnNpb25JZCwgYWZ0ZXJDdXJzb3JTdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9kYXRhIGluc3RhbmNlb2YgU2luZ2xlTW9kZWxFZGl0U3RhY2tEYXRhKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhID0gdGhpcy5fZGF0YS5zZXJpYWxpemUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvcGVuKCkge1xuICAgICAgICBpZiAoISh0aGlzLl9kYXRhIGluc3RhbmNlb2YgU2luZ2xlTW9kZWxFZGl0U3RhY2tEYXRhKSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IFNpbmdsZU1vZGVsRWRpdFN0YWNrRGF0YS5kZXNlcmlhbGl6ZSh0aGlzLl9kYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bmRvKCkge1xuICAgICAgICBpZiAoVVJJLmlzVXJpKHRoaXMubW9kZWwpKSB7XG4gICAgICAgICAgICAvLyBkb24ndCBoYXZlIGEgbW9kZWxcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBTaW5nbGVNb2RlbEVkaXRTdGFja0VsZW1lbnRgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGF0YSBpbnN0YW5jZW9mIFNpbmdsZU1vZGVsRWRpdFN0YWNrRGF0YSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IHRoaXMuX2RhdGEuc2VyaWFsaXplKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YSA9IFNpbmdsZU1vZGVsRWRpdFN0YWNrRGF0YS5kZXNlcmlhbGl6ZSh0aGlzLl9kYXRhKTtcbiAgICAgICAgdGhpcy5tb2RlbC5fYXBwbHlVbmRvKGRhdGEuY2hhbmdlcywgZGF0YS5iZWZvcmVFT0wsIGRhdGEuYmVmb3JlVmVyc2lvbklkLCBkYXRhLmJlZm9yZUN1cnNvclN0YXRlKTtcbiAgICB9XG4gICAgcmVkbygpIHtcbiAgICAgICAgaWYgKFVSSS5pc1VyaSh0aGlzLm1vZGVsKSkge1xuICAgICAgICAgICAgLy8gZG9uJ3QgaGF2ZSBhIG1vZGVsXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgU2luZ2xlTW9kZWxFZGl0U3RhY2tFbGVtZW50YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RhdGEgaW5zdGFuY2VvZiBTaW5nbGVNb2RlbEVkaXRTdGFja0RhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGEgPSB0aGlzLl9kYXRhLnNlcmlhbGl6ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSBTaW5nbGVNb2RlbEVkaXRTdGFja0RhdGEuZGVzZXJpYWxpemUodGhpcy5fZGF0YSk7XG4gICAgICAgIHRoaXMubW9kZWwuX2FwcGx5UmVkbyhkYXRhLmNoYW5nZXMsIGRhdGEuYWZ0ZXJFT0wsIGRhdGEuYWZ0ZXJWZXJzaW9uSWQsIGRhdGEuYWZ0ZXJDdXJzb3JTdGF0ZSk7XG4gICAgfVxuICAgIGhlYXBTaXplKCkge1xuICAgICAgICBpZiAodGhpcy5fZGF0YSBpbnN0YW5jZW9mIFNpbmdsZU1vZGVsRWRpdFN0YWNrRGF0YSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IHRoaXMuX2RhdGEuc2VyaWFsaXplKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGEuYnl0ZUxlbmd0aCArIDE2OCAvKmhlYXAgb3ZlcmhlYWQqLztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTXVsdGlNb2RlbEVkaXRTdGFja0VsZW1lbnQge1xuICAgIGdldCByZXNvdXJjZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lZGl0U3RhY2tFbGVtZW50c0Fyci5tYXAoZWRpdFN0YWNrRWxlbWVudCA9PiBlZGl0U3RhY2tFbGVtZW50LnJlc291cmNlKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IobGFiZWwsIGNvZGUsIGVkaXRTdGFja0VsZW1lbnRzKSB7XG4gICAgICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICAgICAgdGhpcy50eXBlID0gMSAvKiBVbmRvUmVkb0VsZW1lbnRUeXBlLldvcmtzcGFjZSAqLztcbiAgICAgICAgdGhpcy5faXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZWRpdFN0YWNrRWxlbWVudHNBcnIgPSBlZGl0U3RhY2tFbGVtZW50cy5zbGljZSgwKTtcbiAgICAgICAgdGhpcy5fZWRpdFN0YWNrRWxlbWVudHNNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgZWRpdFN0YWNrRWxlbWVudCBvZiB0aGlzLl9lZGl0U3RhY2tFbGVtZW50c0Fycikge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gdXJpR2V0Q29tcGFyaXNvbktleShlZGl0U3RhY2tFbGVtZW50LnJlc291cmNlKTtcbiAgICAgICAgICAgIHRoaXMuX2VkaXRTdGFja0VsZW1lbnRzTWFwLnNldChrZXksIGVkaXRTdGFja0VsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RlbGVnYXRlID0gbnVsbDtcbiAgICB9XG4gICAgcHJlcGFyZVVuZG9SZWRvKCkge1xuICAgICAgICBpZiAodGhpcy5fZGVsZWdhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZS5wcmVwYXJlVW5kb1JlZG8odGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWF0Y2hlc1Jlc291cmNlKHJlc291cmNlKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHVyaUdldENvbXBhcmlzb25LZXkocmVzb3VyY2UpO1xuICAgICAgICByZXR1cm4gKHRoaXMuX2VkaXRTdGFja0VsZW1lbnRzTWFwLmhhcyhrZXkpKTtcbiAgICB9XG4gICAgc2V0TW9kZWwobW9kZWwpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdXJpR2V0Q29tcGFyaXNvbktleShVUkkuaXNVcmkobW9kZWwpID8gbW9kZWwgOiBtb2RlbC51cmkpO1xuICAgICAgICBpZiAodGhpcy5fZWRpdFN0YWNrRWxlbWVudHNNYXAuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2VkaXRTdGFja0VsZW1lbnRzTWFwLmdldChrZXkpLnNldE1vZGVsKG1vZGVsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5BcHBlbmQobW9kZWwpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc09wZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXkgPSB1cmlHZXRDb21wYXJpc29uS2V5KG1vZGVsLnVyaSk7XG4gICAgICAgIGlmICh0aGlzLl9lZGl0U3RhY2tFbGVtZW50c01hcC5oYXMoa2V5KSkge1xuICAgICAgICAgICAgY29uc3QgZWRpdFN0YWNrRWxlbWVudCA9IHRoaXMuX2VkaXRTdGFja0VsZW1lbnRzTWFwLmdldChrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIGVkaXRTdGFja0VsZW1lbnQuY2FuQXBwZW5kKG1vZGVsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGFwcGVuZChtb2RlbCwgdGV4dENoYW5nZXMsIGFmdGVyRU9MLCBhZnRlclZlcnNpb25JZCwgYWZ0ZXJDdXJzb3JTdGF0ZSkge1xuICAgICAgICBjb25zdCBrZXkgPSB1cmlHZXRDb21wYXJpc29uS2V5KG1vZGVsLnVyaSk7XG4gICAgICAgIGNvbnN0IGVkaXRTdGFja0VsZW1lbnQgPSB0aGlzLl9lZGl0U3RhY2tFbGVtZW50c01hcC5nZXQoa2V5KTtcbiAgICAgICAgZWRpdFN0YWNrRWxlbWVudC5hcHBlbmQobW9kZWwsIHRleHRDaGFuZ2VzLCBhZnRlckVPTCwgYWZ0ZXJWZXJzaW9uSWQsIGFmdGVyQ3Vyc29yU3RhdGUpO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5faXNPcGVuID0gZmFsc2U7XG4gICAgfVxuICAgIG9wZW4oKSB7XG4gICAgICAgIC8vIGNhbm5vdCByZW9wZW5cbiAgICB9XG4gICAgdW5kbygpIHtcbiAgICAgICAgdGhpcy5faXNPcGVuID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3QgZWRpdFN0YWNrRWxlbWVudCBvZiB0aGlzLl9lZGl0U3RhY2tFbGVtZW50c0Fycikge1xuICAgICAgICAgICAgZWRpdFN0YWNrRWxlbWVudC51bmRvKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVkbygpIHtcbiAgICAgICAgZm9yIChjb25zdCBlZGl0U3RhY2tFbGVtZW50IG9mIHRoaXMuX2VkaXRTdGFja0VsZW1lbnRzQXJyKSB7XG4gICAgICAgICAgICBlZGl0U3RhY2tFbGVtZW50LnJlZG8oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoZWFwU2l6ZShyZXNvdXJjZSkge1xuICAgICAgICBjb25zdCBrZXkgPSB1cmlHZXRDb21wYXJpc29uS2V5KHJlc291cmNlKTtcbiAgICAgICAgaWYgKHRoaXMuX2VkaXRTdGFja0VsZW1lbnRzTWFwLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICBjb25zdCBlZGl0U3RhY2tFbGVtZW50ID0gdGhpcy5fZWRpdFN0YWNrRWxlbWVudHNNYXAuZ2V0KGtleSk7XG4gICAgICAgICAgICByZXR1cm4gZWRpdFN0YWNrRWxlbWVudC5oZWFwU2l6ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBzcGxpdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VkaXRTdGFja0VsZW1lbnRzQXJyO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZWRpdFN0YWNrRWxlbWVudCBvZiB0aGlzLl9lZGl0U3RhY2tFbGVtZW50c0Fycikge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goYCR7YmFzZW5hbWUoZWRpdFN0YWNrRWxlbWVudC5yZXNvdXJjZSl9OiAke2VkaXRTdGFja0VsZW1lbnR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGB7JHtyZXN1bHQuam9pbignLCAnKX19YDtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRNb2RlbEVPTChtb2RlbCkge1xuICAgIGNvbnN0IGVvbCA9IG1vZGVsLmdldEVPTCgpO1xuICAgIGlmIChlb2wgPT09ICdcXG4nKSB7XG4gICAgICAgIHJldHVybiAwIC8qIEVuZE9mTGluZVNlcXVlbmNlLkxGICovO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDEgLyogRW5kT2ZMaW5lU2VxdWVuY2UuQ1JMRiAqLztcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNFZGl0U3RhY2tFbGVtZW50KGVsZW1lbnQpIHtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKChlbGVtZW50IGluc3RhbmNlb2YgU2luZ2xlTW9kZWxFZGl0U3RhY2tFbGVtZW50KSB8fCAoZWxlbWVudCBpbnN0YW5jZW9mIE11bHRpTW9kZWxFZGl0U3RhY2tFbGVtZW50KSk7XG59XG5leHBvcnQgY2xhc3MgRWRpdFN0YWNrIHtcbiAgICBjb25zdHJ1Y3Rvcihtb2RlbCwgdW5kb1JlZG9TZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMuX21vZGVsID0gbW9kZWw7XG4gICAgICAgIHRoaXMuX3VuZG9SZWRvU2VydmljZSA9IHVuZG9SZWRvU2VydmljZTtcbiAgICB9XG4gICAgcHVzaFN0YWNrRWxlbWVudCgpIHtcbiAgICAgICAgY29uc3QgbGFzdEVsZW1lbnQgPSB0aGlzLl91bmRvUmVkb1NlcnZpY2UuZ2V0TGFzdEVsZW1lbnQodGhpcy5fbW9kZWwudXJpKTtcbiAgICAgICAgaWYgKGlzRWRpdFN0YWNrRWxlbWVudChsYXN0RWxlbWVudCkpIHtcbiAgICAgICAgICAgIGxhc3RFbGVtZW50LmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcG9wU3RhY2tFbGVtZW50KCkge1xuICAgICAgICBjb25zdCBsYXN0RWxlbWVudCA9IHRoaXMuX3VuZG9SZWRvU2VydmljZS5nZXRMYXN0RWxlbWVudCh0aGlzLl9tb2RlbC51cmkpO1xuICAgICAgICBpZiAoaXNFZGl0U3RhY2tFbGVtZW50KGxhc3RFbGVtZW50KSkge1xuICAgICAgICAgICAgbGFzdEVsZW1lbnQub3BlbigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl91bmRvUmVkb1NlcnZpY2UucmVtb3ZlRWxlbWVudHModGhpcy5fbW9kZWwudXJpKTtcbiAgICB9XG4gICAgX2dldE9yQ3JlYXRlRWRpdFN0YWNrRWxlbWVudChiZWZvcmVDdXJzb3JTdGF0ZSwgZ3JvdXApIHtcbiAgICAgICAgY29uc3QgbGFzdEVsZW1lbnQgPSB0aGlzLl91bmRvUmVkb1NlcnZpY2UuZ2V0TGFzdEVsZW1lbnQodGhpcy5fbW9kZWwudXJpKTtcbiAgICAgICAgaWYgKGlzRWRpdFN0YWNrRWxlbWVudChsYXN0RWxlbWVudCkgJiYgbGFzdEVsZW1lbnQuY2FuQXBwZW5kKHRoaXMuX21vZGVsKSkge1xuICAgICAgICAgICAgcmV0dXJuIGxhc3RFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0VsZW1lbnQgPSBuZXcgU2luZ2xlTW9kZWxFZGl0U3RhY2tFbGVtZW50KG5scy5sb2NhbGl6ZSgnZWRpdCcsIFwiVHlwaW5nXCIpLCAndW5kb3JlZG8udGV4dEJ1ZmZlckVkaXQnLCB0aGlzLl9tb2RlbCwgYmVmb3JlQ3Vyc29yU3RhdGUpO1xuICAgICAgICB0aGlzLl91bmRvUmVkb1NlcnZpY2UucHVzaEVsZW1lbnQobmV3RWxlbWVudCwgZ3JvdXApO1xuICAgICAgICByZXR1cm4gbmV3RWxlbWVudDtcbiAgICB9XG4gICAgcHVzaEVPTChlb2wpIHtcbiAgICAgICAgY29uc3QgZWRpdFN0YWNrRWxlbWVudCA9IHRoaXMuX2dldE9yQ3JlYXRlRWRpdFN0YWNrRWxlbWVudChudWxsLCB1bmRlZmluZWQpO1xuICAgICAgICB0aGlzLl9tb2RlbC5zZXRFT0woZW9sKTtcbiAgICAgICAgZWRpdFN0YWNrRWxlbWVudC5hcHBlbmQodGhpcy5fbW9kZWwsIFtdLCBnZXRNb2RlbEVPTCh0aGlzLl9tb2RlbCksIHRoaXMuX21vZGVsLmdldEFsdGVybmF0aXZlVmVyc2lvbklkKCksIG51bGwpO1xuICAgIH1cbiAgICBwdXNoRWRpdE9wZXJhdGlvbihiZWZvcmVDdXJzb3JTdGF0ZSwgZWRpdE9wZXJhdGlvbnMsIGN1cnNvclN0YXRlQ29tcHV0ZXIsIGdyb3VwKSB7XG4gICAgICAgIGNvbnN0IGVkaXRTdGFja0VsZW1lbnQgPSB0aGlzLl9nZXRPckNyZWF0ZUVkaXRTdGFja0VsZW1lbnQoYmVmb3JlQ3Vyc29yU3RhdGUsIGdyb3VwKTtcbiAgICAgICAgY29uc3QgaW52ZXJzZUVkaXRPcGVyYXRpb25zID0gdGhpcy5fbW9kZWwuYXBwbHlFZGl0cyhlZGl0T3BlcmF0aW9ucywgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IGFmdGVyQ3Vyc29yU3RhdGUgPSBFZGl0U3RhY2suX2NvbXB1dGVDdXJzb3JTdGF0ZShjdXJzb3JTdGF0ZUNvbXB1dGVyLCBpbnZlcnNlRWRpdE9wZXJhdGlvbnMpO1xuICAgICAgICBjb25zdCB0ZXh0Q2hhbmdlcyA9IGludmVyc2VFZGl0T3BlcmF0aW9ucy5tYXAoKG9wLCBpbmRleCkgPT4gKHsgaW5kZXg6IGluZGV4LCB0ZXh0Q2hhbmdlOiBvcC50ZXh0Q2hhbmdlIH0pKTtcbiAgICAgICAgdGV4dENoYW5nZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgaWYgKGEudGV4dENoYW5nZS5vbGRQb3NpdGlvbiA9PT0gYi50ZXh0Q2hhbmdlLm9sZFBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGEudGV4dENoYW5nZS5vbGRQb3NpdGlvbiAtIGIudGV4dENoYW5nZS5vbGRQb3NpdGlvbjtcbiAgICAgICAgfSk7XG4gICAgICAgIGVkaXRTdGFja0VsZW1lbnQuYXBwZW5kKHRoaXMuX21vZGVsLCB0ZXh0Q2hhbmdlcy5tYXAob3AgPT4gb3AudGV4dENoYW5nZSksIGdldE1vZGVsRU9MKHRoaXMuX21vZGVsKSwgdGhpcy5fbW9kZWwuZ2V0QWx0ZXJuYXRpdmVWZXJzaW9uSWQoKSwgYWZ0ZXJDdXJzb3JTdGF0ZSk7XG4gICAgICAgIHJldHVybiBhZnRlckN1cnNvclN0YXRlO1xuICAgIH1cbiAgICBzdGF0aWMgX2NvbXB1dGVDdXJzb3JTdGF0ZShjdXJzb3JTdGF0ZUNvbXB1dGVyLCBpbnZlcnNlRWRpdE9wZXJhdGlvbnMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBjdXJzb3JTdGF0ZUNvbXB1dGVyID8gY3Vyc29yU3RhdGVDb21wdXRlcihpbnZlcnNlRWRpdE9wZXJhdGlvbnMpIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgb25VbmV4cGVjdGVkRXJyb3IoZSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgZmluZExhc3QgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9hcnJheXNGaW5kLmpzJztcbmltcG9ydCAqIGFzIHN0cmluZ3MgZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vc3RyaW5ncy5qcyc7XG5pbXBvcnQgeyBDdXJzb3JDb2x1bW5zIH0gZnJvbSAnLi4vY29yZS9jdXJzb3JDb2x1bW5zLmpzJztcbmltcG9ydCB7IFJhbmdlIH0gZnJvbSAnLi4vY29yZS9yYW5nZS5qcyc7XG5pbXBvcnQgeyBUZXh0TW9kZWxQYXJ0IH0gZnJvbSAnLi90ZXh0TW9kZWxQYXJ0LmpzJztcbmltcG9ydCB7IGNvbXB1dGVJbmRlbnRMZXZlbCB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgSG9yaXpvbnRhbEd1aWRlc1N0YXRlLCBJbmRlbnRHdWlkZSwgSW5kZW50R3VpZGVIb3Jpem9udGFsTGluZSB9IGZyb20gJy4uL3RleHRNb2RlbEd1aWRlcy5qcyc7XG5pbXBvcnQgeyBCdWdJbmRpY2F0aW5nRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9lcnJvcnMuanMnO1xuZXhwb3J0IGNsYXNzIEd1aWRlc1RleHRNb2RlbFBhcnQgZXh0ZW5kcyBUZXh0TW9kZWxQYXJ0IHtcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0TW9kZWwsIGxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50ZXh0TW9kZWwgPSB0ZXh0TW9kZWw7XG4gICAgICAgIHRoaXMubGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZSA9IGxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2U7XG4gICAgfVxuICAgIGdldExhbmd1YWdlQ29uZmlndXJhdGlvbihsYW5ndWFnZUlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UuZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uKGxhbmd1YWdlSWQpO1xuICAgIH1cbiAgICBfY29tcHV0ZUluZGVudExldmVsKGxpbmVJbmRleCkge1xuICAgICAgICByZXR1cm4gY29tcHV0ZUluZGVudExldmVsKHRoaXMudGV4dE1vZGVsLmdldExpbmVDb250ZW50KGxpbmVJbmRleCArIDEpLCB0aGlzLnRleHRNb2RlbC5nZXRPcHRpb25zKCkudGFiU2l6ZSk7XG4gICAgfVxuICAgIGdldEFjdGl2ZUluZGVudEd1aWRlKGxpbmVOdW1iZXIsIG1pbkxpbmVOdW1iZXIsIG1heExpbmVOdW1iZXIpIHtcbiAgICAgICAgdGhpcy5hc3NlcnROb3REaXNwb3NlZCgpO1xuICAgICAgICBjb25zdCBsaW5lQ291bnQgPSB0aGlzLnRleHRNb2RlbC5nZXRMaW5lQ291bnQoKTtcbiAgICAgICAgaWYgKGxpbmVOdW1iZXIgPCAxIHx8IGxpbmVOdW1iZXIgPiBsaW5lQ291bnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBCdWdJbmRpY2F0aW5nRXJyb3IoJ0lsbGVnYWwgdmFsdWUgZm9yIGxpbmVOdW1iZXInKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmb2xkaW5nUnVsZXMgPSB0aGlzLmdldExhbmd1YWdlQ29uZmlndXJhdGlvbih0aGlzLnRleHRNb2RlbC5nZXRMYW5ndWFnZUlkKCkpLmZvbGRpbmdSdWxlcztcbiAgICAgICAgY29uc3Qgb2ZmU2lkZSA9IEJvb2xlYW4oZm9sZGluZ1J1bGVzICYmIGZvbGRpbmdSdWxlcy5vZmZTaWRlKTtcbiAgICAgICAgbGV0IHVwX2Fib3ZlQ29udGVudExpbmVJbmRleCA9IC0yOyAvKiAtMiBpcyBhIG1hcmtlciBmb3Igbm90IGhhdmluZyBjb21wdXRlZCBpdCAqL1xuICAgICAgICBsZXQgdXBfYWJvdmVDb250ZW50TGluZUluZGVudCA9IC0xO1xuICAgICAgICBsZXQgdXBfYmVsb3dDb250ZW50TGluZUluZGV4ID0gLTI7IC8qIC0yIGlzIGEgbWFya2VyIGZvciBub3QgaGF2aW5nIGNvbXB1dGVkIGl0ICovXG4gICAgICAgIGxldCB1cF9iZWxvd0NvbnRlbnRMaW5lSW5kZW50ID0gLTE7XG4gICAgICAgIGNvbnN0IHVwX3Jlc29sdmVJbmRlbnRzID0gKGxpbmVOdW1iZXIpID0+IHtcbiAgICAgICAgICAgIGlmICh1cF9hYm92ZUNvbnRlbnRMaW5lSW5kZXggIT09IC0xICYmXG4gICAgICAgICAgICAgICAgKHVwX2Fib3ZlQ29udGVudExpbmVJbmRleCA9PT0gLTIgfHxcbiAgICAgICAgICAgICAgICAgICAgdXBfYWJvdmVDb250ZW50TGluZUluZGV4ID4gbGluZU51bWJlciAtIDEpKSB7XG4gICAgICAgICAgICAgICAgdXBfYWJvdmVDb250ZW50TGluZUluZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgdXBfYWJvdmVDb250ZW50TGluZUluZGVudCA9IC0xO1xuICAgICAgICAgICAgICAgIC8vIG11c3QgZmluZCBwcmV2aW91cyBsaW5lIHdpdGggY29udGVudFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGxpbmVJbmRleCA9IGxpbmVOdW1iZXIgLSAyOyBsaW5lSW5kZXggPj0gMDsgbGluZUluZGV4LS0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZW50ID0gdGhpcy5fY29tcHV0ZUluZGVudExldmVsKGxpbmVJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRlbnQgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBfYWJvdmVDb250ZW50TGluZUluZGV4ID0gbGluZUluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBfYWJvdmVDb250ZW50TGluZUluZGVudCA9IGluZGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVwX2JlbG93Q29udGVudExpbmVJbmRleCA9PT0gLTIpIHtcbiAgICAgICAgICAgICAgICB1cF9iZWxvd0NvbnRlbnRMaW5lSW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICB1cF9iZWxvd0NvbnRlbnRMaW5lSW5kZW50ID0gLTE7XG4gICAgICAgICAgICAgICAgLy8gbXVzdCBmaW5kIG5leHQgbGluZSB3aXRoIGNvbnRlbnRcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBsaW5lSW5kZXggPSBsaW5lTnVtYmVyOyBsaW5lSW5kZXggPCBsaW5lQ291bnQ7IGxpbmVJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGVudCA9IHRoaXMuX2NvbXB1dGVJbmRlbnRMZXZlbChsaW5lSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZW50ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwX2JlbG93Q29udGVudExpbmVJbmRleCA9IGxpbmVJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwX2JlbG93Q29udGVudExpbmVJbmRlbnQgPSBpbmRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGRvd25fYWJvdmVDb250ZW50TGluZUluZGV4ID0gLTI7IC8qIC0yIGlzIGEgbWFya2VyIGZvciBub3QgaGF2aW5nIGNvbXB1dGVkIGl0ICovXG4gICAgICAgIGxldCBkb3duX2Fib3ZlQ29udGVudExpbmVJbmRlbnQgPSAtMTtcbiAgICAgICAgbGV0IGRvd25fYmVsb3dDb250ZW50TGluZUluZGV4ID0gLTI7IC8qIC0yIGlzIGEgbWFya2VyIGZvciBub3QgaGF2aW5nIGNvbXB1dGVkIGl0ICovXG4gICAgICAgIGxldCBkb3duX2JlbG93Q29udGVudExpbmVJbmRlbnQgPSAtMTtcbiAgICAgICAgY29uc3QgZG93bl9yZXNvbHZlSW5kZW50cyA9IChsaW5lTnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoZG93bl9hYm92ZUNvbnRlbnRMaW5lSW5kZXggPT09IC0yKSB7XG4gICAgICAgICAgICAgICAgZG93bl9hYm92ZUNvbnRlbnRMaW5lSW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICBkb3duX2Fib3ZlQ29udGVudExpbmVJbmRlbnQgPSAtMTtcbiAgICAgICAgICAgICAgICAvLyBtdXN0IGZpbmQgcHJldmlvdXMgbGluZSB3aXRoIGNvbnRlbnRcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBsaW5lSW5kZXggPSBsaW5lTnVtYmVyIC0gMjsgbGluZUluZGV4ID49IDA7IGxpbmVJbmRleC0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGVudCA9IHRoaXMuX2NvbXB1dGVJbmRlbnRMZXZlbChsaW5lSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZW50ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25fYWJvdmVDb250ZW50TGluZUluZGV4ID0gbGluZUluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgZG93bl9hYm92ZUNvbnRlbnRMaW5lSW5kZW50ID0gaW5kZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZG93bl9iZWxvd0NvbnRlbnRMaW5lSW5kZXggIT09IC0xICYmXG4gICAgICAgICAgICAgICAgKGRvd25fYmVsb3dDb250ZW50TGluZUluZGV4ID09PSAtMiB8fFxuICAgICAgICAgICAgICAgICAgICBkb3duX2JlbG93Q29udGVudExpbmVJbmRleCA8IGxpbmVOdW1iZXIgLSAxKSkge1xuICAgICAgICAgICAgICAgIGRvd25fYmVsb3dDb250ZW50TGluZUluZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgZG93bl9iZWxvd0NvbnRlbnRMaW5lSW5kZW50ID0gLTE7XG4gICAgICAgICAgICAgICAgLy8gbXVzdCBmaW5kIG5leHQgbGluZSB3aXRoIGNvbnRlbnRcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBsaW5lSW5kZXggPSBsaW5lTnVtYmVyOyBsaW5lSW5kZXggPCBsaW5lQ291bnQ7IGxpbmVJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGVudCA9IHRoaXMuX2NvbXB1dGVJbmRlbnRMZXZlbChsaW5lSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZW50ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25fYmVsb3dDb250ZW50TGluZUluZGV4ID0gbGluZUluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgZG93bl9iZWxvd0NvbnRlbnRMaW5lSW5kZW50ID0gaW5kZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGxldCBzdGFydExpbmVOdW1iZXIgPSAwO1xuICAgICAgICBsZXQgZ29VcCA9IHRydWU7XG4gICAgICAgIGxldCBlbmRMaW5lTnVtYmVyID0gMDtcbiAgICAgICAgbGV0IGdvRG93biA9IHRydWU7XG4gICAgICAgIGxldCBpbmRlbnQgPSAwO1xuICAgICAgICBsZXQgaW5pdGlhbEluZGVudCA9IDA7XG4gICAgICAgIGZvciAobGV0IGRpc3RhbmNlID0gMDsgZ29VcCB8fCBnb0Rvd247IGRpc3RhbmNlKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHVwTGluZU51bWJlciA9IGxpbmVOdW1iZXIgLSBkaXN0YW5jZTtcbiAgICAgICAgICAgIGNvbnN0IGRvd25MaW5lTnVtYmVyID0gbGluZU51bWJlciArIGRpc3RhbmNlO1xuICAgICAgICAgICAgaWYgKGRpc3RhbmNlID4gMSAmJiAodXBMaW5lTnVtYmVyIDwgMSB8fCB1cExpbmVOdW1iZXIgPCBtaW5MaW5lTnVtYmVyKSkge1xuICAgICAgICAgICAgICAgIGdvVXAgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA+IDEgJiZcbiAgICAgICAgICAgICAgICAoZG93bkxpbmVOdW1iZXIgPiBsaW5lQ291bnQgfHwgZG93bkxpbmVOdW1iZXIgPiBtYXhMaW5lTnVtYmVyKSkge1xuICAgICAgICAgICAgICAgIGdvRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlID4gNTAwMDApIHtcbiAgICAgICAgICAgICAgICAvLyBzdG9wIHByb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICBnb1VwID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZ29Eb3duID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdXBMaW5lSW5kZW50TGV2ZWwgPSAtMTtcbiAgICAgICAgICAgIGlmIChnb1VwICYmIHVwTGluZU51bWJlciA+PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gY29tcHV0ZSBpbmRlbnQgbGV2ZWwgZ29pbmcgdXBcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50SW5kZW50ID0gdGhpcy5fY29tcHV0ZUluZGVudExldmVsKHVwTGluZU51bWJlciAtIDEpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50SW5kZW50ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBsaW5lIGhhcyBjb250ZW50IChiZXNpZGVzIHdoaXRlc3BhY2UpXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgbGluZSdzIGluZGVudFxuICAgICAgICAgICAgICAgICAgICB1cF9iZWxvd0NvbnRlbnRMaW5lSW5kZXggPSB1cExpbmVOdW1iZXIgLSAxO1xuICAgICAgICAgICAgICAgICAgICB1cF9iZWxvd0NvbnRlbnRMaW5lSW5kZW50ID0gY3VycmVudEluZGVudDtcbiAgICAgICAgICAgICAgICAgICAgdXBMaW5lSW5kZW50TGV2ZWwgPSBNYXRoLmNlaWwoY3VycmVudEluZGVudCAvIHRoaXMudGV4dE1vZGVsLmdldE9wdGlvbnMoKS5pbmRlbnRTaXplKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHVwX3Jlc29sdmVJbmRlbnRzKHVwTGluZU51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIHVwTGluZUluZGVudExldmVsID0gdGhpcy5fZ2V0SW5kZW50TGV2ZWxGb3JXaGl0ZXNwYWNlTGluZShvZmZTaWRlLCB1cF9hYm92ZUNvbnRlbnRMaW5lSW5kZW50LCB1cF9iZWxvd0NvbnRlbnRMaW5lSW5kZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZG93bkxpbmVJbmRlbnRMZXZlbCA9IC0xO1xuICAgICAgICAgICAgaWYgKGdvRG93biAmJiBkb3duTGluZU51bWJlciA8PSBsaW5lQ291bnQpIHtcbiAgICAgICAgICAgICAgICAvLyBjb21wdXRlIGluZGVudCBsZXZlbCBnb2luZyBkb3duXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEluZGVudCA9IHRoaXMuX2NvbXB1dGVJbmRlbnRMZXZlbChkb3duTGluZU51bWJlciAtIDEpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50SW5kZW50ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBsaW5lIGhhcyBjb250ZW50IChiZXNpZGVzIHdoaXRlc3BhY2UpXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgbGluZSdzIGluZGVudFxuICAgICAgICAgICAgICAgICAgICBkb3duX2Fib3ZlQ29udGVudExpbmVJbmRleCA9IGRvd25MaW5lTnVtYmVyIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgZG93bl9hYm92ZUNvbnRlbnRMaW5lSW5kZW50ID0gY3VycmVudEluZGVudDtcbiAgICAgICAgICAgICAgICAgICAgZG93bkxpbmVJbmRlbnRMZXZlbCA9IE1hdGguY2VpbChjdXJyZW50SW5kZW50IC8gdGhpcy50ZXh0TW9kZWwuZ2V0T3B0aW9ucygpLmluZGVudFNpemUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZG93bl9yZXNvbHZlSW5kZW50cyhkb3duTGluZU51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIGRvd25MaW5lSW5kZW50TGV2ZWwgPSB0aGlzLl9nZXRJbmRlbnRMZXZlbEZvcldoaXRlc3BhY2VMaW5lKG9mZlNpZGUsIGRvd25fYWJvdmVDb250ZW50TGluZUluZGVudCwgZG93bl9iZWxvd0NvbnRlbnRMaW5lSW5kZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsSW5kZW50ID0gdXBMaW5lSW5kZW50TGV2ZWw7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZG93bkxpbmVOdW1iZXIgPD0gbGluZUNvdW50ICYmXG4gICAgICAgICAgICAgICAgICAgIGRvd25MaW5lSW5kZW50TGV2ZWwgPj0gMCAmJlxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsSW5kZW50ICsgMSA9PT0gZG93bkxpbmVJbmRlbnRMZXZlbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBiZWdpbm5pbmcgb2YgYSBzY29wZSwgd2UgaGF2ZSBzcGVjaWFsIGhhbmRsaW5nIGhlcmUsIHNpbmNlIHdlIHdhbnQgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoaWxkIHNjb3BlIGluZGVudCB0byBiZSBhY3RpdmUsIG5vdCB0aGUgcGFyZW50IHNjb3BlXG4gICAgICAgICAgICAgICAgICAgIGdvVXAgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRMaW5lTnVtYmVyID0gZG93bkxpbmVOdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIGVuZExpbmVOdW1iZXIgPSBkb3duTGluZU51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgaW5kZW50ID0gZG93bkxpbmVJbmRlbnRMZXZlbDtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh1cExpbmVOdW1iZXIgPj0gMSAmJlxuICAgICAgICAgICAgICAgICAgICB1cExpbmVJbmRlbnRMZXZlbCA+PSAwICYmXG4gICAgICAgICAgICAgICAgICAgIHVwTGluZUluZGVudExldmVsIC0gMSA9PT0gaW5pdGlhbEluZGVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBlbmQgb2YgYSBzY29wZSwganVzdCBsaWtlIGFib3ZlXG4gICAgICAgICAgICAgICAgICAgIGdvRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBzdGFydExpbmVOdW1iZXIgPSB1cExpbmVOdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIGVuZExpbmVOdW1iZXIgPSB1cExpbmVOdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIGluZGVudCA9IHVwTGluZUluZGVudExldmVsO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhcnRMaW5lTnVtYmVyID0gbGluZU51bWJlcjtcbiAgICAgICAgICAgICAgICBlbmRMaW5lTnVtYmVyID0gbGluZU51bWJlcjtcbiAgICAgICAgICAgICAgICBpbmRlbnQgPSBpbml0aWFsSW5kZW50O1xuICAgICAgICAgICAgICAgIGlmIChpbmRlbnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBjb250aW51ZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzdGFydExpbmVOdW1iZXIsIGVuZExpbmVOdW1iZXIsIGluZGVudCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnb1VwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHVwTGluZUluZGVudExldmVsID49IGluZGVudCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydExpbmVOdW1iZXIgPSB1cExpbmVOdW1iZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBnb1VwID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdvRG93bikge1xuICAgICAgICAgICAgICAgIGlmIChkb3duTGluZUluZGVudExldmVsID49IGluZGVudCkge1xuICAgICAgICAgICAgICAgICAgICBlbmRMaW5lTnVtYmVyID0gZG93bkxpbmVOdW1iZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBnb0Rvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhcnRMaW5lTnVtYmVyLCBlbmRMaW5lTnVtYmVyLCBpbmRlbnQgfTtcbiAgICB9XG4gICAgZ2V0TGluZXNCcmFja2V0R3VpZGVzKHN0YXJ0TGluZU51bWJlciwgZW5kTGluZU51bWJlciwgYWN0aXZlUG9zaXRpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGxpbmVOdW1iZXIgPSBzdGFydExpbmVOdW1iZXI7IGxpbmVOdW1iZXIgPD0gZW5kTGluZU51bWJlcjsgbGluZU51bWJlcisrKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChbXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgcmVxdWVzdGVkLCB0aGlzIGNvdWxkIGJlIG1hZGUgY29uZmlndXJhYmxlLlxuICAgICAgICBjb25zdCBpbmNsdWRlU2luZ2xlTGluZVBhaXJzID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgYnJhY2tldFBhaXJzID0gdGhpcy50ZXh0TW9kZWwuYnJhY2tldFBhaXJzLmdldEJyYWNrZXRQYWlyc0luUmFuZ2VXaXRoTWluSW5kZW50YXRpb24obmV3IFJhbmdlKHN0YXJ0TGluZU51bWJlciwgMSwgZW5kTGluZU51bWJlciwgdGhpcy50ZXh0TW9kZWwuZ2V0TGluZU1heENvbHVtbihlbmRMaW5lTnVtYmVyKSkpLnRvQXJyYXkoKTtcbiAgICAgICAgbGV0IGFjdGl2ZUJyYWNrZXRQYWlyUmFuZ2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChhY3RpdmVQb3NpdGlvbiAmJiBicmFja2V0UGFpcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgYnJhY2tldHNDb250YWluaW5nQWN0aXZlUG9zaXRpb24gPSAoc3RhcnRMaW5lTnVtYmVyIDw9IGFjdGl2ZVBvc2l0aW9uLmxpbmVOdW1iZXIgJiZcbiAgICAgICAgICAgICAgICBhY3RpdmVQb3NpdGlvbi5saW5lTnVtYmVyIDw9IGVuZExpbmVOdW1iZXJcbiAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBuZWVkIHRvIHF1ZXJ5IHRoZSBicmFja2V0cyBhZ2FpbiBpZiB0aGUgY3Vyc29yIGlzIGluIHRoZSB2aWV3cG9ydFxuICAgICAgICAgICAgICAgID8gYnJhY2tldFBhaXJzXG4gICAgICAgICAgICAgICAgOiB0aGlzLnRleHRNb2RlbC5icmFja2V0UGFpcnMuZ2V0QnJhY2tldFBhaXJzSW5SYW5nZShSYW5nZS5mcm9tUG9zaXRpb25zKGFjdGl2ZVBvc2l0aW9uKSkudG9BcnJheSgpKS5maWx0ZXIoKGJwKSA9PiBSYW5nZS5zdHJpY3RDb250YWluc1Bvc2l0aW9uKGJwLnJhbmdlLCBhY3RpdmVQb3NpdGlvbikpO1xuICAgICAgICAgICAgYWN0aXZlQnJhY2tldFBhaXJSYW5nZSA9IGZpbmRMYXN0KGJyYWNrZXRzQ29udGFpbmluZ0FjdGl2ZVBvc2l0aW9uLCAoaSkgPT4gaW5jbHVkZVNpbmdsZUxpbmVQYWlycyB8fCBpLnJhbmdlLnN0YXJ0TGluZU51bWJlciAhPT0gaS5yYW5nZS5lbmRMaW5lTnVtYmVyKT8ucmFuZ2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXBlbmRlbnRDb2xvclBvb2xQZXJCcmFja2V0VHlwZSA9IHRoaXMudGV4dE1vZGVsLmdldE9wdGlvbnMoKS5icmFja2V0UGFpckNvbG9yaXphdGlvbk9wdGlvbnMuaW5kZXBlbmRlbnRDb2xvclBvb2xQZXJCcmFja2V0VHlwZTtcbiAgICAgICAgY29uc3QgY29sb3JQcm92aWRlciA9IG5ldyBCcmFja2V0UGFpckd1aWRlc0NsYXNzTmFtZXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIGJyYWNrZXRQYWlycykge1xuICAgICAgICAgICAgLypcblxuXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAgICAgICAgICAgIC0tLS19XG5cbiAgICAgICAgICAgICAgICBfX19fe1xuICAgICAgICAgICAgICAgIHx0ZXN0XG4gICAgICAgICAgICAgICAgLS0tLX1cblxuICAgICAgICAgICAgICAgIHJlbmRlckhvcml6b250YWxFbmRMaW5lQXRUaGVCb3R0b206XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgICAgICAgICAgICB8eH1cbiAgICAgICAgICAgICAgICAgICAgLS1cbiAgICAgICAgICAgICAgICByZW5kZXJIb3Jpem9udGFsRW5kTGluZUF0VGhlQm90dG9tOlxuICAgICAgICAgICAgICAgIF9fX197XG4gICAgICAgICAgICAgICAgfHRlc3RcbiAgICAgICAgICAgICAgICB8IHggfVxuICAgICAgICAgICAgICAgIC0tLS1cbiAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoIXBhaXIuY2xvc2luZ0JyYWNrZXRSYW5nZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBhY3RpdmVCcmFja2V0UGFpclJhbmdlICYmIHBhaXIucmFuZ2UuZXF1YWxzUmFuZ2UoYWN0aXZlQnJhY2tldFBhaXJSYW5nZSk7XG4gICAgICAgICAgICBpZiAoIWlzQWN0aXZlICYmICFvcHRpb25zLmluY2x1ZGVJbmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gY29sb3JQcm92aWRlci5nZXRJbmxpbmVDbGFzc05hbWUocGFpci5uZXN0aW5nTGV2ZWwsIHBhaXIubmVzdGluZ0xldmVsT2ZFcXVhbEJyYWNrZXRUeXBlLCBpbmRlcGVuZGVudENvbG9yUG9vbFBlckJyYWNrZXRUeXBlKSArXG4gICAgICAgICAgICAgICAgKG9wdGlvbnMuaGlnaGxpZ2h0QWN0aXZlICYmIGlzQWN0aXZlXG4gICAgICAgICAgICAgICAgICAgID8gJyAnICsgY29sb3JQcm92aWRlci5hY3RpdmVDbGFzc05hbWVcbiAgICAgICAgICAgICAgICAgICAgOiAnJyk7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IHBhaXIub3BlbmluZ0JyYWNrZXRSYW5nZS5nZXRTdGFydFBvc2l0aW9uKCk7XG4gICAgICAgICAgICBjb25zdCBlbmQgPSBwYWlyLmNsb3NpbmdCcmFja2V0UmFuZ2UuZ2V0U3RhcnRQb3NpdGlvbigpO1xuICAgICAgICAgICAgY29uc3QgaG9yaXpvbnRhbEd1aWRlcyA9IG9wdGlvbnMuaG9yaXpvbnRhbEd1aWRlcyA9PT0gSG9yaXpvbnRhbEd1aWRlc1N0YXRlLkVuYWJsZWQgfHwgKG9wdGlvbnMuaG9yaXpvbnRhbEd1aWRlcyA9PT0gSG9yaXpvbnRhbEd1aWRlc1N0YXRlLkVuYWJsZWRGb3JBY3RpdmUgJiYgaXNBY3RpdmUpO1xuICAgICAgICAgICAgaWYgKHBhaXIucmFuZ2Uuc3RhcnRMaW5lTnVtYmVyID09PSBwYWlyLnJhbmdlLmVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZVNpbmdsZUxpbmVQYWlycyAmJiBob3Jpem9udGFsR3VpZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtwYWlyLnJhbmdlLnN0YXJ0TGluZU51bWJlciAtIHN0YXJ0TGluZU51bWJlcl0ucHVzaChuZXcgSW5kZW50R3VpZGUoLTEsIHBhaXIub3BlbmluZ0JyYWNrZXRSYW5nZS5nZXRFbmRQb3NpdGlvbigpLmNvbHVtbiwgY2xhc3NOYW1lLCBuZXcgSW5kZW50R3VpZGVIb3Jpem9udGFsTGluZShmYWxzZSwgZW5kLmNvbHVtbiksIC0xLCAtMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVuZFZpc2libGVDb2x1bW4gPSB0aGlzLmdldFZpc2libGVDb2x1bW5Gcm9tUG9zaXRpb24oZW5kKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VmlzaWJsZUNvbHVtbiA9IHRoaXMuZ2V0VmlzaWJsZUNvbHVtbkZyb21Qb3NpdGlvbihwYWlyLm9wZW5pbmdCcmFja2V0UmFuZ2UuZ2V0U3RhcnRQb3NpdGlvbigpKTtcbiAgICAgICAgICAgIGNvbnN0IGd1aWRlVmlzaWJsZUNvbHVtbiA9IE1hdGgubWluKHN0YXJ0VmlzaWJsZUNvbHVtbiwgZW5kVmlzaWJsZUNvbHVtbiwgcGFpci5taW5WaXNpYmxlQ29sdW1uSW5kZW50YXRpb24gKyAxKTtcbiAgICAgICAgICAgIGxldCByZW5kZXJIb3Jpem9udGFsRW5kTGluZUF0VGhlQm90dG9tID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBmaXJzdE5vbldzSW5kZXggPSBzdHJpbmdzLmZpcnN0Tm9uV2hpdGVzcGFjZUluZGV4KHRoaXMudGV4dE1vZGVsLmdldExpbmVDb250ZW50KHBhaXIuY2xvc2luZ0JyYWNrZXRSYW5nZS5zdGFydExpbmVOdW1iZXIpKTtcbiAgICAgICAgICAgIGNvbnN0IGhhc1RleHRCZWZvcmVDbG9zaW5nQnJhY2tldCA9IGZpcnN0Tm9uV3NJbmRleCA8IHBhaXIuY2xvc2luZ0JyYWNrZXRSYW5nZS5zdGFydENvbHVtbiAtIDE7XG4gICAgICAgICAgICBpZiAoaGFzVGV4dEJlZm9yZUNsb3NpbmdCcmFja2V0KSB7XG4gICAgICAgICAgICAgICAgcmVuZGVySG9yaXpvbnRhbEVuZExpbmVBdFRoZUJvdHRvbSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlR3VpZGVTdGFydExpbmVOdW1iZXIgPSBNYXRoLm1heChzdGFydC5saW5lTnVtYmVyLCBzdGFydExpbmVOdW1iZXIpO1xuICAgICAgICAgICAgY29uc3QgdmlzaWJsZUd1aWRlRW5kTGluZU51bWJlciA9IE1hdGgubWluKGVuZC5saW5lTnVtYmVyLCBlbmRMaW5lTnVtYmVyKTtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHJlbmRlckhvcml6b250YWxFbmRMaW5lQXRUaGVCb3R0b20gPyAxIDogMDtcbiAgICAgICAgICAgIGZvciAobGV0IGwgPSB2aXNpYmxlR3VpZGVTdGFydExpbmVOdW1iZXI7IGwgPCB2aXNpYmxlR3VpZGVFbmRMaW5lTnVtYmVyICsgb2Zmc2V0OyBsKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbbCAtIHN0YXJ0TGluZU51bWJlcl0ucHVzaChuZXcgSW5kZW50R3VpZGUoZ3VpZGVWaXNpYmxlQ29sdW1uLCAtMSwgY2xhc3NOYW1lLCBudWxsLCBsID09PSBzdGFydC5saW5lTnVtYmVyID8gc3RhcnQuY29sdW1uIDogLTEsIGwgPT09IGVuZC5saW5lTnVtYmVyID8gZW5kLmNvbHVtbiA6IC0xKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaG9yaXpvbnRhbEd1aWRlcykge1xuICAgICAgICAgICAgICAgIGlmIChzdGFydC5saW5lTnVtYmVyID49IHN0YXJ0TGluZU51bWJlciAmJiBzdGFydFZpc2libGVDb2x1bW4gPiBndWlkZVZpc2libGVDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3N0YXJ0LmxpbmVOdW1iZXIgLSBzdGFydExpbmVOdW1iZXJdLnB1c2gobmV3IEluZGVudEd1aWRlKGd1aWRlVmlzaWJsZUNvbHVtbiwgLTEsIGNsYXNzTmFtZSwgbmV3IEluZGVudEd1aWRlSG9yaXpvbnRhbExpbmUoZmFsc2UsIHN0YXJ0LmNvbHVtbiksIC0xLCAtMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZW5kLmxpbmVOdW1iZXIgPD0gZW5kTGluZU51bWJlciAmJiBlbmRWaXNpYmxlQ29sdW1uID4gZ3VpZGVWaXNpYmxlQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtlbmQubGluZU51bWJlciAtIHN0YXJ0TGluZU51bWJlcl0ucHVzaChuZXcgSW5kZW50R3VpZGUoZ3VpZGVWaXNpYmxlQ29sdW1uLCAtMSwgY2xhc3NOYW1lLCBuZXcgSW5kZW50R3VpZGVIb3Jpem9udGFsTGluZSghcmVuZGVySG9yaXpvbnRhbEVuZExpbmVBdFRoZUJvdHRvbSwgZW5kLmNvbHVtbiksIC0xLCAtMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGd1aWRlcyBvZiByZXN1bHQpIHtcbiAgICAgICAgICAgIGd1aWRlcy5zb3J0KChhLCBiKSA9PiBhLnZpc2libGVDb2x1bW4gLSBiLnZpc2libGVDb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGdldFZpc2libGVDb2x1bW5Gcm9tUG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIChDdXJzb3JDb2x1bW5zLnZpc2libGVDb2x1bW5Gcm9tQ29sdW1uKHRoaXMudGV4dE1vZGVsLmdldExpbmVDb250ZW50KHBvc2l0aW9uLmxpbmVOdW1iZXIpLCBwb3NpdGlvbi5jb2x1bW4sIHRoaXMudGV4dE1vZGVsLmdldE9wdGlvbnMoKS50YWJTaXplKSArIDEpO1xuICAgIH1cbiAgICBnZXRMaW5lc0luZGVudEd1aWRlcyhzdGFydExpbmVOdW1iZXIsIGVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgdGhpcy5hc3NlcnROb3REaXNwb3NlZCgpO1xuICAgICAgICBjb25zdCBsaW5lQ291bnQgPSB0aGlzLnRleHRNb2RlbC5nZXRMaW5lQ291bnQoKTtcbiAgICAgICAgaWYgKHN0YXJ0TGluZU51bWJlciA8IDEgfHwgc3RhcnRMaW5lTnVtYmVyID4gbGluZUNvdW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgdmFsdWUgZm9yIHN0YXJ0TGluZU51bWJlcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmRMaW5lTnVtYmVyIDwgMSB8fCBlbmRMaW5lTnVtYmVyID4gbGluZUNvdW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgdmFsdWUgZm9yIGVuZExpbmVOdW1iZXInKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy50ZXh0TW9kZWwuZ2V0T3B0aW9ucygpO1xuICAgICAgICBjb25zdCBmb2xkaW5nUnVsZXMgPSB0aGlzLmdldExhbmd1YWdlQ29uZmlndXJhdGlvbih0aGlzLnRleHRNb2RlbC5nZXRMYW5ndWFnZUlkKCkpLmZvbGRpbmdSdWxlcztcbiAgICAgICAgY29uc3Qgb2ZmU2lkZSA9IEJvb2xlYW4oZm9sZGluZ1J1bGVzICYmIGZvbGRpbmdSdWxlcy5vZmZTaWRlKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5KGVuZExpbmVOdW1iZXIgLSBzdGFydExpbmVOdW1iZXIgKyAxKTtcbiAgICAgICAgbGV0IGFib3ZlQ29udGVudExpbmVJbmRleCA9IC0yOyAvKiAtMiBpcyBhIG1hcmtlciBmb3Igbm90IGhhdmluZyBjb21wdXRlZCBpdCAqL1xuICAgICAgICBsZXQgYWJvdmVDb250ZW50TGluZUluZGVudCA9IC0xO1xuICAgICAgICBsZXQgYmVsb3dDb250ZW50TGluZUluZGV4ID0gLTI7IC8qIC0yIGlzIGEgbWFya2VyIGZvciBub3QgaGF2aW5nIGNvbXB1dGVkIGl0ICovXG4gICAgICAgIGxldCBiZWxvd0NvbnRlbnRMaW5lSW5kZW50ID0gLTE7XG4gICAgICAgIGZvciAobGV0IGxpbmVOdW1iZXIgPSBzdGFydExpbmVOdW1iZXI7IGxpbmVOdW1iZXIgPD0gZW5kTGluZU51bWJlcjsgbGluZU51bWJlcisrKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHRJbmRleCA9IGxpbmVOdW1iZXIgLSBzdGFydExpbmVOdW1iZXI7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50SW5kZW50ID0gdGhpcy5fY29tcHV0ZUluZGVudExldmVsKGxpbmVOdW1iZXIgLSAxKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50SW5kZW50ID49IDApIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGxpbmUgaGFzIGNvbnRlbnQgKGJlc2lkZXMgd2hpdGVzcGFjZSlcbiAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIGxpbmUncyBpbmRlbnRcbiAgICAgICAgICAgICAgICBhYm92ZUNvbnRlbnRMaW5lSW5kZXggPSBsaW5lTnVtYmVyIC0gMTtcbiAgICAgICAgICAgICAgICBhYm92ZUNvbnRlbnRMaW5lSW5kZW50ID0gY3VycmVudEluZGVudDtcbiAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0SW5kZXhdID0gTWF0aC5jZWlsKGN1cnJlbnRJbmRlbnQgLyBvcHRpb25zLmluZGVudFNpemUpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFib3ZlQ29udGVudExpbmVJbmRleCA9PT0gLTIpIHtcbiAgICAgICAgICAgICAgICBhYm92ZUNvbnRlbnRMaW5lSW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICBhYm92ZUNvbnRlbnRMaW5lSW5kZW50ID0gLTE7XG4gICAgICAgICAgICAgICAgLy8gbXVzdCBmaW5kIHByZXZpb3VzIGxpbmUgd2l0aCBjb250ZW50XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbGluZUluZGV4ID0gbGluZU51bWJlciAtIDI7IGxpbmVJbmRleCA+PSAwOyBsaW5lSW5kZXgtLSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRlbnQgPSB0aGlzLl9jb21wdXRlSW5kZW50TGV2ZWwobGluZUluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGVudCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhYm92ZUNvbnRlbnRMaW5lSW5kZXggPSBsaW5lSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBhYm92ZUNvbnRlbnRMaW5lSW5kZW50ID0gaW5kZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmVsb3dDb250ZW50TGluZUluZGV4ICE9PSAtMSAmJlxuICAgICAgICAgICAgICAgIChiZWxvd0NvbnRlbnRMaW5lSW5kZXggPT09IC0yIHx8IGJlbG93Q29udGVudExpbmVJbmRleCA8IGxpbmVOdW1iZXIgLSAxKSkge1xuICAgICAgICAgICAgICAgIGJlbG93Q29udGVudExpbmVJbmRleCA9IC0xO1xuICAgICAgICAgICAgICAgIGJlbG93Q29udGVudExpbmVJbmRlbnQgPSAtMTtcbiAgICAgICAgICAgICAgICAvLyBtdXN0IGZpbmQgbmV4dCBsaW5lIHdpdGggY29udGVudFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGxpbmVJbmRleCA9IGxpbmVOdW1iZXI7IGxpbmVJbmRleCA8IGxpbmVDb3VudDsgbGluZUluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZW50ID0gdGhpcy5fY29tcHV0ZUluZGVudExldmVsKGxpbmVJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRlbnQgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmVsb3dDb250ZW50TGluZUluZGV4ID0gbGluZUluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgYmVsb3dDb250ZW50TGluZUluZGVudCA9IGluZGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdEluZGV4XSA9IHRoaXMuX2dldEluZGVudExldmVsRm9yV2hpdGVzcGFjZUxpbmUob2ZmU2lkZSwgYWJvdmVDb250ZW50TGluZUluZGVudCwgYmVsb3dDb250ZW50TGluZUluZGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgX2dldEluZGVudExldmVsRm9yV2hpdGVzcGFjZUxpbmUob2ZmU2lkZSwgYWJvdmVDb250ZW50TGluZUluZGVudCwgYmVsb3dDb250ZW50TGluZUluZGVudCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy50ZXh0TW9kZWwuZ2V0T3B0aW9ucygpO1xuICAgICAgICBpZiAoYWJvdmVDb250ZW50TGluZUluZGVudCA9PT0gLTEgfHwgYmVsb3dDb250ZW50TGluZUluZGVudCA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIEF0IHRoZSB0b3Agb3IgYm90dG9tIG9mIHRoZSBmaWxlXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhYm92ZUNvbnRlbnRMaW5lSW5kZW50IDwgYmVsb3dDb250ZW50TGluZUluZGVudCkge1xuICAgICAgICAgICAgLy8gd2UgYXJlIGluc2lkZSB0aGUgcmVnaW9uIGFib3ZlXG4gICAgICAgICAgICByZXR1cm4gMSArIE1hdGguZmxvb3IoYWJvdmVDb250ZW50TGluZUluZGVudCAvIG9wdGlvbnMuaW5kZW50U2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYWJvdmVDb250ZW50TGluZUluZGVudCA9PT0gYmVsb3dDb250ZW50TGluZUluZGVudCkge1xuICAgICAgICAgICAgLy8gd2UgYXJlIGluIGJldHdlZW4gdHdvIHJlZ2lvbnNcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwoYmVsb3dDb250ZW50TGluZUluZGVudCAvIG9wdGlvbnMuaW5kZW50U2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAob2ZmU2lkZSkge1xuICAgICAgICAgICAgICAgIC8vIHNhbWUgbGV2ZWwgYXMgcmVnaW9uIGJlbG93XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbChiZWxvd0NvbnRlbnRMaW5lSW5kZW50IC8gb3B0aW9ucy5pbmRlbnRTaXplKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBpbnNpZGUgdGhlIHJlZ2lvbiB0aGF0IGVuZHMgYmVsb3dcbiAgICAgICAgICAgICAgICByZXR1cm4gMSArIE1hdGguZmxvb3IoYmVsb3dDb250ZW50TGluZUluZGVudCAvIG9wdGlvbnMuaW5kZW50U2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQnJhY2tldFBhaXJHdWlkZXNDbGFzc05hbWVzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVDbGFzc05hbWUgPSAnaW5kZW50LWFjdGl2ZSc7XG4gICAgfVxuICAgIGdldElubGluZUNsYXNzTmFtZShuZXN0aW5nTGV2ZWwsIG5lc3RpbmdMZXZlbE9mRXF1YWxCcmFja2V0VHlwZSwgaW5kZXBlbmRlbnRDb2xvclBvb2xQZXJCcmFja2V0VHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbmxpbmVDbGFzc05hbWVPZkxldmVsKGluZGVwZW5kZW50Q29sb3JQb29sUGVyQnJhY2tldFR5cGUgPyBuZXN0aW5nTGV2ZWxPZkVxdWFsQnJhY2tldFR5cGUgOiBuZXN0aW5nTGV2ZWwpO1xuICAgIH1cbiAgICBnZXRJbmxpbmVDbGFzc05hbWVPZkxldmVsKGxldmVsKSB7XG4gICAgICAgIC8vIFRvIHN1cHBvcnQgYSBkeW5hbWljIGFtb3VudCBvZiBjb2xvcnMgdXAgdG8gNiBjb2xvcnMsXG4gICAgICAgIC8vIHdlIHVzZSBhIG51bWJlciB0aGF0IGlzIGEgbGNtIG9mIGFsbCBudW1iZXJzIGZyb20gMSB0byA2LlxuICAgICAgICByZXR1cm4gYGJyYWNrZXQtaW5kZW50LWd1aWRlIGx2bC0ke2xldmVsICUgMzB9YDtcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydCBjbGFzcyBCcmFja2V0SW5mbyB7XG4gICAgY29uc3RydWN0b3IocmFuZ2UsIFxuICAgIC8qKiAwLWJhc2VkIGxldmVsICovXG4gICAgbmVzdGluZ0xldmVsLCBuZXN0aW5nTGV2ZWxPZkVxdWFsQnJhY2tldFR5cGUsIGlzSW52YWxpZCkge1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgICAgIHRoaXMubmVzdGluZ0xldmVsID0gbmVzdGluZ0xldmVsO1xuICAgICAgICB0aGlzLm5lc3RpbmdMZXZlbE9mRXF1YWxCcmFja2V0VHlwZSA9IG5lc3RpbmdMZXZlbE9mRXF1YWxCcmFja2V0VHlwZTtcbiAgICAgICAgdGhpcy5pc0ludmFsaWQgPSBpc0ludmFsaWQ7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEJyYWNrZXRQYWlySW5mbyB7XG4gICAgY29uc3RydWN0b3IocmFuZ2UsIG9wZW5pbmdCcmFja2V0UmFuZ2UsIGNsb3NpbmdCcmFja2V0UmFuZ2UsIFxuICAgIC8qKiAwLWJhc2VkICovXG4gICAgbmVzdGluZ0xldmVsLCBuZXN0aW5nTGV2ZWxPZkVxdWFsQnJhY2tldFR5cGUsIGJyYWNrZXRQYWlyTm9kZSkge1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgICAgIHRoaXMub3BlbmluZ0JyYWNrZXRSYW5nZSA9IG9wZW5pbmdCcmFja2V0UmFuZ2U7XG4gICAgICAgIHRoaXMuY2xvc2luZ0JyYWNrZXRSYW5nZSA9IGNsb3NpbmdCcmFja2V0UmFuZ2U7XG4gICAgICAgIHRoaXMubmVzdGluZ0xldmVsID0gbmVzdGluZ0xldmVsO1xuICAgICAgICB0aGlzLm5lc3RpbmdMZXZlbE9mRXF1YWxCcmFja2V0VHlwZSA9IG5lc3RpbmdMZXZlbE9mRXF1YWxCcmFja2V0VHlwZTtcbiAgICAgICAgdGhpcy5icmFja2V0UGFpck5vZGUgPSBicmFja2V0UGFpck5vZGU7XG4gICAgfVxuICAgIGdldCBvcGVuaW5nQnJhY2tldEluZm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJyYWNrZXRQYWlyTm9kZS5vcGVuaW5nQnJhY2tldC5icmFja2V0SW5mbztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQnJhY2tldFBhaXJXaXRoTWluSW5kZW50YXRpb25JbmZvIGV4dGVuZHMgQnJhY2tldFBhaXJJbmZvIHtcbiAgICBjb25zdHJ1Y3RvcihyYW5nZSwgb3BlbmluZ0JyYWNrZXRSYW5nZSwgY2xvc2luZ0JyYWNrZXRSYW5nZSwgXG4gICAgLyoqXG4gICAgICogMC1iYXNlZFxuICAgICovXG4gICAgbmVzdGluZ0xldmVsLCBuZXN0aW5nTGV2ZWxPZkVxdWFsQnJhY2tldFR5cGUsIGJyYWNrZXRQYWlyTm9kZSwgXG4gICAgLyoqXG4gICAgICogLTEgaWYgbm90IHJlcXVlc3RlZCwgb3RoZXJ3aXNlIHRoZSBzaXplIG9mIHRoZSBtaW5pbXVtIGluZGVudGF0aW9uIGluIHRoZSBicmFja2V0IHBhaXIgaW4gdGVybXMgb2YgdmlzaWJsZSBjb2x1bW5zLlxuICAgICovXG4gICAgbWluVmlzaWJsZUNvbHVtbkluZGVudGF0aW9uKSB7XG4gICAgICAgIHN1cGVyKHJhbmdlLCBvcGVuaW5nQnJhY2tldFJhbmdlLCBjbG9zaW5nQnJhY2tldFJhbmdlLCBuZXN0aW5nTGV2ZWwsIG5lc3RpbmdMZXZlbE9mRXF1YWxCcmFja2V0VHlwZSwgYnJhY2tldFBhaXJOb2RlKTtcbiAgICAgICAgdGhpcy5taW5WaXNpYmxlQ29sdW1uSW5kZW50YXRpb24gPSBtaW5WaXNpYmxlQ29sdW1uSW5kZW50YXRpb247XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vYmFzZS9jb21tb24vZXZlbnQuanMnO1xuaW1wb3J0IHsgRGlzcG9zYWJsZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2Jhc2UvY29tbW9uL2xpZmVjeWNsZS5qcyc7XG5pbXBvcnQgeyBCcmFja2V0SW5mbywgQnJhY2tldFBhaXJXaXRoTWluSW5kZW50YXRpb25JbmZvIH0gZnJvbSAnLi4vLi4vLi4vdGV4dE1vZGVsQnJhY2tldFBhaXJzLmpzJztcbmltcG9ydCB7IFRleHRFZGl0SW5mbyB9IGZyb20gJy4vYmVmb3JlRWRpdFBvc2l0aW9uTWFwcGVyLmpzJztcbmltcG9ydCB7IExhbmd1YWdlQWdub3N0aWNCcmFja2V0VG9rZW5zIH0gZnJvbSAnLi9icmFja2V0cy5qcyc7XG5pbXBvcnQgeyBsZW5ndGhBZGQsIGxlbmd0aEdyZWF0ZXJUaGFuRXF1YWwsIGxlbmd0aExlc3NUaGFuLCBsZW5ndGhMZXNzVGhhbkVxdWFsLCBsZW5ndGhzVG9SYW5nZSwgbGVuZ3RoWmVybywgcG9zaXRpb25Ub0xlbmd0aCwgdG9MZW5ndGggfSBmcm9tICcuL2xlbmd0aC5qcyc7XG5pbXBvcnQgeyBwYXJzZURvY3VtZW50IH0gZnJvbSAnLi9wYXJzZXIuanMnO1xuaW1wb3J0IHsgRGVuc2VLZXlQcm92aWRlciB9IGZyb20gJy4vc21hbGxJbW11dGFibGVTZXQuanMnO1xuaW1wb3J0IHsgRmFzdFRva2VuaXplciwgVGV4dEJ1ZmZlclRva2VuaXplciB9IGZyb20gJy4vdG9rZW5pemVyLmpzJztcbmltcG9ydCB7IENhbGxiYWNrSXRlcmFibGUgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9iYXNlL2NvbW1vbi9hcnJheXMuanMnO1xuaW1wb3J0IHsgY29tYmluZVRleHRFZGl0SW5mb3MgfSBmcm9tICcuL2NvbWJpbmVUZXh0RWRpdEluZm9zLmpzJztcbmV4cG9ydCBjbGFzcyBCcmFja2V0UGFpcnNUcmVlIGV4dGVuZHMgRGlzcG9zYWJsZSB7XG4gICAgZGlkTGFuZ3VhZ2VDaGFuZ2UobGFuZ3VhZ2VJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5icmFja2V0cy5kaWRMYW5ndWFnZUNoYW5nZShsYW5ndWFnZUlkKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodGV4dE1vZGVsLCBnZXRMYW5ndWFnZUNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50ZXh0TW9kZWwgPSB0ZXh0TW9kZWw7XG4gICAgICAgIHRoaXMuZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uID0gZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uO1xuICAgICAgICB0aGlzLmRpZENoYW5nZUVtaXR0ZXIgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLmRlbnNlS2V5UHJvdmlkZXIgPSBuZXcgRGVuc2VLZXlQcm92aWRlcigpO1xuICAgICAgICB0aGlzLmJyYWNrZXRzID0gbmV3IExhbmd1YWdlQWdub3N0aWNCcmFja2V0VG9rZW5zKHRoaXMuZGVuc2VLZXlQcm92aWRlciwgdGhpcy5nZXRMYW5ndWFnZUNvbmZpZ3VyYXRpb24pO1xuICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlID0gdGhpcy5kaWRDaGFuZ2VFbWl0dGVyLmV2ZW50O1xuICAgICAgICB0aGlzLnF1ZXVlZFRleHRFZGl0c0ZvckluaXRpYWxBc3RXaXRob3V0VG9rZW5zID0gW107XG4gICAgICAgIHRoaXMucXVldWVkVGV4dEVkaXRzID0gW107XG4gICAgICAgIGlmICghdGV4dE1vZGVsLnRva2VuaXphdGlvbi5oYXNUb2tlbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGJyYWNrZXRzID0gdGhpcy5icmFja2V0cy5nZXRTaW5nbGVMYW5ndWFnZUJyYWNrZXRUb2tlbnModGhpcy50ZXh0TW9kZWwuZ2V0TGFuZ3VhZ2VJZCgpKTtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuaXplciA9IG5ldyBGYXN0VG9rZW5pemVyKHRoaXMudGV4dE1vZGVsLmdldFZhbHVlKCksIGJyYWNrZXRzKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbEFzdFdpdGhvdXRUb2tlbnMgPSBwYXJzZURvY3VtZW50KHRva2VuaXplciwgW10sIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmFzdFdpdGhUb2tlbnMgPSB0aGlzLmluaXRpYWxBc3RXaXRob3V0VG9rZW5zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRleHRNb2RlbC50b2tlbml6YXRpb24uYmFja2dyb3VuZFRva2VuaXphdGlvblN0YXRlID09PSAyIC8qIEJhY2tncm91bmRUb2tlbml6YXRpb25TdGF0ZS5Db21wbGV0ZWQgKi8pIHtcbiAgICAgICAgICAgIC8vIFNraXAgdGhlIGluaXRpYWwgYXN0LCBhcyB0aGVyZSBpcyBubyBmbGlja2VyaW5nLlxuICAgICAgICAgICAgLy8gRGlyZWN0bHkgY3JlYXRlIHRoZSB0cmVlIHdpdGggdG9rZW4gaW5mb3JtYXRpb24uXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxBc3RXaXRob3V0VG9rZW5zID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5hc3RXaXRoVG9rZW5zID0gdGhpcy5wYXJzZURvY3VtZW50RnJvbVRleHRCdWZmZXIoW10sIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV2UgbWlzc2VkIHNvbWUgdG9rZW4gY2hhbmdlcyBhbHJlYWR5LCBzbyB3ZSBjYW5ub3QgdXNlIHRoZSBmYXN0IHRva2VuaXplciArIGRlbHRhIGluY3JlbWVudHNcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbEFzdFdpdGhvdXRUb2tlbnMgPSB0aGlzLnBhcnNlRG9jdW1lbnRGcm9tVGV4dEJ1ZmZlcihbXSwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuYXN0V2l0aFRva2VucyA9IHRoaXMuaW5pdGlhbEFzdFdpdGhvdXRUb2tlbnM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jcmVnaW9uIFRleHRNb2RlbCBldmVudHNcbiAgICBoYW5kbGVEaWRDaGFuZ2VCYWNrZ3JvdW5kVG9rZW5pemF0aW9uU3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnRleHRNb2RlbC50b2tlbml6YXRpb24uYmFja2dyb3VuZFRva2VuaXphdGlvblN0YXRlID09PSAyIC8qIEJhY2tncm91bmRUb2tlbml6YXRpb25TdGF0ZS5Db21wbGV0ZWQgKi8pIHtcbiAgICAgICAgICAgIGNvbnN0IHdhc1VuZGVmaW5lZCA9IHRoaXMuaW5pdGlhbEFzdFdpdGhvdXRUb2tlbnMgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIC8vIENsZWFyIHRoZSBpbml0aWFsIHRyZWUgYXMgd2UgY2FuIHVzZSB0aGUgdHJlZSB3aXRoIHRva2VuIGluZm9ybWF0aW9uIG5vdy5cbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbEFzdFdpdGhvdXRUb2tlbnMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoIXdhc1VuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlkQ2hhbmdlRW1pdHRlci5maXJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlRGlkQ2hhbmdlVG9rZW5zKHsgcmFuZ2VzIH0pIHtcbiAgICAgICAgY29uc3QgZWRpdHMgPSByYW5nZXMubWFwKHIgPT4gbmV3IFRleHRFZGl0SW5mbyh0b0xlbmd0aChyLmZyb21MaW5lTnVtYmVyIC0gMSwgMCksIHRvTGVuZ3RoKHIudG9MaW5lTnVtYmVyLCAwKSwgdG9MZW5ndGgoci50b0xpbmVOdW1iZXIgLSByLmZyb21MaW5lTnVtYmVyICsgMSwgMCkpKTtcbiAgICAgICAgdGhpcy5oYW5kbGVFZGl0cyhlZGl0cywgdHJ1ZSk7XG4gICAgICAgIGlmICghdGhpcy5pbml0aWFsQXN0V2l0aG91dFRva2Vucykge1xuICAgICAgICAgICAgdGhpcy5kaWRDaGFuZ2VFbWl0dGVyLmZpcmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVDb250ZW50Q2hhbmdlZChjaGFuZ2UpIHtcbiAgICAgICAgY29uc3QgZWRpdHMgPSBUZXh0RWRpdEluZm8uZnJvbU1vZGVsQ29udGVudENoYW5nZXMoY2hhbmdlLmNoYW5nZXMpO1xuICAgICAgICB0aGlzLmhhbmRsZUVkaXRzKGVkaXRzLCBmYWxzZSk7XG4gICAgfVxuICAgIGhhbmRsZUVkaXRzKGVkaXRzLCB0b2tlbkNoYW5nZSkge1xuICAgICAgICAvLyBMYXppbHkgcXVldWUgdGhlIGVkaXRzIGFuZCBvbmx5IGFwcGx5IHRoZW0gd2hlbiB0aGUgdHJlZSBpcyBhY2Nlc3NlZC5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY29tYmluZVRleHRFZGl0SW5mb3ModGhpcy5xdWV1ZWRUZXh0RWRpdHMsIGVkaXRzKTtcbiAgICAgICAgdGhpcy5xdWV1ZWRUZXh0RWRpdHMgPSByZXN1bHQ7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxBc3RXaXRob3V0VG9rZW5zICYmICF0b2tlbkNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5xdWV1ZWRUZXh0RWRpdHNGb3JJbml0aWFsQXN0V2l0aG91dFRva2VucyA9IGNvbWJpbmVUZXh0RWRpdEluZm9zKHRoaXMucXVldWVkVGV4dEVkaXRzRm9ySW5pdGlhbEFzdFdpdGhvdXRUb2tlbnMsIGVkaXRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICBmbHVzaFF1ZXVlKCkge1xuICAgICAgICBpZiAodGhpcy5xdWV1ZWRUZXh0RWRpdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5hc3RXaXRoVG9rZW5zID0gdGhpcy5wYXJzZURvY3VtZW50RnJvbVRleHRCdWZmZXIodGhpcy5xdWV1ZWRUZXh0RWRpdHMsIHRoaXMuYXN0V2l0aFRva2VucywgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5xdWV1ZWRUZXh0RWRpdHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5xdWV1ZWRUZXh0RWRpdHNGb3JJbml0aWFsQXN0V2l0aG91dFRva2Vucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbml0aWFsQXN0V2l0aG91dFRva2Vucykge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbEFzdFdpdGhvdXRUb2tlbnMgPSB0aGlzLnBhcnNlRG9jdW1lbnRGcm9tVGV4dEJ1ZmZlcih0aGlzLnF1ZXVlZFRleHRFZGl0c0ZvckluaXRpYWxBc3RXaXRob3V0VG9rZW5zLCB0aGlzLmluaXRpYWxBc3RXaXRob3V0VG9rZW5zLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnF1ZXVlZFRleHRFZGl0c0ZvckluaXRpYWxBc3RXaXRob3V0VG9rZW5zID0gW107XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHB1cmUgKG9ubHkgaWYgaXNQdXJlID0gdHJ1ZSlcbiAgICAqL1xuICAgIHBhcnNlRG9jdW1lbnRGcm9tVGV4dEJ1ZmZlcihlZGl0cywgcHJldmlvdXNBc3QsIGltbXV0YWJsZSkge1xuICAgICAgICAvLyBJcyBtdWNoIGZhc3RlciBpZiBgaXNQdXJlID0gZmFsc2VgLlxuICAgICAgICBjb25zdCBpc1B1cmUgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgcHJldmlvdXNBc3RDbG9uZSA9IGlzUHVyZSA/IHByZXZpb3VzQXN0Py5kZWVwQ2xvbmUoKSA6IHByZXZpb3VzQXN0O1xuICAgICAgICBjb25zdCB0b2tlbml6ZXIgPSBuZXcgVGV4dEJ1ZmZlclRva2VuaXplcih0aGlzLnRleHRNb2RlbCwgdGhpcy5icmFja2V0cyk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlRG9jdW1lbnQodG9rZW5pemVyLCBlZGl0cywgcHJldmlvdXNBc3RDbG9uZSwgaW1tdXRhYmxlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZ2V0QnJhY2tldHNJblJhbmdlKHJhbmdlLCBvbmx5Q29sb3JpemVkQnJhY2tldHMpIHtcbiAgICAgICAgdGhpcy5mbHVzaFF1ZXVlKCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0T2Zmc2V0ID0gdG9MZW5ndGgocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIC0gMSwgcmFuZ2Uuc3RhcnRDb2x1bW4gLSAxKTtcbiAgICAgICAgY29uc3QgZW5kT2Zmc2V0ID0gdG9MZW5ndGgocmFuZ2UuZW5kTGluZU51bWJlciAtIDEsIHJhbmdlLmVuZENvbHVtbiAtIDEpO1xuICAgICAgICByZXR1cm4gbmV3IENhbGxiYWNrSXRlcmFibGUoY2IgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuaW5pdGlhbEFzdFdpdGhvdXRUb2tlbnMgfHwgdGhpcy5hc3RXaXRoVG9rZW5zO1xuICAgICAgICAgICAgY29sbGVjdEJyYWNrZXRzKG5vZGUsIGxlbmd0aFplcm8sIG5vZGUubGVuZ3RoLCBzdGFydE9mZnNldCwgZW5kT2Zmc2V0LCBjYiwgMCwgMCwgbmV3IE1hcCgpLCBvbmx5Q29sb3JpemVkQnJhY2tldHMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0QnJhY2tldFBhaXJzSW5SYW5nZShyYW5nZSwgaW5jbHVkZU1pbkluZGVudGF0aW9uKSB7XG4gICAgICAgIHRoaXMuZmx1c2hRdWV1ZSgpO1xuICAgICAgICBjb25zdCBzdGFydExlbmd0aCA9IHBvc2l0aW9uVG9MZW5ndGgocmFuZ2UuZ2V0U3RhcnRQb3NpdGlvbigpKTtcbiAgICAgICAgY29uc3QgZW5kTGVuZ3RoID0gcG9zaXRpb25Ub0xlbmd0aChyYW5nZS5nZXRFbmRQb3NpdGlvbigpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDYWxsYmFja0l0ZXJhYmxlKGNiID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLmluaXRpYWxBc3RXaXRob3V0VG9rZW5zIHx8IHRoaXMuYXN0V2l0aFRva2VucztcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgQ29sbGVjdEJyYWNrZXRQYWlyc0NvbnRleHQoY2IsIGluY2x1ZGVNaW5JbmRlbnRhdGlvbiwgdGhpcy50ZXh0TW9kZWwpO1xuICAgICAgICAgICAgY29sbGVjdEJyYWNrZXRQYWlycyhub2RlLCBsZW5ndGhaZXJvLCBub2RlLmxlbmd0aCwgc3RhcnRMZW5ndGgsIGVuZExlbmd0aCwgY29udGV4dCwgMCwgbmV3IE1hcCgpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEZpcnN0QnJhY2tldEFmdGVyKHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuZmx1c2hRdWV1ZSgpO1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5pbml0aWFsQXN0V2l0aG91dFRva2VucyB8fCB0aGlzLmFzdFdpdGhUb2tlbnM7XG4gICAgICAgIHJldHVybiBnZXRGaXJzdEJyYWNrZXRBZnRlcihub2RlLCBsZW5ndGhaZXJvLCBub2RlLmxlbmd0aCwgcG9zaXRpb25Ub0xlbmd0aChwb3NpdGlvbikpO1xuICAgIH1cbiAgICBnZXRGaXJzdEJyYWNrZXRCZWZvcmUocG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5mbHVzaFF1ZXVlKCk7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLmluaXRpYWxBc3RXaXRob3V0VG9rZW5zIHx8IHRoaXMuYXN0V2l0aFRva2VucztcbiAgICAgICAgcmV0dXJuIGdldEZpcnN0QnJhY2tldEJlZm9yZShub2RlLCBsZW5ndGhaZXJvLCBub2RlLmxlbmd0aCwgcG9zaXRpb25Ub0xlbmd0aChwb3NpdGlvbikpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEZpcnN0QnJhY2tldEJlZm9yZShub2RlLCBub2RlT2Zmc2V0U3RhcnQsIG5vZGVPZmZzZXRFbmQsIHBvc2l0aW9uKSB7XG4gICAgaWYgKG5vZGUua2luZCA9PT0gNCAvKiBBc3ROb2RlS2luZC5MaXN0ICovIHx8IG5vZGUua2luZCA9PT0gMiAvKiBBc3ROb2RlS2luZC5QYWlyICovKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBub2RlT2Zmc2V0RW5kID0gbGVuZ3RoQWRkKG5vZGVPZmZzZXRTdGFydCwgY2hpbGQubGVuZ3RoKTtcbiAgICAgICAgICAgIGxlbmd0aHMucHVzaCh7IG5vZGVPZmZzZXRTdGFydCwgbm9kZU9mZnNldEVuZCB9KTtcbiAgICAgICAgICAgIG5vZGVPZmZzZXRTdGFydCA9IG5vZGVPZmZzZXRFbmQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IGxlbmd0aHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgbm9kZU9mZnNldFN0YXJ0LCBub2RlT2Zmc2V0RW5kIH0gPSBsZW5ndGhzW2ldO1xuICAgICAgICAgICAgaWYgKGxlbmd0aExlc3NUaGFuKG5vZGVPZmZzZXRTdGFydCwgcG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZ2V0Rmlyc3RCcmFja2V0QmVmb3JlKG5vZGUuY2hpbGRyZW5baV0sIG5vZGVPZmZzZXRTdGFydCwgbm9kZU9mZnNldEVuZCwgcG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PT0gMyAvKiBBc3ROb2RlS2luZC5VbmV4cGVjdGVkQ2xvc2luZ0JyYWNrZXQgKi8pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUua2luZCA9PT0gMSAvKiBBc3ROb2RlS2luZC5CcmFja2V0ICovKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gbGVuZ3Roc1RvUmFuZ2Uobm9kZU9mZnNldFN0YXJ0LCBub2RlT2Zmc2V0RW5kKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJyYWNrZXRJbmZvOiBub2RlLmJyYWNrZXRJbmZvLFxuICAgICAgICAgICAgcmFuZ2VcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBnZXRGaXJzdEJyYWNrZXRBZnRlcihub2RlLCBub2RlT2Zmc2V0U3RhcnQsIG5vZGVPZmZzZXRFbmQsIHBvc2l0aW9uKSB7XG4gICAgaWYgKG5vZGUua2luZCA9PT0gNCAvKiBBc3ROb2RlS2luZC5MaXN0ICovIHx8IG5vZGUua2luZCA9PT0gMiAvKiBBc3ROb2RlS2luZC5QYWlyICovKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgbm9kZU9mZnNldEVuZCA9IGxlbmd0aEFkZChub2RlT2Zmc2V0U3RhcnQsIGNoaWxkLmxlbmd0aCk7XG4gICAgICAgICAgICBpZiAobGVuZ3RoTGVzc1RoYW4ocG9zaXRpb24sIG5vZGVPZmZzZXRFbmQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZ2V0Rmlyc3RCcmFja2V0QWZ0ZXIoY2hpbGQsIG5vZGVPZmZzZXRTdGFydCwgbm9kZU9mZnNldEVuZCwgcG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlT2Zmc2V0U3RhcnQgPSBub2RlT2Zmc2V0RW5kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlLmtpbmQgPT09IDMgLyogQXN0Tm9kZUtpbmQuVW5leHBlY3RlZENsb3NpbmdCcmFja2V0ICovKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlLmtpbmQgPT09IDEgLyogQXN0Tm9kZUtpbmQuQnJhY2tldCAqLykge1xuICAgICAgICBjb25zdCByYW5nZSA9IGxlbmd0aHNUb1JhbmdlKG5vZGVPZmZzZXRTdGFydCwgbm9kZU9mZnNldEVuZCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBicmFja2V0SW5mbzogbm9kZS5icmFja2V0SW5mbyxcbiAgICAgICAgICAgIHJhbmdlXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gY29sbGVjdEJyYWNrZXRzKG5vZGUsIG5vZGVPZmZzZXRTdGFydCwgbm9kZU9mZnNldEVuZCwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgcHVzaCwgbGV2ZWwsIG5lc3RpbmdMZXZlbE9mRXF1YWxCcmFja2V0VHlwZSwgbGV2ZWxQZXJCcmFja2V0VHlwZSwgb25seUNvbG9yaXplZEJyYWNrZXRzLCBwYXJlbnRQYWlySXNJbmNvbXBsZXRlID0gZmFsc2UpIHtcbiAgICBpZiAobGV2ZWwgPiAyMDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHdoaWxlTG9vcDogd2hpbGUgKHRydWUpIHtcbiAgICAgICAgc3dpdGNoIChub2RlLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgNCAvKiBBc3ROb2RlS2luZC5MaXN0ICovOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRDb3VudCA9IG5vZGUuY2hpbGRyZW5MZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZENvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBub2RlLmdldENoaWxkKGkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBub2RlT2Zmc2V0RW5kID0gbGVuZ3RoQWRkKG5vZGVPZmZzZXRTdGFydCwgY2hpbGQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlbmd0aExlc3NUaGFuRXF1YWwobm9kZU9mZnNldFN0YXJ0LCBlbmRPZmZzZXQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGhHcmVhdGVyVGhhbkVxdWFsKG5vZGVPZmZzZXRFbmQsIHN0YXJ0T2Zmc2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRFbmRzQWZ0ZXJFbmQgPSBsZW5ndGhHcmVhdGVyVGhhbkVxdWFsKG5vZGVPZmZzZXRFbmQsIGVuZE9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRFbmRzQWZ0ZXJFbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBObyBjaGlsZCBhZnRlciB0aGlzIGNoaWxkIGluIHRoZSByZXF1ZXN0ZWQgd2luZG93LCBkb24ndCByZWN1cnNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGNoaWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIHdoaWxlTG9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZENvbnRpbnVlID0gY29sbGVjdEJyYWNrZXRzKGNoaWxkLCBub2RlT2Zmc2V0U3RhcnQsIG5vZGVPZmZzZXRFbmQsIHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQsIHB1c2gsIGxldmVsLCAwLCBsZXZlbFBlckJyYWNrZXRUeXBlLCBvbmx5Q29sb3JpemVkQnJhY2tldHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRDb250aW51ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBub2RlT2Zmc2V0U3RhcnQgPSBub2RlT2Zmc2V0RW5kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMiAvKiBBc3ROb2RlS2luZC5QYWlyICovOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3JpemUgPSAhb25seUNvbG9yaXplZEJyYWNrZXRzIHx8ICFub2RlLmNsb3NpbmdCcmFja2V0IHx8IG5vZGUuY2xvc2luZ0JyYWNrZXQuYnJhY2tldEluZm8uY2xvc2VzQ29sb3JpemVkKG5vZGUub3BlbmluZ0JyYWNrZXQuYnJhY2tldEluZm8pO1xuICAgICAgICAgICAgICAgIGxldCBsZXZlbFBlckJyYWNrZXQgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChsZXZlbFBlckJyYWNrZXRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBleGlzdGluZyA9IGxldmVsUGVyQnJhY2tldFR5cGUuZ2V0KG5vZGUub3BlbmluZ0JyYWNrZXQudGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxQZXJCcmFja2V0ID0gZXhpc3Rpbmc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2xvcml6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsUGVyQnJhY2tldFR5cGUuc2V0KG5vZGUub3BlbmluZ0JyYWNrZXQudGV4dCwgZXhpc3RpbmcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQ291bnQgPSBub2RlLmNoaWxkcmVuTGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gbm9kZS5nZXRDaGlsZChpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbm9kZU9mZnNldEVuZCA9IGxlbmd0aEFkZChub2RlT2Zmc2V0U3RhcnQsIGNoaWxkLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZW5ndGhMZXNzVGhhbkVxdWFsKG5vZGVPZmZzZXRTdGFydCwgZW5kT2Zmc2V0KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoR3JlYXRlclRoYW5FcXVhbChub2RlT2Zmc2V0RW5kLCBzdGFydE9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkRW5kc0FmdGVyRW5kID0gbGVuZ3RoR3JlYXRlclRoYW5FcXVhbChub2RlT2Zmc2V0RW5kLCBlbmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkRW5kc0FmdGVyRW5kICYmIGNoaWxkLmtpbmQgIT09IDEgLyogQXN0Tm9kZUtpbmQuQnJhY2tldCAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vIGNoaWxkIGFmdGVyIHRoaXMgY2hpbGQgaW4gdGhlIHJlcXVlc3RlZCB3aW5kb3csIGRvbid0IHJlY3Vyc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBkbyB0aGlzIGZvciBicmFja2V0cyBiZWNhdXNlIG9mIHVuY2xvc2VkL3Vub3BlbmVkIGJyYWNrZXRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGNoaWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xvcml6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXN0aW5nTGV2ZWxPZkVxdWFsQnJhY2tldFR5cGUgPSBsZXZlbFBlckJyYWNrZXQgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmVzdGluZ0xldmVsT2ZFcXVhbEJyYWNrZXRUeXBlID0gbGV2ZWxQZXJCcmFja2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSB3aGlsZUxvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3JpemUgfHwgY2hpbGQua2luZCAhPT0gMSAvKiBBc3ROb2RlS2luZC5CcmFja2V0ICovIHx8ICFub2RlLmNsb3NpbmdCcmFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkQ29udGludWUgPSBjb2xsZWN0QnJhY2tldHMoY2hpbGQsIG5vZGVPZmZzZXRTdGFydCwgbm9kZU9mZnNldEVuZCwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgcHVzaCwgY29sb3JpemUgPyBsZXZlbCArIDEgOiBsZXZlbCwgY29sb3JpemUgPyBsZXZlbFBlckJyYWNrZXQgKyAxIDogbGV2ZWxQZXJCcmFja2V0LCBsZXZlbFBlckJyYWNrZXRUeXBlLCBvbmx5Q29sb3JpemVkQnJhY2tldHMsICFub2RlLmNsb3NpbmdCcmFja2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZENvbnRpbnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbm9kZU9mZnNldFN0YXJ0ID0gbm9kZU9mZnNldEVuZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV2ZWxQZXJCcmFja2V0VHlwZT8uc2V0KG5vZGUub3BlbmluZ0JyYWNrZXQudGV4dCwgbGV2ZWxQZXJCcmFja2V0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMyAvKiBBc3ROb2RlS2luZC5VbmV4cGVjdGVkQ2xvc2luZ0JyYWNrZXQgKi86IHtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IGxlbmd0aHNUb1JhbmdlKG5vZGVPZmZzZXRTdGFydCwgbm9kZU9mZnNldEVuZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHB1c2gobmV3IEJyYWNrZXRJbmZvKHJhbmdlLCBsZXZlbCAtIDEsIDAsIHRydWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMSAvKiBBc3ROb2RlS2luZC5CcmFja2V0ICovOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBsZW5ndGhzVG9SYW5nZShub2RlT2Zmc2V0U3RhcnQsIG5vZGVPZmZzZXRFbmQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwdXNoKG5ldyBCcmFja2V0SW5mbyhyYW5nZSwgbGV2ZWwgLSAxLCBuZXN0aW5nTGV2ZWxPZkVxdWFsQnJhY2tldFR5cGUgLSAxLCBwYXJlbnRQYWlySXNJbmNvbXBsZXRlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDAgLyogQXN0Tm9kZUtpbmQuVGV4dCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIENvbGxlY3RCcmFja2V0UGFpcnNDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihwdXNoLCBpbmNsdWRlTWluSW5kZW50YXRpb24sIHRleHRNb2RlbCkge1xuICAgICAgICB0aGlzLnB1c2ggPSBwdXNoO1xuICAgICAgICB0aGlzLmluY2x1ZGVNaW5JbmRlbnRhdGlvbiA9IGluY2x1ZGVNaW5JbmRlbnRhdGlvbjtcbiAgICAgICAgdGhpcy50ZXh0TW9kZWwgPSB0ZXh0TW9kZWw7XG4gICAgfVxufVxuZnVuY3Rpb24gY29sbGVjdEJyYWNrZXRQYWlycyhub2RlLCBub2RlT2Zmc2V0U3RhcnQsIG5vZGVPZmZzZXRFbmQsIHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQsIGNvbnRleHQsIGxldmVsLCBsZXZlbFBlckJyYWNrZXRUeXBlKSB7XG4gICAgaWYgKGxldmVsID4gMjAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgc2hvdWxkQ29udGludWUgPSB0cnVlO1xuICAgIGlmIChub2RlLmtpbmQgPT09IDIgLyogQXN0Tm9kZUtpbmQuUGFpciAqLykge1xuICAgICAgICBsZXQgbGV2ZWxQZXJCcmFja2V0ID0gMDtcbiAgICAgICAgaWYgKGxldmVsUGVyQnJhY2tldFR5cGUpIHtcbiAgICAgICAgICAgIGxldCBleGlzdGluZyA9IGxldmVsUGVyQnJhY2tldFR5cGUuZ2V0KG5vZGUub3BlbmluZ0JyYWNrZXQudGV4dCk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldmVsUGVyQnJhY2tldCA9IGV4aXN0aW5nO1xuICAgICAgICAgICAgZXhpc3RpbmcrKztcbiAgICAgICAgICAgIGxldmVsUGVyQnJhY2tldFR5cGUuc2V0KG5vZGUub3BlbmluZ0JyYWNrZXQudGV4dCwgZXhpc3RpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wZW5pbmdCcmFja2V0RW5kID0gbGVuZ3RoQWRkKG5vZGVPZmZzZXRTdGFydCwgbm9kZS5vcGVuaW5nQnJhY2tldC5sZW5ndGgpO1xuICAgICAgICBsZXQgbWluSW5kZW50YXRpb24gPSAtMTtcbiAgICAgICAgaWYgKGNvbnRleHQuaW5jbHVkZU1pbkluZGVudGF0aW9uKSB7XG4gICAgICAgICAgICBtaW5JbmRlbnRhdGlvbiA9IG5vZGUuY29tcHV0ZU1pbkluZGVudGF0aW9uKG5vZGVPZmZzZXRTdGFydCwgY29udGV4dC50ZXh0TW9kZWwpO1xuICAgICAgICB9XG4gICAgICAgIHNob3VsZENvbnRpbnVlID0gY29udGV4dC5wdXNoKG5ldyBCcmFja2V0UGFpcldpdGhNaW5JbmRlbnRhdGlvbkluZm8obGVuZ3Roc1RvUmFuZ2Uobm9kZU9mZnNldFN0YXJ0LCBub2RlT2Zmc2V0RW5kKSwgbGVuZ3Roc1RvUmFuZ2Uobm9kZU9mZnNldFN0YXJ0LCBvcGVuaW5nQnJhY2tldEVuZCksIG5vZGUuY2xvc2luZ0JyYWNrZXRcbiAgICAgICAgICAgID8gbGVuZ3Roc1RvUmFuZ2UobGVuZ3RoQWRkKG9wZW5pbmdCcmFja2V0RW5kLCBub2RlLmNoaWxkPy5sZW5ndGggfHwgbGVuZ3RoWmVybyksIG5vZGVPZmZzZXRFbmQpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCwgbGV2ZWwsIGxldmVsUGVyQnJhY2tldCwgbm9kZSwgbWluSW5kZW50YXRpb24pKTtcbiAgICAgICAgbm9kZU9mZnNldFN0YXJ0ID0gb3BlbmluZ0JyYWNrZXRFbmQ7XG4gICAgICAgIGlmIChzaG91bGRDb250aW51ZSAmJiBub2RlLmNoaWxkKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IG5vZGUuY2hpbGQ7XG4gICAgICAgICAgICBub2RlT2Zmc2V0RW5kID0gbGVuZ3RoQWRkKG5vZGVPZmZzZXRTdGFydCwgY2hpbGQubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmIChsZW5ndGhMZXNzVGhhbkVxdWFsKG5vZGVPZmZzZXRTdGFydCwgZW5kT2Zmc2V0KSAmJlxuICAgICAgICAgICAgICAgIGxlbmd0aEdyZWF0ZXJUaGFuRXF1YWwobm9kZU9mZnNldEVuZCwgc3RhcnRPZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgc2hvdWxkQ29udGludWUgPSBjb2xsZWN0QnJhY2tldFBhaXJzKGNoaWxkLCBub2RlT2Zmc2V0U3RhcnQsIG5vZGVPZmZzZXRFbmQsIHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQsIGNvbnRleHQsIGxldmVsICsgMSwgbGV2ZWxQZXJCcmFja2V0VHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFzaG91bGRDb250aW51ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldmVsUGVyQnJhY2tldFR5cGU/LnNldChub2RlLm9wZW5pbmdCcmFja2V0LnRleHQsIGxldmVsUGVyQnJhY2tldCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgY3VyT2Zmc2V0ID0gbm9kZU9mZnNldFN0YXJ0O1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkT2Zmc2V0ID0gY3VyT2Zmc2V0O1xuICAgICAgICAgICAgY3VyT2Zmc2V0ID0gbGVuZ3RoQWRkKGN1ck9mZnNldCwgY2hpbGQubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmIChsZW5ndGhMZXNzVGhhbkVxdWFsKGNoaWxkT2Zmc2V0LCBlbmRPZmZzZXQpICYmXG4gICAgICAgICAgICAgICAgbGVuZ3RoTGVzc1RoYW5FcXVhbChzdGFydE9mZnNldCwgY3VyT2Zmc2V0KSkge1xuICAgICAgICAgICAgICAgIHNob3VsZENvbnRpbnVlID0gY29sbGVjdEJyYWNrZXRQYWlycyhjaGlsZCwgY2hpbGRPZmZzZXQsIGN1ck9mZnNldCwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgY29udGV4dCwgbGV2ZWwsIGxldmVsUGVyQnJhY2tldFR5cGUpO1xuICAgICAgICAgICAgICAgIGlmICghc2hvdWxkQ29udGludWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2hvdWxkQ29udGludWU7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IENhbGxiYWNrSXRlcmFibGUsIGNvbXBhcmVCeSB9IGZyb20gJy4uLy4uLy4uLy4uL2Jhc2UvY29tbW9uL2FycmF5cy5qcyc7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vYmFzZS9jb21tb24vZXZlbnQuanMnO1xuaW1wb3J0IHsgRGlzcG9zYWJsZSwgRGlzcG9zYWJsZVN0b3JlLCBNdXRhYmxlRGlzcG9zYWJsZSB9IGZyb20gJy4uLy4uLy4uLy4uL2Jhc2UvY29tbW9uL2xpZmVjeWNsZS5qcyc7XG5pbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4uLy4uL2NvcmUvcmFuZ2UuanMnO1xuaW1wb3J0IHsgaWdub3JlQnJhY2tldHNJblRva2VuIH0gZnJvbSAnLi4vLi4vbGFuZ3VhZ2VzL3N1cHBvcnRzLmpzJztcbmltcG9ydCB7IEJyYWNrZXRzVXRpbHMgfSBmcm9tICcuLi8uLi9sYW5ndWFnZXMvc3VwcG9ydHMvcmljaEVkaXRCcmFja2V0cy5qcyc7XG5pbXBvcnQgeyBCcmFja2V0UGFpcnNUcmVlIH0gZnJvbSAnLi9icmFja2V0UGFpcnNUcmVlL2JyYWNrZXRQYWlyc1RyZWUuanMnO1xuZXhwb3J0IGNsYXNzIEJyYWNrZXRQYWlyc1RleHRNb2RlbFBhcnQgZXh0ZW5kcyBEaXNwb3NhYmxlIHtcbiAgICBnZXQgY2FuQnVpbGRBU1QoKSB7XG4gICAgICAgIGNvbnN0IG1heFN1cHBvcnRlZERvY3VtZW50TGVuZ3RoID0gLyogbWF4IGxpbmVzICovIDUwXzAwMCAqIC8qIGF2ZXJhZ2UgY29sdW1uIGNvdW50ICovIDEwMDtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dE1vZGVsLmdldFZhbHVlTGVuZ3RoKCkgPD0gbWF4U3VwcG9ydGVkRG9jdW1lbnRMZW5ndGg7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHRleHRNb2RlbCwgbGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnRleHRNb2RlbCA9IHRleHRNb2RlbDtcbiAgICAgICAgdGhpcy5sYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlID0gbGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZTtcbiAgICAgICAgdGhpcy5icmFja2V0UGFpcnNUcmVlID0gdGhpcy5fcmVnaXN0ZXIobmV3IE11dGFibGVEaXNwb3NhYmxlKCkpO1xuICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlRW1pdHRlciA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRDaGFuZ2UgPSB0aGlzLm9uRGlkQ2hhbmdlRW1pdHRlci5ldmVudDtcbiAgICAgICAgdGhpcy5icmFja2V0c1JlcXVlc3RlZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyNyZWdpb24gVGV4dE1vZGVsIGV2ZW50c1xuICAgIGhhbmRsZUxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2VDaGFuZ2UoZSkge1xuICAgICAgICBpZiAoIWUubGFuZ3VhZ2VJZCB8fCB0aGlzLmJyYWNrZXRQYWlyc1RyZWUudmFsdWU/Lm9iamVjdC5kaWRMYW5ndWFnZUNoYW5nZShlLmxhbmd1YWdlSWQpKSB7XG4gICAgICAgICAgICB0aGlzLmJyYWNrZXRQYWlyc1RyZWUuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQnJhY2tldFBhaXJzVHJlZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZURpZENoYW5nZU9wdGlvbnMoZSkge1xuICAgICAgICB0aGlzLmJyYWNrZXRQYWlyc1RyZWUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy51cGRhdGVCcmFja2V0UGFpcnNUcmVlKCk7XG4gICAgfVxuICAgIGhhbmRsZURpZENoYW5nZUxhbmd1YWdlKGUpIHtcbiAgICAgICAgdGhpcy5icmFja2V0UGFpcnNUcmVlLmNsZWFyKCk7XG4gICAgICAgIHRoaXMudXBkYXRlQnJhY2tldFBhaXJzVHJlZSgpO1xuICAgIH1cbiAgICBoYW5kbGVEaWRDaGFuZ2VDb250ZW50KGNoYW5nZSkge1xuICAgICAgICB0aGlzLmJyYWNrZXRQYWlyc1RyZWUudmFsdWU/Lm9iamVjdC5oYW5kbGVDb250ZW50Q2hhbmdlZChjaGFuZ2UpO1xuICAgIH1cbiAgICBoYW5kbGVEaWRDaGFuZ2VCYWNrZ3JvdW5kVG9rZW5pemF0aW9uU3RhdGUoKSB7XG4gICAgICAgIHRoaXMuYnJhY2tldFBhaXJzVHJlZS52YWx1ZT8ub2JqZWN0LmhhbmRsZURpZENoYW5nZUJhY2tncm91bmRUb2tlbml6YXRpb25TdGF0ZSgpO1xuICAgIH1cbiAgICBoYW5kbGVEaWRDaGFuZ2VUb2tlbnMoZSkge1xuICAgICAgICB0aGlzLmJyYWNrZXRQYWlyc1RyZWUudmFsdWU/Lm9iamVjdC5oYW5kbGVEaWRDaGFuZ2VUb2tlbnMoZSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIHVwZGF0ZUJyYWNrZXRQYWlyc1RyZWUoKSB7XG4gICAgICAgIGlmICh0aGlzLmJyYWNrZXRzUmVxdWVzdGVkICYmIHRoaXMuY2FuQnVpbGRBU1QpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5icmFja2V0UGFpcnNUcmVlLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBuZXcgRGlzcG9zYWJsZVN0b3JlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5icmFja2V0UGFpcnNUcmVlLnZhbHVlID0gY3JlYXRlRGlzcG9zYWJsZVJlZihzdG9yZS5hZGQobmV3IEJyYWNrZXRQYWlyc1RyZWUodGhpcy50ZXh0TW9kZWwsIChsYW5ndWFnZUlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UuZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uKGxhbmd1YWdlSWQpO1xuICAgICAgICAgICAgICAgIH0pKSwgc3RvcmUpO1xuICAgICAgICAgICAgICAgIHN0b3JlLmFkZCh0aGlzLmJyYWNrZXRQYWlyc1RyZWUudmFsdWUub2JqZWN0Lm9uRGlkQ2hhbmdlKGUgPT4gdGhpcy5vbkRpZENoYW5nZUVtaXR0ZXIuZmlyZShlKSkpO1xuICAgICAgICAgICAgICAgIHRoaXMub25EaWRDaGFuZ2VFbWl0dGVyLmZpcmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJyYWNrZXRQYWlyc1RyZWUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJyYWNrZXRQYWlyc1RyZWUuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAvLyBJbXBvcnRhbnQ6IERvbid0IGNhbGwgZmlyZSBpZiB0aGVyZSB3YXMgbm8gY2hhbmdlIVxuICAgICAgICAgICAgICAgIHRoaXMub25EaWRDaGFuZ2VFbWl0dGVyLmZpcmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBicmFja2V0IHBhaXJzIHRoYXQgaW50ZXJzZWN0IHRoZSBnaXZlbiByYW5nZS5cbiAgICAgKiBUaGUgcmVzdWx0IGlzIHNvcnRlZCBieSB0aGUgc3RhcnQgcG9zaXRpb24uXG4gICAgKi9cbiAgICBnZXRCcmFja2V0UGFpcnNJblJhbmdlKHJhbmdlKSB7XG4gICAgICAgIHRoaXMuYnJhY2tldHNSZXF1ZXN0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnVwZGF0ZUJyYWNrZXRQYWlyc1RyZWUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnJhY2tldFBhaXJzVHJlZS52YWx1ZT8ub2JqZWN0LmdldEJyYWNrZXRQYWlyc0luUmFuZ2UocmFuZ2UsIGZhbHNlKSB8fCBDYWxsYmFja0l0ZXJhYmxlLmVtcHR5O1xuICAgIH1cbiAgICBnZXRCcmFja2V0UGFpcnNJblJhbmdlV2l0aE1pbkluZGVudGF0aW9uKHJhbmdlKSB7XG4gICAgICAgIHRoaXMuYnJhY2tldHNSZXF1ZXN0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnVwZGF0ZUJyYWNrZXRQYWlyc1RyZWUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnJhY2tldFBhaXJzVHJlZS52YWx1ZT8ub2JqZWN0LmdldEJyYWNrZXRQYWlyc0luUmFuZ2UocmFuZ2UsIHRydWUpIHx8IENhbGxiYWNrSXRlcmFibGUuZW1wdHk7XG4gICAgfVxuICAgIGdldEJyYWNrZXRzSW5SYW5nZShyYW5nZSwgb25seUNvbG9yaXplZEJyYWNrZXRzID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5icmFja2V0c1JlcXVlc3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMudXBkYXRlQnJhY2tldFBhaXJzVHJlZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5icmFja2V0UGFpcnNUcmVlLnZhbHVlPy5vYmplY3QuZ2V0QnJhY2tldHNJblJhbmdlKHJhbmdlLCBvbmx5Q29sb3JpemVkQnJhY2tldHMpIHx8IENhbGxiYWNrSXRlcmFibGUuZW1wdHk7XG4gICAgfVxuICAgIGZpbmRNYXRjaGluZ0JyYWNrZXRVcChfYnJhY2tldCwgX3Bvc2l0aW9uLCBtYXhEdXJhdGlvbikge1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMudGV4dE1vZGVsLnZhbGlkYXRlUG9zaXRpb24oX3Bvc2l0aW9uKTtcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2VJZCA9IHRoaXMudGV4dE1vZGVsLmdldExhbmd1YWdlSWRBdFBvc2l0aW9uKHBvc2l0aW9uLmxpbmVOdW1iZXIsIHBvc2l0aW9uLmNvbHVtbik7XG4gICAgICAgIGlmICh0aGlzLmNhbkJ1aWxkQVNUKSB7XG4gICAgICAgICAgICBjb25zdCBjbG9zaW5nQnJhY2tldEluZm8gPSB0aGlzLmxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2VcbiAgICAgICAgICAgICAgICAuZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uKGxhbmd1YWdlSWQpXG4gICAgICAgICAgICAgICAgLmJyYWNrZXRzTmV3LmdldENsb3NpbmdCcmFja2V0SW5mbyhfYnJhY2tldCk7XG4gICAgICAgICAgICBpZiAoIWNsb3NpbmdCcmFja2V0SW5mbykge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYnJhY2tldFBhaXIgPSB0aGlzLmdldEJyYWNrZXRQYWlyc0luUmFuZ2UoUmFuZ2UuZnJvbVBvc2l0aW9ucyhfcG9zaXRpb24sIF9wb3NpdGlvbikpLmZpbmRMYXN0KChiKSA9PiBjbG9zaW5nQnJhY2tldEluZm8uY2xvc2VzKGIub3BlbmluZ0JyYWNrZXRJbmZvKSk7XG4gICAgICAgICAgICBpZiAoYnJhY2tldFBhaXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnJhY2tldFBhaXIub3BlbmluZ0JyYWNrZXRSYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gb2xkIGJyYWNrZXQgbWF0Y2hpbmcgY29kZTpcbiAgICAgICAgICAgIGNvbnN0IGJyYWNrZXQgPSBfYnJhY2tldC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgY29uc3QgYnJhY2tldHNTdXBwb3J0ID0gdGhpcy5sYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlLmdldExhbmd1YWdlQ29uZmlndXJhdGlvbihsYW5ndWFnZUlkKS5icmFja2V0cztcbiAgICAgICAgICAgIGlmICghYnJhY2tldHNTdXBwb3J0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYnJhY2tldHNTdXBwb3J0LnRleHRJc0JyYWNrZXRbYnJhY2tldF07XG4gICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdHJpcEJyYWNrZXRTZWFyY2hDYW5jZWxlZCh0aGlzLl9maW5kTWF0Y2hpbmdCcmFja2V0VXAoZGF0YSwgcG9zaXRpb24sIGNyZWF0ZVRpbWVCYXNlZENvbnRpbnVlQnJhY2tldFNlYXJjaFByZWRpY2F0ZShtYXhEdXJhdGlvbikpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXRjaEJyYWNrZXQocG9zaXRpb24sIG1heER1cmF0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLmNhbkJ1aWxkQVNUKSB7XG4gICAgICAgICAgICBjb25zdCBicmFja2V0UGFpciA9IHRoaXMuZ2V0QnJhY2tldFBhaXJzSW5SYW5nZShSYW5nZS5mcm9tUG9zaXRpb25zKHBvc2l0aW9uLCBwb3NpdGlvbikpLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5jbG9zaW5nQnJhY2tldFJhbmdlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAoaXRlbS5vcGVuaW5nQnJhY2tldFJhbmdlLmNvbnRhaW5zUG9zaXRpb24ocG9zaXRpb24pIHx8XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xvc2luZ0JyYWNrZXRSYW5nZS5jb250YWluc1Bvc2l0aW9uKHBvc2l0aW9uKSkpLmZpbmRMYXN0TWF4QnkoY29tcGFyZUJ5KChpdGVtKSA9PiBpdGVtLm9wZW5pbmdCcmFja2V0UmFuZ2UuY29udGFpbnNQb3NpdGlvbihwb3NpdGlvbilcbiAgICAgICAgICAgICAgICA/IGl0ZW0ub3BlbmluZ0JyYWNrZXRSYW5nZVxuICAgICAgICAgICAgICAgIDogaXRlbS5jbG9zaW5nQnJhY2tldFJhbmdlLCBSYW5nZS5jb21wYXJlUmFuZ2VzVXNpbmdTdGFydHMpKTtcbiAgICAgICAgICAgIGlmIChicmFja2V0UGFpcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBbYnJhY2tldFBhaXIub3BlbmluZ0JyYWNrZXRSYW5nZSwgYnJhY2tldFBhaXIuY2xvc2luZ0JyYWNrZXRSYW5nZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIG9sZCBicmFja2V0IG1hdGNoaW5nIGNvZGU6XG4gICAgICAgICAgICBjb25zdCBjb250aW51ZVNlYXJjaFByZWRpY2F0ZSA9IGNyZWF0ZVRpbWVCYXNlZENvbnRpbnVlQnJhY2tldFNlYXJjaFByZWRpY2F0ZShtYXhEdXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWF0Y2hCcmFja2V0KHRoaXMudGV4dE1vZGVsLnZhbGlkYXRlUG9zaXRpb24ocG9zaXRpb24pLCBjb250aW51ZVNlYXJjaFByZWRpY2F0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2VzdGFibGlzaEJyYWNrZXRTZWFyY2hPZmZzZXRzKHBvc2l0aW9uLCBsaW5lVG9rZW5zLCBtb2RlQnJhY2tldHMsIHRva2VuSW5kZXgpIHtcbiAgICAgICAgY29uc3QgdG9rZW5Db3VudCA9IGxpbmVUb2tlbnMuZ2V0Q291bnQoKTtcbiAgICAgICAgY29uc3QgY3VycmVudExhbmd1YWdlSWQgPSBsaW5lVG9rZW5zLmdldExhbmd1YWdlSWQodG9rZW5JbmRleCk7XG4gICAgICAgIC8vIGxpbWl0IHNlYXJjaCB0byBub3QgZ28gYmVmb3JlIGBtYXhCcmFja2V0TGVuZ3RoYFxuICAgICAgICBsZXQgc2VhcmNoU3RhcnRPZmZzZXQgPSBNYXRoLm1heCgwLCBwb3NpdGlvbi5jb2x1bW4gLSAxIC0gbW9kZUJyYWNrZXRzLm1heEJyYWNrZXRMZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gdG9rZW5JbmRleCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbkVuZE9mZnNldCA9IGxpbmVUb2tlbnMuZ2V0RW5kT2Zmc2V0KGkpO1xuICAgICAgICAgICAgaWYgKHRva2VuRW5kT2Zmc2V0IDw9IHNlYXJjaFN0YXJ0T2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaWdub3JlQnJhY2tldHNJblRva2VuKGxpbmVUb2tlbnMuZ2V0U3RhbmRhcmRUb2tlblR5cGUoaSkpIHx8IGxpbmVUb2tlbnMuZ2V0TGFuZ3VhZ2VJZChpKSAhPT0gY3VycmVudExhbmd1YWdlSWQpIHtcbiAgICAgICAgICAgICAgICBzZWFyY2hTdGFydE9mZnNldCA9IHRva2VuRW5kT2Zmc2V0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGxpbWl0IHNlYXJjaCB0byBub3QgZ28gYWZ0ZXIgYG1heEJyYWNrZXRMZW5ndGhgXG4gICAgICAgIGxldCBzZWFyY2hFbmRPZmZzZXQgPSBNYXRoLm1pbihsaW5lVG9rZW5zLmdldExpbmVDb250ZW50KCkubGVuZ3RoLCBwb3NpdGlvbi5jb2x1bW4gLSAxICsgbW9kZUJyYWNrZXRzLm1heEJyYWNrZXRMZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gdG9rZW5JbmRleCArIDE7IGkgPCB0b2tlbkNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuU3RhcnRPZmZzZXQgPSBsaW5lVG9rZW5zLmdldFN0YXJ0T2Zmc2V0KGkpO1xuICAgICAgICAgICAgaWYgKHRva2VuU3RhcnRPZmZzZXQgPj0gc2VhcmNoRW5kT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaWdub3JlQnJhY2tldHNJblRva2VuKGxpbmVUb2tlbnMuZ2V0U3RhbmRhcmRUb2tlblR5cGUoaSkpIHx8IGxpbmVUb2tlbnMuZ2V0TGFuZ3VhZ2VJZChpKSAhPT0gY3VycmVudExhbmd1YWdlSWQpIHtcbiAgICAgICAgICAgICAgICBzZWFyY2hFbmRPZmZzZXQgPSB0b2tlblN0YXJ0T2Zmc2V0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHNlYXJjaFN0YXJ0T2Zmc2V0LCBzZWFyY2hFbmRPZmZzZXQgfTtcbiAgICB9XG4gICAgX21hdGNoQnJhY2tldChwb3NpdGlvbiwgY29udGludWVTZWFyY2hQcmVkaWNhdGUpIHtcbiAgICAgICAgY29uc3QgbGluZU51bWJlciA9IHBvc2l0aW9uLmxpbmVOdW1iZXI7XG4gICAgICAgIGNvbnN0IGxpbmVUb2tlbnMgPSB0aGlzLnRleHRNb2RlbC50b2tlbml6YXRpb24uZ2V0TGluZVRva2VucyhsaW5lTnVtYmVyKTtcbiAgICAgICAgY29uc3QgbGluZVRleHQgPSB0aGlzLnRleHRNb2RlbC5nZXRMaW5lQ29udGVudChsaW5lTnVtYmVyKTtcbiAgICAgICAgY29uc3QgdG9rZW5JbmRleCA9IGxpbmVUb2tlbnMuZmluZFRva2VuSW5kZXhBdE9mZnNldChwb3NpdGlvbi5jb2x1bW4gLSAxKTtcbiAgICAgICAgaWYgKHRva2VuSW5kZXggPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50TW9kZUJyYWNrZXRzID0gdGhpcy5sYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlLmdldExhbmd1YWdlQ29uZmlndXJhdGlvbihsaW5lVG9rZW5zLmdldExhbmd1YWdlSWQodG9rZW5JbmRleCkpLmJyYWNrZXRzO1xuICAgICAgICAvLyBjaGVjayB0aGF0IHRoZSB0b2tlbiBpcyBub3QgdG8gYmUgaWdub3JlZFxuICAgICAgICBpZiAoY3VycmVudE1vZGVCcmFja2V0cyAmJiAhaWdub3JlQnJhY2tldHNJblRva2VuKGxpbmVUb2tlbnMuZ2V0U3RhbmRhcmRUb2tlblR5cGUodG9rZW5JbmRleCkpKSB7XG4gICAgICAgICAgICBsZXQgeyBzZWFyY2hTdGFydE9mZnNldCwgc2VhcmNoRW5kT2Zmc2V0IH0gPSB0aGlzLl9lc3RhYmxpc2hCcmFja2V0U2VhcmNoT2Zmc2V0cyhwb3NpdGlvbiwgbGluZVRva2VucywgY3VycmVudE1vZGVCcmFja2V0cywgdG9rZW5JbmRleCk7XG4gICAgICAgICAgICAvLyBpdCBtaWdodCBiZSB0aGUgY2FzZSB0aGF0IFtjdXJyZW50VG9rZW5TdGFydCAtPiBjdXJyZW50VG9rZW5FbmRdIGNvbnRhaW5zIG11bHRpcGxlIGJyYWNrZXRzXG4gICAgICAgICAgICAvLyBgYmVzdFJlc3VsdGAgd2lsbCBjb250YWluIHRoZSBtb3N0IHJpZ2h0LXNpZGUgcmVzdWx0XG4gICAgICAgICAgICBsZXQgYmVzdFJlc3VsdCA9IG51bGw7XG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kQnJhY2tldCA9IEJyYWNrZXRzVXRpbHMuZmluZE5leHRCcmFja2V0SW5SYW5nZShjdXJyZW50TW9kZUJyYWNrZXRzLmZvcndhcmRSZWdleCwgbGluZU51bWJlciwgbGluZVRleHQsIHNlYXJjaFN0YXJ0T2Zmc2V0LCBzZWFyY2hFbmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgIGlmICghZm91bmRCcmFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZXJlIGFyZSBubyBtb3JlIGJyYWNrZXRzIGluIHRoaXMgdGV4dFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgdGhhdCB3ZSBkaWRuJ3QgaGl0IGEgYnJhY2tldCB0b28gZmFyIGF3YXkgZnJvbSBwb3NpdGlvblxuICAgICAgICAgICAgICAgIGlmIChmb3VuZEJyYWNrZXQuc3RhcnRDb2x1bW4gPD0gcG9zaXRpb24uY29sdW1uICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBmb3VuZEJyYWNrZXQuZW5kQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kQnJhY2tldFRleHQgPSBsaW5lVGV4dC5zdWJzdHJpbmcoZm91bmRCcmFja2V0LnN0YXJ0Q29sdW1uIC0gMSwgZm91bmRCcmFja2V0LmVuZENvbHVtbiAtIDEpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLl9tYXRjaEZvdW5kQnJhY2tldChmb3VuZEJyYWNrZXQsIGN1cnJlbnRNb2RlQnJhY2tldHMudGV4dElzQnJhY2tldFtmb3VuZEJyYWNrZXRUZXh0XSwgY3VycmVudE1vZGVCcmFja2V0cy50ZXh0SXNPcGVuQnJhY2tldFtmb3VuZEJyYWNrZXRUZXh0XSwgY29udGludWVTZWFyY2hQcmVkaWNhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIgaW5zdGFuY2VvZiBCcmFja2V0U2VhcmNoQ2FuY2VsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RSZXN1bHQgPSByO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlYXJjaFN0YXJ0T2Zmc2V0ID0gZm91bmRCcmFja2V0LmVuZENvbHVtbiAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmVzdFJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBiZXN0UmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHBvc2l0aW9uIGlzIGluIGJldHdlZW4gdHdvIHRva2VucywgdHJ5IGFsc28gbG9va2luZyBpbiB0aGUgcHJldmlvdXMgdG9rZW5cbiAgICAgICAgaWYgKHRva2VuSW5kZXggPiAwICYmIGxpbmVUb2tlbnMuZ2V0U3RhcnRPZmZzZXQodG9rZW5JbmRleCkgPT09IHBvc2l0aW9uLmNvbHVtbiAtIDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZUb2tlbkluZGV4ID0gdG9rZW5JbmRleCAtIDE7XG4gICAgICAgICAgICBjb25zdCBwcmV2TW9kZUJyYWNrZXRzID0gdGhpcy5sYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlLmdldExhbmd1YWdlQ29uZmlndXJhdGlvbihsaW5lVG9rZW5zLmdldExhbmd1YWdlSWQocHJldlRva2VuSW5kZXgpKS5icmFja2V0cztcbiAgICAgICAgICAgIC8vIGNoZWNrIHRoYXQgcHJldmlvdXMgdG9rZW4gaXMgbm90IHRvIGJlIGlnbm9yZWRcbiAgICAgICAgICAgIGlmIChwcmV2TW9kZUJyYWNrZXRzICYmICFpZ25vcmVCcmFja2V0c0luVG9rZW4obGluZVRva2Vucy5nZXRTdGFuZGFyZFRva2VuVHlwZShwcmV2VG9rZW5JbmRleCkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzZWFyY2hTdGFydE9mZnNldCwgc2VhcmNoRW5kT2Zmc2V0IH0gPSB0aGlzLl9lc3RhYmxpc2hCcmFja2V0U2VhcmNoT2Zmc2V0cyhwb3NpdGlvbiwgbGluZVRva2VucywgcHJldk1vZGVCcmFja2V0cywgcHJldlRva2VuSW5kZXgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kQnJhY2tldCA9IEJyYWNrZXRzVXRpbHMuZmluZFByZXZCcmFja2V0SW5SYW5nZShwcmV2TW9kZUJyYWNrZXRzLnJldmVyc2VkUmVnZXgsIGxpbmVOdW1iZXIsIGxpbmVUZXh0LCBzZWFyY2hTdGFydE9mZnNldCwgc2VhcmNoRW5kT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayB0aGF0IHdlIGRpZG4ndCBoaXQgYSBicmFja2V0IHRvbyBmYXIgYXdheSBmcm9tIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kQnJhY2tldCAmJiBmb3VuZEJyYWNrZXQuc3RhcnRDb2x1bW4gPD0gcG9zaXRpb24uY29sdW1uICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBmb3VuZEJyYWNrZXQuZW5kQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kQnJhY2tldFRleHQgPSBsaW5lVGV4dC5zdWJzdHJpbmcoZm91bmRCcmFja2V0LnN0YXJ0Q29sdW1uIC0gMSwgZm91bmRCcmFja2V0LmVuZENvbHVtbiAtIDEpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLl9tYXRjaEZvdW5kQnJhY2tldChmb3VuZEJyYWNrZXQsIHByZXZNb2RlQnJhY2tldHMudGV4dElzQnJhY2tldFtmb3VuZEJyYWNrZXRUZXh0XSwgcHJldk1vZGVCcmFja2V0cy50ZXh0SXNPcGVuQnJhY2tldFtmb3VuZEJyYWNrZXRUZXh0XSwgY29udGludWVTZWFyY2hQcmVkaWNhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIgaW5zdGFuY2VvZiBCcmFja2V0U2VhcmNoQ2FuY2VsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBfbWF0Y2hGb3VuZEJyYWNrZXQoZm91bmRCcmFja2V0LCBkYXRhLCBpc09wZW4sIGNvbnRpbnVlU2VhcmNoUHJlZGljYXRlKSB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWF0Y2hlZCA9IChpc09wZW5cbiAgICAgICAgICAgID8gdGhpcy5fZmluZE1hdGNoaW5nQnJhY2tldERvd24oZGF0YSwgZm91bmRCcmFja2V0LmdldEVuZFBvc2l0aW9uKCksIGNvbnRpbnVlU2VhcmNoUHJlZGljYXRlKVxuICAgICAgICAgICAgOiB0aGlzLl9maW5kTWF0Y2hpbmdCcmFja2V0VXAoZGF0YSwgZm91bmRCcmFja2V0LmdldFN0YXJ0UG9zaXRpb24oKSwgY29udGludWVTZWFyY2hQcmVkaWNhdGUpKTtcbiAgICAgICAgaWYgKCFtYXRjaGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2hlZCBpbnN0YW5jZW9mIEJyYWNrZXRTZWFyY2hDYW5jZWxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtmb3VuZEJyYWNrZXQsIG1hdGNoZWRdO1xuICAgIH1cbiAgICBfZmluZE1hdGNoaW5nQnJhY2tldFVwKGJyYWNrZXQsIHBvc2l0aW9uLCBjb250aW51ZVNlYXJjaFByZWRpY2F0ZSkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnX2ZpbmRNYXRjaGluZ0JyYWNrZXRVcDogJywgJ2JyYWNrZXQ6ICcsIEpTT04uc3RyaW5naWZ5KGJyYWNrZXQpLCAnc3RhcnRQb3NpdGlvbjogJywgU3RyaW5nKHBvc2l0aW9uKSk7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlSWQgPSBicmFja2V0Lmxhbmd1YWdlSWQ7XG4gICAgICAgIGNvbnN0IHJldmVyc2VkQnJhY2tldFJlZ2V4ID0gYnJhY2tldC5yZXZlcnNlZFJlZ2V4O1xuICAgICAgICBsZXQgY291bnQgPSAtMTtcbiAgICAgICAgbGV0IHRvdGFsQ2FsbENvdW50ID0gMDtcbiAgICAgICAgY29uc3Qgc2VhcmNoUHJldk1hdGNoaW5nQnJhY2tldEluUmFuZ2UgPSAobGluZU51bWJlciwgbGluZVRleHQsIHNlYXJjaFN0YXJ0T2Zmc2V0LCBzZWFyY2hFbmRPZmZzZXQpID0+IHtcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRpbnVlU2VhcmNoUHJlZGljYXRlICYmICgrK3RvdGFsQ2FsbENvdW50KSAlIDEwMCA9PT0gMCAmJiAhY29udGludWVTZWFyY2hQcmVkaWNhdGUoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQnJhY2tldFNlYXJjaENhbmNlbGVkLklOU1RBTkNFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByID0gQnJhY2tldHNVdGlscy5maW5kUHJldkJyYWNrZXRJblJhbmdlKHJldmVyc2VkQnJhY2tldFJlZ2V4LCBsaW5lTnVtYmVyLCBsaW5lVGV4dCwgc2VhcmNoU3RhcnRPZmZzZXQsIHNlYXJjaEVuZE9mZnNldCk7XG4gICAgICAgICAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBoaXRUZXh0ID0gbGluZVRleHQuc3Vic3RyaW5nKHIuc3RhcnRDb2x1bW4gLSAxLCByLmVuZENvbHVtbiAtIDEpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGJyYWNrZXQuaXNPcGVuKGhpdFRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJyYWNrZXQuaXNDbG9zZShoaXRUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBjb3VudC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlYXJjaEVuZE9mZnNldCA9IHIuc3RhcnRDb2x1bW4gLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAobGV0IGxpbmVOdW1iZXIgPSBwb3NpdGlvbi5saW5lTnVtYmVyOyBsaW5lTnVtYmVyID49IDE7IGxpbmVOdW1iZXItLSkge1xuICAgICAgICAgICAgY29uc3QgbGluZVRva2VucyA9IHRoaXMudGV4dE1vZGVsLnRva2VuaXphdGlvbi5nZXRMaW5lVG9rZW5zKGxpbmVOdW1iZXIpO1xuICAgICAgICAgICAgY29uc3QgdG9rZW5Db3VudCA9IGxpbmVUb2tlbnMuZ2V0Q291bnQoKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVUZXh0ID0gdGhpcy50ZXh0TW9kZWwuZ2V0TGluZUNvbnRlbnQobGluZU51bWJlcik7XG4gICAgICAgICAgICBsZXQgdG9rZW5JbmRleCA9IHRva2VuQ291bnQgLSAxO1xuICAgICAgICAgICAgbGV0IHNlYXJjaFN0YXJ0T2Zmc2V0ID0gbGluZVRleHQubGVuZ3RoO1xuICAgICAgICAgICAgbGV0IHNlYXJjaEVuZE9mZnNldCA9IGxpbmVUZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChsaW5lTnVtYmVyID09PSBwb3NpdGlvbi5saW5lTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5JbmRleCA9IGxpbmVUb2tlbnMuZmluZFRva2VuSW5kZXhBdE9mZnNldChwb3NpdGlvbi5jb2x1bW4gLSAxKTtcbiAgICAgICAgICAgICAgICBzZWFyY2hTdGFydE9mZnNldCA9IHBvc2l0aW9uLmNvbHVtbiAtIDE7XG4gICAgICAgICAgICAgICAgc2VhcmNoRW5kT2Zmc2V0ID0gcG9zaXRpb24uY29sdW1uIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwcmV2U2VhcmNoSW5Ub2tlbiA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKDsgdG9rZW5JbmRleCA+PSAwOyB0b2tlbkluZGV4LS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2hJblRva2VuID0gKGxpbmVUb2tlbnMuZ2V0TGFuZ3VhZ2VJZCh0b2tlbkluZGV4KSA9PT0gbGFuZ3VhZ2VJZCAmJiAhaWdub3JlQnJhY2tldHNJblRva2VuKGxpbmVUb2tlbnMuZ2V0U3RhbmRhcmRUb2tlblR5cGUodG9rZW5JbmRleCkpKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VhcmNoSW5Ub2tlbikge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHRva2VuIHNob3VsZCBiZSBzZWFyY2hlZFxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldlNlYXJjaEluVG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBwcmV2aW91cyB0b2tlbiBzaG91bGQgYmUgc2VhcmNoZWQsIHNpbXBseSBleHRlbmQgc2VhcmNoU3RhcnRPZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFN0YXJ0T2Zmc2V0ID0gbGluZVRva2Vucy5nZXRTdGFydE9mZnNldCh0b2tlbkluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBwcmV2aW91cyB0b2tlbiBzaG91bGQgbm90IGJlIHNlYXJjaGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hTdGFydE9mZnNldCA9IGxpbmVUb2tlbnMuZ2V0U3RhcnRPZmZzZXQodG9rZW5JbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hFbmRPZmZzZXQgPSBsaW5lVG9rZW5zLmdldEVuZE9mZnNldCh0b2tlbkluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB0b2tlbiBzaG91bGQgbm90IGJlIHNlYXJjaGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2U2VhcmNoSW5Ub2tlbiAmJiBzZWFyY2hTdGFydE9mZnNldCAhPT0gc2VhcmNoRW5kT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gc2VhcmNoUHJldk1hdGNoaW5nQnJhY2tldEluUmFuZ2UobGluZU51bWJlciwgbGluZVRleHQsIHNlYXJjaFN0YXJ0T2Zmc2V0LCBzZWFyY2hFbmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2U2VhcmNoSW5Ub2tlbiA9IHNlYXJjaEluVG9rZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJldlNlYXJjaEluVG9rZW4gJiYgc2VhcmNoU3RhcnRPZmZzZXQgIT09IHNlYXJjaEVuZE9mZnNldCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBzZWFyY2hQcmV2TWF0Y2hpbmdCcmFja2V0SW5SYW5nZShsaW5lTnVtYmVyLCBsaW5lVGV4dCwgc2VhcmNoU3RhcnRPZmZzZXQsIHNlYXJjaEVuZE9mZnNldCk7XG4gICAgICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBfZmluZE1hdGNoaW5nQnJhY2tldERvd24oYnJhY2tldCwgcG9zaXRpb24sIGNvbnRpbnVlU2VhcmNoUHJlZGljYXRlKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdfZmluZE1hdGNoaW5nQnJhY2tldERvd246ICcsICdicmFja2V0OiAnLCBKU09OLnN0cmluZ2lmeShicmFja2V0KSwgJ3N0YXJ0UG9zaXRpb246ICcsIFN0cmluZyhwb3NpdGlvbikpO1xuICAgICAgICBjb25zdCBsYW5ndWFnZUlkID0gYnJhY2tldC5sYW5ndWFnZUlkO1xuICAgICAgICBjb25zdCBicmFja2V0UmVnZXggPSBicmFja2V0LmZvcndhcmRSZWdleDtcbiAgICAgICAgbGV0IGNvdW50ID0gMTtcbiAgICAgICAgbGV0IHRvdGFsQ2FsbENvdW50ID0gMDtcbiAgICAgICAgY29uc3Qgc2VhcmNoTmV4dE1hdGNoaW5nQnJhY2tldEluUmFuZ2UgPSAobGluZU51bWJlciwgbGluZVRleHQsIHNlYXJjaFN0YXJ0T2Zmc2V0LCBzZWFyY2hFbmRPZmZzZXQpID0+IHtcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRpbnVlU2VhcmNoUHJlZGljYXRlICYmICgrK3RvdGFsQ2FsbENvdW50KSAlIDEwMCA9PT0gMCAmJiAhY29udGludWVTZWFyY2hQcmVkaWNhdGUoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQnJhY2tldFNlYXJjaENhbmNlbGVkLklOU1RBTkNFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByID0gQnJhY2tldHNVdGlscy5maW5kTmV4dEJyYWNrZXRJblJhbmdlKGJyYWNrZXRSZWdleCwgbGluZU51bWJlciwgbGluZVRleHQsIHNlYXJjaFN0YXJ0T2Zmc2V0LCBzZWFyY2hFbmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgIGlmICghcikge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgaGl0VGV4dCA9IGxpbmVUZXh0LnN1YnN0cmluZyhyLnN0YXJ0Q29sdW1uIC0gMSwgci5lbmRDb2x1bW4gLSAxKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGlmIChicmFja2V0LmlzT3BlbihoaXRUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChicmFja2V0LmlzQ2xvc2UoaGl0VGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY291bnQtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWFyY2hTdGFydE9mZnNldCA9IHIuZW5kQ29sdW1uIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBsaW5lQ291bnQgPSB0aGlzLnRleHRNb2RlbC5nZXRMaW5lQ291bnQoKTtcbiAgICAgICAgZm9yIChsZXQgbGluZU51bWJlciA9IHBvc2l0aW9uLmxpbmVOdW1iZXI7IGxpbmVOdW1iZXIgPD0gbGluZUNvdW50OyBsaW5lTnVtYmVyKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVUb2tlbnMgPSB0aGlzLnRleHRNb2RlbC50b2tlbml6YXRpb24uZ2V0TGluZVRva2VucyhsaW5lTnVtYmVyKTtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuQ291bnQgPSBsaW5lVG9rZW5zLmdldENvdW50KCk7XG4gICAgICAgICAgICBjb25zdCBsaW5lVGV4dCA9IHRoaXMudGV4dE1vZGVsLmdldExpbmVDb250ZW50KGxpbmVOdW1iZXIpO1xuICAgICAgICAgICAgbGV0IHRva2VuSW5kZXggPSAwO1xuICAgICAgICAgICAgbGV0IHNlYXJjaFN0YXJ0T2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIGxldCBzZWFyY2hFbmRPZmZzZXQgPSAwO1xuICAgICAgICAgICAgaWYgKGxpbmVOdW1iZXIgPT09IHBvc2l0aW9uLmxpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICB0b2tlbkluZGV4ID0gbGluZVRva2Vucy5maW5kVG9rZW5JbmRleEF0T2Zmc2V0KHBvc2l0aW9uLmNvbHVtbiAtIDEpO1xuICAgICAgICAgICAgICAgIHNlYXJjaFN0YXJ0T2Zmc2V0ID0gcG9zaXRpb24uY29sdW1uIC0gMTtcbiAgICAgICAgICAgICAgICBzZWFyY2hFbmRPZmZzZXQgPSBwb3NpdGlvbi5jb2x1bW4gLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHByZXZTZWFyY2hJblRva2VuID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoOyB0b2tlbkluZGV4IDwgdG9rZW5Db3VudDsgdG9rZW5JbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoSW5Ub2tlbiA9IChsaW5lVG9rZW5zLmdldExhbmd1YWdlSWQodG9rZW5JbmRleCkgPT09IGxhbmd1YWdlSWQgJiYgIWlnbm9yZUJyYWNrZXRzSW5Ub2tlbihsaW5lVG9rZW5zLmdldFN0YW5kYXJkVG9rZW5UeXBlKHRva2VuSW5kZXgpKSk7XG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaEluVG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB0b2tlbiBzaG91bGQgYmUgc2VhcmNoZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZTZWFyY2hJblRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcHJldmlvdXMgdG9rZW4gc2hvdWxkIGJlIHNlYXJjaGVkLCBzaW1wbHkgZXh0ZW5kIHNlYXJjaEVuZE9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoRW5kT2Zmc2V0ID0gbGluZVRva2Vucy5nZXRFbmRPZmZzZXQodG9rZW5JbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcHJldmlvdXMgdG9rZW4gc2hvdWxkIG5vdCBiZSBzZWFyY2hlZFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoU3RhcnRPZmZzZXQgPSBsaW5lVG9rZW5zLmdldFN0YXJ0T2Zmc2V0KHRva2VuSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoRW5kT2Zmc2V0ID0gbGluZVRva2Vucy5nZXRFbmRPZmZzZXQodG9rZW5JbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgdG9rZW4gc2hvdWxkIG5vdCBiZSBzZWFyY2hlZFxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldlNlYXJjaEluVG9rZW4gJiYgc2VhcmNoU3RhcnRPZmZzZXQgIT09IHNlYXJjaEVuZE9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IHNlYXJjaE5leHRNYXRjaGluZ0JyYWNrZXRJblJhbmdlKGxpbmVOdW1iZXIsIGxpbmVUZXh0LCBzZWFyY2hTdGFydE9mZnNldCwgc2VhcmNoRW5kT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldlNlYXJjaEluVG9rZW4gPSBzZWFyY2hJblRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZXZTZWFyY2hJblRva2VuICYmIHNlYXJjaFN0YXJ0T2Zmc2V0ICE9PSBzZWFyY2hFbmRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gc2VhcmNoTmV4dE1hdGNoaW5nQnJhY2tldEluUmFuZ2UobGluZU51bWJlciwgbGluZVRleHQsIHNlYXJjaFN0YXJ0T2Zmc2V0LCBzZWFyY2hFbmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZmluZFByZXZCcmFja2V0KF9wb3NpdGlvbikge1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMudGV4dE1vZGVsLnZhbGlkYXRlUG9zaXRpb24oX3Bvc2l0aW9uKTtcbiAgICAgICAgaWYgKHRoaXMuY2FuQnVpbGRBU1QpIHtcbiAgICAgICAgICAgIHRoaXMuYnJhY2tldHNSZXF1ZXN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVCcmFja2V0UGFpcnNUcmVlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5icmFja2V0UGFpcnNUcmVlLnZhbHVlPy5vYmplY3QuZ2V0Rmlyc3RCcmFja2V0QmVmb3JlKHBvc2l0aW9uKSB8fCBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsYW5ndWFnZUlkID0gbnVsbDtcbiAgICAgICAgbGV0IG1vZGVCcmFja2V0cyA9IG51bGw7XG4gICAgICAgIGxldCBicmFja2V0Q29uZmlnID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgbGluZU51bWJlciA9IHBvc2l0aW9uLmxpbmVOdW1iZXI7IGxpbmVOdW1iZXIgPj0gMTsgbGluZU51bWJlci0tKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lVG9rZW5zID0gdGhpcy50ZXh0TW9kZWwudG9rZW5pemF0aW9uLmdldExpbmVUb2tlbnMobGluZU51bWJlcik7XG4gICAgICAgICAgICBjb25zdCB0b2tlbkNvdW50ID0gbGluZVRva2Vucy5nZXRDb3VudCgpO1xuICAgICAgICAgICAgY29uc3QgbGluZVRleHQgPSB0aGlzLnRleHRNb2RlbC5nZXRMaW5lQ29udGVudChsaW5lTnVtYmVyKTtcbiAgICAgICAgICAgIGxldCB0b2tlbkluZGV4ID0gdG9rZW5Db3VudCAtIDE7XG4gICAgICAgICAgICBsZXQgc2VhcmNoU3RhcnRPZmZzZXQgPSBsaW5lVGV4dC5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgc2VhcmNoRW5kT2Zmc2V0ID0gbGluZVRleHQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGxpbmVOdW1iZXIgPT09IHBvc2l0aW9uLmxpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICB0b2tlbkluZGV4ID0gbGluZVRva2Vucy5maW5kVG9rZW5JbmRleEF0T2Zmc2V0KHBvc2l0aW9uLmNvbHVtbiAtIDEpO1xuICAgICAgICAgICAgICAgIHNlYXJjaFN0YXJ0T2Zmc2V0ID0gcG9zaXRpb24uY29sdW1uIC0gMTtcbiAgICAgICAgICAgICAgICBzZWFyY2hFbmRPZmZzZXQgPSBwb3NpdGlvbi5jb2x1bW4gLSAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuTGFuZ3VhZ2VJZCA9IGxpbmVUb2tlbnMuZ2V0TGFuZ3VhZ2VJZCh0b2tlbkluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAobGFuZ3VhZ2VJZCAhPT0gdG9rZW5MYW5ndWFnZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlSWQgPSB0b2tlbkxhbmd1YWdlSWQ7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVCcmFja2V0cyA9IHRoaXMubGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZS5nZXRMYW5ndWFnZUNvbmZpZ3VyYXRpb24obGFuZ3VhZ2VJZCkuYnJhY2tldHM7XG4gICAgICAgICAgICAgICAgICAgIGJyYWNrZXRDb25maWcgPSB0aGlzLmxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UuZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uKGxhbmd1YWdlSWQpLmJyYWNrZXRzTmV3O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwcmV2U2VhcmNoSW5Ub2tlbiA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKDsgdG9rZW5JbmRleCA+PSAwOyB0b2tlbkluZGV4LS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbkxhbmd1YWdlSWQgPSBsaW5lVG9rZW5zLmdldExhbmd1YWdlSWQodG9rZW5JbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGxhbmd1YWdlSWQgIT09IHRva2VuTGFuZ3VhZ2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBsYW5ndWFnZSBpZCBjaGFuZ2UhXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlQnJhY2tldHMgJiYgYnJhY2tldENvbmZpZyAmJiBwcmV2U2VhcmNoSW5Ub2tlbiAmJiBzZWFyY2hTdGFydE9mZnNldCAhPT0gc2VhcmNoRW5kT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gQnJhY2tldHNVdGlscy5maW5kUHJldkJyYWNrZXRJblJhbmdlKG1vZGVCcmFja2V0cy5yZXZlcnNlZFJlZ2V4LCBsaW5lTnVtYmVyLCBsaW5lVGV4dCwgc2VhcmNoU3RhcnRPZmZzZXQsIHNlYXJjaEVuZE9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90b0ZvdW5kQnJhY2tldChicmFja2V0Q29uZmlnLCByKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZTZWFyY2hJblRva2VuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2VJZCA9IHRva2VuTGFuZ3VhZ2VJZDtcbiAgICAgICAgICAgICAgICAgICAgbW9kZUJyYWNrZXRzID0gdGhpcy5sYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlLmdldExhbmd1YWdlQ29uZmlndXJhdGlvbihsYW5ndWFnZUlkKS5icmFja2V0cztcbiAgICAgICAgICAgICAgICAgICAgYnJhY2tldENvbmZpZyA9IHRoaXMubGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZS5nZXRMYW5ndWFnZUNvbmZpZ3VyYXRpb24obGFuZ3VhZ2VJZCkuYnJhY2tldHNOZXc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlYXJjaEluVG9rZW4gPSAoISFtb2RlQnJhY2tldHMgJiYgIWlnbm9yZUJyYWNrZXRzSW5Ub2tlbihsaW5lVG9rZW5zLmdldFN0YW5kYXJkVG9rZW5UeXBlKHRva2VuSW5kZXgpKSk7XG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaEluVG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB0b2tlbiBzaG91bGQgYmUgc2VhcmNoZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZTZWFyY2hJblRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcHJldmlvdXMgdG9rZW4gc2hvdWxkIGJlIHNlYXJjaGVkLCBzaW1wbHkgZXh0ZW5kIHNlYXJjaFN0YXJ0T2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hTdGFydE9mZnNldCA9IGxpbmVUb2tlbnMuZ2V0U3RhcnRPZmZzZXQodG9rZW5JbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcHJldmlvdXMgdG9rZW4gc2hvdWxkIG5vdCBiZSBzZWFyY2hlZFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoU3RhcnRPZmZzZXQgPSBsaW5lVG9rZW5zLmdldFN0YXJ0T2Zmc2V0KHRva2VuSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoRW5kT2Zmc2V0ID0gbGluZVRva2Vucy5nZXRFbmRPZmZzZXQodG9rZW5JbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgdG9rZW4gc2hvdWxkIG5vdCBiZSBzZWFyY2hlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoYnJhY2tldENvbmZpZyAmJiBtb2RlQnJhY2tldHMgJiYgcHJldlNlYXJjaEluVG9rZW4gJiYgc2VhcmNoU3RhcnRPZmZzZXQgIT09IHNlYXJjaEVuZE9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IEJyYWNrZXRzVXRpbHMuZmluZFByZXZCcmFja2V0SW5SYW5nZShtb2RlQnJhY2tldHMucmV2ZXJzZWRSZWdleCwgbGluZU51bWJlciwgbGluZVRleHQsIHNlYXJjaFN0YXJ0T2Zmc2V0LCBzZWFyY2hFbmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdG9Gb3VuZEJyYWNrZXQoYnJhY2tldENvbmZpZywgcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldlNlYXJjaEluVG9rZW4gPSBzZWFyY2hJblRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJyYWNrZXRDb25maWcgJiYgbW9kZUJyYWNrZXRzICYmIHByZXZTZWFyY2hJblRva2VuICYmIHNlYXJjaFN0YXJ0T2Zmc2V0ICE9PSBzZWFyY2hFbmRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gQnJhY2tldHNVdGlscy5maW5kUHJldkJyYWNrZXRJblJhbmdlKG1vZGVCcmFja2V0cy5yZXZlcnNlZFJlZ2V4LCBsaW5lTnVtYmVyLCBsaW5lVGV4dCwgc2VhcmNoU3RhcnRPZmZzZXQsIHNlYXJjaEVuZE9mZnNldCk7XG4gICAgICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RvRm91bmRCcmFja2V0KGJyYWNrZXRDb25maWcsIHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZmluZE5leHRCcmFja2V0KF9wb3NpdGlvbikge1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMudGV4dE1vZGVsLnZhbGlkYXRlUG9zaXRpb24oX3Bvc2l0aW9uKTtcbiAgICAgICAgaWYgKHRoaXMuY2FuQnVpbGRBU1QpIHtcbiAgICAgICAgICAgIHRoaXMuYnJhY2tldHNSZXF1ZXN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVCcmFja2V0UGFpcnNUcmVlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5icmFja2V0UGFpcnNUcmVlLnZhbHVlPy5vYmplY3QuZ2V0Rmlyc3RCcmFja2V0QWZ0ZXIocG9zaXRpb24pIHx8IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGluZUNvdW50ID0gdGhpcy50ZXh0TW9kZWwuZ2V0TGluZUNvdW50KCk7XG4gICAgICAgIGxldCBsYW5ndWFnZUlkID0gbnVsbDtcbiAgICAgICAgbGV0IG1vZGVCcmFja2V0cyA9IG51bGw7XG4gICAgICAgIGxldCBicmFja2V0Q29uZmlnID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgbGluZU51bWJlciA9IHBvc2l0aW9uLmxpbmVOdW1iZXI7IGxpbmVOdW1iZXIgPD0gbGluZUNvdW50OyBsaW5lTnVtYmVyKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVUb2tlbnMgPSB0aGlzLnRleHRNb2RlbC50b2tlbml6YXRpb24uZ2V0TGluZVRva2VucyhsaW5lTnVtYmVyKTtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuQ291bnQgPSBsaW5lVG9rZW5zLmdldENvdW50KCk7XG4gICAgICAgICAgICBjb25zdCBsaW5lVGV4dCA9IHRoaXMudGV4dE1vZGVsLmdldExpbmVDb250ZW50KGxpbmVOdW1iZXIpO1xuICAgICAgICAgICAgbGV0IHRva2VuSW5kZXggPSAwO1xuICAgICAgICAgICAgbGV0IHNlYXJjaFN0YXJ0T2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIGxldCBzZWFyY2hFbmRPZmZzZXQgPSAwO1xuICAgICAgICAgICAgaWYgKGxpbmVOdW1iZXIgPT09IHBvc2l0aW9uLmxpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICB0b2tlbkluZGV4ID0gbGluZVRva2Vucy5maW5kVG9rZW5JbmRleEF0T2Zmc2V0KHBvc2l0aW9uLmNvbHVtbiAtIDEpO1xuICAgICAgICAgICAgICAgIHNlYXJjaFN0YXJ0T2Zmc2V0ID0gcG9zaXRpb24uY29sdW1uIC0gMTtcbiAgICAgICAgICAgICAgICBzZWFyY2hFbmRPZmZzZXQgPSBwb3NpdGlvbi5jb2x1bW4gLSAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuTGFuZ3VhZ2VJZCA9IGxpbmVUb2tlbnMuZ2V0TGFuZ3VhZ2VJZCh0b2tlbkluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAobGFuZ3VhZ2VJZCAhPT0gdG9rZW5MYW5ndWFnZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlSWQgPSB0b2tlbkxhbmd1YWdlSWQ7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVCcmFja2V0cyA9IHRoaXMubGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZS5nZXRMYW5ndWFnZUNvbmZpZ3VyYXRpb24obGFuZ3VhZ2VJZCkuYnJhY2tldHM7XG4gICAgICAgICAgICAgICAgICAgIGJyYWNrZXRDb25maWcgPSB0aGlzLmxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UuZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uKGxhbmd1YWdlSWQpLmJyYWNrZXRzTmV3O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwcmV2U2VhcmNoSW5Ub2tlbiA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKDsgdG9rZW5JbmRleCA8IHRva2VuQ291bnQ7IHRva2VuSW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuTGFuZ3VhZ2VJZCA9IGxpbmVUb2tlbnMuZ2V0TGFuZ3VhZ2VJZCh0b2tlbkluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAobGFuZ3VhZ2VJZCAhPT0gdG9rZW5MYW5ndWFnZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxhbmd1YWdlIGlkIGNoYW5nZSFcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJyYWNrZXRDb25maWcgJiYgbW9kZUJyYWNrZXRzICYmIHByZXZTZWFyY2hJblRva2VuICYmIHNlYXJjaFN0YXJ0T2Zmc2V0ICE9PSBzZWFyY2hFbmRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBCcmFja2V0c1V0aWxzLmZpbmROZXh0QnJhY2tldEluUmFuZ2UobW9kZUJyYWNrZXRzLmZvcndhcmRSZWdleCwgbGluZU51bWJlciwgbGluZVRleHQsIHNlYXJjaFN0YXJ0T2Zmc2V0LCBzZWFyY2hFbmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdG9Gb3VuZEJyYWNrZXQoYnJhY2tldENvbmZpZywgcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2U2VhcmNoSW5Ub2tlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlSWQgPSB0b2tlbkxhbmd1YWdlSWQ7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVCcmFja2V0cyA9IHRoaXMubGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZS5nZXRMYW5ndWFnZUNvbmZpZ3VyYXRpb24obGFuZ3VhZ2VJZCkuYnJhY2tldHM7XG4gICAgICAgICAgICAgICAgICAgIGJyYWNrZXRDb25maWcgPSB0aGlzLmxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UuZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uKGxhbmd1YWdlSWQpLmJyYWNrZXRzTmV3O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2hJblRva2VuID0gKCEhbW9kZUJyYWNrZXRzICYmICFpZ25vcmVCcmFja2V0c0luVG9rZW4obGluZVRva2Vucy5nZXRTdGFuZGFyZFRva2VuVHlwZSh0b2tlbkluZGV4KSkpO1xuICAgICAgICAgICAgICAgIGlmIChzZWFyY2hJblRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgdG9rZW4gc2hvdWxkIGJlIHNlYXJjaGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2U2VhcmNoSW5Ub2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHByZXZpb3VzIHRva2VuIHNob3VsZCBiZSBzZWFyY2hlZCwgc2ltcGx5IGV4dGVuZCBzZWFyY2hFbmRPZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaEVuZE9mZnNldCA9IGxpbmVUb2tlbnMuZ2V0RW5kT2Zmc2V0KHRva2VuSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHByZXZpb3VzIHRva2VuIHNob3VsZCBub3QgYmUgc2VhcmNoZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFN0YXJ0T2Zmc2V0ID0gbGluZVRva2Vucy5nZXRTdGFydE9mZnNldCh0b2tlbkluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaEVuZE9mZnNldCA9IGxpbmVUb2tlbnMuZ2V0RW5kT2Zmc2V0KHRva2VuSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHRva2VuIHNob3VsZCBub3QgYmUgc2VhcmNoZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJyYWNrZXRDb25maWcgJiYgbW9kZUJyYWNrZXRzICYmIHByZXZTZWFyY2hJblRva2VuICYmIHNlYXJjaFN0YXJ0T2Zmc2V0ICE9PSBzZWFyY2hFbmRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBCcmFja2V0c1V0aWxzLmZpbmROZXh0QnJhY2tldEluUmFuZ2UobW9kZUJyYWNrZXRzLmZvcndhcmRSZWdleCwgbGluZU51bWJlciwgbGluZVRleHQsIHNlYXJjaFN0YXJ0T2Zmc2V0LCBzZWFyY2hFbmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdG9Gb3VuZEJyYWNrZXQoYnJhY2tldENvbmZpZywgcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldlNlYXJjaEluVG9rZW4gPSBzZWFyY2hJblRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJyYWNrZXRDb25maWcgJiYgbW9kZUJyYWNrZXRzICYmIHByZXZTZWFyY2hJblRva2VuICYmIHNlYXJjaFN0YXJ0T2Zmc2V0ICE9PSBzZWFyY2hFbmRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gQnJhY2tldHNVdGlscy5maW5kTmV4dEJyYWNrZXRJblJhbmdlKG1vZGVCcmFja2V0cy5mb3J3YXJkUmVnZXgsIGxpbmVOdW1iZXIsIGxpbmVUZXh0LCBzZWFyY2hTdGFydE9mZnNldCwgc2VhcmNoRW5kT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdG9Gb3VuZEJyYWNrZXQoYnJhY2tldENvbmZpZywgcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmaW5kRW5jbG9zaW5nQnJhY2tldHMoX3Bvc2l0aW9uLCBtYXhEdXJhdGlvbikge1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMudGV4dE1vZGVsLnZhbGlkYXRlUG9zaXRpb24oX3Bvc2l0aW9uKTtcbiAgICAgICAgaWYgKHRoaXMuY2FuQnVpbGRBU1QpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gUmFuZ2UuZnJvbVBvc2l0aW9ucyhwb3NpdGlvbik7XG4gICAgICAgICAgICBjb25zdCBicmFja2V0UGFpciA9IHRoaXMuZ2V0QnJhY2tldFBhaXJzSW5SYW5nZShSYW5nZS5mcm9tUG9zaXRpb25zKHBvc2l0aW9uLCBwb3NpdGlvbikpLmZpbmRMYXN0KChpdGVtKSA9PiBpdGVtLmNsb3NpbmdCcmFja2V0UmFuZ2UgIT09IHVuZGVmaW5lZCAmJiBpdGVtLnJhbmdlLnN0cmljdENvbnRhaW5zUmFuZ2UocmFuZ2UpKTtcbiAgICAgICAgICAgIGlmIChicmFja2V0UGFpcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBbYnJhY2tldFBhaXIub3BlbmluZ0JyYWNrZXRSYW5nZSwgYnJhY2tldFBhaXIuY2xvc2luZ0JyYWNrZXRSYW5nZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250aW51ZVNlYXJjaFByZWRpY2F0ZSA9IGNyZWF0ZVRpbWVCYXNlZENvbnRpbnVlQnJhY2tldFNlYXJjaFByZWRpY2F0ZShtYXhEdXJhdGlvbik7XG4gICAgICAgIGNvbnN0IGxpbmVDb3VudCA9IHRoaXMudGV4dE1vZGVsLmdldExpbmVDb3VudCgpO1xuICAgICAgICBjb25zdCBzYXZlZENvdW50cyA9IG5ldyBNYXAoKTtcbiAgICAgICAgbGV0IGNvdW50cyA9IFtdO1xuICAgICAgICBjb25zdCByZXNldENvdW50cyA9IChsYW5ndWFnZUlkLCBtb2RlQnJhY2tldHMpID0+IHtcbiAgICAgICAgICAgIGlmICghc2F2ZWRDb3VudHMuaGFzKGxhbmd1YWdlSWQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG1wID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG1vZGVCcmFja2V0cyA/IG1vZGVCcmFja2V0cy5icmFja2V0cy5sZW5ndGggOiAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wW2ldID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2F2ZWRDb3VudHMuc2V0KGxhbmd1YWdlSWQsIHRtcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb3VudHMgPSBzYXZlZENvdW50cy5nZXQobGFuZ3VhZ2VJZCk7XG4gICAgICAgIH07XG4gICAgICAgIGxldCB0b3RhbENhbGxDb3VudCA9IDA7XG4gICAgICAgIGNvbnN0IHNlYXJjaEluUmFuZ2UgPSAobW9kZUJyYWNrZXRzLCBsaW5lTnVtYmVyLCBsaW5lVGV4dCwgc2VhcmNoU3RhcnRPZmZzZXQsIHNlYXJjaEVuZE9mZnNldCkgPT4ge1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGludWVTZWFyY2hQcmVkaWNhdGUgJiYgKCsrdG90YWxDYWxsQ291bnQpICUgMTAwID09PSAwICYmICFjb250aW51ZVNlYXJjaFByZWRpY2F0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBCcmFja2V0U2VhcmNoQ2FuY2VsZWQuSU5TVEFOQ0U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBCcmFja2V0c1V0aWxzLmZpbmROZXh0QnJhY2tldEluUmFuZ2UobW9kZUJyYWNrZXRzLmZvcndhcmRSZWdleCwgbGluZU51bWJlciwgbGluZVRleHQsIHNlYXJjaFN0YXJ0T2Zmc2V0LCBzZWFyY2hFbmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgIGlmICghcikge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgaGl0VGV4dCA9IGxpbmVUZXh0LnN1YnN0cmluZyhyLnN0YXJ0Q29sdW1uIC0gMSwgci5lbmRDb2x1bW4gLSAxKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJyYWNrZXQgPSBtb2RlQnJhY2tldHMudGV4dElzQnJhY2tldFtoaXRUZXh0XTtcbiAgICAgICAgICAgICAgICBpZiAoYnJhY2tldCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnJhY2tldC5pc09wZW4oaGl0VGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50c1ticmFja2V0LmluZGV4XSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJyYWNrZXQuaXNDbG9zZShoaXRUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRzW2JyYWNrZXQuaW5kZXhdLS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50c1ticmFja2V0LmluZGV4XSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXRjaEZvdW5kQnJhY2tldChyLCBicmFja2V0LCBmYWxzZSwgY29udGludWVTZWFyY2hQcmVkaWNhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlYXJjaFN0YXJ0T2Zmc2V0ID0gci5lbmRDb2x1bW4gLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIGxldCBsYW5ndWFnZUlkID0gbnVsbDtcbiAgICAgICAgbGV0IG1vZGVCcmFja2V0cyA9IG51bGw7XG4gICAgICAgIGZvciAobGV0IGxpbmVOdW1iZXIgPSBwb3NpdGlvbi5saW5lTnVtYmVyOyBsaW5lTnVtYmVyIDw9IGxpbmVDb3VudDsgbGluZU51bWJlcisrKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lVG9rZW5zID0gdGhpcy50ZXh0TW9kZWwudG9rZW5pemF0aW9uLmdldExpbmVUb2tlbnMobGluZU51bWJlcik7XG4gICAgICAgICAgICBjb25zdCB0b2tlbkNvdW50ID0gbGluZVRva2Vucy5nZXRDb3VudCgpO1xuICAgICAgICAgICAgY29uc3QgbGluZVRleHQgPSB0aGlzLnRleHRNb2RlbC5nZXRMaW5lQ29udGVudChsaW5lTnVtYmVyKTtcbiAgICAgICAgICAgIGxldCB0b2tlbkluZGV4ID0gMDtcbiAgICAgICAgICAgIGxldCBzZWFyY2hTdGFydE9mZnNldCA9IDA7XG4gICAgICAgICAgICBsZXQgc2VhcmNoRW5kT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIGlmIChsaW5lTnVtYmVyID09PSBwb3NpdGlvbi5saW5lTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5JbmRleCA9IGxpbmVUb2tlbnMuZmluZFRva2VuSW5kZXhBdE9mZnNldChwb3NpdGlvbi5jb2x1bW4gLSAxKTtcbiAgICAgICAgICAgICAgICBzZWFyY2hTdGFydE9mZnNldCA9IHBvc2l0aW9uLmNvbHVtbiAtIDE7XG4gICAgICAgICAgICAgICAgc2VhcmNoRW5kT2Zmc2V0ID0gcG9zaXRpb24uY29sdW1uIC0gMTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbkxhbmd1YWdlSWQgPSBsaW5lVG9rZW5zLmdldExhbmd1YWdlSWQodG9rZW5JbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGxhbmd1YWdlSWQgIT09IHRva2VuTGFuZ3VhZ2VJZCkge1xuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZUlkID0gdG9rZW5MYW5ndWFnZUlkO1xuICAgICAgICAgICAgICAgICAgICBtb2RlQnJhY2tldHMgPSB0aGlzLmxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UuZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uKGxhbmd1YWdlSWQpLmJyYWNrZXRzO1xuICAgICAgICAgICAgICAgICAgICByZXNldENvdW50cyhsYW5ndWFnZUlkLCBtb2RlQnJhY2tldHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwcmV2U2VhcmNoSW5Ub2tlbiA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKDsgdG9rZW5JbmRleCA8IHRva2VuQ291bnQ7IHRva2VuSW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuTGFuZ3VhZ2VJZCA9IGxpbmVUb2tlbnMuZ2V0TGFuZ3VhZ2VJZCh0b2tlbkluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAobGFuZ3VhZ2VJZCAhPT0gdG9rZW5MYW5ndWFnZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxhbmd1YWdlIGlkIGNoYW5nZSFcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVCcmFja2V0cyAmJiBwcmV2U2VhcmNoSW5Ub2tlbiAmJiBzZWFyY2hTdGFydE9mZnNldCAhPT0gc2VhcmNoRW5kT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gc2VhcmNoSW5SYW5nZShtb2RlQnJhY2tldHMsIGxpbmVOdW1iZXIsIGxpbmVUZXh0LCBzZWFyY2hTdGFydE9mZnNldCwgc2VhcmNoRW5kT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmlwQnJhY2tldFNlYXJjaENhbmNlbGVkKHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldlNlYXJjaEluVG9rZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZUlkID0gdG9rZW5MYW5ndWFnZUlkO1xuICAgICAgICAgICAgICAgICAgICBtb2RlQnJhY2tldHMgPSB0aGlzLmxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UuZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uKGxhbmd1YWdlSWQpLmJyYWNrZXRzO1xuICAgICAgICAgICAgICAgICAgICByZXNldENvdW50cyhsYW5ndWFnZUlkLCBtb2RlQnJhY2tldHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2hJblRva2VuID0gKCEhbW9kZUJyYWNrZXRzICYmICFpZ25vcmVCcmFja2V0c0luVG9rZW4obGluZVRva2Vucy5nZXRTdGFuZGFyZFRva2VuVHlwZSh0b2tlbkluZGV4KSkpO1xuICAgICAgICAgICAgICAgIGlmIChzZWFyY2hJblRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgdG9rZW4gc2hvdWxkIGJlIHNlYXJjaGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2U2VhcmNoSW5Ub2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHByZXZpb3VzIHRva2VuIHNob3VsZCBiZSBzZWFyY2hlZCwgc2ltcGx5IGV4dGVuZCBzZWFyY2hFbmRPZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaEVuZE9mZnNldCA9IGxpbmVUb2tlbnMuZ2V0RW5kT2Zmc2V0KHRva2VuSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHByZXZpb3VzIHRva2VuIHNob3VsZCBub3QgYmUgc2VhcmNoZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFN0YXJ0T2Zmc2V0ID0gbGluZVRva2Vucy5nZXRTdGFydE9mZnNldCh0b2tlbkluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaEVuZE9mZnNldCA9IGxpbmVUb2tlbnMuZ2V0RW5kT2Zmc2V0KHRva2VuSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHRva2VuIHNob3VsZCBub3QgYmUgc2VhcmNoZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVCcmFja2V0cyAmJiBwcmV2U2VhcmNoSW5Ub2tlbiAmJiBzZWFyY2hTdGFydE9mZnNldCAhPT0gc2VhcmNoRW5kT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gc2VhcmNoSW5SYW5nZShtb2RlQnJhY2tldHMsIGxpbmVOdW1iZXIsIGxpbmVUZXh0LCBzZWFyY2hTdGFydE9mZnNldCwgc2VhcmNoRW5kT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmlwQnJhY2tldFNlYXJjaENhbmNlbGVkKHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXZTZWFyY2hJblRva2VuID0gc2VhcmNoSW5Ub2tlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb2RlQnJhY2tldHMgJiYgcHJldlNlYXJjaEluVG9rZW4gJiYgc2VhcmNoU3RhcnRPZmZzZXQgIT09IHNlYXJjaEVuZE9mZnNldCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBzZWFyY2hJblJhbmdlKG1vZGVCcmFja2V0cywgbGluZU51bWJlciwgbGluZVRleHQsIHNlYXJjaFN0YXJ0T2Zmc2V0LCBzZWFyY2hFbmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpcEJyYWNrZXRTZWFyY2hDYW5jZWxlZChyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIF90b0ZvdW5kQnJhY2tldChicmFja2V0Q29uZmlnLCByKSB7XG4gICAgICAgIGlmICghcikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRleHQgPSB0aGlzLnRleHRNb2RlbC5nZXRWYWx1ZUluUmFuZ2Uocik7XG4gICAgICAgIHRleHQgPSB0ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IGJyYWNrZXRJbmZvID0gYnJhY2tldENvbmZpZy5nZXRCcmFja2V0SW5mbyh0ZXh0KTtcbiAgICAgICAgaWYgKCFicmFja2V0SW5mbykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJhbmdlOiByLFxuICAgICAgICAgICAgYnJhY2tldEluZm9cbiAgICAgICAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVEaXNwb3NhYmxlUmVmKG9iamVjdCwgZGlzcG9zYWJsZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG9iamVjdCxcbiAgICAgICAgZGlzcG9zZTogKCkgPT4gZGlzcG9zYWJsZT8uZGlzcG9zZSgpLFxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVUaW1lQmFzZWRDb250aW51ZUJyYWNrZXRTZWFyY2hQcmVkaWNhdGUobWF4RHVyYXRpb24pIHtcbiAgICBpZiAodHlwZW9mIG1heER1cmF0aW9uID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gKCkgPT4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKERhdGUubm93KCkgLSBzdGFydFRpbWUgPD0gbWF4RHVyYXRpb24pO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmNsYXNzIEJyYWNrZXRTZWFyY2hDYW5jZWxlZCB7XG4gICAgc3RhdGljIHsgdGhpcy5JTlNUQU5DRSA9IG5ldyBCcmFja2V0U2VhcmNoQ2FuY2VsZWQoKTsgfVxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9zZWFyY2hDYW5jZWxlZEJyYW5kID0gdW5kZWZpbmVkO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHN0cmlwQnJhY2tldFNlYXJjaENhbmNlbGVkKHJlc3VsdCkge1xuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBCcmFja2V0U2VhcmNoQ2FuY2VsZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9iYXNlL2NvbW1vbi9ldmVudC5qcyc7XG5pbXBvcnQgeyBEaXNwb3NhYmxlIH0gZnJvbSAnLi4vLi4vLi4vLi4vYmFzZS9jb21tb24vbGlmZWN5Y2xlLmpzJztcbmltcG9ydCB7IFJhbmdlIH0gZnJvbSAnLi4vLi4vY29yZS9yYW5nZS5qcyc7XG5pbXBvcnQgeyBlZGl0b3JCcmFja2V0SGlnaGxpZ2h0aW5nRm9yZWdyb3VuZDEsIGVkaXRvckJyYWNrZXRIaWdobGlnaHRpbmdGb3JlZ3JvdW5kMiwgZWRpdG9yQnJhY2tldEhpZ2hsaWdodGluZ0ZvcmVncm91bmQzLCBlZGl0b3JCcmFja2V0SGlnaGxpZ2h0aW5nRm9yZWdyb3VuZDQsIGVkaXRvckJyYWNrZXRIaWdobGlnaHRpbmdGb3JlZ3JvdW5kNSwgZWRpdG9yQnJhY2tldEhpZ2hsaWdodGluZ0ZvcmVncm91bmQ2LCBlZGl0b3JCcmFja2V0SGlnaGxpZ2h0aW5nVW5leHBlY3RlZEJyYWNrZXRGb3JlZ3JvdW5kIH0gZnJvbSAnLi4vLi4vY29yZS9lZGl0b3JDb2xvclJlZ2lzdHJ5LmpzJztcbmltcG9ydCB7IHJlZ2lzdGVyVGhlbWluZ1BhcnRpY2lwYW50IH0gZnJvbSAnLi4vLi4vLi4vLi4vcGxhdGZvcm0vdGhlbWUvY29tbW9uL3RoZW1lU2VydmljZS5qcyc7XG5leHBvcnQgY2xhc3MgQ29sb3JpemVkQnJhY2tldFBhaXJzRGVjb3JhdGlvblByb3ZpZGVyIGV4dGVuZHMgRGlzcG9zYWJsZSB7XG4gICAgY29uc3RydWN0b3IodGV4dE1vZGVsKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudGV4dE1vZGVsID0gdGV4dE1vZGVsO1xuICAgICAgICB0aGlzLmNvbG9yUHJvdmlkZXIgPSBuZXcgQ29sb3JQcm92aWRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlRW1pdHRlciA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRDaGFuZ2UgPSB0aGlzLm9uRGlkQ2hhbmdlRW1pdHRlci5ldmVudDtcbiAgICAgICAgdGhpcy5jb2xvcml6YXRpb25PcHRpb25zID0gdGV4dE1vZGVsLmdldE9wdGlvbnMoKS5icmFja2V0UGFpckNvbG9yaXphdGlvbk9wdGlvbnM7XG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyKHRleHRNb2RlbC5icmFja2V0UGFpcnMub25EaWRDaGFuZ2UoZSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlRW1pdHRlci5maXJlKCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgLy8jcmVnaW9uIFRleHRNb2RlbCBldmVudHNcbiAgICBoYW5kbGVEaWRDaGFuZ2VPcHRpb25zKGUpIHtcbiAgICAgICAgdGhpcy5jb2xvcml6YXRpb25PcHRpb25zID0gdGhpcy50ZXh0TW9kZWwuZ2V0T3B0aW9ucygpLmJyYWNrZXRQYWlyQ29sb3JpemF0aW9uT3B0aW9ucztcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgZ2V0RGVjb3JhdGlvbnNJblJhbmdlKHJhbmdlLCBvd25lcklkLCBmaWx0ZXJPdXRWYWxpZGF0aW9uLCBvbmx5TWluaW1hcERlY29yYXRpb25zKSB7XG4gICAgICAgIGlmIChvbmx5TWluaW1hcERlY29yYXRpb25zKSB7XG4gICAgICAgICAgICAvLyBCcmFja2V0IHBhaXIgY29sb3JpemF0aW9uIGRlY29yYXRpb25zIGFyZSBub3QgcmVuZGVyZWQgaW4gdGhlIG1pbmltYXBcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3duZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNvbG9yaXphdGlvbk9wdGlvbnMuZW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMudGV4dE1vZGVsLmJyYWNrZXRQYWlycy5nZXRCcmFja2V0c0luUmFuZ2UocmFuZ2UsIHRydWUpLm1hcChicmFja2V0ID0+ICh7XG4gICAgICAgICAgICBpZDogYGJyYWNrZXQke2JyYWNrZXQucmFuZ2UudG9TdHJpbmcoKX0tJHticmFja2V0Lm5lc3RpbmdMZXZlbH1gLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQnJhY2tldFBhaXJDb2xvcml6YXRpb24nLFxuICAgICAgICAgICAgICAgIGlubGluZUNsYXNzTmFtZTogdGhpcy5jb2xvclByb3ZpZGVyLmdldElubGluZUNsYXNzTmFtZShicmFja2V0LCB0aGlzLmNvbG9yaXphdGlvbk9wdGlvbnMuaW5kZXBlbmRlbnRDb2xvclBvb2xQZXJCcmFja2V0VHlwZSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3duZXJJZDogMCxcbiAgICAgICAgICAgIHJhbmdlOiBicmFja2V0LnJhbmdlLFxuICAgICAgICB9KSkudG9BcnJheSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBnZXRBbGxEZWNvcmF0aW9ucyhvd25lcklkLCBmaWx0ZXJPdXRWYWxpZGF0aW9uKSB7XG4gICAgICAgIGlmIChvd25lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuY29sb3JpemF0aW9uT3B0aW9ucy5lbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVjb3JhdGlvbnNJblJhbmdlKG5ldyBSYW5nZSgxLCAxLCB0aGlzLnRleHRNb2RlbC5nZXRMaW5lQ291bnQoKSwgMSksIG93bmVySWQsIGZpbHRlck91dFZhbGlkYXRpb24pO1xuICAgIH1cbn1cbmNsYXNzIENvbG9yUHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnVuZXhwZWN0ZWRDbG9zaW5nQnJhY2tldENsYXNzTmFtZSA9ICd1bmV4cGVjdGVkLWNsb3NpbmctYnJhY2tldCc7XG4gICAgfVxuICAgIGdldElubGluZUNsYXNzTmFtZShicmFja2V0LCBpbmRlcGVuZGVudENvbG9yUG9vbFBlckJyYWNrZXRUeXBlKSB7XG4gICAgICAgIGlmIChicmFja2V0LmlzSW52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5leHBlY3RlZENsb3NpbmdCcmFja2V0Q2xhc3NOYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldElubGluZUNsYXNzTmFtZU9mTGV2ZWwoaW5kZXBlbmRlbnRDb2xvclBvb2xQZXJCcmFja2V0VHlwZSA/IGJyYWNrZXQubmVzdGluZ0xldmVsT2ZFcXVhbEJyYWNrZXRUeXBlIDogYnJhY2tldC5uZXN0aW5nTGV2ZWwpO1xuICAgIH1cbiAgICBnZXRJbmxpbmVDbGFzc05hbWVPZkxldmVsKGxldmVsKSB7XG4gICAgICAgIC8vIFRvIHN1cHBvcnQgYSBkeW5hbWljIGFtb3VudCBvZiBjb2xvcnMgdXAgdG8gNiBjb2xvcnMsXG4gICAgICAgIC8vIHdlIHVzZSBhIG51bWJlciB0aGF0IGlzIGEgbGNtIG9mIGFsbCBudW1iZXJzIGZyb20gMSB0byA2LlxuICAgICAgICByZXR1cm4gYGJyYWNrZXQtaGlnaGxpZ2h0aW5nLSR7bGV2ZWwgJSAzMH1gO1xuICAgIH1cbn1cbnJlZ2lzdGVyVGhlbWluZ1BhcnRpY2lwYW50KCh0aGVtZSwgY29sbGVjdG9yKSA9PiB7XG4gICAgY29uc3QgY29sb3JzID0gW1xuICAgICAgICBlZGl0b3JCcmFja2V0SGlnaGxpZ2h0aW5nRm9yZWdyb3VuZDEsXG4gICAgICAgIGVkaXRvckJyYWNrZXRIaWdobGlnaHRpbmdGb3JlZ3JvdW5kMixcbiAgICAgICAgZWRpdG9yQnJhY2tldEhpZ2hsaWdodGluZ0ZvcmVncm91bmQzLFxuICAgICAgICBlZGl0b3JCcmFja2V0SGlnaGxpZ2h0aW5nRm9yZWdyb3VuZDQsXG4gICAgICAgIGVkaXRvckJyYWNrZXRIaWdobGlnaHRpbmdGb3JlZ3JvdW5kNSxcbiAgICAgICAgZWRpdG9yQnJhY2tldEhpZ2hsaWdodGluZ0ZvcmVncm91bmQ2XG4gICAgXTtcbiAgICBjb25zdCBjb2xvclByb3ZpZGVyID0gbmV3IENvbG9yUHJvdmlkZXIoKTtcbiAgICBjb2xsZWN0b3IuYWRkUnVsZShgLm1vbmFjby1lZGl0b3IgLiR7Y29sb3JQcm92aWRlci51bmV4cGVjdGVkQ2xvc2luZ0JyYWNrZXRDbGFzc05hbWV9IHsgY29sb3I6ICR7dGhlbWUuZ2V0Q29sb3IoZWRpdG9yQnJhY2tldEhpZ2hsaWdodGluZ1VuZXhwZWN0ZWRCcmFja2V0Rm9yZWdyb3VuZCl9OyB9YCk7XG4gICAgY29uc3QgY29sb3JWYWx1ZXMgPSBjb2xvcnNcbiAgICAgICAgLm1hcChjID0+IHRoZW1lLmdldENvbG9yKGMpKVxuICAgICAgICAuZmlsdGVyKChjKSA9PiAhIWMpXG4gICAgICAgIC5maWx0ZXIoYyA9PiAhYy5pc1RyYW5zcGFyZW50KCkpO1xuICAgIGZvciAobGV0IGxldmVsID0gMDsgbGV2ZWwgPCAzMDsgbGV2ZWwrKykge1xuICAgICAgICBjb25zdCBjb2xvciA9IGNvbG9yVmFsdWVzW2xldmVsICUgY29sb3JWYWx1ZXMubGVuZ3RoXTtcbiAgICAgICAgY29sbGVjdG9yLmFkZFJ1bGUoYC5tb25hY28tZWRpdG9yIC4ke2NvbG9yUHJvdmlkZXIuZ2V0SW5saW5lQ2xhc3NOYW1lT2ZMZXZlbChsZXZlbCl9IHsgY29sb3I6ICR7Y29sb3J9OyB9YCk7XG4gICAgfVxufSk7XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmNsYXNzIFNwYWNlc0RpZmZSZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnNwYWNlc0RpZmYgPSAwO1xuICAgICAgICB0aGlzLmxvb2tzTGlrZUFsaWdubWVudCA9IGZhbHNlO1xuICAgIH1cbn1cbi8qKlxuICogQ29tcHV0ZSB0aGUgZGlmZiBpbiBzcGFjZXMgYmV0d2VlbiB0d28gbGluZSdzIGluZGVudGF0aW9uLlxuICovXG5mdW5jdGlvbiBzcGFjZXNEaWZmKGEsIGFMZW5ndGgsIGIsIGJMZW5ndGgsIHJlc3VsdCkge1xuICAgIHJlc3VsdC5zcGFjZXNEaWZmID0gMDtcbiAgICByZXN1bHQubG9va3NMaWtlQWxpZ25tZW50ID0gZmFsc2U7XG4gICAgLy8gVGhpcyBjYW4gZ28gYm90aCB3YXlzIChlLmcuKTpcbiAgICAvLyAgLSBhOiBcIlxcdFwiXG4gICAgLy8gIC0gYjogXCJcXHQgICAgXCJcbiAgICAvLyAgPT4gVGhpcyBzaG91bGQgY291bnQgMSB0YWIgYW5kIDQgc3BhY2VzXG4gICAgbGV0IGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGFMZW5ndGggJiYgaSA8IGJMZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBhQ2hhckNvZGUgPSBhLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGNvbnN0IGJDaGFyQ29kZSA9IGIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGFDaGFyQ29kZSAhPT0gYkNoYXJDb2RlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgYVNwYWNlc0NudCA9IDAsIGFUYWJzQ291bnQgPSAwO1xuICAgIGZvciAobGV0IGogPSBpOyBqIDwgYUxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IGFDaGFyQ29kZSA9IGEuY2hhckNvZGVBdChqKTtcbiAgICAgICAgaWYgKGFDaGFyQ29kZSA9PT0gMzIgLyogQ2hhckNvZGUuU3BhY2UgKi8pIHtcbiAgICAgICAgICAgIGFTcGFjZXNDbnQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFUYWJzQ291bnQrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgYlNwYWNlc0NudCA9IDAsIGJUYWJzQ291bnQgPSAwO1xuICAgIGZvciAobGV0IGogPSBpOyBqIDwgYkxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IGJDaGFyQ29kZSA9IGIuY2hhckNvZGVBdChqKTtcbiAgICAgICAgaWYgKGJDaGFyQ29kZSA9PT0gMzIgLyogQ2hhckNvZGUuU3BhY2UgKi8pIHtcbiAgICAgICAgICAgIGJTcGFjZXNDbnQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJUYWJzQ291bnQrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYVNwYWNlc0NudCA+IDAgJiYgYVRhYnNDb3VudCA+IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYlNwYWNlc0NudCA+IDAgJiYgYlRhYnNDb3VudCA+IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0YWJzRGlmZiA9IE1hdGguYWJzKGFUYWJzQ291bnQgLSBiVGFic0NvdW50KTtcbiAgICBjb25zdCBzcGFjZXNEaWZmID0gTWF0aC5hYnMoYVNwYWNlc0NudCAtIGJTcGFjZXNDbnQpO1xuICAgIGlmICh0YWJzRGlmZiA9PT0gMCkge1xuICAgICAgICAvLyBjaGVjayBpZiB0aGUgaW5kZW50YXRpb24gZGlmZmVyZW5jZSBtaWdodCBiZSBjYXVzZWQgYnkgYWxpZ25tZW50IHJlYXNvbnNcbiAgICAgICAgLy8gc29tZXRpbWUgZm9sa3MgbGlrZSB0byBhbGlnbiB0aGVpciBjb2RlLCBidXQgdGhpcyBzaG91bGQgbm90IGJlIHVzZWQgYXMgYSBoaW50XG4gICAgICAgIHJlc3VsdC5zcGFjZXNEaWZmID0gc3BhY2VzRGlmZjtcbiAgICAgICAgaWYgKHNwYWNlc0RpZmYgPiAwICYmIDAgPD0gYlNwYWNlc0NudCAtIDEgJiYgYlNwYWNlc0NudCAtIDEgPCBhLmxlbmd0aCAmJiBiU3BhY2VzQ250IDwgYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChiLmNoYXJDb2RlQXQoYlNwYWNlc0NudCkgIT09IDMyIC8qIENoYXJDb2RlLlNwYWNlICovICYmIGEuY2hhckNvZGVBdChiU3BhY2VzQ250IC0gMSkgPT09IDMyIC8qIENoYXJDb2RlLlNwYWNlICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKGEuY2hhckNvZGVBdChhLmxlbmd0aCAtIDEpID09PSA0NCAvKiBDaGFyQ29kZS5Db21tYSAqLykge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGxvb2tzIGxpa2UgYW4gYWxpZ25tZW50IGRlc2lyZTogZS5nLlxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBhID0gYiArIGMsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgIGQgPSBiIC0gYztcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmxvb2tzTGlrZUFsaWdubWVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNwYWNlc0RpZmYgJSB0YWJzRGlmZiA9PT0gMCkge1xuICAgICAgICByZXN1bHQuc3BhY2VzRGlmZiA9IHNwYWNlc0RpZmYgLyB0YWJzRGlmZjtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBndWVzc0luZGVudGF0aW9uKHNvdXJjZSwgZGVmYXVsdFRhYlNpemUsIGRlZmF1bHRJbnNlcnRTcGFjZXMpIHtcbiAgICAvLyBMb29rIGF0IG1vc3QgYXQgdGhlIGZpcnN0IDEwayBsaW5lc1xuICAgIGNvbnN0IGxpbmVzQ291bnQgPSBNYXRoLm1pbihzb3VyY2UuZ2V0TGluZUNvdW50KCksIDEwMDAwKTtcbiAgICBsZXQgbGluZXNJbmRlbnRlZFdpdGhUYWJzQ291bnQgPSAwOyAvLyBudW1iZXIgb2YgbGluZXMgdGhhdCBjb250YWluIGF0IGxlYXN0IG9uZSB0YWIgaW4gaW5kZW50YXRpb25cbiAgICBsZXQgbGluZXNJbmRlbnRlZFdpdGhTcGFjZXNDb3VudCA9IDA7IC8vIG51bWJlciBvZiBsaW5lcyB0aGF0IGNvbnRhaW4gb25seSBzcGFjZXMgaW4gaW5kZW50YXRpb25cbiAgICBsZXQgcHJldmlvdXNMaW5lVGV4dCA9ICcnOyAvLyBjb250ZW50IG9mIGxhdGVzdCBsaW5lIHRoYXQgY29udGFpbmVkIG5vbi13aGl0ZXNwYWNlIGNoYXJzXG4gICAgbGV0IHByZXZpb3VzTGluZUluZGVudGF0aW9uID0gMDsgLy8gaW5kZXggYXQgd2hpY2ggbGF0ZXN0IGxpbmUgY29udGFpbmVkIHRoZSBmaXJzdCBub24td2hpdGVzcGFjZSBjaGFyXG4gICAgY29uc3QgQUxMT1dFRF9UQUJfU0laRV9HVUVTU0VTID0gWzIsIDQsIDYsIDgsIDMsIDUsIDddOyAvLyBwcmVmZXIgZXZlbiBndWVzc2VzIGZvciBgdGFiU2l6ZWAsIGxpbWl0IHRvIFsyLCA4XS5cbiAgICBjb25zdCBNQVhfQUxMT1dFRF9UQUJfU0laRV9HVUVTUyA9IDg7IC8vIG1heChBTExPV0VEX1RBQl9TSVpFX0dVRVNTRVMpID0gOFxuICAgIGNvbnN0IHNwYWNlc0RpZmZDb3VudCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTsgLy8gYHRhYlNpemVgIHNjb3Jlc1xuICAgIGNvbnN0IHRtcCA9IG5ldyBTcGFjZXNEaWZmUmVzdWx0KCk7XG4gICAgZm9yIChsZXQgbGluZU51bWJlciA9IDE7IGxpbmVOdW1iZXIgPD0gbGluZXNDb3VudDsgbGluZU51bWJlcisrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMaW5lTGVuZ3RoID0gc291cmNlLmdldExpbmVMZW5ndGgobGluZU51bWJlcik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMaW5lVGV4dCA9IHNvdXJjZS5nZXRMaW5lQ29udGVudChsaW5lTnVtYmVyKTtcbiAgICAgICAgLy8gaWYgdGhlIHRleHQgYnVmZmVyIGlzIGNodW5rIGJhc2VkLCBzbyBsb25nIGxpbmVzIGFyZSBjb25zLXN0cmluZywgdjggd2lsbCBmbGF0dGVybiB0aGUgc3RyaW5nIHdoZW4gd2UgY2hlY2sgY2hhckNvZGUuXG4gICAgICAgIC8vIGNoZWNraW5nIGNoYXJDb2RlIG9uIGNodW5rcyBkaXJlY3RseSBpcyBjaGVhcGVyLlxuICAgICAgICBjb25zdCB1c2VDdXJyZW50TGluZVRleHQgPSAoY3VycmVudExpbmVMZW5ndGggPD0gNjU1MzYpO1xuICAgICAgICBsZXQgY3VycmVudExpbmVIYXNDb250ZW50ID0gZmFsc2U7IC8vIGRvZXMgYGN1cnJlbnRMaW5lVGV4dGAgY29udGFpbiBub24td2hpdGVzcGFjZSBjaGFyc1xuICAgICAgICBsZXQgY3VycmVudExpbmVJbmRlbnRhdGlvbiA9IDA7IC8vIGluZGV4IGF0IHdoaWNoIGBjdXJyZW50TGluZVRleHRgIGNvbnRhaW5zIHRoZSBmaXJzdCBub24td2hpdGVzcGFjZSBjaGFyXG4gICAgICAgIGxldCBjdXJyZW50TGluZVNwYWNlc0NvdW50ID0gMDsgLy8gY291bnQgb2Ygc3BhY2VzIGZvdW5kIGluIGBjdXJyZW50TGluZVRleHRgIGluZGVudGF0aW9uXG4gICAgICAgIGxldCBjdXJyZW50TGluZVRhYnNDb3VudCA9IDA7IC8vIGNvdW50IG9mIHRhYnMgZm91bmQgaW4gYGN1cnJlbnRMaW5lVGV4dGAgaW5kZW50YXRpb25cbiAgICAgICAgZm9yIChsZXQgaiA9IDAsIGxlbkogPSBjdXJyZW50TGluZUxlbmd0aDsgaiA8IGxlbko7IGorKykge1xuICAgICAgICAgICAgY29uc3QgY2hhckNvZGUgPSAodXNlQ3VycmVudExpbmVUZXh0ID8gY3VycmVudExpbmVUZXh0LmNoYXJDb2RlQXQoaikgOiBzb3VyY2UuZ2V0TGluZUNoYXJDb2RlKGxpbmVOdW1iZXIsIGopKTtcbiAgICAgICAgICAgIGlmIChjaGFyQ29kZSA9PT0gOSAvKiBDaGFyQ29kZS5UYWIgKi8pIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50TGluZVRhYnNDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhckNvZGUgPT09IDMyIC8qIENoYXJDb2RlLlNwYWNlICovKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudExpbmVTcGFjZXNDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSGl0IG5vbiB3aGl0ZXNwYWNlIGNoYXJhY3RlciBvbiB0aGlzIGxpbmVcbiAgICAgICAgICAgICAgICBjdXJyZW50TGluZUhhc0NvbnRlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRMaW5lSW5kZW50YXRpb24gPSBqO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElnbm9yZSBlbXB0eSBvciBvbmx5IHdoaXRlc3BhY2UgbGluZXNcbiAgICAgICAgaWYgKCFjdXJyZW50TGluZUhhc0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50TGluZVRhYnNDb3VudCA+IDApIHtcbiAgICAgICAgICAgIGxpbmVzSW5kZW50ZWRXaXRoVGFic0NvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VycmVudExpbmVTcGFjZXNDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIGxpbmVzSW5kZW50ZWRXaXRoU3BhY2VzQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBzcGFjZXNEaWZmKHByZXZpb3VzTGluZVRleHQsIHByZXZpb3VzTGluZUluZGVudGF0aW9uLCBjdXJyZW50TGluZVRleHQsIGN1cnJlbnRMaW5lSW5kZW50YXRpb24sIHRtcCk7XG4gICAgICAgIGlmICh0bXAubG9va3NMaWtlQWxpZ25tZW50KSB7XG4gICAgICAgICAgICAvLyBpZiBkZWZhdWx0SW5zZXJ0U3BhY2VzID09PSB0cnVlICYmIHRoZSBzcGFjZXMgY291bnQgPT0gdGFiU2l6ZSwgd2UgbWF5IHdhbnQgdG8gY291bnQgaXQgYXMgdmFsaWQgaW5kZW50YXRpb25cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAtIGl0ZW0xXG4gICAgICAgICAgICAvLyAgIC0gaXRlbTJcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBvdGhlcndpc2Ugc2tpcCB0aGlzIGxpbmUgZW50aXJlbHlcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBjb25zdCBhID0gMSxcbiAgICAgICAgICAgIC8vICAgICAgIGIgPSAyO1xuICAgICAgICAgICAgaWYgKCEoZGVmYXVsdEluc2VydFNwYWNlcyAmJiBkZWZhdWx0VGFiU2l6ZSA9PT0gdG1wLnNwYWNlc0RpZmYpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudFNwYWNlc0RpZmYgPSB0bXAuc3BhY2VzRGlmZjtcbiAgICAgICAgaWYgKGN1cnJlbnRTcGFjZXNEaWZmIDw9IE1BWF9BTExPV0VEX1RBQl9TSVpFX0dVRVNTKSB7XG4gICAgICAgICAgICBzcGFjZXNEaWZmQ291bnRbY3VycmVudFNwYWNlc0RpZmZdKys7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNMaW5lVGV4dCA9IGN1cnJlbnRMaW5lVGV4dDtcbiAgICAgICAgcHJldmlvdXNMaW5lSW5kZW50YXRpb24gPSBjdXJyZW50TGluZUluZGVudGF0aW9uO1xuICAgIH1cbiAgICBsZXQgaW5zZXJ0U3BhY2VzID0gZGVmYXVsdEluc2VydFNwYWNlcztcbiAgICBpZiAobGluZXNJbmRlbnRlZFdpdGhUYWJzQ291bnQgIT09IGxpbmVzSW5kZW50ZWRXaXRoU3BhY2VzQ291bnQpIHtcbiAgICAgICAgaW5zZXJ0U3BhY2VzID0gKGxpbmVzSW5kZW50ZWRXaXRoVGFic0NvdW50IDwgbGluZXNJbmRlbnRlZFdpdGhTcGFjZXNDb3VudCk7XG4gICAgfVxuICAgIGxldCB0YWJTaXplID0gZGVmYXVsdFRhYlNpemU7XG4gICAgLy8gR3Vlc3MgdGFiU2l6ZSBvbmx5IGlmIGluc2VydGluZyBzcGFjZXMuLi5cbiAgICBpZiAoaW5zZXJ0U3BhY2VzKSB7XG4gICAgICAgIGxldCB0YWJTaXplU2NvcmUgPSAoaW5zZXJ0U3BhY2VzID8gMCA6IDAuMSAqIGxpbmVzQ291bnQpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInNjb3JlIHRocmVzaG9sZDogXCIgKyB0YWJTaXplU2NvcmUpO1xuICAgICAgICBBTExPV0VEX1RBQl9TSVpFX0dVRVNTRVMuZm9yRWFjaCgocG9zc2libGVUYWJTaXplKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwb3NzaWJsZVRhYlNpemVTY29yZSA9IHNwYWNlc0RpZmZDb3VudFtwb3NzaWJsZVRhYlNpemVdO1xuICAgICAgICAgICAgaWYgKHBvc3NpYmxlVGFiU2l6ZVNjb3JlID4gdGFiU2l6ZVNjb3JlKSB7XG4gICAgICAgICAgICAgICAgdGFiU2l6ZVNjb3JlID0gcG9zc2libGVUYWJTaXplU2NvcmU7XG4gICAgICAgICAgICAgICAgdGFiU2l6ZSA9IHBvc3NpYmxlVGFiU2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIExldCBhIHRhYlNpemUgb2YgMiB3aW4gZXZlbiBpZiBpdCBpcyBub3QgdGhlIG1heGltdW1cbiAgICAgICAgLy8gKG9ubHkgaW4gY2FzZSA0IHdhcyBndWVzc2VkKVxuICAgICAgICBpZiAodGFiU2l6ZSA9PT0gNCAmJiBzcGFjZXNEaWZmQ291bnRbNF0gPiAwICYmIHNwYWNlc0RpZmZDb3VudFsyXSA+IDAgJiYgc3BhY2VzRGlmZkNvdW50WzJdID49IHNwYWNlc0RpZmZDb3VudFs0XSAvIDIpIHtcbiAgICAgICAgICAgIHRhYlNpemUgPSAyO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpO1xuICAgIC8vIGNvbnNvbGUubG9nKCdsaW5lc0luZGVudGVkV2l0aFRhYnNDb3VudDogJyArIGxpbmVzSW5kZW50ZWRXaXRoVGFic0NvdW50ICsgJywgbGluZXNJbmRlbnRlZFdpdGhTcGFjZXNDb3VudDogJyArIGxpbmVzSW5kZW50ZWRXaXRoU3BhY2VzQ291bnQpO1xuICAgIC8vIGNvbnNvbGUubG9nKCdzcGFjZXNEaWZmQ291bnQ6ICcgKyBzcGFjZXNEaWZmQ291bnQpO1xuICAgIC8vIGNvbnNvbGUubG9nKCd0YWJTaXplOiAnICsgdGFiU2l6ZSArICcsIHRhYlNpemVTY29yZTogJyArIHRhYlNpemVTY29yZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5zZXJ0U3BhY2VzOiBpbnNlcnRTcGFjZXMsXG4gICAgICAgIHRhYlNpemU6IHRhYlNpemVcbiAgICB9O1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZUNvbG9yKG5vZGUpIHtcbiAgICByZXR1cm4gKChub2RlLm1ldGFkYXRhICYgMSAvKiBDb25zdGFudHMuQ29sb3JNYXNrICovKSA+Pj4gMCAvKiBDb25zdGFudHMuQ29sb3JPZmZzZXQgKi8pO1xufVxuZnVuY3Rpb24gc2V0Tm9kZUNvbG9yKG5vZGUsIGNvbG9yKSB7XG4gICAgbm9kZS5tZXRhZGF0YSA9ICgobm9kZS5tZXRhZGF0YSAmIDI1NCAvKiBDb25zdGFudHMuQ29sb3JNYXNrSW52ZXJzZSAqLykgfCAoY29sb3IgPDwgMCAvKiBDb25zdGFudHMuQ29sb3JPZmZzZXQgKi8pKTtcbn1cbmZ1bmN0aW9uIGdldE5vZGVJc1Zpc2l0ZWQobm9kZSkge1xuICAgIHJldHVybiAoKG5vZGUubWV0YWRhdGEgJiAyIC8qIENvbnN0YW50cy5Jc1Zpc2l0ZWRNYXNrICovKSA+Pj4gMSAvKiBDb25zdGFudHMuSXNWaXNpdGVkT2Zmc2V0ICovKSA9PT0gMTtcbn1cbmZ1bmN0aW9uIHNldE5vZGVJc1Zpc2l0ZWQobm9kZSwgdmFsdWUpIHtcbiAgICBub2RlLm1ldGFkYXRhID0gKChub2RlLm1ldGFkYXRhICYgMjUzIC8qIENvbnN0YW50cy5Jc1Zpc2l0ZWRNYXNrSW52ZXJzZSAqLykgfCAoKHZhbHVlID8gMSA6IDApIDw8IDEgLyogQ29uc3RhbnRzLklzVmlzaXRlZE9mZnNldCAqLykpO1xufVxuZnVuY3Rpb24gZ2V0Tm9kZUlzRm9yVmFsaWRhdGlvbihub2RlKSB7XG4gICAgcmV0dXJuICgobm9kZS5tZXRhZGF0YSAmIDQgLyogQ29uc3RhbnRzLklzRm9yVmFsaWRhdGlvbk1hc2sgKi8pID4+PiAyIC8qIENvbnN0YW50cy5Jc0ZvclZhbGlkYXRpb25PZmZzZXQgKi8pID09PSAxO1xufVxuZnVuY3Rpb24gc2V0Tm9kZUlzRm9yVmFsaWRhdGlvbihub2RlLCB2YWx1ZSkge1xuICAgIG5vZGUubWV0YWRhdGEgPSAoKG5vZGUubWV0YWRhdGEgJiAyNTEgLyogQ29uc3RhbnRzLklzRm9yVmFsaWRhdGlvbk1hc2tJbnZlcnNlICovKSB8ICgodmFsdWUgPyAxIDogMCkgPDwgMiAvKiBDb25zdGFudHMuSXNGb3JWYWxpZGF0aW9uT2Zmc2V0ICovKSk7XG59XG5mdW5jdGlvbiBnZXROb2RlSXNJbkdseXBoTWFyZ2luKG5vZGUpIHtcbiAgICByZXR1cm4gKChub2RlLm1ldGFkYXRhICYgNjQgLyogQ29uc3RhbnRzLklzTWFyZ2luTWFzayAqLykgPj4+IDYgLyogQ29uc3RhbnRzLklzTWFyZ2luT2Zmc2V0ICovKSA9PT0gMTtcbn1cbmZ1bmN0aW9uIHNldE5vZGVJc0luR2x5cGhNYXJnaW4obm9kZSwgdmFsdWUpIHtcbiAgICBub2RlLm1ldGFkYXRhID0gKChub2RlLm1ldGFkYXRhICYgMTkxIC8qIENvbnN0YW50cy5Jc01hcmdpbk1hc2tJbnZlcnNlICovKSB8ICgodmFsdWUgPyAxIDogMCkgPDwgNiAvKiBDb25zdGFudHMuSXNNYXJnaW5PZmZzZXQgKi8pKTtcbn1cbmZ1bmN0aW9uIGdldE5vZGVTdGlja2luZXNzKG5vZGUpIHtcbiAgICByZXR1cm4gKChub2RlLm1ldGFkYXRhICYgMjQgLyogQ29uc3RhbnRzLlN0aWNraW5lc3NNYXNrICovKSA+Pj4gMyAvKiBDb25zdGFudHMuU3RpY2tpbmVzc09mZnNldCAqLyk7XG59XG5mdW5jdGlvbiBfc2V0Tm9kZVN0aWNraW5lc3Mobm9kZSwgc3RpY2tpbmVzcykge1xuICAgIG5vZGUubWV0YWRhdGEgPSAoKG5vZGUubWV0YWRhdGEgJiAyMzEgLyogQ29uc3RhbnRzLlN0aWNraW5lc3NNYXNrSW52ZXJzZSAqLykgfCAoc3RpY2tpbmVzcyA8PCAzIC8qIENvbnN0YW50cy5TdGlja2luZXNzT2Zmc2V0ICovKSk7XG59XG5mdW5jdGlvbiBnZXRDb2xsYXBzZU9uUmVwbGFjZUVkaXQobm9kZSkge1xuICAgIHJldHVybiAoKG5vZGUubWV0YWRhdGEgJiAzMiAvKiBDb25zdGFudHMuQ29sbGFwc2VPblJlcGxhY2VFZGl0TWFzayAqLykgPj4+IDUgLyogQ29uc3RhbnRzLkNvbGxhcHNlT25SZXBsYWNlRWRpdE9mZnNldCAqLykgPT09IDE7XG59XG5mdW5jdGlvbiBzZXRDb2xsYXBzZU9uUmVwbGFjZUVkaXQobm9kZSwgdmFsdWUpIHtcbiAgICBub2RlLm1ldGFkYXRhID0gKChub2RlLm1ldGFkYXRhICYgMjIzIC8qIENvbnN0YW50cy5Db2xsYXBzZU9uUmVwbGFjZUVkaXRNYXNrSW52ZXJzZSAqLykgfCAoKHZhbHVlID8gMSA6IDApIDw8IDUgLyogQ29uc3RhbnRzLkNvbGxhcHNlT25SZXBsYWNlRWRpdE9mZnNldCAqLykpO1xufVxuZXhwb3J0IGNsYXNzIEludGVydmFsTm9kZSB7XG4gICAgY29uc3RydWN0b3IoaWQsIHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IDA7XG4gICAgICAgIHRoaXMucGFyZW50ID0gdGhpcztcbiAgICAgICAgdGhpcy5sZWZ0ID0gdGhpcztcbiAgICAgICAgdGhpcy5yaWdodCA9IHRoaXM7XG4gICAgICAgIHNldE5vZGVDb2xvcih0aGlzLCAxIC8qIE5vZGVDb2xvci5SZWQgKi8pO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHRoaXMuZW5kID0gZW5kO1xuICAgICAgICAvLyBGT1JDRV9PVkVSRkxPV0lOR19URVNUOiB0aGlzLmRlbHRhID0gc3RhcnQ7XG4gICAgICAgIHRoaXMuZGVsdGEgPSAwO1xuICAgICAgICB0aGlzLm1heEVuZCA9IGVuZDtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm93bmVySWQgPSAwO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBudWxsO1xuICAgICAgICBzZXROb2RlSXNGb3JWYWxpZGF0aW9uKHRoaXMsIGZhbHNlKTtcbiAgICAgICAgc2V0Tm9kZUlzSW5HbHlwaE1hcmdpbih0aGlzLCBmYWxzZSk7XG4gICAgICAgIF9zZXROb2RlU3RpY2tpbmVzcyh0aGlzLCAxIC8qIFRyYWNrZWRSYW5nZVN0aWNraW5lc3MuTmV2ZXJHcm93c1doZW5UeXBpbmdBdEVkZ2VzICovKTtcbiAgICAgICAgc2V0Q29sbGFwc2VPblJlcGxhY2VFZGl0KHRoaXMsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5jYWNoZWRWZXJzaW9uSWQgPSAwO1xuICAgICAgICB0aGlzLmNhY2hlZEFic29sdXRlU3RhcnQgPSBzdGFydDtcbiAgICAgICAgdGhpcy5jYWNoZWRBYnNvbHV0ZUVuZCA9IGVuZDtcbiAgICAgICAgdGhpcy5yYW5nZSA9IG51bGw7XG4gICAgICAgIHNldE5vZGVJc1Zpc2l0ZWQodGhpcywgZmFsc2UpO1xuICAgIH1cbiAgICByZXNldCh2ZXJzaW9uSWQsIHN0YXJ0LCBlbmQsIHJhbmdlKSB7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgdGhpcy5lbmQgPSBlbmQ7XG4gICAgICAgIHRoaXMubWF4RW5kID0gZW5kO1xuICAgICAgICB0aGlzLmNhY2hlZFZlcnNpb25JZCA9IHZlcnNpb25JZDtcbiAgICAgICAgdGhpcy5jYWNoZWRBYnNvbHV0ZVN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHRoaXMuY2FjaGVkQWJzb2x1dGVFbmQgPSBlbmQ7XG4gICAgICAgIHRoaXMucmFuZ2UgPSByYW5nZTtcbiAgICB9XG4gICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IHRoaXMub3B0aW9ucy5jbGFzc05hbWU7XG4gICAgICAgIHNldE5vZGVJc0ZvclZhbGlkYXRpb24odGhpcywgKGNsYXNzTmFtZSA9PT0gXCJzcXVpZ2dseS1lcnJvclwiIC8qIENsYXNzTmFtZS5FZGl0b3JFcnJvckRlY29yYXRpb24gKi9cbiAgICAgICAgICAgIHx8IGNsYXNzTmFtZSA9PT0gXCJzcXVpZ2dseS13YXJuaW5nXCIgLyogQ2xhc3NOYW1lLkVkaXRvcldhcm5pbmdEZWNvcmF0aW9uICovXG4gICAgICAgICAgICB8fCBjbGFzc05hbWUgPT09IFwic3F1aWdnbHktaW5mb1wiIC8qIENsYXNzTmFtZS5FZGl0b3JJbmZvRGVjb3JhdGlvbiAqLykpO1xuICAgICAgICBzZXROb2RlSXNJbkdseXBoTWFyZ2luKHRoaXMsIHRoaXMub3B0aW9ucy5nbHlwaE1hcmdpbkNsYXNzTmFtZSAhPT0gbnVsbCk7XG4gICAgICAgIF9zZXROb2RlU3RpY2tpbmVzcyh0aGlzLCB0aGlzLm9wdGlvbnMuc3RpY2tpbmVzcyk7XG4gICAgICAgIHNldENvbGxhcHNlT25SZXBsYWNlRWRpdCh0aGlzLCB0aGlzLm9wdGlvbnMuY29sbGFwc2VPblJlcGxhY2VFZGl0KTtcbiAgICB9XG4gICAgc2V0Q2FjaGVkT2Zmc2V0cyhhYnNvbHV0ZVN0YXJ0LCBhYnNvbHV0ZUVuZCwgY2FjaGVkVmVyc2lvbklkKSB7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlZFZlcnNpb25JZCAhPT0gY2FjaGVkVmVyc2lvbklkKSB7XG4gICAgICAgICAgICB0aGlzLnJhbmdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhY2hlZFZlcnNpb25JZCA9IGNhY2hlZFZlcnNpb25JZDtcbiAgICAgICAgdGhpcy5jYWNoZWRBYnNvbHV0ZVN0YXJ0ID0gYWJzb2x1dGVTdGFydDtcbiAgICAgICAgdGhpcy5jYWNoZWRBYnNvbHV0ZUVuZCA9IGFic29sdXRlRW5kO1xuICAgIH1cbiAgICBkZXRhY2goKSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yaWdodCA9IG51bGw7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IFNFTlRJTkVMID0gbmV3IEludGVydmFsTm9kZShudWxsLCAwLCAwKTtcblNFTlRJTkVMLnBhcmVudCA9IFNFTlRJTkVMO1xuU0VOVElORUwubGVmdCA9IFNFTlRJTkVMO1xuU0VOVElORUwucmlnaHQgPSBTRU5USU5FTDtcbnNldE5vZGVDb2xvcihTRU5USU5FTCwgMCAvKiBOb2RlQ29sb3IuQmxhY2sgKi8pO1xuZXhwb3J0IGNsYXNzIEludGVydmFsVHJlZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucm9vdCA9IFNFTlRJTkVMO1xuICAgICAgICB0aGlzLnJlcXVlc3ROb3JtYWxpemVEZWx0YSA9IGZhbHNlO1xuICAgIH1cbiAgICBpbnRlcnZhbFNlYXJjaChzdGFydCwgZW5kLCBmaWx0ZXJPd25lcklkLCBmaWx0ZXJPdXRWYWxpZGF0aW9uLCBjYWNoZWRWZXJzaW9uSWQsIG9ubHlNYXJnaW5EZWNvcmF0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5yb290ID09PSBTRU5USU5FTCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnRlcnZhbFNlYXJjaCh0aGlzLCBzdGFydCwgZW5kLCBmaWx0ZXJPd25lcklkLCBmaWx0ZXJPdXRWYWxpZGF0aW9uLCBjYWNoZWRWZXJzaW9uSWQsIG9ubHlNYXJnaW5EZWNvcmF0aW9ucyk7XG4gICAgfVxuICAgIHNlYXJjaChmaWx0ZXJPd25lcklkLCBmaWx0ZXJPdXRWYWxpZGF0aW9uLCBjYWNoZWRWZXJzaW9uSWQsIG9ubHlNYXJnaW5EZWNvcmF0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5yb290ID09PSBTRU5USU5FTCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWFyY2godGhpcywgZmlsdGVyT3duZXJJZCwgZmlsdGVyT3V0VmFsaWRhdGlvbiwgY2FjaGVkVmVyc2lvbklkLCBvbmx5TWFyZ2luRGVjb3JhdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIG5vdCBzZXQgYGNhY2hlZEFic29sdXRlU3RhcnRgIG5vciBgY2FjaGVkQWJzb2x1dGVFbmRgIG9uIHRoZSByZXR1cm5lZCBub2RlcyFcbiAgICAgKi9cbiAgICBjb2xsZWN0Tm9kZXNGcm9tT3duZXIob3duZXJJZCkge1xuICAgICAgICByZXR1cm4gY29sbGVjdE5vZGVzRnJvbU93bmVyKHRoaXMsIG93bmVySWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIG5vdCBzZXQgYGNhY2hlZEFic29sdXRlU3RhcnRgIG5vciBgY2FjaGVkQWJzb2x1dGVFbmRgIG9uIHRoZSByZXR1cm5lZCBub2RlcyFcbiAgICAgKi9cbiAgICBjb2xsZWN0Tm9kZXNQb3N0T3JkZXIoKSB7XG4gICAgICAgIHJldHVybiBjb2xsZWN0Tm9kZXNQb3N0T3JkZXIodGhpcyk7XG4gICAgfVxuICAgIGluc2VydChub2RlKSB7XG4gICAgICAgIHJiVHJlZUluc2VydCh0aGlzLCBub2RlKTtcbiAgICAgICAgdGhpcy5fbm9ybWFsaXplRGVsdGFJZk5lY2Vzc2FyeSgpO1xuICAgIH1cbiAgICBkZWxldGUobm9kZSkge1xuICAgICAgICByYlRyZWVEZWxldGUodGhpcywgbm9kZSk7XG4gICAgICAgIHRoaXMuX25vcm1hbGl6ZURlbHRhSWZOZWNlc3NhcnkoKTtcbiAgICB9XG4gICAgcmVzb2x2ZU5vZGUobm9kZSwgY2FjaGVkVmVyc2lvbklkKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxOb2RlID0gbm9kZTtcbiAgICAgICAgbGV0IGRlbHRhID0gMDtcbiAgICAgICAgd2hpbGUgKG5vZGUgIT09IHRoaXMucm9vdCkge1xuICAgICAgICAgICAgaWYgKG5vZGUgPT09IG5vZGUucGFyZW50LnJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgZGVsdGEgKz0gbm9kZS5wYXJlbnQuZGVsdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgbm9kZVN0YXJ0ID0gaW5pdGlhbE5vZGUuc3RhcnQgKyBkZWx0YTtcbiAgICAgICAgY29uc3Qgbm9kZUVuZCA9IGluaXRpYWxOb2RlLmVuZCArIGRlbHRhO1xuICAgICAgICBpbml0aWFsTm9kZS5zZXRDYWNoZWRPZmZzZXRzKG5vZGVTdGFydCwgbm9kZUVuZCwgY2FjaGVkVmVyc2lvbklkKTtcbiAgICB9XG4gICAgYWNjZXB0UmVwbGFjZShvZmZzZXQsIGxlbmd0aCwgdGV4dExlbmd0aCwgZm9yY2VNb3ZlTWFya2Vycykge1xuICAgICAgICAvLyBPdXIgc3RyYXRlZ3kgaXMgdG8gcmVtb3ZlIGFsbCBkaXJlY3RseSBpbXBhY3RlZCBub2RlcywgYW5kIHRoZW4gYWRkIHRoZW0gYmFjayB0byB0aGUgdHJlZS5cbiAgICAgICAgLy8gKDEpIGNvbGxlY3QgYWxsIG5vZGVzIHRoYXQgYXJlIGludGVyc2VjdGluZyB0aGlzIGVkaXQgYXMgbm9kZXMgb2YgaW50ZXJlc3RcbiAgICAgICAgY29uc3Qgbm9kZXNPZkludGVyZXN0ID0gc2VhcmNoRm9yRWRpdGluZyh0aGlzLCBvZmZzZXQsIG9mZnNldCArIGxlbmd0aCk7XG4gICAgICAgIC8vICgyKSByZW1vdmUgYWxsIG5vZGVzIHRoYXQgYXJlIGludGVyc2VjdGluZyB0aGlzIGVkaXRcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG5vZGVzT2ZJbnRlcmVzdC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzT2ZJbnRlcmVzdFtpXTtcbiAgICAgICAgICAgIHJiVHJlZURlbGV0ZSh0aGlzLCBub2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ub3JtYWxpemVEZWx0YUlmTmVjZXNzYXJ5KCk7XG4gICAgICAgIC8vICgzKSBlZGl0IGFsbCB0cmVlIG5vZGVzIGV4Y2VwdCB0aGUgbm9kZXMgb2YgaW50ZXJlc3RcbiAgICAgICAgbm9PdmVybGFwUmVwbGFjZSh0aGlzLCBvZmZzZXQsIG9mZnNldCArIGxlbmd0aCwgdGV4dExlbmd0aCk7XG4gICAgICAgIHRoaXMuX25vcm1hbGl6ZURlbHRhSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgLy8gKDQpIGVkaXQgdGhlIG5vZGVzIG9mIGludGVyZXN0IGFuZCBpbnNlcnQgdGhlbSBiYWNrIGluIHRoZSB0cmVlXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBub2Rlc09mSW50ZXJlc3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc09mSW50ZXJlc3RbaV07XG4gICAgICAgICAgICBub2RlLnN0YXJ0ID0gbm9kZS5jYWNoZWRBYnNvbHV0ZVN0YXJ0O1xuICAgICAgICAgICAgbm9kZS5lbmQgPSBub2RlLmNhY2hlZEFic29sdXRlRW5kO1xuICAgICAgICAgICAgbm9kZUFjY2VwdEVkaXQobm9kZSwgb2Zmc2V0LCAob2Zmc2V0ICsgbGVuZ3RoKSwgdGV4dExlbmd0aCwgZm9yY2VNb3ZlTWFya2Vycyk7XG4gICAgICAgICAgICBub2RlLm1heEVuZCA9IG5vZGUuZW5kO1xuICAgICAgICAgICAgcmJUcmVlSW5zZXJ0KHRoaXMsIG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX25vcm1hbGl6ZURlbHRhSWZOZWNlc3NhcnkoKTtcbiAgICB9XG4gICAgX25vcm1hbGl6ZURlbHRhSWZOZWNlc3NhcnkoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZXF1ZXN0Tm9ybWFsaXplRGVsdGEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlcXVlc3ROb3JtYWxpemVEZWx0YSA9IGZhbHNlO1xuICAgICAgICBub3JtYWxpemVEZWx0YSh0aGlzKTtcbiAgICB9XG59XG4vLyNyZWdpb24gRGVsdGEgTm9ybWFsaXphdGlvblxuZnVuY3Rpb24gbm9ybWFsaXplRGVsdGEoVCkge1xuICAgIGxldCBub2RlID0gVC5yb290O1xuICAgIGxldCBkZWx0YSA9IDA7XG4gICAgd2hpbGUgKG5vZGUgIT09IFNFTlRJTkVMKSB7XG4gICAgICAgIGlmIChub2RlLmxlZnQgIT09IFNFTlRJTkVMICYmICFnZXROb2RlSXNWaXNpdGVkKG5vZGUubGVmdCkpIHtcbiAgICAgICAgICAgIC8vIGdvIGxlZnRcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5yaWdodCAhPT0gU0VOVElORUwgJiYgIWdldE5vZGVJc1Zpc2l0ZWQobm9kZS5yaWdodCkpIHtcbiAgICAgICAgICAgIC8vIGdvIHJpZ2h0XG4gICAgICAgICAgICBkZWx0YSArPSBub2RlLmRlbHRhO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgY3VycmVudCBub2RlXG4gICAgICAgIG5vZGUuc3RhcnQgPSBkZWx0YSArIG5vZGUuc3RhcnQ7XG4gICAgICAgIG5vZGUuZW5kID0gZGVsdGEgKyBub2RlLmVuZDtcbiAgICAgICAgbm9kZS5kZWx0YSA9IDA7XG4gICAgICAgIHJlY29tcHV0ZU1heEVuZChub2RlKTtcbiAgICAgICAgc2V0Tm9kZUlzVmlzaXRlZChub2RlLCB0cnVlKTtcbiAgICAgICAgLy8gZ29pbmcgdXAgZnJvbSB0aGlzIG5vZGVcbiAgICAgICAgc2V0Tm9kZUlzVmlzaXRlZChub2RlLmxlZnQsIGZhbHNlKTtcbiAgICAgICAgc2V0Tm9kZUlzVmlzaXRlZChub2RlLnJpZ2h0LCBmYWxzZSk7XG4gICAgICAgIGlmIChub2RlID09PSBub2RlLnBhcmVudC5yaWdodCkge1xuICAgICAgICAgICAgZGVsdGEgLT0gbm9kZS5wYXJlbnQuZGVsdGE7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50O1xuICAgIH1cbiAgICBzZXROb2RlSXNWaXNpdGVkKFQucm9vdCwgZmFsc2UpO1xufVxuZnVuY3Rpb24gYWRqdXN0TWFya2VyQmVmb3JlQ29sdW1uKG1hcmtlck9mZnNldCwgbWFya2VyU3RpY2tUb1ByZXZpb3VzQ2hhcmFjdGVyLCBjaGVja09mZnNldCwgbW92ZVNlbWFudGljcykge1xuICAgIGlmIChtYXJrZXJPZmZzZXQgPCBjaGVja09mZnNldCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG1hcmtlck9mZnNldCA+IGNoZWNrT2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG1vdmVTZW1hbnRpY3MgPT09IDEgLyogTWFya2VyTW92ZVNlbWFudGljcy5Gb3JjZU1vdmUgKi8pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobW92ZVNlbWFudGljcyA9PT0gMiAvKiBNYXJrZXJNb3ZlU2VtYW50aWNzLkZvcmNlU3RheSAqLykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcmtlclN0aWNrVG9QcmV2aW91c0NoYXJhY3Rlcjtcbn1cbi8qKlxuICogVGhpcyBpcyBhIGxvdCBtb3JlIGNvbXBsaWNhdGVkIHRoYW4gc3RyaWN0bHkgbmVjZXNzYXJ5IHRvIG1haW50YWluIHRoZSBzYW1lIGJlaGF2aW91clxuICogYXMgd2hlbiBkZWNvcmF0aW9ucyB3ZXJlIGltcGxlbWVudGVkIHVzaW5nIHR3byBtYXJrZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9kZUFjY2VwdEVkaXQobm9kZSwgc3RhcnQsIGVuZCwgdGV4dExlbmd0aCwgZm9yY2VNb3ZlTWFya2Vycykge1xuICAgIGNvbnN0IG5vZGVTdGlja2luZXNzID0gZ2V0Tm9kZVN0aWNraW5lc3Mobm9kZSk7XG4gICAgY29uc3Qgc3RhcnRTdGlja1RvUHJldmlvdXNDaGFyYWN0ZXIgPSAobm9kZVN0aWNraW5lc3MgPT09IDAgLyogVHJhY2tlZFJhbmdlU3RpY2tpbmVzcy5BbHdheXNHcm93c1doZW5UeXBpbmdBdEVkZ2VzICovXG4gICAgICAgIHx8IG5vZGVTdGlja2luZXNzID09PSAyIC8qIFRyYWNrZWRSYW5nZVN0aWNraW5lc3MuR3Jvd3NPbmx5V2hlblR5cGluZ0JlZm9yZSAqLyk7XG4gICAgY29uc3QgZW5kU3RpY2tUb1ByZXZpb3VzQ2hhcmFjdGVyID0gKG5vZGVTdGlja2luZXNzID09PSAxIC8qIFRyYWNrZWRSYW5nZVN0aWNraW5lc3MuTmV2ZXJHcm93c1doZW5UeXBpbmdBdEVkZ2VzICovXG4gICAgICAgIHx8IG5vZGVTdGlja2luZXNzID09PSAyIC8qIFRyYWNrZWRSYW5nZVN0aWNraW5lc3MuR3Jvd3NPbmx5V2hlblR5cGluZ0JlZm9yZSAqLyk7XG4gICAgY29uc3QgZGVsZXRpbmdDbnQgPSAoZW5kIC0gc3RhcnQpO1xuICAgIGNvbnN0IGluc2VydGluZ0NudCA9IHRleHRMZW5ndGg7XG4gICAgY29uc3QgY29tbW9uTGVuZ3RoID0gTWF0aC5taW4oZGVsZXRpbmdDbnQsIGluc2VydGluZ0NudCk7XG4gICAgY29uc3Qgbm9kZVN0YXJ0ID0gbm9kZS5zdGFydDtcbiAgICBsZXQgc3RhcnREb25lID0gZmFsc2U7XG4gICAgY29uc3Qgbm9kZUVuZCA9IG5vZGUuZW5kO1xuICAgIGxldCBlbmREb25lID0gZmFsc2U7XG4gICAgaWYgKHN0YXJ0IDw9IG5vZGVTdGFydCAmJiBub2RlRW5kIDw9IGVuZCAmJiBnZXRDb2xsYXBzZU9uUmVwbGFjZUVkaXQobm9kZSkpIHtcbiAgICAgICAgLy8gVGhpcyBlZGl0IGVuY29tcGFzc2VzIHRoZSBlbnRpcmUgZGVjb3JhdGlvbiByYW5nZVxuICAgICAgICAvLyBhbmQgdGhlIGRlY29yYXRpb24gaGFzIGFza2VkIHRvIGJlY29tZSBjb2xsYXBzZWRcbiAgICAgICAgbm9kZS5zdGFydCA9IHN0YXJ0O1xuICAgICAgICBzdGFydERvbmUgPSB0cnVlO1xuICAgICAgICBub2RlLmVuZCA9IHN0YXJ0O1xuICAgICAgICBlbmREb25lID0gdHJ1ZTtcbiAgICB9XG4gICAge1xuICAgICAgICBjb25zdCBtb3ZlU2VtYW50aWNzID0gZm9yY2VNb3ZlTWFya2VycyA/IDEgLyogTWFya2VyTW92ZVNlbWFudGljcy5Gb3JjZU1vdmUgKi8gOiAoZGVsZXRpbmdDbnQgPiAwID8gMiAvKiBNYXJrZXJNb3ZlU2VtYW50aWNzLkZvcmNlU3RheSAqLyA6IDAgLyogTWFya2VyTW92ZVNlbWFudGljcy5NYXJrZXJEZWZpbmVkICovKTtcbiAgICAgICAgaWYgKCFzdGFydERvbmUgJiYgYWRqdXN0TWFya2VyQmVmb3JlQ29sdW1uKG5vZGVTdGFydCwgc3RhcnRTdGlja1RvUHJldmlvdXNDaGFyYWN0ZXIsIHN0YXJ0LCBtb3ZlU2VtYW50aWNzKSkge1xuICAgICAgICAgICAgc3RhcnREb25lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWVuZERvbmUgJiYgYWRqdXN0TWFya2VyQmVmb3JlQ29sdW1uKG5vZGVFbmQsIGVuZFN0aWNrVG9QcmV2aW91c0NoYXJhY3Rlciwgc3RhcnQsIG1vdmVTZW1hbnRpY3MpKSB7XG4gICAgICAgICAgICBlbmREb25lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29tbW9uTGVuZ3RoID4gMCAmJiAhZm9yY2VNb3ZlTWFya2Vycykge1xuICAgICAgICBjb25zdCBtb3ZlU2VtYW50aWNzID0gKGRlbGV0aW5nQ250ID4gaW5zZXJ0aW5nQ250ID8gMiAvKiBNYXJrZXJNb3ZlU2VtYW50aWNzLkZvcmNlU3RheSAqLyA6IDAgLyogTWFya2VyTW92ZVNlbWFudGljcy5NYXJrZXJEZWZpbmVkICovKTtcbiAgICAgICAgaWYgKCFzdGFydERvbmUgJiYgYWRqdXN0TWFya2VyQmVmb3JlQ29sdW1uKG5vZGVTdGFydCwgc3RhcnRTdGlja1RvUHJldmlvdXNDaGFyYWN0ZXIsIHN0YXJ0ICsgY29tbW9uTGVuZ3RoLCBtb3ZlU2VtYW50aWNzKSkge1xuICAgICAgICAgICAgc3RhcnREb25lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWVuZERvbmUgJiYgYWRqdXN0TWFya2VyQmVmb3JlQ29sdW1uKG5vZGVFbmQsIGVuZFN0aWNrVG9QcmV2aW91c0NoYXJhY3Rlciwgc3RhcnQgKyBjb21tb25MZW5ndGgsIG1vdmVTZW1hbnRpY3MpKSB7XG4gICAgICAgICAgICBlbmREb25lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB7XG4gICAgICAgIGNvbnN0IG1vdmVTZW1hbnRpY3MgPSBmb3JjZU1vdmVNYXJrZXJzID8gMSAvKiBNYXJrZXJNb3ZlU2VtYW50aWNzLkZvcmNlTW92ZSAqLyA6IDAgLyogTWFya2VyTW92ZVNlbWFudGljcy5NYXJrZXJEZWZpbmVkICovO1xuICAgICAgICBpZiAoIXN0YXJ0RG9uZSAmJiBhZGp1c3RNYXJrZXJCZWZvcmVDb2x1bW4obm9kZVN0YXJ0LCBzdGFydFN0aWNrVG9QcmV2aW91c0NoYXJhY3RlciwgZW5kLCBtb3ZlU2VtYW50aWNzKSkge1xuICAgICAgICAgICAgbm9kZS5zdGFydCA9IHN0YXJ0ICsgaW5zZXJ0aW5nQ250O1xuICAgICAgICAgICAgc3RhcnREb25lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWVuZERvbmUgJiYgYWRqdXN0TWFya2VyQmVmb3JlQ29sdW1uKG5vZGVFbmQsIGVuZFN0aWNrVG9QcmV2aW91c0NoYXJhY3RlciwgZW5kLCBtb3ZlU2VtYW50aWNzKSkge1xuICAgICAgICAgICAgbm9kZS5lbmQgPSBzdGFydCArIGluc2VydGluZ0NudDtcbiAgICAgICAgICAgIGVuZERvbmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEZpbmlzaFxuICAgIGNvbnN0IGRlbHRhQ29sdW1uID0gKGluc2VydGluZ0NudCAtIGRlbGV0aW5nQ250KTtcbiAgICBpZiAoIXN0YXJ0RG9uZSkge1xuICAgICAgICBub2RlLnN0YXJ0ID0gTWF0aC5tYXgoMCwgbm9kZVN0YXJ0ICsgZGVsdGFDb2x1bW4pO1xuICAgIH1cbiAgICBpZiAoIWVuZERvbmUpIHtcbiAgICAgICAgbm9kZS5lbmQgPSBNYXRoLm1heCgwLCBub2RlRW5kICsgZGVsdGFDb2x1bW4pO1xuICAgIH1cbiAgICBpZiAobm9kZS5zdGFydCA+IG5vZGUuZW5kKSB7XG4gICAgICAgIG5vZGUuZW5kID0gbm9kZS5zdGFydDtcbiAgICB9XG59XG5mdW5jdGlvbiBzZWFyY2hGb3JFZGl0aW5nKFQsIHN0YXJ0LCBlbmQpIHtcbiAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JbnRlcnZhbF90cmVlI0F1Z21lbnRlZF90cmVlXG4gICAgLy8gTm93LCBpdCBpcyBrbm93biB0aGF0IHR3byBpbnRlcnZhbHMgQSBhbmQgQiBvdmVybGFwIG9ubHkgd2hlbiBib3RoXG4gICAgLy8gQS5sb3cgPD0gQi5oaWdoIGFuZCBBLmhpZ2ggPj0gQi5sb3cuIFdoZW4gc2VhcmNoaW5nIHRoZSB0cmVlcyBmb3JcbiAgICAvLyBub2RlcyBvdmVybGFwcGluZyB3aXRoIGEgZ2l2ZW4gaW50ZXJ2YWwsIHlvdSBjYW4gaW1tZWRpYXRlbHkgc2tpcDpcbiAgICAvLyAgYSkgYWxsIG5vZGVzIHRvIHRoZSByaWdodCBvZiBub2RlcyB3aG9zZSBsb3cgdmFsdWUgaXMgcGFzdCB0aGUgZW5kIG9mIHRoZSBnaXZlbiBpbnRlcnZhbC5cbiAgICAvLyAgYikgYWxsIG5vZGVzIHRoYXQgaGF2ZSB0aGVpciBtYXhpbXVtICdoaWdoJyB2YWx1ZSBiZWxvdyB0aGUgc3RhcnQgb2YgdGhlIGdpdmVuIGludGVydmFsLlxuICAgIGxldCBub2RlID0gVC5yb290O1xuICAgIGxldCBkZWx0YSA9IDA7XG4gICAgbGV0IG5vZGVNYXhFbmQgPSAwO1xuICAgIGxldCBub2RlU3RhcnQgPSAwO1xuICAgIGxldCBub2RlRW5kID0gMDtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBsZXQgcmVzdWx0TGVuID0gMDtcbiAgICB3aGlsZSAobm9kZSAhPT0gU0VOVElORUwpIHtcbiAgICAgICAgaWYgKGdldE5vZGVJc1Zpc2l0ZWQobm9kZSkpIHtcbiAgICAgICAgICAgIC8vIGdvaW5nIHVwIGZyb20gdGhpcyBub2RlXG4gICAgICAgICAgICBzZXROb2RlSXNWaXNpdGVkKG5vZGUubGVmdCwgZmFsc2UpO1xuICAgICAgICAgICAgc2V0Tm9kZUlzVmlzaXRlZChub2RlLnJpZ2h0LCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAobm9kZSA9PT0gbm9kZS5wYXJlbnQucmlnaHQpIHtcbiAgICAgICAgICAgICAgICBkZWx0YSAtPSBub2RlLnBhcmVudC5kZWx0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZ2V0Tm9kZUlzVmlzaXRlZChub2RlLmxlZnQpKSB7XG4gICAgICAgICAgICAvLyBmaXJzdCB0aW1lIHNlZWluZyB0aGlzIG5vZGVcbiAgICAgICAgICAgIG5vZGVNYXhFbmQgPSBkZWx0YSArIG5vZGUubWF4RW5kO1xuICAgICAgICAgICAgaWYgKG5vZGVNYXhFbmQgPCBzdGFydCkge1xuICAgICAgICAgICAgICAgIC8vIGNvdmVyIGNhc2UgYikgZnJvbSBhYm92ZVxuICAgICAgICAgICAgICAgIC8vIHRoZXJlIGlzIG5vIG5lZWQgdG8gc2VhcmNoIHRoaXMgbm9kZSBvciBpdHMgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICBzZXROb2RlSXNWaXNpdGVkKG5vZGUsIHRydWUpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUubGVmdCAhPT0gU0VOVElORUwpIHtcbiAgICAgICAgICAgICAgICAvLyBnbyBsZWZ0XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUubGVmdDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgY3VycmVudCBub2RlXG4gICAgICAgIG5vZGVTdGFydCA9IGRlbHRhICsgbm9kZS5zdGFydDtcbiAgICAgICAgaWYgKG5vZGVTdGFydCA+IGVuZCkge1xuICAgICAgICAgICAgLy8gY292ZXIgY2FzZSBhKSBmcm9tIGFib3ZlXG4gICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBuZWVkIHRvIHNlYXJjaCB0aGlzIG5vZGUgb3IgaXRzIHJpZ2h0IHN1YnRyZWVcbiAgICAgICAgICAgIHNldE5vZGVJc1Zpc2l0ZWQobm9kZSwgdHJ1ZSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBub2RlRW5kID0gZGVsdGEgKyBub2RlLmVuZDtcbiAgICAgICAgaWYgKG5vZGVFbmQgPj0gc3RhcnQpIHtcbiAgICAgICAgICAgIG5vZGUuc2V0Q2FjaGVkT2Zmc2V0cyhub2RlU3RhcnQsIG5vZGVFbmQsIDApO1xuICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdExlbisrXSA9IG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0Tm9kZUlzVmlzaXRlZChub2RlLCB0cnVlKTtcbiAgICAgICAgaWYgKG5vZGUucmlnaHQgIT09IFNFTlRJTkVMICYmICFnZXROb2RlSXNWaXNpdGVkKG5vZGUucmlnaHQpKSB7XG4gICAgICAgICAgICAvLyBnbyByaWdodFxuICAgICAgICAgICAgZGVsdGEgKz0gbm9kZS5kZWx0YTtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0Tm9kZUlzVmlzaXRlZChULnJvb3QsIGZhbHNlKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbm9PdmVybGFwUmVwbGFjZShULCBzdGFydCwgZW5kLCB0ZXh0TGVuZ3RoKSB7XG4gICAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSW50ZXJ2YWxfdHJlZSNBdWdtZW50ZWRfdHJlZVxuICAgIC8vIE5vdywgaXQgaXMga25vd24gdGhhdCB0d28gaW50ZXJ2YWxzIEEgYW5kIEIgb3ZlcmxhcCBvbmx5IHdoZW4gYm90aFxuICAgIC8vIEEubG93IDw9IEIuaGlnaCBhbmQgQS5oaWdoID49IEIubG93LiBXaGVuIHNlYXJjaGluZyB0aGUgdHJlZXMgZm9yXG4gICAgLy8gbm9kZXMgb3ZlcmxhcHBpbmcgd2l0aCBhIGdpdmVuIGludGVydmFsLCB5b3UgY2FuIGltbWVkaWF0ZWx5IHNraXA6XG4gICAgLy8gIGEpIGFsbCBub2RlcyB0byB0aGUgcmlnaHQgb2Ygbm9kZXMgd2hvc2UgbG93IHZhbHVlIGlzIHBhc3QgdGhlIGVuZCBvZiB0aGUgZ2l2ZW4gaW50ZXJ2YWwuXG4gICAgLy8gIGIpIGFsbCBub2RlcyB0aGF0IGhhdmUgdGhlaXIgbWF4aW11bSAnaGlnaCcgdmFsdWUgYmVsb3cgdGhlIHN0YXJ0IG9mIHRoZSBnaXZlbiBpbnRlcnZhbC5cbiAgICBsZXQgbm9kZSA9IFQucm9vdDtcbiAgICBsZXQgZGVsdGEgPSAwO1xuICAgIGxldCBub2RlTWF4RW5kID0gMDtcbiAgICBsZXQgbm9kZVN0YXJ0ID0gMDtcbiAgICBjb25zdCBlZGl0RGVsdGEgPSAodGV4dExlbmd0aCAtIChlbmQgLSBzdGFydCkpO1xuICAgIHdoaWxlIChub2RlICE9PSBTRU5USU5FTCkge1xuICAgICAgICBpZiAoZ2V0Tm9kZUlzVmlzaXRlZChub2RlKSkge1xuICAgICAgICAgICAgLy8gZ29pbmcgdXAgZnJvbSB0aGlzIG5vZGVcbiAgICAgICAgICAgIHNldE5vZGVJc1Zpc2l0ZWQobm9kZS5sZWZ0LCBmYWxzZSk7XG4gICAgICAgICAgICBzZXROb2RlSXNWaXNpdGVkKG5vZGUucmlnaHQsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChub2RlID09PSBub2RlLnBhcmVudC5yaWdodCkge1xuICAgICAgICAgICAgICAgIGRlbHRhIC09IG5vZGUucGFyZW50LmRlbHRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjb21wdXRlTWF4RW5kKG5vZGUpO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50O1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFnZXROb2RlSXNWaXNpdGVkKG5vZGUubGVmdCkpIHtcbiAgICAgICAgICAgIC8vIGZpcnN0IHRpbWUgc2VlaW5nIHRoaXMgbm9kZVxuICAgICAgICAgICAgbm9kZU1heEVuZCA9IGRlbHRhICsgbm9kZS5tYXhFbmQ7XG4gICAgICAgICAgICBpZiAobm9kZU1heEVuZCA8IHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgLy8gY292ZXIgY2FzZSBiKSBmcm9tIGFib3ZlXG4gICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgbm8gbmVlZCB0byBzZWFyY2ggdGhpcyBub2RlIG9yIGl0cyBjaGlsZHJlblxuICAgICAgICAgICAgICAgIHNldE5vZGVJc1Zpc2l0ZWQobm9kZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZS5sZWZ0ICE9PSBTRU5USU5FTCkge1xuICAgICAgICAgICAgICAgIC8vIGdvIGxlZnRcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGhhbmRsZSBjdXJyZW50IG5vZGVcbiAgICAgICAgbm9kZVN0YXJ0ID0gZGVsdGEgKyBub2RlLnN0YXJ0O1xuICAgICAgICBpZiAobm9kZVN0YXJ0ID4gZW5kKSB7XG4gICAgICAgICAgICBub2RlLnN0YXJ0ICs9IGVkaXREZWx0YTtcbiAgICAgICAgICAgIG5vZGUuZW5kICs9IGVkaXREZWx0YTtcbiAgICAgICAgICAgIG5vZGUuZGVsdGEgKz0gZWRpdERlbHRhO1xuICAgICAgICAgICAgaWYgKG5vZGUuZGVsdGEgPCAtMTA3Mzc0MTgyNCAvKiBDb25zdGFudHMuTUlOX1NBRkVfREVMVEEgKi8gfHwgbm9kZS5kZWx0YSA+IDEwNzM3NDE4MjQgLyogQ29uc3RhbnRzLk1BWF9TQUZFX0RFTFRBICovKSB7XG4gICAgICAgICAgICAgICAgVC5yZXF1ZXN0Tm9ybWFsaXplRGVsdGEgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY292ZXIgY2FzZSBhKSBmcm9tIGFib3ZlXG4gICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBuZWVkIHRvIHNlYXJjaCB0aGlzIG5vZGUgb3IgaXRzIHJpZ2h0IHN1YnRyZWVcbiAgICAgICAgICAgIHNldE5vZGVJc1Zpc2l0ZWQobm9kZSwgdHJ1ZSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBzZXROb2RlSXNWaXNpdGVkKG5vZGUsIHRydWUpO1xuICAgICAgICBpZiAobm9kZS5yaWdodCAhPT0gU0VOVElORUwgJiYgIWdldE5vZGVJc1Zpc2l0ZWQobm9kZS5yaWdodCkpIHtcbiAgICAgICAgICAgIC8vIGdvIHJpZ2h0XG4gICAgICAgICAgICBkZWx0YSArPSBub2RlLmRlbHRhO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXROb2RlSXNWaXNpdGVkKFQucm9vdCwgZmFsc2UpO1xufVxuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gU2VhcmNoaW5nXG5mdW5jdGlvbiBjb2xsZWN0Tm9kZXNGcm9tT3duZXIoVCwgb3duZXJJZCkge1xuICAgIGxldCBub2RlID0gVC5yb290O1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGxldCByZXN1bHRMZW4gPSAwO1xuICAgIHdoaWxlIChub2RlICE9PSBTRU5USU5FTCkge1xuICAgICAgICBpZiAoZ2V0Tm9kZUlzVmlzaXRlZChub2RlKSkge1xuICAgICAgICAgICAgLy8gZ29pbmcgdXAgZnJvbSB0aGlzIG5vZGVcbiAgICAgICAgICAgIHNldE5vZGVJc1Zpc2l0ZWQobm9kZS5sZWZ0LCBmYWxzZSk7XG4gICAgICAgICAgICBzZXROb2RlSXNWaXNpdGVkKG5vZGUucmlnaHQsIGZhbHNlKTtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmxlZnQgIT09IFNFTlRJTkVMICYmICFnZXROb2RlSXNWaXNpdGVkKG5vZGUubGVmdCkpIHtcbiAgICAgICAgICAgIC8vIGdvIGxlZnRcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgY3VycmVudCBub2RlXG4gICAgICAgIGlmIChub2RlLm93bmVySWQgPT09IG93bmVySWQpIHtcbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRMZW4rK10gPSBub2RlO1xuICAgICAgICB9XG4gICAgICAgIHNldE5vZGVJc1Zpc2l0ZWQobm9kZSwgdHJ1ZSk7XG4gICAgICAgIGlmIChub2RlLnJpZ2h0ICE9PSBTRU5USU5FTCAmJiAhZ2V0Tm9kZUlzVmlzaXRlZChub2RlLnJpZ2h0KSkge1xuICAgICAgICAgICAgLy8gZ28gcmlnaHRcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0Tm9kZUlzVmlzaXRlZChULnJvb3QsIGZhbHNlKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY29sbGVjdE5vZGVzUG9zdE9yZGVyKFQpIHtcbiAgICBsZXQgbm9kZSA9IFQucm9vdDtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBsZXQgcmVzdWx0TGVuID0gMDtcbiAgICB3aGlsZSAobm9kZSAhPT0gU0VOVElORUwpIHtcbiAgICAgICAgaWYgKGdldE5vZGVJc1Zpc2l0ZWQobm9kZSkpIHtcbiAgICAgICAgICAgIC8vIGdvaW5nIHVwIGZyb20gdGhpcyBub2RlXG4gICAgICAgICAgICBzZXROb2RlSXNWaXNpdGVkKG5vZGUubGVmdCwgZmFsc2UpO1xuICAgICAgICAgICAgc2V0Tm9kZUlzVmlzaXRlZChub2RlLnJpZ2h0LCBmYWxzZSk7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5sZWZ0ICE9PSBTRU5USU5FTCAmJiAhZ2V0Tm9kZUlzVmlzaXRlZChub2RlLmxlZnQpKSB7XG4gICAgICAgICAgICAvLyBnbyBsZWZ0XG4gICAgICAgICAgICBub2RlID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUucmlnaHQgIT09IFNFTlRJTkVMICYmICFnZXROb2RlSXNWaXNpdGVkKG5vZGUucmlnaHQpKSB7XG4gICAgICAgICAgICAvLyBnbyByaWdodFxuICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgY3VycmVudCBub2RlXG4gICAgICAgIHJlc3VsdFtyZXN1bHRMZW4rK10gPSBub2RlO1xuICAgICAgICBzZXROb2RlSXNWaXNpdGVkKG5vZGUsIHRydWUpO1xuICAgIH1cbiAgICBzZXROb2RlSXNWaXNpdGVkKFQucm9vdCwgZmFsc2UpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBzZWFyY2goVCwgZmlsdGVyT3duZXJJZCwgZmlsdGVyT3V0VmFsaWRhdGlvbiwgY2FjaGVkVmVyc2lvbklkLCBvbmx5TWFyZ2luRGVjb3JhdGlvbnMpIHtcbiAgICBsZXQgbm9kZSA9IFQucm9vdDtcbiAgICBsZXQgZGVsdGEgPSAwO1xuICAgIGxldCBub2RlU3RhcnQgPSAwO1xuICAgIGxldCBub2RlRW5kID0gMDtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBsZXQgcmVzdWx0TGVuID0gMDtcbiAgICB3aGlsZSAobm9kZSAhPT0gU0VOVElORUwpIHtcbiAgICAgICAgaWYgKGdldE5vZGVJc1Zpc2l0ZWQobm9kZSkpIHtcbiAgICAgICAgICAgIC8vIGdvaW5nIHVwIGZyb20gdGhpcyBub2RlXG4gICAgICAgICAgICBzZXROb2RlSXNWaXNpdGVkKG5vZGUubGVmdCwgZmFsc2UpO1xuICAgICAgICAgICAgc2V0Tm9kZUlzVmlzaXRlZChub2RlLnJpZ2h0LCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAobm9kZSA9PT0gbm9kZS5wYXJlbnQucmlnaHQpIHtcbiAgICAgICAgICAgICAgICBkZWx0YSAtPSBub2RlLnBhcmVudC5kZWx0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmxlZnQgIT09IFNFTlRJTkVMICYmICFnZXROb2RlSXNWaXNpdGVkKG5vZGUubGVmdCkpIHtcbiAgICAgICAgICAgIC8vIGdvIGxlZnRcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgY3VycmVudCBub2RlXG4gICAgICAgIG5vZGVTdGFydCA9IGRlbHRhICsgbm9kZS5zdGFydDtcbiAgICAgICAgbm9kZUVuZCA9IGRlbHRhICsgbm9kZS5lbmQ7XG4gICAgICAgIG5vZGUuc2V0Q2FjaGVkT2Zmc2V0cyhub2RlU3RhcnQsIG5vZGVFbmQsIGNhY2hlZFZlcnNpb25JZCk7XG4gICAgICAgIGxldCBpbmNsdWRlID0gdHJ1ZTtcbiAgICAgICAgaWYgKGZpbHRlck93bmVySWQgJiYgbm9kZS5vd25lcklkICYmIG5vZGUub3duZXJJZCAhPT0gZmlsdGVyT3duZXJJZCkge1xuICAgICAgICAgICAgaW5jbHVkZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJPdXRWYWxpZGF0aW9uICYmIGdldE5vZGVJc0ZvclZhbGlkYXRpb24obm9kZSkpIHtcbiAgICAgICAgICAgIGluY2x1ZGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25seU1hcmdpbkRlY29yYXRpb25zICYmICFnZXROb2RlSXNJbkdseXBoTWFyZ2luKG5vZGUpKSB7XG4gICAgICAgICAgICBpbmNsdWRlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluY2x1ZGUpIHtcbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRMZW4rK10gPSBub2RlO1xuICAgICAgICB9XG4gICAgICAgIHNldE5vZGVJc1Zpc2l0ZWQobm9kZSwgdHJ1ZSk7XG4gICAgICAgIGlmIChub2RlLnJpZ2h0ICE9PSBTRU5USU5FTCAmJiAhZ2V0Tm9kZUlzVmlzaXRlZChub2RlLnJpZ2h0KSkge1xuICAgICAgICAgICAgLy8gZ28gcmlnaHRcbiAgICAgICAgICAgIGRlbHRhICs9IG5vZGUuZGVsdGE7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5yaWdodDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldE5vZGVJc1Zpc2l0ZWQoVC5yb290LCBmYWxzZSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGludGVydmFsU2VhcmNoKFQsIGludGVydmFsU3RhcnQsIGludGVydmFsRW5kLCBmaWx0ZXJPd25lcklkLCBmaWx0ZXJPdXRWYWxpZGF0aW9uLCBjYWNoZWRWZXJzaW9uSWQsIG9ubHlNYXJnaW5EZWNvcmF0aW9ucykge1xuICAgIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0ludGVydmFsX3RyZWUjQXVnbWVudGVkX3RyZWVcbiAgICAvLyBOb3csIGl0IGlzIGtub3duIHRoYXQgdHdvIGludGVydmFscyBBIGFuZCBCIG92ZXJsYXAgb25seSB3aGVuIGJvdGhcbiAgICAvLyBBLmxvdyA8PSBCLmhpZ2ggYW5kIEEuaGlnaCA+PSBCLmxvdy4gV2hlbiBzZWFyY2hpbmcgdGhlIHRyZWVzIGZvclxuICAgIC8vIG5vZGVzIG92ZXJsYXBwaW5nIHdpdGggYSBnaXZlbiBpbnRlcnZhbCwgeW91IGNhbiBpbW1lZGlhdGVseSBza2lwOlxuICAgIC8vICBhKSBhbGwgbm9kZXMgdG8gdGhlIHJpZ2h0IG9mIG5vZGVzIHdob3NlIGxvdyB2YWx1ZSBpcyBwYXN0IHRoZSBlbmQgb2YgdGhlIGdpdmVuIGludGVydmFsLlxuICAgIC8vICBiKSBhbGwgbm9kZXMgdGhhdCBoYXZlIHRoZWlyIG1heGltdW0gJ2hpZ2gnIHZhbHVlIGJlbG93IHRoZSBzdGFydCBvZiB0aGUgZ2l2ZW4gaW50ZXJ2YWwuXG4gICAgbGV0IG5vZGUgPSBULnJvb3Q7XG4gICAgbGV0IGRlbHRhID0gMDtcbiAgICBsZXQgbm9kZU1heEVuZCA9IDA7XG4gICAgbGV0IG5vZGVTdGFydCA9IDA7XG4gICAgbGV0IG5vZGVFbmQgPSAwO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGxldCByZXN1bHRMZW4gPSAwO1xuICAgIHdoaWxlIChub2RlICE9PSBTRU5USU5FTCkge1xuICAgICAgICBpZiAoZ2V0Tm9kZUlzVmlzaXRlZChub2RlKSkge1xuICAgICAgICAgICAgLy8gZ29pbmcgdXAgZnJvbSB0aGlzIG5vZGVcbiAgICAgICAgICAgIHNldE5vZGVJc1Zpc2l0ZWQobm9kZS5sZWZ0LCBmYWxzZSk7XG4gICAgICAgICAgICBzZXROb2RlSXNWaXNpdGVkKG5vZGUucmlnaHQsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChub2RlID09PSBub2RlLnBhcmVudC5yaWdodCkge1xuICAgICAgICAgICAgICAgIGRlbHRhIC09IG5vZGUucGFyZW50LmRlbHRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50O1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFnZXROb2RlSXNWaXNpdGVkKG5vZGUubGVmdCkpIHtcbiAgICAgICAgICAgIC8vIGZpcnN0IHRpbWUgc2VlaW5nIHRoaXMgbm9kZVxuICAgICAgICAgICAgbm9kZU1heEVuZCA9IGRlbHRhICsgbm9kZS5tYXhFbmQ7XG4gICAgICAgICAgICBpZiAobm9kZU1heEVuZCA8IGludGVydmFsU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAvLyBjb3ZlciBjYXNlIGIpIGZyb20gYWJvdmVcbiAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBuZWVkIHRvIHNlYXJjaCB0aGlzIG5vZGUgb3IgaXRzIGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgc2V0Tm9kZUlzVmlzaXRlZChub2RlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlLmxlZnQgIT09IFNFTlRJTkVMKSB7XG4gICAgICAgICAgICAgICAgLy8gZ28gbGVmdFxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIGN1cnJlbnQgbm9kZVxuICAgICAgICBub2RlU3RhcnQgPSBkZWx0YSArIG5vZGUuc3RhcnQ7XG4gICAgICAgIGlmIChub2RlU3RhcnQgPiBpbnRlcnZhbEVuZCkge1xuICAgICAgICAgICAgLy8gY292ZXIgY2FzZSBhKSBmcm9tIGFib3ZlXG4gICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBuZWVkIHRvIHNlYXJjaCB0aGlzIG5vZGUgb3IgaXRzIHJpZ2h0IHN1YnRyZWVcbiAgICAgICAgICAgIHNldE5vZGVJc1Zpc2l0ZWQobm9kZSwgdHJ1ZSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBub2RlRW5kID0gZGVsdGEgKyBub2RlLmVuZDtcbiAgICAgICAgaWYgKG5vZGVFbmQgPj0gaW50ZXJ2YWxTdGFydCkge1xuICAgICAgICAgICAgLy8gVGhlcmUgaXMgb3ZlcmxhcFxuICAgICAgICAgICAgbm9kZS5zZXRDYWNoZWRPZmZzZXRzKG5vZGVTdGFydCwgbm9kZUVuZCwgY2FjaGVkVmVyc2lvbklkKTtcbiAgICAgICAgICAgIGxldCBpbmNsdWRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChmaWx0ZXJPd25lcklkICYmIG5vZGUub3duZXJJZCAmJiBub2RlLm93bmVySWQgIT09IGZpbHRlck93bmVySWQpIHtcbiAgICAgICAgICAgICAgICBpbmNsdWRlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlsdGVyT3V0VmFsaWRhdGlvbiAmJiBnZXROb2RlSXNGb3JWYWxpZGF0aW9uKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgaW5jbHVkZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9ubHlNYXJnaW5EZWNvcmF0aW9ucyAmJiAhZ2V0Tm9kZUlzSW5HbHlwaE1hcmdpbihub2RlKSkge1xuICAgICAgICAgICAgICAgIGluY2x1ZGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmNsdWRlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdExlbisrXSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0Tm9kZUlzVmlzaXRlZChub2RlLCB0cnVlKTtcbiAgICAgICAgaWYgKG5vZGUucmlnaHQgIT09IFNFTlRJTkVMICYmICFnZXROb2RlSXNWaXNpdGVkKG5vZGUucmlnaHQpKSB7XG4gICAgICAgICAgICAvLyBnbyByaWdodFxuICAgICAgICAgICAgZGVsdGEgKz0gbm9kZS5kZWx0YTtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0Tm9kZUlzVmlzaXRlZChULnJvb3QsIGZhbHNlKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gSW5zZXJ0aW9uXG5mdW5jdGlvbiByYlRyZWVJbnNlcnQoVCwgbmV3Tm9kZSkge1xuICAgIGlmIChULnJvb3QgPT09IFNFTlRJTkVMKSB7XG4gICAgICAgIG5ld05vZGUucGFyZW50ID0gU0VOVElORUw7XG4gICAgICAgIG5ld05vZGUubGVmdCA9IFNFTlRJTkVMO1xuICAgICAgICBuZXdOb2RlLnJpZ2h0ID0gU0VOVElORUw7XG4gICAgICAgIHNldE5vZGVDb2xvcihuZXdOb2RlLCAwIC8qIE5vZGVDb2xvci5CbGFjayAqLyk7XG4gICAgICAgIFQucm9vdCA9IG5ld05vZGU7XG4gICAgICAgIHJldHVybiBULnJvb3Q7XG4gICAgfVxuICAgIHRyZWVJbnNlcnQoVCwgbmV3Tm9kZSk7XG4gICAgcmVjb21wdXRlTWF4RW5kV2Fsa1RvUm9vdChuZXdOb2RlLnBhcmVudCk7XG4gICAgLy8gcmVwYWlyIHRyZWVcbiAgICBsZXQgeCA9IG5ld05vZGU7XG4gICAgd2hpbGUgKHggIT09IFQucm9vdCAmJiBnZXROb2RlQ29sb3IoeC5wYXJlbnQpID09PSAxIC8qIE5vZGVDb2xvci5SZWQgKi8pIHtcbiAgICAgICAgaWYgKHgucGFyZW50ID09PSB4LnBhcmVudC5wYXJlbnQubGVmdCkge1xuICAgICAgICAgICAgY29uc3QgeSA9IHgucGFyZW50LnBhcmVudC5yaWdodDtcbiAgICAgICAgICAgIGlmIChnZXROb2RlQ29sb3IoeSkgPT09IDEgLyogTm9kZUNvbG9yLlJlZCAqLykge1xuICAgICAgICAgICAgICAgIHNldE5vZGVDb2xvcih4LnBhcmVudCwgMCAvKiBOb2RlQ29sb3IuQmxhY2sgKi8pO1xuICAgICAgICAgICAgICAgIHNldE5vZGVDb2xvcih5LCAwIC8qIE5vZGVDb2xvci5CbGFjayAqLyk7XG4gICAgICAgICAgICAgICAgc2V0Tm9kZUNvbG9yKHgucGFyZW50LnBhcmVudCwgMSAvKiBOb2RlQ29sb3IuUmVkICovKTtcbiAgICAgICAgICAgICAgICB4ID0geC5wYXJlbnQucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHggPT09IHgucGFyZW50LnJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSB4LnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgbGVmdFJvdGF0ZShULCB4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0Tm9kZUNvbG9yKHgucGFyZW50LCAwIC8qIE5vZGVDb2xvci5CbGFjayAqLyk7XG4gICAgICAgICAgICAgICAgc2V0Tm9kZUNvbG9yKHgucGFyZW50LnBhcmVudCwgMSAvKiBOb2RlQ29sb3IuUmVkICovKTtcbiAgICAgICAgICAgICAgICByaWdodFJvdGF0ZShULCB4LnBhcmVudC5wYXJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgeSA9IHgucGFyZW50LnBhcmVudC5sZWZ0O1xuICAgICAgICAgICAgaWYgKGdldE5vZGVDb2xvcih5KSA9PT0gMSAvKiBOb2RlQ29sb3IuUmVkICovKSB7XG4gICAgICAgICAgICAgICAgc2V0Tm9kZUNvbG9yKHgucGFyZW50LCAwIC8qIE5vZGVDb2xvci5CbGFjayAqLyk7XG4gICAgICAgICAgICAgICAgc2V0Tm9kZUNvbG9yKHksIDAgLyogTm9kZUNvbG9yLkJsYWNrICovKTtcbiAgICAgICAgICAgICAgICBzZXROb2RlQ29sb3IoeC5wYXJlbnQucGFyZW50LCAxIC8qIE5vZGVDb2xvci5SZWQgKi8pO1xuICAgICAgICAgICAgICAgIHggPSB4LnBhcmVudC5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoeCA9PT0geC5wYXJlbnQubGVmdCkge1xuICAgICAgICAgICAgICAgICAgICB4ID0geC5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0Um90YXRlKFQsIHgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXROb2RlQ29sb3IoeC5wYXJlbnQsIDAgLyogTm9kZUNvbG9yLkJsYWNrICovKTtcbiAgICAgICAgICAgICAgICBzZXROb2RlQ29sb3IoeC5wYXJlbnQucGFyZW50LCAxIC8qIE5vZGVDb2xvci5SZWQgKi8pO1xuICAgICAgICAgICAgICAgIGxlZnRSb3RhdGUoVCwgeC5wYXJlbnQucGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXROb2RlQ29sb3IoVC5yb290LCAwIC8qIE5vZGVDb2xvci5CbGFjayAqLyk7XG4gICAgcmV0dXJuIG5ld05vZGU7XG59XG5mdW5jdGlvbiB0cmVlSW5zZXJ0KFQsIHopIHtcbiAgICBsZXQgZGVsdGEgPSAwO1xuICAgIGxldCB4ID0gVC5yb290O1xuICAgIGNvbnN0IHpBYnNvbHV0ZVN0YXJ0ID0gei5zdGFydDtcbiAgICBjb25zdCB6QWJzb2x1dGVFbmQgPSB6LmVuZDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCBjbXAgPSBpbnRlcnZhbENvbXBhcmUoekFic29sdXRlU3RhcnQsIHpBYnNvbHV0ZUVuZCwgeC5zdGFydCArIGRlbHRhLCB4LmVuZCArIGRlbHRhKTtcbiAgICAgICAgaWYgKGNtcCA8IDApIHtcbiAgICAgICAgICAgIC8vIHRoaXMgbm9kZSBzaG91bGQgYmUgaW5zZXJ0ZWQgdG8gdGhlIGxlZnRcbiAgICAgICAgICAgIC8vID0+IGl0IGlzIG5vdCBhZmZlY3RlZCBieSB0aGUgbm9kZSdzIGRlbHRhXG4gICAgICAgICAgICBpZiAoeC5sZWZ0ID09PSBTRU5USU5FTCkge1xuICAgICAgICAgICAgICAgIHouc3RhcnQgLT0gZGVsdGE7XG4gICAgICAgICAgICAgICAgei5lbmQgLT0gZGVsdGE7XG4gICAgICAgICAgICAgICAgei5tYXhFbmQgLT0gZGVsdGE7XG4gICAgICAgICAgICAgICAgeC5sZWZ0ID0gejtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHggPSB4LmxlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB0aGlzIG5vZGUgc2hvdWxkIGJlIGluc2VydGVkIHRvIHRoZSByaWdodFxuICAgICAgICAgICAgLy8gPT4gaXQgaXMgbm90IGFmZmVjdGVkIGJ5IHRoZSBub2RlJ3MgZGVsdGFcbiAgICAgICAgICAgIGlmICh4LnJpZ2h0ID09PSBTRU5USU5FTCkge1xuICAgICAgICAgICAgICAgIHouc3RhcnQgLT0gKGRlbHRhICsgeC5kZWx0YSk7XG4gICAgICAgICAgICAgICAgei5lbmQgLT0gKGRlbHRhICsgeC5kZWx0YSk7XG4gICAgICAgICAgICAgICAgei5tYXhFbmQgLT0gKGRlbHRhICsgeC5kZWx0YSk7XG4gICAgICAgICAgICAgICAgeC5yaWdodCA9IHo7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWx0YSArPSB4LmRlbHRhO1xuICAgICAgICAgICAgICAgIHggPSB4LnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHoucGFyZW50ID0geDtcbiAgICB6LmxlZnQgPSBTRU5USU5FTDtcbiAgICB6LnJpZ2h0ID0gU0VOVElORUw7XG4gICAgc2V0Tm9kZUNvbG9yKHosIDEgLyogTm9kZUNvbG9yLlJlZCAqLyk7XG59XG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBEZWxldGlvblxuZnVuY3Rpb24gcmJUcmVlRGVsZXRlKFQsIHopIHtcbiAgICBsZXQgeDtcbiAgICBsZXQgeTtcbiAgICAvLyBSQi1ERUxFVEUgZXhjZXB0IHdlIGRvbid0IHN3YXAgeiBhbmQgeSBpbiBjYXNlIGMpXG4gICAgLy8gaS5lLiB3ZSBhbHdheXMgZGVsZXRlIHdoYXQncyBwb2ludGVkIGF0IGJ5IHouXG4gICAgaWYgKHoubGVmdCA9PT0gU0VOVElORUwpIHtcbiAgICAgICAgeCA9IHoucmlnaHQ7XG4gICAgICAgIHkgPSB6O1xuICAgICAgICAvLyB4J3MgZGVsdGEgaXMgbm8gbG9uZ2VyIGluZmx1ZW5jZWQgYnkgeidzIGRlbHRhXG4gICAgICAgIHguZGVsdGEgKz0gei5kZWx0YTtcbiAgICAgICAgaWYgKHguZGVsdGEgPCAtMTA3Mzc0MTgyNCAvKiBDb25zdGFudHMuTUlOX1NBRkVfREVMVEEgKi8gfHwgeC5kZWx0YSA+IDEwNzM3NDE4MjQgLyogQ29uc3RhbnRzLk1BWF9TQUZFX0RFTFRBICovKSB7XG4gICAgICAgICAgICBULnJlcXVlc3ROb3JtYWxpemVEZWx0YSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgeC5zdGFydCArPSB6LmRlbHRhO1xuICAgICAgICB4LmVuZCArPSB6LmRlbHRhO1xuICAgIH1cbiAgICBlbHNlIGlmICh6LnJpZ2h0ID09PSBTRU5USU5FTCkge1xuICAgICAgICB4ID0gei5sZWZ0O1xuICAgICAgICB5ID0gejtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHkgPSBsZWZ0ZXN0KHoucmlnaHQpO1xuICAgICAgICB4ID0geS5yaWdodDtcbiAgICAgICAgLy8geSdzIGRlbHRhIGlzIG5vIGxvbmdlciBpbmZsdWVuY2VkIGJ5IHoncyBkZWx0YSxcbiAgICAgICAgLy8gYnV0IHdlIGRvbid0IHdhbnQgdG8gd2FsayB0aGUgZW50aXJlIHJpZ2h0LWhhbmQtc2lkZSBzdWJ0cmVlIG9mIHguXG4gICAgICAgIC8vIHdlIHRoZXJlZm9yZSBtYWludGFpbiB6J3MgZGVsdGEgaW4geSwgYW5kIGFkanVzdCBvbmx5IHhcbiAgICAgICAgeC5zdGFydCArPSB5LmRlbHRhO1xuICAgICAgICB4LmVuZCArPSB5LmRlbHRhO1xuICAgICAgICB4LmRlbHRhICs9IHkuZGVsdGE7XG4gICAgICAgIGlmICh4LmRlbHRhIDwgLTEwNzM3NDE4MjQgLyogQ29uc3RhbnRzLk1JTl9TQUZFX0RFTFRBICovIHx8IHguZGVsdGEgPiAxMDczNzQxODI0IC8qIENvbnN0YW50cy5NQVhfU0FGRV9ERUxUQSAqLykge1xuICAgICAgICAgICAgVC5yZXF1ZXN0Tm9ybWFsaXplRGVsdGEgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHkuc3RhcnQgKz0gei5kZWx0YTtcbiAgICAgICAgeS5lbmQgKz0gei5kZWx0YTtcbiAgICAgICAgeS5kZWx0YSA9IHouZGVsdGE7XG4gICAgICAgIGlmICh5LmRlbHRhIDwgLTEwNzM3NDE4MjQgLyogQ29uc3RhbnRzLk1JTl9TQUZFX0RFTFRBICovIHx8IHkuZGVsdGEgPiAxMDczNzQxODI0IC8qIENvbnN0YW50cy5NQVhfU0FGRV9ERUxUQSAqLykge1xuICAgICAgICAgICAgVC5yZXF1ZXN0Tm9ybWFsaXplRGVsdGEgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh5ID09PSBULnJvb3QpIHtcbiAgICAgICAgVC5yb290ID0geDtcbiAgICAgICAgc2V0Tm9kZUNvbG9yKHgsIDAgLyogTm9kZUNvbG9yLkJsYWNrICovKTtcbiAgICAgICAgei5kZXRhY2goKTtcbiAgICAgICAgcmVzZXRTZW50aW5lbCgpO1xuICAgICAgICByZWNvbXB1dGVNYXhFbmQoeCk7XG4gICAgICAgIFQucm9vdC5wYXJlbnQgPSBTRU5USU5FTDtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB5V2FzUmVkID0gKGdldE5vZGVDb2xvcih5KSA9PT0gMSAvKiBOb2RlQ29sb3IuUmVkICovKTtcbiAgICBpZiAoeSA9PT0geS5wYXJlbnQubGVmdCkge1xuICAgICAgICB5LnBhcmVudC5sZWZ0ID0geDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHkucGFyZW50LnJpZ2h0ID0geDtcbiAgICB9XG4gICAgaWYgKHkgPT09IHopIHtcbiAgICAgICAgeC5wYXJlbnQgPSB5LnBhcmVudDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICh5LnBhcmVudCA9PT0geikge1xuICAgICAgICAgICAgeC5wYXJlbnQgPSB5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeC5wYXJlbnQgPSB5LnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICB5LmxlZnQgPSB6LmxlZnQ7XG4gICAgICAgIHkucmlnaHQgPSB6LnJpZ2h0O1xuICAgICAgICB5LnBhcmVudCA9IHoucGFyZW50O1xuICAgICAgICBzZXROb2RlQ29sb3IoeSwgZ2V0Tm9kZUNvbG9yKHopKTtcbiAgICAgICAgaWYgKHogPT09IFQucm9vdCkge1xuICAgICAgICAgICAgVC5yb290ID0geTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh6ID09PSB6LnBhcmVudC5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgei5wYXJlbnQubGVmdCA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB6LnBhcmVudC5yaWdodCA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHkubGVmdCAhPT0gU0VOVElORUwpIHtcbiAgICAgICAgICAgIHkubGVmdC5wYXJlbnQgPSB5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh5LnJpZ2h0ICE9PSBTRU5USU5FTCkge1xuICAgICAgICAgICAgeS5yaWdodC5wYXJlbnQgPSB5O1xuICAgICAgICB9XG4gICAgfVxuICAgIHouZGV0YWNoKCk7XG4gICAgaWYgKHlXYXNSZWQpIHtcbiAgICAgICAgcmVjb21wdXRlTWF4RW5kV2Fsa1RvUm9vdCh4LnBhcmVudCk7XG4gICAgICAgIGlmICh5ICE9PSB6KSB7XG4gICAgICAgICAgICByZWNvbXB1dGVNYXhFbmRXYWxrVG9Sb290KHkpO1xuICAgICAgICAgICAgcmVjb21wdXRlTWF4RW5kV2Fsa1RvUm9vdCh5LnBhcmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzZXRTZW50aW5lbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlY29tcHV0ZU1heEVuZFdhbGtUb1Jvb3QoeCk7XG4gICAgcmVjb21wdXRlTWF4RW5kV2Fsa1RvUm9vdCh4LnBhcmVudCk7XG4gICAgaWYgKHkgIT09IHopIHtcbiAgICAgICAgcmVjb21wdXRlTWF4RW5kV2Fsa1RvUm9vdCh5KTtcbiAgICAgICAgcmVjb21wdXRlTWF4RW5kV2Fsa1RvUm9vdCh5LnBhcmVudCk7XG4gICAgfVxuICAgIC8vIFJCLURFTEVURS1GSVhVUFxuICAgIGxldCB3O1xuICAgIHdoaWxlICh4ICE9PSBULnJvb3QgJiYgZ2V0Tm9kZUNvbG9yKHgpID09PSAwIC8qIE5vZGVDb2xvci5CbGFjayAqLykge1xuICAgICAgICBpZiAoeCA9PT0geC5wYXJlbnQubGVmdCkge1xuICAgICAgICAgICAgdyA9IHgucGFyZW50LnJpZ2h0O1xuICAgICAgICAgICAgaWYgKGdldE5vZGVDb2xvcih3KSA9PT0gMSAvKiBOb2RlQ29sb3IuUmVkICovKSB7XG4gICAgICAgICAgICAgICAgc2V0Tm9kZUNvbG9yKHcsIDAgLyogTm9kZUNvbG9yLkJsYWNrICovKTtcbiAgICAgICAgICAgICAgICBzZXROb2RlQ29sb3IoeC5wYXJlbnQsIDEgLyogTm9kZUNvbG9yLlJlZCAqLyk7XG4gICAgICAgICAgICAgICAgbGVmdFJvdGF0ZShULCB4LnBhcmVudCk7XG4gICAgICAgICAgICAgICAgdyA9IHgucGFyZW50LnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdldE5vZGVDb2xvcih3LmxlZnQpID09PSAwIC8qIE5vZGVDb2xvci5CbGFjayAqLyAmJiBnZXROb2RlQ29sb3Iody5yaWdodCkgPT09IDAgLyogTm9kZUNvbG9yLkJsYWNrICovKSB7XG4gICAgICAgICAgICAgICAgc2V0Tm9kZUNvbG9yKHcsIDEgLyogTm9kZUNvbG9yLlJlZCAqLyk7XG4gICAgICAgICAgICAgICAgeCA9IHgucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGdldE5vZGVDb2xvcih3LnJpZ2h0KSA9PT0gMCAvKiBOb2RlQ29sb3IuQmxhY2sgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0Tm9kZUNvbG9yKHcubGVmdCwgMCAvKiBOb2RlQ29sb3IuQmxhY2sgKi8pO1xuICAgICAgICAgICAgICAgICAgICBzZXROb2RlQ29sb3IodywgMSAvKiBOb2RlQ29sb3IuUmVkICovKTtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRSb3RhdGUoVCwgdyk7XG4gICAgICAgICAgICAgICAgICAgIHcgPSB4LnBhcmVudC5yaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0Tm9kZUNvbG9yKHcsIGdldE5vZGVDb2xvcih4LnBhcmVudCkpO1xuICAgICAgICAgICAgICAgIHNldE5vZGVDb2xvcih4LnBhcmVudCwgMCAvKiBOb2RlQ29sb3IuQmxhY2sgKi8pO1xuICAgICAgICAgICAgICAgIHNldE5vZGVDb2xvcih3LnJpZ2h0LCAwIC8qIE5vZGVDb2xvci5CbGFjayAqLyk7XG4gICAgICAgICAgICAgICAgbGVmdFJvdGF0ZShULCB4LnBhcmVudCk7XG4gICAgICAgICAgICAgICAgeCA9IFQucm9vdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHcgPSB4LnBhcmVudC5sZWZ0O1xuICAgICAgICAgICAgaWYgKGdldE5vZGVDb2xvcih3KSA9PT0gMSAvKiBOb2RlQ29sb3IuUmVkICovKSB7XG4gICAgICAgICAgICAgICAgc2V0Tm9kZUNvbG9yKHcsIDAgLyogTm9kZUNvbG9yLkJsYWNrICovKTtcbiAgICAgICAgICAgICAgICBzZXROb2RlQ29sb3IoeC5wYXJlbnQsIDEgLyogTm9kZUNvbG9yLlJlZCAqLyk7XG4gICAgICAgICAgICAgICAgcmlnaHRSb3RhdGUoVCwgeC5wYXJlbnQpO1xuICAgICAgICAgICAgICAgIHcgPSB4LnBhcmVudC5sZWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdldE5vZGVDb2xvcih3LmxlZnQpID09PSAwIC8qIE5vZGVDb2xvci5CbGFjayAqLyAmJiBnZXROb2RlQ29sb3Iody5yaWdodCkgPT09IDAgLyogTm9kZUNvbG9yLkJsYWNrICovKSB7XG4gICAgICAgICAgICAgICAgc2V0Tm9kZUNvbG9yKHcsIDEgLyogTm9kZUNvbG9yLlJlZCAqLyk7XG4gICAgICAgICAgICAgICAgeCA9IHgucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGdldE5vZGVDb2xvcih3LmxlZnQpID09PSAwIC8qIE5vZGVDb2xvci5CbGFjayAqLykge1xuICAgICAgICAgICAgICAgICAgICBzZXROb2RlQ29sb3Iody5yaWdodCwgMCAvKiBOb2RlQ29sb3IuQmxhY2sgKi8pO1xuICAgICAgICAgICAgICAgICAgICBzZXROb2RlQ29sb3IodywgMSAvKiBOb2RlQ29sb3IuUmVkICovKTtcbiAgICAgICAgICAgICAgICAgICAgbGVmdFJvdGF0ZShULCB3KTtcbiAgICAgICAgICAgICAgICAgICAgdyA9IHgucGFyZW50LmxlZnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldE5vZGVDb2xvcih3LCBnZXROb2RlQ29sb3IoeC5wYXJlbnQpKTtcbiAgICAgICAgICAgICAgICBzZXROb2RlQ29sb3IoeC5wYXJlbnQsIDAgLyogTm9kZUNvbG9yLkJsYWNrICovKTtcbiAgICAgICAgICAgICAgICBzZXROb2RlQ29sb3Iody5sZWZ0LCAwIC8qIE5vZGVDb2xvci5CbGFjayAqLyk7XG4gICAgICAgICAgICAgICAgcmlnaHRSb3RhdGUoVCwgeC5wYXJlbnQpO1xuICAgICAgICAgICAgICAgIHggPSBULnJvb3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0Tm9kZUNvbG9yKHgsIDAgLyogTm9kZUNvbG9yLkJsYWNrICovKTtcbiAgICByZXNldFNlbnRpbmVsKCk7XG59XG5mdW5jdGlvbiBsZWZ0ZXN0KG5vZGUpIHtcbiAgICB3aGlsZSAobm9kZS5sZWZ0ICE9PSBTRU5USU5FTCkge1xuICAgICAgICBub2RlID0gbm9kZS5sZWZ0O1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbn1cbmZ1bmN0aW9uIHJlc2V0U2VudGluZWwoKSB7XG4gICAgU0VOVElORUwucGFyZW50ID0gU0VOVElORUw7XG4gICAgU0VOVElORUwuZGVsdGEgPSAwOyAvLyBvcHRpb25hbFxuICAgIFNFTlRJTkVMLnN0YXJ0ID0gMDsgLy8gb3B0aW9uYWxcbiAgICBTRU5USU5FTC5lbmQgPSAwOyAvLyBvcHRpb25hbFxufVxuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gUm90YXRpb25zXG5mdW5jdGlvbiBsZWZ0Um90YXRlKFQsIHgpIHtcbiAgICBjb25zdCB5ID0geC5yaWdodDsgLy8gc2V0IHkuXG4gICAgeS5kZWx0YSArPSB4LmRlbHRhOyAvLyB5J3MgZGVsdGEgaXMgbm8gbG9uZ2VyIGluZmx1ZW5jZWQgYnkgeCdzIGRlbHRhXG4gICAgaWYgKHkuZGVsdGEgPCAtMTA3Mzc0MTgyNCAvKiBDb25zdGFudHMuTUlOX1NBRkVfREVMVEEgKi8gfHwgeS5kZWx0YSA+IDEwNzM3NDE4MjQgLyogQ29uc3RhbnRzLk1BWF9TQUZFX0RFTFRBICovKSB7XG4gICAgICAgIFQucmVxdWVzdE5vcm1hbGl6ZURlbHRhID0gdHJ1ZTtcbiAgICB9XG4gICAgeS5zdGFydCArPSB4LmRlbHRhO1xuICAgIHkuZW5kICs9IHguZGVsdGE7XG4gICAgeC5yaWdodCA9IHkubGVmdDsgLy8gdHVybiB5J3MgbGVmdCBzdWJ0cmVlIGludG8geCdzIHJpZ2h0IHN1YnRyZWUuXG4gICAgaWYgKHkubGVmdCAhPT0gU0VOVElORUwpIHtcbiAgICAgICAgeS5sZWZ0LnBhcmVudCA9IHg7XG4gICAgfVxuICAgIHkucGFyZW50ID0geC5wYXJlbnQ7IC8vIGxpbmsgeCdzIHBhcmVudCB0byB5LlxuICAgIGlmICh4LnBhcmVudCA9PT0gU0VOVElORUwpIHtcbiAgICAgICAgVC5yb290ID0geTtcbiAgICB9XG4gICAgZWxzZSBpZiAoeCA9PT0geC5wYXJlbnQubGVmdCkge1xuICAgICAgICB4LnBhcmVudC5sZWZ0ID0geTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHgucGFyZW50LnJpZ2h0ID0geTtcbiAgICB9XG4gICAgeS5sZWZ0ID0geDsgLy8gcHV0IHggb24geSdzIGxlZnQuXG4gICAgeC5wYXJlbnQgPSB5O1xuICAgIHJlY29tcHV0ZU1heEVuZCh4KTtcbiAgICByZWNvbXB1dGVNYXhFbmQoeSk7XG59XG5mdW5jdGlvbiByaWdodFJvdGF0ZShULCB5KSB7XG4gICAgY29uc3QgeCA9IHkubGVmdDtcbiAgICB5LmRlbHRhIC09IHguZGVsdGE7XG4gICAgaWYgKHkuZGVsdGEgPCAtMTA3Mzc0MTgyNCAvKiBDb25zdGFudHMuTUlOX1NBRkVfREVMVEEgKi8gfHwgeS5kZWx0YSA+IDEwNzM3NDE4MjQgLyogQ29uc3RhbnRzLk1BWF9TQUZFX0RFTFRBICovKSB7XG4gICAgICAgIFQucmVxdWVzdE5vcm1hbGl6ZURlbHRhID0gdHJ1ZTtcbiAgICB9XG4gICAgeS5zdGFydCAtPSB4LmRlbHRhO1xuICAgIHkuZW5kIC09IHguZGVsdGE7XG4gICAgeS5sZWZ0ID0geC5yaWdodDtcbiAgICBpZiAoeC5yaWdodCAhPT0gU0VOVElORUwpIHtcbiAgICAgICAgeC5yaWdodC5wYXJlbnQgPSB5O1xuICAgIH1cbiAgICB4LnBhcmVudCA9IHkucGFyZW50O1xuICAgIGlmICh5LnBhcmVudCA9PT0gU0VOVElORUwpIHtcbiAgICAgICAgVC5yb290ID0geDtcbiAgICB9XG4gICAgZWxzZSBpZiAoeSA9PT0geS5wYXJlbnQucmlnaHQpIHtcbiAgICAgICAgeS5wYXJlbnQucmlnaHQgPSB4O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgeS5wYXJlbnQubGVmdCA9IHg7XG4gICAgfVxuICAgIHgucmlnaHQgPSB5O1xuICAgIHkucGFyZW50ID0geDtcbiAgICByZWNvbXB1dGVNYXhFbmQoeSk7XG4gICAgcmVjb21wdXRlTWF4RW5kKHgpO1xufVxuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gbWF4IGVuZCBjb21wdXRhdGlvblxuZnVuY3Rpb24gY29tcHV0ZU1heEVuZChub2RlKSB7XG4gICAgbGV0IG1heEVuZCA9IG5vZGUuZW5kO1xuICAgIGlmIChub2RlLmxlZnQgIT09IFNFTlRJTkVMKSB7XG4gICAgICAgIGNvbnN0IGxlZnRNYXhFbmQgPSBub2RlLmxlZnQubWF4RW5kO1xuICAgICAgICBpZiAobGVmdE1heEVuZCA+IG1heEVuZCkge1xuICAgICAgICAgICAgbWF4RW5kID0gbGVmdE1heEVuZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9kZS5yaWdodCAhPT0gU0VOVElORUwpIHtcbiAgICAgICAgY29uc3QgcmlnaHRNYXhFbmQgPSBub2RlLnJpZ2h0Lm1heEVuZCArIG5vZGUuZGVsdGE7XG4gICAgICAgIGlmIChyaWdodE1heEVuZCA+IG1heEVuZCkge1xuICAgICAgICAgICAgbWF4RW5kID0gcmlnaHRNYXhFbmQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1heEVuZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZWNvbXB1dGVNYXhFbmQobm9kZSkge1xuICAgIG5vZGUubWF4RW5kID0gY29tcHV0ZU1heEVuZChub2RlKTtcbn1cbmZ1bmN0aW9uIHJlY29tcHV0ZU1heEVuZFdhbGtUb1Jvb3Qobm9kZSkge1xuICAgIHdoaWxlIChub2RlICE9PSBTRU5USU5FTCkge1xuICAgICAgICBjb25zdCBtYXhFbmQgPSBjb21wdXRlTWF4RW5kKG5vZGUpO1xuICAgICAgICBpZiAobm9kZS5tYXhFbmQgPT09IG1heEVuZCkge1xuICAgICAgICAgICAgLy8gbm8gbmVlZCB0byBnbyBmdXJ0aGVyXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5tYXhFbmQgPSBtYXhFbmQ7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudDtcbiAgICB9XG59XG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiB1dGlsc1xuZXhwb3J0IGZ1bmN0aW9uIGludGVydmFsQ29tcGFyZShhU3RhcnQsIGFFbmQsIGJTdGFydCwgYkVuZCkge1xuICAgIGlmIChhU3RhcnQgPT09IGJTdGFydCkge1xuICAgICAgICByZXR1cm4gYUVuZCAtIGJFbmQ7XG4gICAgfVxuICAgIHJldHVybiBhU3RhcnQgLSBiU3RhcnQ7XG59XG4vLyNlbmRyZWdpb25cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZXhwb3J0IGNsYXNzIFRyZWVOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihwaWVjZSwgY29sb3IpIHtcbiAgICAgICAgdGhpcy5waWVjZSA9IHBpZWNlO1xuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMuc2l6ZV9sZWZ0ID0gMDtcbiAgICAgICAgdGhpcy5sZl9sZWZ0ID0gMDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzO1xuICAgICAgICB0aGlzLmxlZnQgPSB0aGlzO1xuICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcztcbiAgICB9XG4gICAgbmV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMucmlnaHQgIT09IFNFTlRJTkVMKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVmdGVzdCh0aGlzLnJpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbm9kZSA9IHRoaXM7XG4gICAgICAgIHdoaWxlIChub2RlLnBhcmVudCAhPT0gU0VOVElORUwpIHtcbiAgICAgICAgICAgIGlmIChub2RlLnBhcmVudC5sZWZ0ID09PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUucGFyZW50ID09PSBTRU5USU5FTCkge1xuICAgICAgICAgICAgcmV0dXJuIFNFTlRJTkVMO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUucGFyZW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIHByZXYoKSB7XG4gICAgICAgIGlmICh0aGlzLmxlZnQgIT09IFNFTlRJTkVMKSB7XG4gICAgICAgICAgICByZXR1cm4gcmlnaHR0ZXN0KHRoaXMubGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzO1xuICAgICAgICB3aGlsZSAobm9kZS5wYXJlbnQgIT09IFNFTlRJTkVMKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5wYXJlbnQucmlnaHQgPT09IG5vZGUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5wYXJlbnQgPT09IFNFTlRJTkVMKSB7XG4gICAgICAgICAgICByZXR1cm4gU0VOVElORUw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGV0YWNoKCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMubGVmdCA9IG51bGw7XG4gICAgICAgIHRoaXMucmlnaHQgPSBudWxsO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBTRU5USU5FTCA9IG5ldyBUcmVlTm9kZShudWxsLCAwIC8qIE5vZGVDb2xvci5CbGFjayAqLyk7XG5TRU5USU5FTC5wYXJlbnQgPSBTRU5USU5FTDtcblNFTlRJTkVMLmxlZnQgPSBTRU5USU5FTDtcblNFTlRJTkVMLnJpZ2h0ID0gU0VOVElORUw7XG5TRU5USU5FTC5jb2xvciA9IDAgLyogTm9kZUNvbG9yLkJsYWNrICovO1xuZXhwb3J0IGZ1bmN0aW9uIGxlZnRlc3Qobm9kZSkge1xuICAgIHdoaWxlIChub2RlLmxlZnQgIT09IFNFTlRJTkVMKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJpZ2h0dGVzdChub2RlKSB7XG4gICAgd2hpbGUgKG5vZGUucmlnaHQgIT09IFNFTlRJTkVMKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnJpZ2h0O1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbn1cbmZ1bmN0aW9uIGNhbGN1bGF0ZVNpemUobm9kZSkge1xuICAgIGlmIChub2RlID09PSBTRU5USU5FTCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGUuc2l6ZV9sZWZ0ICsgbm9kZS5waWVjZS5sZW5ndGggKyBjYWxjdWxhdGVTaXplKG5vZGUucmlnaHQpO1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlTEYobm9kZSkge1xuICAgIGlmIChub2RlID09PSBTRU5USU5FTCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGUubGZfbGVmdCArIG5vZGUucGllY2UubGluZUZlZWRDbnQgKyBjYWxjdWxhdGVMRihub2RlLnJpZ2h0KTtcbn1cbmZ1bmN0aW9uIHJlc2V0U2VudGluZWwoKSB7XG4gICAgU0VOVElORUwucGFyZW50ID0gU0VOVElORUw7XG59XG5leHBvcnQgZnVuY3Rpb24gbGVmdFJvdGF0ZSh0cmVlLCB4KSB7XG4gICAgY29uc3QgeSA9IHgucmlnaHQ7XG4gICAgLy8gZml4IHNpemVfbGVmdFxuICAgIHkuc2l6ZV9sZWZ0ICs9IHguc2l6ZV9sZWZ0ICsgKHgucGllY2UgPyB4LnBpZWNlLmxlbmd0aCA6IDApO1xuICAgIHkubGZfbGVmdCArPSB4LmxmX2xlZnQgKyAoeC5waWVjZSA/IHgucGllY2UubGluZUZlZWRDbnQgOiAwKTtcbiAgICB4LnJpZ2h0ID0geS5sZWZ0O1xuICAgIGlmICh5LmxlZnQgIT09IFNFTlRJTkVMKSB7XG4gICAgICAgIHkubGVmdC5wYXJlbnQgPSB4O1xuICAgIH1cbiAgICB5LnBhcmVudCA9IHgucGFyZW50O1xuICAgIGlmICh4LnBhcmVudCA9PT0gU0VOVElORUwpIHtcbiAgICAgICAgdHJlZS5yb290ID0geTtcbiAgICB9XG4gICAgZWxzZSBpZiAoeC5wYXJlbnQubGVmdCA9PT0geCkge1xuICAgICAgICB4LnBhcmVudC5sZWZ0ID0geTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHgucGFyZW50LnJpZ2h0ID0geTtcbiAgICB9XG4gICAgeS5sZWZ0ID0geDtcbiAgICB4LnBhcmVudCA9IHk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmlnaHRSb3RhdGUodHJlZSwgeSkge1xuICAgIGNvbnN0IHggPSB5LmxlZnQ7XG4gICAgeS5sZWZ0ID0geC5yaWdodDtcbiAgICBpZiAoeC5yaWdodCAhPT0gU0VOVElORUwpIHtcbiAgICAgICAgeC5yaWdodC5wYXJlbnQgPSB5O1xuICAgIH1cbiAgICB4LnBhcmVudCA9IHkucGFyZW50O1xuICAgIC8vIGZpeCBzaXplX2xlZnRcbiAgICB5LnNpemVfbGVmdCAtPSB4LnNpemVfbGVmdCArICh4LnBpZWNlID8geC5waWVjZS5sZW5ndGggOiAwKTtcbiAgICB5LmxmX2xlZnQgLT0geC5sZl9sZWZ0ICsgKHgucGllY2UgPyB4LnBpZWNlLmxpbmVGZWVkQ250IDogMCk7XG4gICAgaWYgKHkucGFyZW50ID09PSBTRU5USU5FTCkge1xuICAgICAgICB0cmVlLnJvb3QgPSB4O1xuICAgIH1cbiAgICBlbHNlIGlmICh5ID09PSB5LnBhcmVudC5yaWdodCkge1xuICAgICAgICB5LnBhcmVudC5yaWdodCA9IHg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB5LnBhcmVudC5sZWZ0ID0geDtcbiAgICB9XG4gICAgeC5yaWdodCA9IHk7XG4gICAgeS5wYXJlbnQgPSB4O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJiRGVsZXRlKHRyZWUsIHopIHtcbiAgICBsZXQgeDtcbiAgICBsZXQgeTtcbiAgICBpZiAoei5sZWZ0ID09PSBTRU5USU5FTCkge1xuICAgICAgICB5ID0gejtcbiAgICAgICAgeCA9IHkucmlnaHQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKHoucmlnaHQgPT09IFNFTlRJTkVMKSB7XG4gICAgICAgIHkgPSB6O1xuICAgICAgICB4ID0geS5sZWZ0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgeSA9IGxlZnRlc3Qoei5yaWdodCk7XG4gICAgICAgIHggPSB5LnJpZ2h0O1xuICAgIH1cbiAgICBpZiAoeSA9PT0gdHJlZS5yb290KSB7XG4gICAgICAgIHRyZWUucm9vdCA9IHg7XG4gICAgICAgIC8vIGlmIHggaXMgbnVsbCwgd2UgYXJlIHJlbW92aW5nIHRoZSBvbmx5IG5vZGVcbiAgICAgICAgeC5jb2xvciA9IDAgLyogTm9kZUNvbG9yLkJsYWNrICovO1xuICAgICAgICB6LmRldGFjaCgpO1xuICAgICAgICByZXNldFNlbnRpbmVsKCk7XG4gICAgICAgIHRyZWUucm9vdC5wYXJlbnQgPSBTRU5USU5FTDtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB5V2FzUmVkID0gKHkuY29sb3IgPT09IDEgLyogTm9kZUNvbG9yLlJlZCAqLyk7XG4gICAgaWYgKHkgPT09IHkucGFyZW50LmxlZnQpIHtcbiAgICAgICAgeS5wYXJlbnQubGVmdCA9IHg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB5LnBhcmVudC5yaWdodCA9IHg7XG4gICAgfVxuICAgIGlmICh5ID09PSB6KSB7XG4gICAgICAgIHgucGFyZW50ID0geS5wYXJlbnQ7XG4gICAgICAgIHJlY29tcHV0ZVRyZWVNZXRhZGF0YSh0cmVlLCB4KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICh5LnBhcmVudCA9PT0geikge1xuICAgICAgICAgICAgeC5wYXJlbnQgPSB5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeC5wYXJlbnQgPSB5LnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICAvLyBhcyB3ZSBtYWtlIGNoYW5nZXMgdG8geCdzIGhpZXJhcmNoeSwgdXBkYXRlIHNpemVfbGVmdCBvZiBzdWJ0cmVlIGZpcnN0XG4gICAgICAgIHJlY29tcHV0ZVRyZWVNZXRhZGF0YSh0cmVlLCB4KTtcbiAgICAgICAgeS5sZWZ0ID0gei5sZWZ0O1xuICAgICAgICB5LnJpZ2h0ID0gei5yaWdodDtcbiAgICAgICAgeS5wYXJlbnQgPSB6LnBhcmVudDtcbiAgICAgICAgeS5jb2xvciA9IHouY29sb3I7XG4gICAgICAgIGlmICh6ID09PSB0cmVlLnJvb3QpIHtcbiAgICAgICAgICAgIHRyZWUucm9vdCA9IHk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoeiA9PT0gei5wYXJlbnQubGVmdCkge1xuICAgICAgICAgICAgICAgIHoucGFyZW50LmxlZnQgPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgei5wYXJlbnQucmlnaHQgPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh5LmxlZnQgIT09IFNFTlRJTkVMKSB7XG4gICAgICAgICAgICB5LmxlZnQucGFyZW50ID0geTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeS5yaWdodCAhPT0gU0VOVElORUwpIHtcbiAgICAgICAgICAgIHkucmlnaHQucGFyZW50ID0geTtcbiAgICAgICAgfVxuICAgICAgICAvLyB1cGRhdGUgbWV0YWRhdGFcbiAgICAgICAgLy8gd2UgcmVwbGFjZSB6IHdpdGggeSwgc28gaW4gdGhpcyBzdWIgdHJlZSwgdGhlIGxlbmd0aCBjaGFuZ2UgaXMgei5pdGVtLmxlbmd0aFxuICAgICAgICB5LnNpemVfbGVmdCA9IHouc2l6ZV9sZWZ0O1xuICAgICAgICB5LmxmX2xlZnQgPSB6LmxmX2xlZnQ7XG4gICAgICAgIHJlY29tcHV0ZVRyZWVNZXRhZGF0YSh0cmVlLCB5KTtcbiAgICB9XG4gICAgei5kZXRhY2goKTtcbiAgICBpZiAoeC5wYXJlbnQubGVmdCA9PT0geCkge1xuICAgICAgICBjb25zdCBuZXdTaXplTGVmdCA9IGNhbGN1bGF0ZVNpemUoeCk7XG4gICAgICAgIGNvbnN0IG5ld0xGTGVmdCA9IGNhbGN1bGF0ZUxGKHgpO1xuICAgICAgICBpZiAobmV3U2l6ZUxlZnQgIT09IHgucGFyZW50LnNpemVfbGVmdCB8fCBuZXdMRkxlZnQgIT09IHgucGFyZW50LmxmX2xlZnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gbmV3U2l6ZUxlZnQgLSB4LnBhcmVudC5zaXplX2xlZnQ7XG4gICAgICAgICAgICBjb25zdCBsZl9kZWx0YSA9IG5ld0xGTGVmdCAtIHgucGFyZW50LmxmX2xlZnQ7XG4gICAgICAgICAgICB4LnBhcmVudC5zaXplX2xlZnQgPSBuZXdTaXplTGVmdDtcbiAgICAgICAgICAgIHgucGFyZW50LmxmX2xlZnQgPSBuZXdMRkxlZnQ7XG4gICAgICAgICAgICB1cGRhdGVUcmVlTWV0YWRhdGEodHJlZSwgeC5wYXJlbnQsIGRlbHRhLCBsZl9kZWx0YSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVjb21wdXRlVHJlZU1ldGFkYXRhKHRyZWUsIHgucGFyZW50KTtcbiAgICBpZiAoeVdhc1JlZCkge1xuICAgICAgICByZXNldFNlbnRpbmVsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gUkItREVMRVRFLUZJWFVQXG4gICAgbGV0IHc7XG4gICAgd2hpbGUgKHggIT09IHRyZWUucm9vdCAmJiB4LmNvbG9yID09PSAwIC8qIE5vZGVDb2xvci5CbGFjayAqLykge1xuICAgICAgICBpZiAoeCA9PT0geC5wYXJlbnQubGVmdCkge1xuICAgICAgICAgICAgdyA9IHgucGFyZW50LnJpZ2h0O1xuICAgICAgICAgICAgaWYgKHcuY29sb3IgPT09IDEgLyogTm9kZUNvbG9yLlJlZCAqLykge1xuICAgICAgICAgICAgICAgIHcuY29sb3IgPSAwIC8qIE5vZGVDb2xvci5CbGFjayAqLztcbiAgICAgICAgICAgICAgICB4LnBhcmVudC5jb2xvciA9IDEgLyogTm9kZUNvbG9yLlJlZCAqLztcbiAgICAgICAgICAgICAgICBsZWZ0Um90YXRlKHRyZWUsIHgucGFyZW50KTtcbiAgICAgICAgICAgICAgICB3ID0geC5wYXJlbnQucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAody5sZWZ0LmNvbG9yID09PSAwIC8qIE5vZGVDb2xvci5CbGFjayAqLyAmJiB3LnJpZ2h0LmNvbG9yID09PSAwIC8qIE5vZGVDb2xvci5CbGFjayAqLykge1xuICAgICAgICAgICAgICAgIHcuY29sb3IgPSAxIC8qIE5vZGVDb2xvci5SZWQgKi87XG4gICAgICAgICAgICAgICAgeCA9IHgucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHcucmlnaHQuY29sb3IgPT09IDAgLyogTm9kZUNvbG9yLkJsYWNrICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHcubGVmdC5jb2xvciA9IDAgLyogTm9kZUNvbG9yLkJsYWNrICovO1xuICAgICAgICAgICAgICAgICAgICB3LmNvbG9yID0gMSAvKiBOb2RlQ29sb3IuUmVkICovO1xuICAgICAgICAgICAgICAgICAgICByaWdodFJvdGF0ZSh0cmVlLCB3KTtcbiAgICAgICAgICAgICAgICAgICAgdyA9IHgucGFyZW50LnJpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3LmNvbG9yID0geC5wYXJlbnQuY29sb3I7XG4gICAgICAgICAgICAgICAgeC5wYXJlbnQuY29sb3IgPSAwIC8qIE5vZGVDb2xvci5CbGFjayAqLztcbiAgICAgICAgICAgICAgICB3LnJpZ2h0LmNvbG9yID0gMCAvKiBOb2RlQ29sb3IuQmxhY2sgKi87XG4gICAgICAgICAgICAgICAgbGVmdFJvdGF0ZSh0cmVlLCB4LnBhcmVudCk7XG4gICAgICAgICAgICAgICAgeCA9IHRyZWUucm9vdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHcgPSB4LnBhcmVudC5sZWZ0O1xuICAgICAgICAgICAgaWYgKHcuY29sb3IgPT09IDEgLyogTm9kZUNvbG9yLlJlZCAqLykge1xuICAgICAgICAgICAgICAgIHcuY29sb3IgPSAwIC8qIE5vZGVDb2xvci5CbGFjayAqLztcbiAgICAgICAgICAgICAgICB4LnBhcmVudC5jb2xvciA9IDEgLyogTm9kZUNvbG9yLlJlZCAqLztcbiAgICAgICAgICAgICAgICByaWdodFJvdGF0ZSh0cmVlLCB4LnBhcmVudCk7XG4gICAgICAgICAgICAgICAgdyA9IHgucGFyZW50LmxlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAody5sZWZ0LmNvbG9yID09PSAwIC8qIE5vZGVDb2xvci5CbGFjayAqLyAmJiB3LnJpZ2h0LmNvbG9yID09PSAwIC8qIE5vZGVDb2xvci5CbGFjayAqLykge1xuICAgICAgICAgICAgICAgIHcuY29sb3IgPSAxIC8qIE5vZGVDb2xvci5SZWQgKi87XG4gICAgICAgICAgICAgICAgeCA9IHgucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHcubGVmdC5jb2xvciA9PT0gMCAvKiBOb2RlQ29sb3IuQmxhY2sgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgdy5yaWdodC5jb2xvciA9IDAgLyogTm9kZUNvbG9yLkJsYWNrICovO1xuICAgICAgICAgICAgICAgICAgICB3LmNvbG9yID0gMSAvKiBOb2RlQ29sb3IuUmVkICovO1xuICAgICAgICAgICAgICAgICAgICBsZWZ0Um90YXRlKHRyZWUsIHcpO1xuICAgICAgICAgICAgICAgICAgICB3ID0geC5wYXJlbnQubGVmdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdy5jb2xvciA9IHgucGFyZW50LmNvbG9yO1xuICAgICAgICAgICAgICAgIHgucGFyZW50LmNvbG9yID0gMCAvKiBOb2RlQ29sb3IuQmxhY2sgKi87XG4gICAgICAgICAgICAgICAgdy5sZWZ0LmNvbG9yID0gMCAvKiBOb2RlQ29sb3IuQmxhY2sgKi87XG4gICAgICAgICAgICAgICAgcmlnaHRSb3RhdGUodHJlZSwgeC5wYXJlbnQpO1xuICAgICAgICAgICAgICAgIHggPSB0cmVlLnJvb3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgeC5jb2xvciA9IDAgLyogTm9kZUNvbG9yLkJsYWNrICovO1xuICAgIHJlc2V0U2VudGluZWwoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaXhJbnNlcnQodHJlZSwgeCkge1xuICAgIHJlY29tcHV0ZVRyZWVNZXRhZGF0YSh0cmVlLCB4KTtcbiAgICB3aGlsZSAoeCAhPT0gdHJlZS5yb290ICYmIHgucGFyZW50LmNvbG9yID09PSAxIC8qIE5vZGVDb2xvci5SZWQgKi8pIHtcbiAgICAgICAgaWYgKHgucGFyZW50ID09PSB4LnBhcmVudC5wYXJlbnQubGVmdCkge1xuICAgICAgICAgICAgY29uc3QgeSA9IHgucGFyZW50LnBhcmVudC5yaWdodDtcbiAgICAgICAgICAgIGlmICh5LmNvbG9yID09PSAxIC8qIE5vZGVDb2xvci5SZWQgKi8pIHtcbiAgICAgICAgICAgICAgICB4LnBhcmVudC5jb2xvciA9IDAgLyogTm9kZUNvbG9yLkJsYWNrICovO1xuICAgICAgICAgICAgICAgIHkuY29sb3IgPSAwIC8qIE5vZGVDb2xvci5CbGFjayAqLztcbiAgICAgICAgICAgICAgICB4LnBhcmVudC5wYXJlbnQuY29sb3IgPSAxIC8qIE5vZGVDb2xvci5SZWQgKi87XG4gICAgICAgICAgICAgICAgeCA9IHgucGFyZW50LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh4ID09PSB4LnBhcmVudC5yaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB4ID0geC5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGxlZnRSb3RhdGUodHJlZSwgeCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHgucGFyZW50LmNvbG9yID0gMCAvKiBOb2RlQ29sb3IuQmxhY2sgKi87XG4gICAgICAgICAgICAgICAgeC5wYXJlbnQucGFyZW50LmNvbG9yID0gMSAvKiBOb2RlQ29sb3IuUmVkICovO1xuICAgICAgICAgICAgICAgIHJpZ2h0Um90YXRlKHRyZWUsIHgucGFyZW50LnBhcmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB5ID0geC5wYXJlbnQucGFyZW50LmxlZnQ7XG4gICAgICAgICAgICBpZiAoeS5jb2xvciA9PT0gMSAvKiBOb2RlQ29sb3IuUmVkICovKSB7XG4gICAgICAgICAgICAgICAgeC5wYXJlbnQuY29sb3IgPSAwIC8qIE5vZGVDb2xvci5CbGFjayAqLztcbiAgICAgICAgICAgICAgICB5LmNvbG9yID0gMCAvKiBOb2RlQ29sb3IuQmxhY2sgKi87XG4gICAgICAgICAgICAgICAgeC5wYXJlbnQucGFyZW50LmNvbG9yID0gMSAvKiBOb2RlQ29sb3IuUmVkICovO1xuICAgICAgICAgICAgICAgIHggPSB4LnBhcmVudC5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoeCA9PT0geC5wYXJlbnQubGVmdCkge1xuICAgICAgICAgICAgICAgICAgICB4ID0geC5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0Um90YXRlKHRyZWUsIHgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB4LnBhcmVudC5jb2xvciA9IDAgLyogTm9kZUNvbG9yLkJsYWNrICovO1xuICAgICAgICAgICAgICAgIHgucGFyZW50LnBhcmVudC5jb2xvciA9IDEgLyogTm9kZUNvbG9yLlJlZCAqLztcbiAgICAgICAgICAgICAgICBsZWZ0Um90YXRlKHRyZWUsIHgucGFyZW50LnBhcmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdHJlZS5yb290LmNvbG9yID0gMCAvKiBOb2RlQ29sb3IuQmxhY2sgKi87XG59XG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlVHJlZU1ldGFkYXRhKHRyZWUsIHgsIGRlbHRhLCBsaW5lRmVlZENudERlbHRhKSB7XG4gICAgLy8gbm9kZSBsZW5ndGggY2hhbmdlIG9yIGxpbmUgZmVlZCBjb3VudCBjaGFuZ2VcbiAgICB3aGlsZSAoeCAhPT0gdHJlZS5yb290ICYmIHggIT09IFNFTlRJTkVMKSB7XG4gICAgICAgIGlmICh4LnBhcmVudC5sZWZ0ID09PSB4KSB7XG4gICAgICAgICAgICB4LnBhcmVudC5zaXplX2xlZnQgKz0gZGVsdGE7XG4gICAgICAgICAgICB4LnBhcmVudC5sZl9sZWZ0ICs9IGxpbmVGZWVkQ250RGVsdGE7XG4gICAgICAgIH1cbiAgICAgICAgeCA9IHgucGFyZW50O1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiByZWNvbXB1dGVUcmVlTWV0YWRhdGEodHJlZSwgeCkge1xuICAgIGxldCBkZWx0YSA9IDA7XG4gICAgbGV0IGxmX2RlbHRhID0gMDtcbiAgICBpZiAoeCA9PT0gdHJlZS5yb290KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gZ28gdXB3YXJkcyB0aWxsIHRoZSBub2RlIHdob3NlIGxlZnQgc3VidHJlZSBpcyBjaGFuZ2VkLlxuICAgIHdoaWxlICh4ICE9PSB0cmVlLnJvb3QgJiYgeCA9PT0geC5wYXJlbnQucmlnaHQpIHtcbiAgICAgICAgeCA9IHgucGFyZW50O1xuICAgIH1cbiAgICBpZiAoeCA9PT0gdHJlZS5yb290KSB7XG4gICAgICAgIC8vIHdlbGwsIGl0IG1lYW5zIHdlIGFkZCBhIG5vZGUgdG8gdGhlIGVuZCAoaW5vcmRlcilcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyB4IGlzIHRoZSBub2RlIHdob3NlIHJpZ2h0IHN1YnRyZWUgaXMgY2hhbmdlZC5cbiAgICB4ID0geC5wYXJlbnQ7XG4gICAgZGVsdGEgPSBjYWxjdWxhdGVTaXplKHgubGVmdCkgLSB4LnNpemVfbGVmdDtcbiAgICBsZl9kZWx0YSA9IGNhbGN1bGF0ZUxGKHgubGVmdCkgLSB4LmxmX2xlZnQ7XG4gICAgeC5zaXplX2xlZnQgKz0gZGVsdGE7XG4gICAgeC5sZl9sZWZ0ICs9IGxmX2RlbHRhO1xuICAgIC8vIGdvIHVwd2FyZHMgdGlsbCByb290LiBPKGxvZ04pXG4gICAgd2hpbGUgKHggIT09IHRyZWUucm9vdCAmJiAoZGVsdGEgIT09IDAgfHwgbGZfZGVsdGEgIT09IDApKSB7XG4gICAgICAgIGlmICh4LnBhcmVudC5sZWZ0ID09PSB4KSB7XG4gICAgICAgICAgICB4LnBhcmVudC5zaXplX2xlZnQgKz0gZGVsdGE7XG4gICAgICAgICAgICB4LnBhcmVudC5sZl9sZWZ0ICs9IGxmX2RlbHRhO1xuICAgICAgICB9XG4gICAgICAgIHggPSB4LnBhcmVudDtcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSAnLi4vLi4vY29yZS9wb3NpdGlvbi5qcyc7XG5pbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4uLy4uL2NvcmUvcmFuZ2UuanMnO1xuaW1wb3J0IHsgRmluZE1hdGNoIH0gZnJvbSAnLi4vLi4vbW9kZWwuanMnO1xuaW1wb3J0IHsgU0VOVElORUwsIFRyZWVOb2RlLCBmaXhJbnNlcnQsIGxlZnRlc3QsIHJiRGVsZXRlLCByaWdodHRlc3QsIHVwZGF0ZVRyZWVNZXRhZGF0YSB9IGZyb20gJy4vcmJUcmVlQmFzZS5qcyc7XG5pbXBvcnQgeyBTZWFyY2hlciwgY3JlYXRlRmluZE1hdGNoLCBpc1ZhbGlkTWF0Y2ggfSBmcm9tICcuLi90ZXh0TW9kZWxTZWFyY2guanMnO1xuLy8gY29uc3QgbGZSZWdleCA9IG5ldyBSZWdFeHAoL1xcclxcbnxcXHJ8XFxuL2cpO1xuY29uc3QgQXZlcmFnZUJ1ZmZlclNpemUgPSA2NTUzNTtcbmZ1bmN0aW9uIGNyZWF0ZVVpbnRBcnJheShhcnIpIHtcbiAgICBsZXQgcjtcbiAgICBpZiAoYXJyW2Fyci5sZW5ndGggLSAxXSA8IDY1NTM2KSB7XG4gICAgICAgIHIgPSBuZXcgVWludDE2QXJyYXkoYXJyLmxlbmd0aCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByID0gbmV3IFVpbnQzMkFycmF5KGFyci5sZW5ndGgpO1xuICAgIH1cbiAgICByLnNldChhcnIsIDApO1xuICAgIHJldHVybiByO1xufVxuY2xhc3MgTGluZVN0YXJ0cyB7XG4gICAgY29uc3RydWN0b3IobGluZVN0YXJ0cywgY3IsIGxmLCBjcmxmLCBpc0Jhc2ljQVNDSUkpIHtcbiAgICAgICAgdGhpcy5saW5lU3RhcnRzID0gbGluZVN0YXJ0cztcbiAgICAgICAgdGhpcy5jciA9IGNyO1xuICAgICAgICB0aGlzLmxmID0gbGY7XG4gICAgICAgIHRoaXMuY3JsZiA9IGNybGY7XG4gICAgICAgIHRoaXMuaXNCYXNpY0FTQ0lJID0gaXNCYXNpY0FTQ0lJO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMaW5lU3RhcnRzRmFzdChzdHIsIHJlYWRvbmx5ID0gdHJ1ZSkge1xuICAgIGNvbnN0IHIgPSBbMF07XG4gICAgbGV0IHJMZW5ndGggPSAxO1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBzdHIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hyID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjaHIgPT09IDEzIC8qIENoYXJDb2RlLkNhcnJpYWdlUmV0dXJuICovKSB7XG4gICAgICAgICAgICBpZiAoaSArIDEgPCBsZW4gJiYgc3RyLmNoYXJDb2RlQXQoaSArIDEpID09PSAxMCAvKiBDaGFyQ29kZS5MaW5lRmVlZCAqLykge1xuICAgICAgICAgICAgICAgIC8vIFxcclxcbi4uLiBjYXNlXG4gICAgICAgICAgICAgICAgcltyTGVuZ3RoKytdID0gaSArIDI7XG4gICAgICAgICAgICAgICAgaSsrOyAvLyBza2lwIFxcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gXFxyLi4uIGNhc2VcbiAgICAgICAgICAgICAgICByW3JMZW5ndGgrK10gPSBpICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaHIgPT09IDEwIC8qIENoYXJDb2RlLkxpbmVGZWVkICovKSB7XG4gICAgICAgICAgICByW3JMZW5ndGgrK10gPSBpICsgMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVhZG9ubHkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVVpbnRBcnJheShyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMaW5lU3RhcnRzKHIsIHN0cikge1xuICAgIHIubGVuZ3RoID0gMDtcbiAgICByWzBdID0gMDtcbiAgICBsZXQgckxlbmd0aCA9IDE7XG4gICAgbGV0IGNyID0gMCwgbGYgPSAwLCBjcmxmID0gMDtcbiAgICBsZXQgaXNCYXNpY0FTQ0lJID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gc3RyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNociA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoY2hyID09PSAxMyAvKiBDaGFyQ29kZS5DYXJyaWFnZVJldHVybiAqLykge1xuICAgICAgICAgICAgaWYgKGkgKyAxIDwgbGVuICYmIHN0ci5jaGFyQ29kZUF0KGkgKyAxKSA9PT0gMTAgLyogQ2hhckNvZGUuTGluZUZlZWQgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyBcXHJcXG4uLi4gY2FzZVxuICAgICAgICAgICAgICAgIGNybGYrKztcbiAgICAgICAgICAgICAgICByW3JMZW5ndGgrK10gPSBpICsgMjtcbiAgICAgICAgICAgICAgICBpKys7IC8vIHNraXAgXFxuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjcisrO1xuICAgICAgICAgICAgICAgIC8vIFxcci4uLiBjYXNlXG4gICAgICAgICAgICAgICAgcltyTGVuZ3RoKytdID0gaSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hyID09PSAxMCAvKiBDaGFyQ29kZS5MaW5lRmVlZCAqLykge1xuICAgICAgICAgICAgbGYrKztcbiAgICAgICAgICAgIHJbckxlbmd0aCsrXSA9IGkgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGlzQmFzaWNBU0NJSSkge1xuICAgICAgICAgICAgICAgIGlmIChjaHIgIT09IDkgLyogQ2hhckNvZGUuVGFiICovICYmIChjaHIgPCAzMiB8fCBjaHIgPiAxMjYpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzQmFzaWNBU0NJSSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBuZXcgTGluZVN0YXJ0cyhjcmVhdGVVaW50QXJyYXkociksIGNyLCBsZiwgY3JsZiwgaXNCYXNpY0FTQ0lJKTtcbiAgICByLmxlbmd0aCA9IDA7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBjbGFzcyBQaWVjZSB7XG4gICAgY29uc3RydWN0b3IoYnVmZmVySW5kZXgsIHN0YXJ0LCBlbmQsIGxpbmVGZWVkQ250LCBsZW5ndGgpIHtcbiAgICAgICAgdGhpcy5idWZmZXJJbmRleCA9IGJ1ZmZlckluZGV4O1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHRoaXMuZW5kID0gZW5kO1xuICAgICAgICB0aGlzLmxpbmVGZWVkQ250ID0gbGluZUZlZWRDbnQ7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBTdHJpbmdCdWZmZXIge1xuICAgIGNvbnN0cnVjdG9yKGJ1ZmZlciwgbGluZVN0YXJ0cykge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgdGhpcy5saW5lU3RhcnRzID0gbGluZVN0YXJ0cztcbiAgICB9XG59XG4vKipcbiAqIFJlYWRvbmx5IHNuYXBzaG90IGZvciBwaWVjZSB0cmVlLlxuICogSW4gYSByZWFsIG11bHRpcGxlIHRocmVhZCBlbnZpcm9ubWVudCwgdG8gbWFrZSBzbmFwc2hvdCByZWFkaW5nIGFsd2F5cyB3b3JrIGNvcnJlY3RseSwgd2UgbmVlZCB0b1xuICogMS4gTWFrZSBUcmVlTm9kZS5waWVjZSBpbW11dGFibGUsIHRoZW4gcmVhZGluZyBhbmQgd3JpdGluZyBjYW4gcnVuIGluIHBhcmFsbGVsLlxuICogMi4gVHJlZU5vZGUvQnVmZmVycyBub3JtYWxpemF0aW9uIHNob3VsZCBub3QgaGFwcGVuIGR1cmluZyBzbmFwc2hvdCByZWFkaW5nLlxuICovXG5jbGFzcyBQaWVjZVRyZWVTbmFwc2hvdCB7XG4gICAgY29uc3RydWN0b3IodHJlZSwgQk9NKSB7XG4gICAgICAgIHRoaXMuX3BpZWNlcyA9IFtdO1xuICAgICAgICB0aGlzLl90cmVlID0gdHJlZTtcbiAgICAgICAgdGhpcy5fQk9NID0gQk9NO1xuICAgICAgICB0aGlzLl9pbmRleCA9IDA7XG4gICAgICAgIGlmICh0cmVlLnJvb3QgIT09IFNFTlRJTkVMKSB7XG4gICAgICAgICAgICB0cmVlLml0ZXJhdGUodHJlZS5yb290LCBub2RlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSAhPT0gU0VOVElORUwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGllY2VzLnB1c2gobm9kZS5waWVjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVhZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3BpZWNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4Kys7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX0JPTTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pbmRleCA+IHRoaXMuX3BpZWNlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9CT00gKyB0aGlzLl90cmVlLmdldFBpZWNlQ29udGVudCh0aGlzLl9waWVjZXNbdGhpcy5faW5kZXgrK10pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl90cmVlLmdldFBpZWNlQ29udGVudCh0aGlzLl9waWVjZXNbdGhpcy5faW5kZXgrK10pO1xuICAgIH1cbn1cbmNsYXNzIFBpZWNlVHJlZVNlYXJjaENhY2hlIHtcbiAgICBjb25zdHJ1Y3RvcihsaW1pdCkge1xuICAgICAgICB0aGlzLl9saW1pdCA9IGxpbWl0O1xuICAgICAgICB0aGlzLl9jYWNoZSA9IFtdO1xuICAgIH1cbiAgICBnZXQob2Zmc2V0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLl9jYWNoZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZVBvcyA9IHRoaXMuX2NhY2hlW2ldO1xuICAgICAgICAgICAgaWYgKG5vZGVQb3Mubm9kZVN0YXJ0T2Zmc2V0IDw9IG9mZnNldCAmJiBub2RlUG9zLm5vZGVTdGFydE9mZnNldCArIG5vZGVQb3Mubm9kZS5waWVjZS5sZW5ndGggPj0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGVQb3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGdldDIobGluZU51bWJlcikge1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5fY2FjaGUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGVQb3MgPSB0aGlzLl9jYWNoZVtpXTtcbiAgICAgICAgICAgIGlmIChub2RlUG9zLm5vZGVTdGFydExpbmVOdW1iZXIgJiYgbm9kZVBvcy5ub2RlU3RhcnRMaW5lTnVtYmVyIDwgbGluZU51bWJlciAmJiBub2RlUG9zLm5vZGVTdGFydExpbmVOdW1iZXIgKyBub2RlUG9zLm5vZGUucGllY2UubGluZUZlZWRDbnQgPj0gbGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlUG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzZXQobm9kZVBvc2l0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYWNoZS5sZW5ndGggPj0gdGhpcy5fbGltaXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2FjaGUucHVzaChub2RlUG9zaXRpb24pO1xuICAgIH1cbiAgICB2YWxpZGF0ZShvZmZzZXQpIHtcbiAgICAgICAgbGV0IGhhc0ludmFsaWRWYWwgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgdG1wID0gdGhpcy5fY2FjaGU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlUG9zID0gdG1wW2ldO1xuICAgICAgICAgICAgaWYgKG5vZGVQb3Mubm9kZS5wYXJlbnQgPT09IG51bGwgfHwgbm9kZVBvcy5ub2RlU3RhcnRPZmZzZXQgPj0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgdG1wW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICBoYXNJbnZhbGlkVmFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzSW52YWxpZFZhbCkge1xuICAgICAgICAgICAgY29uc3QgbmV3QXJyID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRtcCkge1xuICAgICAgICAgICAgICAgIGlmIChlbnRyeSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdBcnIucHVzaChlbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY2FjaGUgPSBuZXdBcnI7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUGllY2VUcmVlQmFzZSB7XG4gICAgY29uc3RydWN0b3IoY2h1bmtzLCBlb2wsIGVvbE5vcm1hbGl6ZWQpIHtcbiAgICAgICAgdGhpcy5jcmVhdGUoY2h1bmtzLCBlb2wsIGVvbE5vcm1hbGl6ZWQpO1xuICAgIH1cbiAgICBjcmVhdGUoY2h1bmtzLCBlb2wsIGVvbE5vcm1hbGl6ZWQpIHtcbiAgICAgICAgdGhpcy5fYnVmZmVycyA9IFtcbiAgICAgICAgICAgIG5ldyBTdHJpbmdCdWZmZXIoJycsIFswXSlcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5fbGFzdENoYW5nZUJ1ZmZlclBvcyA9IHsgbGluZTogMCwgY29sdW1uOiAwIH07XG4gICAgICAgIHRoaXMucm9vdCA9IFNFTlRJTkVMO1xuICAgICAgICB0aGlzLl9saW5lQ250ID0gMTtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fRU9MID0gZW9sO1xuICAgICAgICB0aGlzLl9FT0xMZW5ndGggPSBlb2wubGVuZ3RoO1xuICAgICAgICB0aGlzLl9FT0xOb3JtYWxpemVkID0gZW9sTm9ybWFsaXplZDtcbiAgICAgICAgbGV0IGxhc3ROb2RlID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNodW5rcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKGNodW5rc1tpXS5idWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICghY2h1bmtzW2ldLmxpbmVTdGFydHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmtzW2ldLmxpbmVTdGFydHMgPSBjcmVhdGVMaW5lU3RhcnRzRmFzdChjaHVua3NbaV0uYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcGllY2UgPSBuZXcgUGllY2UoaSArIDEsIHsgbGluZTogMCwgY29sdW1uOiAwIH0sIHsgbGluZTogY2h1bmtzW2ldLmxpbmVTdGFydHMubGVuZ3RoIC0gMSwgY29sdW1uOiBjaHVua3NbaV0uYnVmZmVyLmxlbmd0aCAtIGNodW5rc1tpXS5saW5lU3RhcnRzW2NodW5rc1tpXS5saW5lU3RhcnRzLmxlbmd0aCAtIDFdIH0sIGNodW5rc1tpXS5saW5lU3RhcnRzLmxlbmd0aCAtIDEsIGNodW5rc1tpXS5idWZmZXIubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXJzLnB1c2goY2h1bmtzW2ldKTtcbiAgICAgICAgICAgICAgICBsYXN0Tm9kZSA9IHRoaXMucmJJbnNlcnRSaWdodChsYXN0Tm9kZSwgcGllY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NlYXJjaENhY2hlID0gbmV3IFBpZWNlVHJlZVNlYXJjaENhY2hlKDEpO1xuICAgICAgICB0aGlzLl9sYXN0VmlzaXRlZExpbmUgPSB7IGxpbmVOdW1iZXI6IDAsIHZhbHVlOiAnJyB9O1xuICAgICAgICB0aGlzLmNvbXB1dGVCdWZmZXJNZXRhZGF0YSgpO1xuICAgIH1cbiAgICBub3JtYWxpemVFT0woZW9sKSB7XG4gICAgICAgIGNvbnN0IGF2ZXJhZ2VCdWZmZXJTaXplID0gQXZlcmFnZUJ1ZmZlclNpemU7XG4gICAgICAgIGNvbnN0IG1pbiA9IGF2ZXJhZ2VCdWZmZXJTaXplIC0gTWF0aC5mbG9vcihhdmVyYWdlQnVmZmVyU2l6ZSAvIDMpO1xuICAgICAgICBjb25zdCBtYXggPSBtaW4gKiAyO1xuICAgICAgICBsZXQgdGVtcENodW5rID0gJyc7XG4gICAgICAgIGxldCB0ZW1wQ2h1bmtMZW4gPSAwO1xuICAgICAgICBjb25zdCBjaHVua3MgPSBbXTtcbiAgICAgICAgdGhpcy5pdGVyYXRlKHRoaXMucm9vdCwgbm9kZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdHIgPSB0aGlzLmdldE5vZGVDb250ZW50KG5vZGUpO1xuICAgICAgICAgICAgY29uc3QgbGVuID0gc3RyLmxlbmd0aDtcbiAgICAgICAgICAgIGlmICh0ZW1wQ2h1bmtMZW4gPD0gbWluIHx8IHRlbXBDaHVua0xlbiArIGxlbiA8IG1heCkge1xuICAgICAgICAgICAgICAgIHRlbXBDaHVuayArPSBzdHI7XG4gICAgICAgICAgICAgICAgdGVtcENodW5rTGVuICs9IGxlbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZsdXNoIGFueXdheXNcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSB0ZW1wQ2h1bmsucmVwbGFjZSgvXFxyXFxufFxccnxcXG4vZywgZW9sKTtcbiAgICAgICAgICAgIGNodW5rcy5wdXNoKG5ldyBTdHJpbmdCdWZmZXIodGV4dCwgY3JlYXRlTGluZVN0YXJ0c0Zhc3QodGV4dCkpKTtcbiAgICAgICAgICAgIHRlbXBDaHVuayA9IHN0cjtcbiAgICAgICAgICAgIHRlbXBDaHVua0xlbiA9IGxlbjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRlbXBDaHVua0xlbiA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSB0ZW1wQ2h1bmsucmVwbGFjZSgvXFxyXFxufFxccnxcXG4vZywgZW9sKTtcbiAgICAgICAgICAgIGNodW5rcy5wdXNoKG5ldyBTdHJpbmdCdWZmZXIodGV4dCwgY3JlYXRlTGluZVN0YXJ0c0Zhc3QodGV4dCkpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNyZWF0ZShjaHVua3MsIGVvbCwgdHJ1ZSk7XG4gICAgfVxuICAgIC8vICNyZWdpb24gQnVmZmVyIEFQSVxuICAgIGdldEVPTCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX0VPTDtcbiAgICB9XG4gICAgc2V0RU9MKG5ld0VPTCkge1xuICAgICAgICB0aGlzLl9FT0wgPSBuZXdFT0w7XG4gICAgICAgIHRoaXMuX0VPTExlbmd0aCA9IHRoaXMuX0VPTC5sZW5ndGg7XG4gICAgICAgIHRoaXMubm9ybWFsaXplRU9MKG5ld0VPTCk7XG4gICAgfVxuICAgIGNyZWF0ZVNuYXBzaG90KEJPTSkge1xuICAgICAgICByZXR1cm4gbmV3IFBpZWNlVHJlZVNuYXBzaG90KHRoaXMsIEJPTSk7XG4gICAgfVxuICAgIGdldE9mZnNldEF0KGxpbmVOdW1iZXIsIGNvbHVtbikge1xuICAgICAgICBsZXQgbGVmdExlbiA9IDA7IC8vIGlub3JkZXJcbiAgICAgICAgbGV0IHggPSB0aGlzLnJvb3Q7XG4gICAgICAgIHdoaWxlICh4ICE9PSBTRU5USU5FTCkge1xuICAgICAgICAgICAgaWYgKHgubGVmdCAhPT0gU0VOVElORUwgJiYgeC5sZl9sZWZ0ICsgMSA+PSBsaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgeCA9IHgubGVmdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHgubGZfbGVmdCArIHgucGllY2UubGluZUZlZWRDbnQgKyAxID49IGxpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICBsZWZ0TGVuICs9IHguc2l6ZV9sZWZ0O1xuICAgICAgICAgICAgICAgIC8vIGxpbmVOdW1iZXIgPj0gMlxuICAgICAgICAgICAgICAgIGNvbnN0IGFjY3VtdWFsdGVkVmFsSW5DdXJyZW50SW5kZXggPSB0aGlzLmdldEFjY3VtdWxhdGVkVmFsdWUoeCwgbGluZU51bWJlciAtIHgubGZfbGVmdCAtIDIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0TGVuICs9IGFjY3VtdWFsdGVkVmFsSW5DdXJyZW50SW5kZXggKyBjb2x1bW4gLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGluZU51bWJlciAtPSB4LmxmX2xlZnQgKyB4LnBpZWNlLmxpbmVGZWVkQ250O1xuICAgICAgICAgICAgICAgIGxlZnRMZW4gKz0geC5zaXplX2xlZnQgKyB4LnBpZWNlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB4ID0geC5yaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGVmdExlbjtcbiAgICB9XG4gICAgZ2V0UG9zaXRpb25BdChvZmZzZXQpIHtcbiAgICAgICAgb2Zmc2V0ID0gTWF0aC5mbG9vcihvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgPSBNYXRoLm1heCgwLCBvZmZzZXQpO1xuICAgICAgICBsZXQgeCA9IHRoaXMucm9vdDtcbiAgICAgICAgbGV0IGxmQ250ID0gMDtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxPZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIHdoaWxlICh4ICE9PSBTRU5USU5FTCkge1xuICAgICAgICAgICAgaWYgKHguc2l6ZV9sZWZ0ICE9PSAwICYmIHguc2l6ZV9sZWZ0ID49IG9mZnNldCkge1xuICAgICAgICAgICAgICAgIHggPSB4LmxlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh4LnNpemVfbGVmdCArIHgucGllY2UubGVuZ3RoID49IG9mZnNldCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dCA9IHRoaXMuZ2V0SW5kZXhPZih4LCBvZmZzZXQgLSB4LnNpemVfbGVmdCk7XG4gICAgICAgICAgICAgICAgbGZDbnQgKz0geC5sZl9sZWZ0ICsgb3V0LmluZGV4O1xuICAgICAgICAgICAgICAgIGlmIChvdXQuaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZVN0YXJ0T2Zmc2V0ID0gdGhpcy5nZXRPZmZzZXRBdChsZkNudCArIDEsIDEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2x1bW4gPSBvcmlnaW5hbE9mZnNldCAtIGxpbmVTdGFydE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbihsZkNudCArIDEsIGNvbHVtbiArIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBvc2l0aW9uKGxmQ250ICsgMSwgb3V0LnJlbWFpbmRlciArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0IC09IHguc2l6ZV9sZWZ0ICsgeC5waWVjZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGZDbnQgKz0geC5sZl9sZWZ0ICsgeC5waWVjZS5saW5lRmVlZENudDtcbiAgICAgICAgICAgICAgICBpZiAoeC5yaWdodCA9PT0gU0VOVElORUwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbGFzdCBub2RlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVTdGFydE9mZnNldCA9IHRoaXMuZ2V0T2Zmc2V0QXQobGZDbnQgKyAxLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sdW1uID0gb3JpZ2luYWxPZmZzZXQgLSBvZmZzZXQgLSBsaW5lU3RhcnRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUG9zaXRpb24obGZDbnQgKyAxLCBjb2x1bW4gKyAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSB4LnJpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBvc2l0aW9uKDEsIDEpO1xuICAgIH1cbiAgICBnZXRWYWx1ZUluUmFuZ2UocmFuZ2UsIGVvbCkge1xuICAgICAgICBpZiAocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyID09PSByYW5nZS5lbmRMaW5lTnVtYmVyICYmIHJhbmdlLnN0YXJ0Q29sdW1uID09PSByYW5nZS5lbmRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGFydFBvc2l0aW9uID0gdGhpcy5ub2RlQXQyKHJhbmdlLnN0YXJ0TGluZU51bWJlciwgcmFuZ2Uuc3RhcnRDb2x1bW4pO1xuICAgICAgICBjb25zdCBlbmRQb3NpdGlvbiA9IHRoaXMubm9kZUF0MihyYW5nZS5lbmRMaW5lTnVtYmVyLCByYW5nZS5lbmRDb2x1bW4pO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWVJblJhbmdlMihzdGFydFBvc2l0aW9uLCBlbmRQb3NpdGlvbik7XG4gICAgICAgIGlmIChlb2wpIHtcbiAgICAgICAgICAgIGlmIChlb2wgIT09IHRoaXMuX0VPTCB8fCAhdGhpcy5fRU9MTm9ybWFsaXplZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9cXHJcXG58XFxyfFxcbi9nLCBlb2wpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVvbCA9PT0gdGhpcy5nZXRFT0woKSAmJiB0aGlzLl9FT0xOb3JtYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVvbCA9PT0gJ1xcclxcbicpIHtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL1xcclxcbnxcXHJ8XFxuL2csIGVvbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBnZXRWYWx1ZUluUmFuZ2UyKHN0YXJ0UG9zaXRpb24sIGVuZFBvc2l0aW9uKSB7XG4gICAgICAgIGlmIChzdGFydFBvc2l0aW9uLm5vZGUgPT09IGVuZFBvc2l0aW9uLm5vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBzdGFydFBvc2l0aW9uLm5vZGU7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLl9idWZmZXJzW25vZGUucGllY2UuYnVmZmVySW5kZXhdLmJ1ZmZlcjtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0T2Zmc2V0ID0gdGhpcy5vZmZzZXRJbkJ1ZmZlcihub2RlLnBpZWNlLmJ1ZmZlckluZGV4LCBub2RlLnBpZWNlLnN0YXJ0KTtcbiAgICAgICAgICAgIHJldHVybiBidWZmZXIuc3Vic3RyaW5nKHN0YXJ0T2Zmc2V0ICsgc3RhcnRQb3NpdGlvbi5yZW1haW5kZXIsIHN0YXJ0T2Zmc2V0ICsgZW5kUG9zaXRpb24ucmVtYWluZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeCA9IHN0YXJ0UG9zaXRpb24ubm9kZTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gdGhpcy5fYnVmZmVyc1t4LnBpZWNlLmJ1ZmZlckluZGV4XS5idWZmZXI7XG4gICAgICAgIGNvbnN0IHN0YXJ0T2Zmc2V0ID0gdGhpcy5vZmZzZXRJbkJ1ZmZlcih4LnBpZWNlLmJ1ZmZlckluZGV4LCB4LnBpZWNlLnN0YXJ0KTtcbiAgICAgICAgbGV0IHJldCA9IGJ1ZmZlci5zdWJzdHJpbmcoc3RhcnRPZmZzZXQgKyBzdGFydFBvc2l0aW9uLnJlbWFpbmRlciwgc3RhcnRPZmZzZXQgKyB4LnBpZWNlLmxlbmd0aCk7XG4gICAgICAgIHggPSB4Lm5leHQoKTtcbiAgICAgICAgd2hpbGUgKHggIT09IFNFTlRJTkVMKSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLl9idWZmZXJzW3gucGllY2UuYnVmZmVySW5kZXhdLmJ1ZmZlcjtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0T2Zmc2V0ID0gdGhpcy5vZmZzZXRJbkJ1ZmZlcih4LnBpZWNlLmJ1ZmZlckluZGV4LCB4LnBpZWNlLnN0YXJ0KTtcbiAgICAgICAgICAgIGlmICh4ID09PSBlbmRQb3NpdGlvbi5ub2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0ICs9IGJ1ZmZlci5zdWJzdHJpbmcoc3RhcnRPZmZzZXQsIHN0YXJ0T2Zmc2V0ICsgZW5kUG9zaXRpb24ucmVtYWluZGVyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldCArPSBidWZmZXIuc3Vic3RyKHN0YXJ0T2Zmc2V0LCB4LnBpZWNlLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4ID0geC5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZ2V0TGluZXNDb250ZW50KCkge1xuICAgICAgICBjb25zdCBsaW5lcyA9IFtdO1xuICAgICAgICBsZXQgbGluZXNMZW5ndGggPSAwO1xuICAgICAgICBsZXQgY3VycmVudExpbmUgPSAnJztcbiAgICAgICAgbGV0IGRhbmdsaW5nQ1IgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pdGVyYXRlKHRoaXMucm9vdCwgbm9kZSA9PiB7XG4gICAgICAgICAgICBpZiAobm9kZSA9PT0gU0VOVElORUwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBpZWNlID0gbm9kZS5waWVjZTtcbiAgICAgICAgICAgIGxldCBwaWVjZUxlbmd0aCA9IHBpZWNlLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChwaWVjZUxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gdGhpcy5fYnVmZmVyc1twaWVjZS5idWZmZXJJbmRleF0uYnVmZmVyO1xuICAgICAgICAgICAgY29uc3QgbGluZVN0YXJ0cyA9IHRoaXMuX2J1ZmZlcnNbcGllY2UuYnVmZmVySW5kZXhdLmxpbmVTdGFydHM7XG4gICAgICAgICAgICBjb25zdCBwaWVjZVN0YXJ0TGluZSA9IHBpZWNlLnN0YXJ0LmxpbmU7XG4gICAgICAgICAgICBjb25zdCBwaWVjZUVuZExpbmUgPSBwaWVjZS5lbmQubGluZTtcbiAgICAgICAgICAgIGxldCBwaWVjZVN0YXJ0T2Zmc2V0ID0gbGluZVN0YXJ0c1twaWVjZVN0YXJ0TGluZV0gKyBwaWVjZS5zdGFydC5jb2x1bW47XG4gICAgICAgICAgICBpZiAoZGFuZ2xpbmdDUikge1xuICAgICAgICAgICAgICAgIGlmIChidWZmZXIuY2hhckNvZGVBdChwaWVjZVN0YXJ0T2Zmc2V0KSA9PT0gMTAgLyogQ2hhckNvZGUuTGluZUZlZWQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJldGVuZCB0aGUgXFxuIHdhcyBpbiB0aGUgcHJldmlvdXMgcGllY2UuLlxuICAgICAgICAgICAgICAgICAgICBwaWVjZVN0YXJ0T2Zmc2V0Kys7XG4gICAgICAgICAgICAgICAgICAgIHBpZWNlTGVuZ3RoLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxpbmVzW2xpbmVzTGVuZ3RoKytdID0gY3VycmVudExpbmU7XG4gICAgICAgICAgICAgICAgY3VycmVudExpbmUgPSAnJztcbiAgICAgICAgICAgICAgICBkYW5nbGluZ0NSID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHBpZWNlTGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwaWVjZVN0YXJ0TGluZSA9PT0gcGllY2VFbmRMaW5lKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBwaWVjZSBoYXMgbm8gbmV3IGxpbmVzXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9FT0xOb3JtYWxpemVkICYmIGJ1ZmZlci5jaGFyQ29kZUF0KHBpZWNlU3RhcnRPZmZzZXQgKyBwaWVjZUxlbmd0aCAtIDEpID09PSAxMyAvKiBDaGFyQ29kZS5DYXJyaWFnZVJldHVybiAqLykge1xuICAgICAgICAgICAgICAgICAgICBkYW5nbGluZ0NSID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudExpbmUgKz0gYnVmZmVyLnN1YnN0cihwaWVjZVN0YXJ0T2Zmc2V0LCBwaWVjZUxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudExpbmUgKz0gYnVmZmVyLnN1YnN0cihwaWVjZVN0YXJ0T2Zmc2V0LCBwaWVjZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYWRkIHRoZSB0ZXh0IGJlZm9yZSB0aGUgZmlyc3QgbGluZSBzdGFydCBpbiB0aGlzIHBpZWNlXG4gICAgICAgICAgICBjdXJyZW50TGluZSArPSAodGhpcy5fRU9MTm9ybWFsaXplZFxuICAgICAgICAgICAgICAgID8gYnVmZmVyLnN1YnN0cmluZyhwaWVjZVN0YXJ0T2Zmc2V0LCBNYXRoLm1heChwaWVjZVN0YXJ0T2Zmc2V0LCBsaW5lU3RhcnRzW3BpZWNlU3RhcnRMaW5lICsgMV0gLSB0aGlzLl9FT0xMZW5ndGgpKVxuICAgICAgICAgICAgICAgIDogYnVmZmVyLnN1YnN0cmluZyhwaWVjZVN0YXJ0T2Zmc2V0LCBsaW5lU3RhcnRzW3BpZWNlU3RhcnRMaW5lICsgMV0pLnJlcGxhY2UoLyhcXHJcXG58XFxyfFxcbikkLywgJycpKTtcbiAgICAgICAgICAgIGxpbmVzW2xpbmVzTGVuZ3RoKytdID0gY3VycmVudExpbmU7XG4gICAgICAgICAgICBmb3IgKGxldCBsaW5lID0gcGllY2VTdGFydExpbmUgKyAxOyBsaW5lIDwgcGllY2VFbmRMaW5lOyBsaW5lKyspIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50TGluZSA9ICh0aGlzLl9FT0xOb3JtYWxpemVkXG4gICAgICAgICAgICAgICAgICAgID8gYnVmZmVyLnN1YnN0cmluZyhsaW5lU3RhcnRzW2xpbmVdLCBsaW5lU3RhcnRzW2xpbmUgKyAxXSAtIHRoaXMuX0VPTExlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgOiBidWZmZXIuc3Vic3RyaW5nKGxpbmVTdGFydHNbbGluZV0sIGxpbmVTdGFydHNbbGluZSArIDFdKS5yZXBsYWNlKC8oXFxyXFxufFxccnxcXG4pJC8sICcnKSk7XG4gICAgICAgICAgICAgICAgbGluZXNbbGluZXNMZW5ndGgrK10gPSBjdXJyZW50TGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5fRU9MTm9ybWFsaXplZCAmJiBidWZmZXIuY2hhckNvZGVBdChsaW5lU3RhcnRzW3BpZWNlRW5kTGluZV0gKyBwaWVjZS5lbmQuY29sdW1uIC0gMSkgPT09IDEzIC8qIENoYXJDb2RlLkNhcnJpYWdlUmV0dXJuICovKSB7XG4gICAgICAgICAgICAgICAgZGFuZ2xpbmdDUiA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHBpZWNlLmVuZC5jb2x1bW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGxhc3QgbGluZSBlbmRlZCB3aXRoIGEgXFxyLCBsZXQncyB1bmRvIHRoZSBwdXNoLCBpdCB3aWxsIGJlIHB1c2hlZCBieSBuZXh0IGl0ZXJhdGlvblxuICAgICAgICAgICAgICAgICAgICBsaW5lc0xlbmd0aC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudExpbmUgPSBidWZmZXIuc3Vic3RyKGxpbmVTdGFydHNbcGllY2VFbmRMaW5lXSwgcGllY2UuZW5kLmNvbHVtbiAtIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRMaW5lID0gYnVmZmVyLnN1YnN0cihsaW5lU3RhcnRzW3BpZWNlRW5kTGluZV0sIHBpZWNlLmVuZC5jb2x1bW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZGFuZ2xpbmdDUikge1xuICAgICAgICAgICAgbGluZXNbbGluZXNMZW5ndGgrK10gPSBjdXJyZW50TGluZTtcbiAgICAgICAgICAgIGN1cnJlbnRMaW5lID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgbGluZXNbbGluZXNMZW5ndGgrK10gPSBjdXJyZW50TGluZTtcbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgIH1cbiAgICBnZXRMZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sZW5ndGg7XG4gICAgfVxuICAgIGdldExpbmVDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVDbnQ7XG4gICAgfVxuICAgIGdldExpbmVDb250ZW50KGxpbmVOdW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xhc3RWaXNpdGVkTGluZS5saW5lTnVtYmVyID09PSBsaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGFzdFZpc2l0ZWRMaW5lLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xhc3RWaXNpdGVkTGluZS5saW5lTnVtYmVyID0gbGluZU51bWJlcjtcbiAgICAgICAgaWYgKGxpbmVOdW1iZXIgPT09IHRoaXMuX2xpbmVDbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RWaXNpdGVkTGluZS52YWx1ZSA9IHRoaXMuZ2V0TGluZVJhd0NvbnRlbnQobGluZU51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fRU9MTm9ybWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdFZpc2l0ZWRMaW5lLnZhbHVlID0gdGhpcy5nZXRMaW5lUmF3Q29udGVudChsaW5lTnVtYmVyLCB0aGlzLl9FT0xMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbGFzdFZpc2l0ZWRMaW5lLnZhbHVlID0gdGhpcy5nZXRMaW5lUmF3Q29udGVudChsaW5lTnVtYmVyKS5yZXBsYWNlKC8oXFxyXFxufFxccnxcXG4pJC8sICcnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbGFzdFZpc2l0ZWRMaW5lLnZhbHVlO1xuICAgIH1cbiAgICBfZ2V0Q2hhckNvZGUobm9kZVBvcykge1xuICAgICAgICBpZiAobm9kZVBvcy5yZW1haW5kZXIgPT09IG5vZGVQb3Mubm9kZS5waWVjZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIHRoZSBjaGFyIHdlIHdhbnQgdG8gZmV0Y2ggaXMgYXQgdGhlIGhlYWQgb2YgbmV4dCBub2RlLlxuICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdOb2RlID0gbm9kZVBvcy5ub2RlLm5leHQoKTtcbiAgICAgICAgICAgIGlmICghbWF0Y2hpbmdOb2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLl9idWZmZXJzW21hdGNoaW5nTm9kZS5waWVjZS5idWZmZXJJbmRleF07XG4gICAgICAgICAgICBjb25zdCBzdGFydE9mZnNldCA9IHRoaXMub2Zmc2V0SW5CdWZmZXIobWF0Y2hpbmdOb2RlLnBpZWNlLmJ1ZmZlckluZGV4LCBtYXRjaGluZ05vZGUucGllY2Uuc3RhcnQpO1xuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlci5idWZmZXIuY2hhckNvZGVBdChzdGFydE9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLl9idWZmZXJzW25vZGVQb3Mubm9kZS5waWVjZS5idWZmZXJJbmRleF07XG4gICAgICAgICAgICBjb25zdCBzdGFydE9mZnNldCA9IHRoaXMub2Zmc2V0SW5CdWZmZXIobm9kZVBvcy5ub2RlLnBpZWNlLmJ1ZmZlckluZGV4LCBub2RlUG9zLm5vZGUucGllY2Uuc3RhcnQpO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0T2Zmc2V0ID0gc3RhcnRPZmZzZXQgKyBub2RlUG9zLnJlbWFpbmRlcjtcbiAgICAgICAgICAgIHJldHVybiBidWZmZXIuYnVmZmVyLmNoYXJDb2RlQXQodGFyZ2V0T2Zmc2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRMaW5lQ2hhckNvZGUobGluZU51bWJlciwgaW5kZXgpIHtcbiAgICAgICAgY29uc3Qgbm9kZVBvcyA9IHRoaXMubm9kZUF0MihsaW5lTnVtYmVyLCBpbmRleCArIDEpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q2hhckNvZGUobm9kZVBvcyk7XG4gICAgfVxuICAgIGdldExpbmVMZW5ndGgobGluZU51bWJlcikge1xuICAgICAgICBpZiAobGluZU51bWJlciA9PT0gdGhpcy5nZXRMaW5lQ291bnQoKSkge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSB0aGlzLmdldE9mZnNldEF0KGxpbmVOdW1iZXIsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGVuZ3RoKCkgLSBzdGFydE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRPZmZzZXRBdChsaW5lTnVtYmVyICsgMSwgMSkgLSB0aGlzLmdldE9mZnNldEF0KGxpbmVOdW1iZXIsIDEpIC0gdGhpcy5fRU9MTGVuZ3RoO1xuICAgIH1cbiAgICBmaW5kTWF0Y2hlc0luTm9kZShub2RlLCBzZWFyY2hlciwgc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiwgc3RhcnRDdXJzb3IsIGVuZEN1cnNvciwgc2VhcmNoRGF0YSwgY2FwdHVyZU1hdGNoZXMsIGxpbWl0UmVzdWx0Q291bnQsIHJlc3VsdExlbiwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuX2J1ZmZlcnNbbm9kZS5waWVjZS5idWZmZXJJbmRleF07XG4gICAgICAgIGNvbnN0IHN0YXJ0T2Zmc2V0SW5CdWZmZXIgPSB0aGlzLm9mZnNldEluQnVmZmVyKG5vZGUucGllY2UuYnVmZmVySW5kZXgsIG5vZGUucGllY2Uuc3RhcnQpO1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMub2Zmc2V0SW5CdWZmZXIobm9kZS5waWVjZS5idWZmZXJJbmRleCwgc3RhcnRDdXJzb3IpO1xuICAgICAgICBjb25zdCBlbmQgPSB0aGlzLm9mZnNldEluQnVmZmVyKG5vZGUucGllY2UuYnVmZmVySW5kZXgsIGVuZEN1cnNvcik7XG4gICAgICAgIGxldCBtO1xuICAgICAgICAvLyBSZXNldCByZWdleCB0byBzZWFyY2ggZnJvbSB0aGUgYmVnaW5uaW5nXG4gICAgICAgIGNvbnN0IHJldCA9IHsgbGluZTogMCwgY29sdW1uOiAwIH07XG4gICAgICAgIGxldCBzZWFyY2hUZXh0O1xuICAgICAgICBsZXQgb2Zmc2V0SW5CdWZmZXI7XG4gICAgICAgIGlmIChzZWFyY2hlci5fd29yZFNlcGFyYXRvcnMpIHtcbiAgICAgICAgICAgIHNlYXJjaFRleHQgPSBidWZmZXIuYnVmZmVyLnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbiAgICAgICAgICAgIG9mZnNldEluQnVmZmVyID0gKG9mZnNldCkgPT4gb2Zmc2V0ICsgc3RhcnQ7XG4gICAgICAgICAgICBzZWFyY2hlci5yZXNldCgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNlYXJjaFRleHQgPSBidWZmZXIuYnVmZmVyO1xuICAgICAgICAgICAgb2Zmc2V0SW5CdWZmZXIgPSAob2Zmc2V0KSA9PiBvZmZzZXQ7XG4gICAgICAgICAgICBzZWFyY2hlci5yZXNldChzdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgbSA9IHNlYXJjaGVyLm5leHQoc2VhcmNoVGV4dCk7XG4gICAgICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgICAgIGlmIChvZmZzZXRJbkJ1ZmZlcihtLmluZGV4KSA+PSBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdExlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbkluQnVmZmVyKG5vZGUsIG9mZnNldEluQnVmZmVyKG0uaW5kZXgpIC0gc3RhcnRPZmZzZXRJbkJ1ZmZlciwgcmV0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lRmVlZENudCA9IHRoaXMuZ2V0TGluZUZlZWRDbnQobm9kZS5waWVjZS5idWZmZXJJbmRleCwgc3RhcnRDdXJzb3IsIHJldCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmV0U3RhcnRDb2x1bW4gPSByZXQubGluZSA9PT0gc3RhcnRDdXJzb3IubGluZSA/IHJldC5jb2x1bW4gLSBzdGFydEN1cnNvci5jb2x1bW4gKyBzdGFydENvbHVtbiA6IHJldC5jb2x1bW4gKyAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldEVuZENvbHVtbiA9IHJldFN0YXJ0Q29sdW1uICsgbVswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdExlbisrXSA9IGNyZWF0ZUZpbmRNYXRjaChuZXcgUmFuZ2Uoc3RhcnRMaW5lTnVtYmVyICsgbGluZUZlZWRDbnQsIHJldFN0YXJ0Q29sdW1uLCBzdGFydExpbmVOdW1iZXIgKyBsaW5lRmVlZENudCwgcmV0RW5kQ29sdW1uKSwgbSwgY2FwdHVyZU1hdGNoZXMpO1xuICAgICAgICAgICAgICAgIGlmIChvZmZzZXRJbkJ1ZmZlcihtLmluZGV4KSArIG1bMF0ubGVuZ3RoID49IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0TGVuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0TGVuID49IGxpbWl0UmVzdWx0Q291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdExlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKG0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0TGVuO1xuICAgIH1cbiAgICBmaW5kTWF0Y2hlc0xpbmVCeUxpbmUoc2VhcmNoUmFuZ2UsIHNlYXJjaERhdGEsIGNhcHR1cmVNYXRjaGVzLCBsaW1pdFJlc3VsdENvdW50KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBsZXQgcmVzdWx0TGVuID0gMDtcbiAgICAgICAgY29uc3Qgc2VhcmNoZXIgPSBuZXcgU2VhcmNoZXIoc2VhcmNoRGF0YS53b3JkU2VwYXJhdG9ycywgc2VhcmNoRGF0YS5yZWdleCk7XG4gICAgICAgIGxldCBzdGFydFBvc2l0aW9uID0gdGhpcy5ub2RlQXQyKHNlYXJjaFJhbmdlLnN0YXJ0TGluZU51bWJlciwgc2VhcmNoUmFuZ2Uuc3RhcnRDb2x1bW4pO1xuICAgICAgICBpZiAoc3RhcnRQb3NpdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVuZFBvc2l0aW9uID0gdGhpcy5ub2RlQXQyKHNlYXJjaFJhbmdlLmVuZExpbmVOdW1iZXIsIHNlYXJjaFJhbmdlLmVuZENvbHVtbik7XG4gICAgICAgIGlmIChlbmRQb3NpdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdGFydCA9IHRoaXMucG9zaXRpb25JbkJ1ZmZlcihzdGFydFBvc2l0aW9uLm5vZGUsIHN0YXJ0UG9zaXRpb24ucmVtYWluZGVyKTtcbiAgICAgICAgY29uc3QgZW5kID0gdGhpcy5wb3NpdGlvbkluQnVmZmVyKGVuZFBvc2l0aW9uLm5vZGUsIGVuZFBvc2l0aW9uLnJlbWFpbmRlcik7XG4gICAgICAgIGlmIChzdGFydFBvc2l0aW9uLm5vZGUgPT09IGVuZFBvc2l0aW9uLm5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuZmluZE1hdGNoZXNJbk5vZGUoc3RhcnRQb3NpdGlvbi5ub2RlLCBzZWFyY2hlciwgc2VhcmNoUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLCBzZWFyY2hSYW5nZS5zdGFydENvbHVtbiwgc3RhcnQsIGVuZCwgc2VhcmNoRGF0YSwgY2FwdHVyZU1hdGNoZXMsIGxpbWl0UmVzdWx0Q291bnQsIHJlc3VsdExlbiwgcmVzdWx0KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0YXJ0TGluZU51bWJlciA9IHNlYXJjaFJhbmdlLnN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgbGV0IGN1cnJlbnROb2RlID0gc3RhcnRQb3NpdGlvbi5ub2RlO1xuICAgICAgICB3aGlsZSAoY3VycmVudE5vZGUgIT09IGVuZFBvc2l0aW9uLm5vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVCcmVha0NudCA9IHRoaXMuZ2V0TGluZUZlZWRDbnQoY3VycmVudE5vZGUucGllY2UuYnVmZmVySW5kZXgsIHN0YXJ0LCBjdXJyZW50Tm9kZS5waWVjZS5lbmQpO1xuICAgICAgICAgICAgaWYgKGxpbmVCcmVha0NudCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gbGFzdCBsaW5lIGJyZWFrIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgbGluZVN0YXJ0cyA9IHRoaXMuX2J1ZmZlcnNbY3VycmVudE5vZGUucGllY2UuYnVmZmVySW5kZXhdLmxpbmVTdGFydHM7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXRJbkJ1ZmZlciA9IHRoaXMub2Zmc2V0SW5CdWZmZXIoY3VycmVudE5vZGUucGllY2UuYnVmZmVySW5kZXgsIGN1cnJlbnROb2RlLnBpZWNlLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0TGluZVN0YXJ0T2Zmc2V0ID0gbGluZVN0YXJ0c1tzdGFydC5saW5lICsgbGluZUJyZWFrQ250XTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydENvbHVtbiA9IHN0YXJ0TGluZU51bWJlciA9PT0gc2VhcmNoUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyID8gc2VhcmNoUmFuZ2Uuc3RhcnRDb2x1bW4gOiAxO1xuICAgICAgICAgICAgICAgIHJlc3VsdExlbiA9IHRoaXMuZmluZE1hdGNoZXNJbk5vZGUoY3VycmVudE5vZGUsIHNlYXJjaGVyLCBzdGFydExpbmVOdW1iZXIsIHN0YXJ0Q29sdW1uLCBzdGFydCwgdGhpcy5wb3NpdGlvbkluQnVmZmVyKGN1cnJlbnROb2RlLCBuZXh0TGluZVN0YXJ0T2Zmc2V0IC0gc3RhcnRPZmZzZXRJbkJ1ZmZlciksIHNlYXJjaERhdGEsIGNhcHR1cmVNYXRjaGVzLCBsaW1pdFJlc3VsdENvdW50LCByZXN1bHRMZW4sIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdExlbiA+PSBsaW1pdFJlc3VsdENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlciArPSBsaW5lQnJlYWtDbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdGFydENvbHVtbiA9IHN0YXJ0TGluZU51bWJlciA9PT0gc2VhcmNoUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyID8gc2VhcmNoUmFuZ2Uuc3RhcnRDb2x1bW4gLSAxIDogMDtcbiAgICAgICAgICAgIC8vIHNlYXJjaCBmb3IgdGhlIHJlbWFpbmluZyBjb250ZW50XG4gICAgICAgICAgICBpZiAoc3RhcnRMaW5lTnVtYmVyID09PSBzZWFyY2hSYW5nZS5lbmRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuZ2V0TGluZUNvbnRlbnQoc3RhcnRMaW5lTnVtYmVyKS5zdWJzdHJpbmcoc3RhcnRDb2x1bW4sIHNlYXJjaFJhbmdlLmVuZENvbHVtbiAtIDEpO1xuICAgICAgICAgICAgICAgIHJlc3VsdExlbiA9IHRoaXMuX2ZpbmRNYXRjaGVzSW5MaW5lKHNlYXJjaERhdGEsIHNlYXJjaGVyLCB0ZXh0LCBzZWFyY2hSYW5nZS5lbmRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiwgcmVzdWx0TGVuLCByZXN1bHQsIGNhcHR1cmVNYXRjaGVzLCBsaW1pdFJlc3VsdENvdW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0TGVuID0gdGhpcy5fZmluZE1hdGNoZXNJbkxpbmUoc2VhcmNoRGF0YSwgc2VhcmNoZXIsIHRoaXMuZ2V0TGluZUNvbnRlbnQoc3RhcnRMaW5lTnVtYmVyKS5zdWJzdHIoc3RhcnRDb2x1bW4pLCBzdGFydExpbmVOdW1iZXIsIHN0YXJ0Q29sdW1uLCByZXN1bHRMZW4sIHJlc3VsdCwgY2FwdHVyZU1hdGNoZXMsIGxpbWl0UmVzdWx0Q291bnQpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdExlbiA+PSBsaW1pdFJlc3VsdENvdW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlcisrO1xuICAgICAgICAgICAgc3RhcnRQb3NpdGlvbiA9IHRoaXMubm9kZUF0MihzdGFydExpbmVOdW1iZXIsIDEpO1xuICAgICAgICAgICAgY3VycmVudE5vZGUgPSBzdGFydFBvc2l0aW9uLm5vZGU7XG4gICAgICAgICAgICBzdGFydCA9IHRoaXMucG9zaXRpb25JbkJ1ZmZlcihzdGFydFBvc2l0aW9uLm5vZGUsIHN0YXJ0UG9zaXRpb24ucmVtYWluZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRMaW5lTnVtYmVyID09PSBzZWFyY2hSYW5nZS5lbmRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydENvbHVtbiA9IHN0YXJ0TGluZU51bWJlciA9PT0gc2VhcmNoUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyID8gc2VhcmNoUmFuZ2Uuc3RhcnRDb2x1bW4gLSAxIDogMDtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmdldExpbmVDb250ZW50KHN0YXJ0TGluZU51bWJlcikuc3Vic3RyaW5nKHN0YXJ0Q29sdW1uLCBzZWFyY2hSYW5nZS5lbmRDb2x1bW4gLSAxKTtcbiAgICAgICAgICAgIHJlc3VsdExlbiA9IHRoaXMuX2ZpbmRNYXRjaGVzSW5MaW5lKHNlYXJjaERhdGEsIHNlYXJjaGVyLCB0ZXh0LCBzZWFyY2hSYW5nZS5lbmRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiwgcmVzdWx0TGVuLCByZXN1bHQsIGNhcHR1cmVNYXRjaGVzLCBsaW1pdFJlc3VsdENvdW50KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhcnRDb2x1bW4gPSBzdGFydExpbmVOdW1iZXIgPT09IHNlYXJjaFJhbmdlLnN0YXJ0TGluZU51bWJlciA/IHNlYXJjaFJhbmdlLnN0YXJ0Q29sdW1uIDogMTtcbiAgICAgICAgcmVzdWx0TGVuID0gdGhpcy5maW5kTWF0Y2hlc0luTm9kZShlbmRQb3NpdGlvbi5ub2RlLCBzZWFyY2hlciwgc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiwgc3RhcnQsIGVuZCwgc2VhcmNoRGF0YSwgY2FwdHVyZU1hdGNoZXMsIGxpbWl0UmVzdWx0Q291bnQsIHJlc3VsdExlbiwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgX2ZpbmRNYXRjaGVzSW5MaW5lKHNlYXJjaERhdGEsIHNlYXJjaGVyLCB0ZXh0LCBsaW5lTnVtYmVyLCBkZWx0YU9mZnNldCwgcmVzdWx0TGVuLCByZXN1bHQsIGNhcHR1cmVNYXRjaGVzLCBsaW1pdFJlc3VsdENvdW50KSB7XG4gICAgICAgIGNvbnN0IHdvcmRTZXBhcmF0b3JzID0gc2VhcmNoRGF0YS53b3JkU2VwYXJhdG9ycztcbiAgICAgICAgaWYgKCFjYXB0dXJlTWF0Y2hlcyAmJiBzZWFyY2hEYXRhLnNpbXBsZVNlYXJjaCkge1xuICAgICAgICAgICAgY29uc3Qgc2VhcmNoU3RyaW5nID0gc2VhcmNoRGF0YS5zaW1wbGVTZWFyY2g7XG4gICAgICAgICAgICBjb25zdCBzZWFyY2hTdHJpbmdMZW4gPSBzZWFyY2hTdHJpbmcubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoO1xuICAgICAgICAgICAgbGV0IGxhc3RNYXRjaEluZGV4ID0gLXNlYXJjaFN0cmluZ0xlbjtcbiAgICAgICAgICAgIHdoaWxlICgobGFzdE1hdGNoSW5kZXggPSB0ZXh0LmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBsYXN0TWF0Y2hJbmRleCArIHNlYXJjaFN0cmluZ0xlbikpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGlmICghd29yZFNlcGFyYXRvcnMgfHwgaXNWYWxpZE1hdGNoKHdvcmRTZXBhcmF0b3JzLCB0ZXh0LCB0ZXh0TGVuZ3RoLCBsYXN0TWF0Y2hJbmRleCwgc2VhcmNoU3RyaW5nTGVuKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0TGVuKytdID0gbmV3IEZpbmRNYXRjaChuZXcgUmFuZ2UobGluZU51bWJlciwgbGFzdE1hdGNoSW5kZXggKyAxICsgZGVsdGFPZmZzZXQsIGxpbmVOdW1iZXIsIGxhc3RNYXRjaEluZGV4ICsgMSArIHNlYXJjaFN0cmluZ0xlbiArIGRlbHRhT2Zmc2V0KSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRMZW4gPj0gbGltaXRSZXN1bHRDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdExlbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRMZW47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG07XG4gICAgICAgIC8vIFJlc2V0IHJlZ2V4IHRvIHNlYXJjaCBmcm9tIHRoZSBiZWdpbm5pbmdcbiAgICAgICAgc2VhcmNoZXIucmVzZXQoMCk7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIG0gPSBzZWFyY2hlci5uZXh0KHRleHQpO1xuICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0TGVuKytdID0gY3JlYXRlRmluZE1hdGNoKG5ldyBSYW5nZShsaW5lTnVtYmVyLCBtLmluZGV4ICsgMSArIGRlbHRhT2Zmc2V0LCBsaW5lTnVtYmVyLCBtLmluZGV4ICsgMSArIG1bMF0ubGVuZ3RoICsgZGVsdGFPZmZzZXQpLCBtLCBjYXB0dXJlTWF0Y2hlcyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdExlbiA+PSBsaW1pdFJlc3VsdENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRMZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChtKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdExlbjtcbiAgICB9XG4gICAgLy8gI2VuZHJlZ2lvblxuICAgIC8vICNyZWdpb24gUGllY2UgVGFibGVcbiAgICBpbnNlcnQob2Zmc2V0LCB2YWx1ZSwgZW9sTm9ybWFsaXplZCA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuX0VPTE5vcm1hbGl6ZWQgPSB0aGlzLl9FT0xOb3JtYWxpemVkICYmIGVvbE5vcm1hbGl6ZWQ7XG4gICAgICAgIHRoaXMuX2xhc3RWaXNpdGVkTGluZS5saW5lTnVtYmVyID0gMDtcbiAgICAgICAgdGhpcy5fbGFzdFZpc2l0ZWRMaW5lLnZhbHVlID0gJyc7XG4gICAgICAgIGlmICh0aGlzLnJvb3QgIT09IFNFTlRJTkVMKSB7XG4gICAgICAgICAgICBjb25zdCB7IG5vZGUsIHJlbWFpbmRlciwgbm9kZVN0YXJ0T2Zmc2V0IH0gPSB0aGlzLm5vZGVBdChvZmZzZXQpO1xuICAgICAgICAgICAgY29uc3QgcGllY2UgPSBub2RlLnBpZWNlO1xuICAgICAgICAgICAgY29uc3QgYnVmZmVySW5kZXggPSBwaWVjZS5idWZmZXJJbmRleDtcbiAgICAgICAgICAgIGNvbnN0IGluc2VydFBvc0luQnVmZmVyID0gdGhpcy5wb3NpdGlvbkluQnVmZmVyKG5vZGUsIHJlbWFpbmRlcik7XG4gICAgICAgICAgICBpZiAobm9kZS5waWVjZS5idWZmZXJJbmRleCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIHBpZWNlLmVuZC5saW5lID09PSB0aGlzLl9sYXN0Q2hhbmdlQnVmZmVyUG9zLmxpbmUgJiZcbiAgICAgICAgICAgICAgICBwaWVjZS5lbmQuY29sdW1uID09PSB0aGlzLl9sYXN0Q2hhbmdlQnVmZmVyUG9zLmNvbHVtbiAmJlxuICAgICAgICAgICAgICAgIChub2RlU3RhcnRPZmZzZXQgKyBwaWVjZS5sZW5ndGggPT09IG9mZnNldCkgJiZcbiAgICAgICAgICAgICAgICB2YWx1ZS5sZW5ndGggPCBBdmVyYWdlQnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgICAgIC8vIGNoYW5nZWQgYnVmZmVyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRUb05vZGUobm9kZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZUJ1ZmZlck1ldGFkYXRhKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGVTdGFydE9mZnNldCA9PT0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRDb250ZW50VG9Ob2RlTGVmdCh2YWx1ZSwgbm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VhcmNoQ2FjaGUudmFsaWRhdGUob2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGVTdGFydE9mZnNldCArIG5vZGUucGllY2UubGVuZ3RoID4gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gd2UgYXJlIGluc2VydGluZyBpbnRvIHRoZSBtaWRkbGUgb2YgYSBub2RlLlxuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVzVG9EZWwgPSBbXTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3UmlnaHRQaWVjZSA9IG5ldyBQaWVjZShwaWVjZS5idWZmZXJJbmRleCwgaW5zZXJ0UG9zSW5CdWZmZXIsIHBpZWNlLmVuZCwgdGhpcy5nZXRMaW5lRmVlZENudChwaWVjZS5idWZmZXJJbmRleCwgaW5zZXJ0UG9zSW5CdWZmZXIsIHBpZWNlLmVuZCksIHRoaXMub2Zmc2V0SW5CdWZmZXIoYnVmZmVySW5kZXgsIHBpZWNlLmVuZCkgLSB0aGlzLm9mZnNldEluQnVmZmVyKGJ1ZmZlckluZGV4LCBpbnNlcnRQb3NJbkJ1ZmZlcikpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZENoZWNrQ1JMRigpICYmIHRoaXMuZW5kV2l0aENSKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkT2ZSaWdodCA9IHRoaXMubm9kZUNoYXJDb2RlQXQobm9kZSwgcmVtYWluZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRPZlJpZ2h0ID09PSAxMCAvKiogXFxuICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGFydCA9IHsgbGluZTogbmV3UmlnaHRQaWVjZS5zdGFydC5saW5lICsgMSwgY29sdW1uOiAwIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdSaWdodFBpZWNlID0gbmV3IFBpZWNlKG5ld1JpZ2h0UGllY2UuYnVmZmVySW5kZXgsIG5ld1N0YXJ0LCBuZXdSaWdodFBpZWNlLmVuZCwgdGhpcy5nZXRMaW5lRmVlZENudChuZXdSaWdodFBpZWNlLmJ1ZmZlckluZGV4LCBuZXdTdGFydCwgbmV3UmlnaHRQaWVjZS5lbmQpLCBuZXdSaWdodFBpZWNlLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gJ1xcbic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmV1c2Ugbm9kZSBmb3IgY29udGVudCBiZWZvcmUgaW5zZXJ0aW9uIHBvaW50LlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZENoZWNrQ1JMRigpICYmIHRoaXMuc3RhcnRXaXRoTEYodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhaWxPZkxlZnQgPSB0aGlzLm5vZGVDaGFyQ29kZUF0KG5vZGUsIHJlbWFpbmRlciAtIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFpbE9mTGVmdCA9PT0gMTMgLyoqIFxcciAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNQb3MgPSB0aGlzLnBvc2l0aW9uSW5CdWZmZXIobm9kZSwgcmVtYWluZGVyIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZU5vZGVUYWlsKG5vZGUsIHByZXZpb3VzUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJ1xccicgKyB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnBpZWNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzVG9EZWwucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTm9kZVRhaWwobm9kZSwgaW5zZXJ0UG9zSW5CdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZU5vZGVUYWlsKG5vZGUsIGluc2VydFBvc0luQnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UGllY2VzID0gdGhpcy5jcmVhdGVOZXdQaWVjZXModmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdSaWdodFBpZWNlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYkluc2VydFJpZ2h0KG5vZGUsIG5ld1JpZ2h0UGllY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgdG1wTm9kZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBuZXdQaWVjZXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wTm9kZSA9IHRoaXMucmJJbnNlcnRSaWdodCh0bXBOb2RlLCBuZXdQaWVjZXNba10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZU5vZGVzKG5vZGVzVG9EZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRDb250ZW50VG9Ob2RlUmlnaHQodmFsdWUsIG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaW5zZXJ0IG5ldyBub2RlXG4gICAgICAgICAgICBjb25zdCBwaWVjZXMgPSB0aGlzLmNyZWF0ZU5ld1BpZWNlcyh2YWx1ZSk7XG4gICAgICAgICAgICBsZXQgbm9kZSA9IHRoaXMucmJJbnNlcnRMZWZ0KG51bGwsIHBpZWNlc1swXSk7XG4gICAgICAgICAgICBmb3IgKGxldCBrID0gMTsgayA8IHBpZWNlcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgIG5vZGUgPSB0aGlzLnJiSW5zZXJ0UmlnaHQobm9kZSwgcGllY2VzW2tdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0b2RvLCB0aGlzIGlzIHRvbyBicnV0YWwuIFRvdGFsIGxpbmUgZmVlZCBjb3VudCBzaG91bGQgYmUgdXBkYXRlZCB0aGUgc2FtZSB3YXkgYXMgbGZfbGVmdC5cbiAgICAgICAgdGhpcy5jb21wdXRlQnVmZmVyTWV0YWRhdGEoKTtcbiAgICB9XG4gICAgZGVsZXRlKG9mZnNldCwgY250KSB7XG4gICAgICAgIHRoaXMuX2xhc3RWaXNpdGVkTGluZS5saW5lTnVtYmVyID0gMDtcbiAgICAgICAgdGhpcy5fbGFzdFZpc2l0ZWRMaW5lLnZhbHVlID0gJyc7XG4gICAgICAgIGlmIChjbnQgPD0gMCB8fCB0aGlzLnJvb3QgPT09IFNFTlRJTkVMKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhcnRQb3NpdGlvbiA9IHRoaXMubm9kZUF0KG9mZnNldCk7XG4gICAgICAgIGNvbnN0IGVuZFBvc2l0aW9uID0gdGhpcy5ub2RlQXQob2Zmc2V0ICsgY250KTtcbiAgICAgICAgY29uc3Qgc3RhcnROb2RlID0gc3RhcnRQb3NpdGlvbi5ub2RlO1xuICAgICAgICBjb25zdCBlbmROb2RlID0gZW5kUG9zaXRpb24ubm9kZTtcbiAgICAgICAgaWYgKHN0YXJ0Tm9kZSA9PT0gZW5kTm9kZSkge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRTcGxpdFBvc0luQnVmZmVyID0gdGhpcy5wb3NpdGlvbkluQnVmZmVyKHN0YXJ0Tm9kZSwgc3RhcnRQb3NpdGlvbi5yZW1haW5kZXIpO1xuICAgICAgICAgICAgY29uc3QgZW5kU3BsaXRQb3NJbkJ1ZmZlciA9IHRoaXMucG9zaXRpb25JbkJ1ZmZlcihzdGFydE5vZGUsIGVuZFBvc2l0aW9uLnJlbWFpbmRlcik7XG4gICAgICAgICAgICBpZiAoc3RhcnRQb3NpdGlvbi5ub2RlU3RhcnRPZmZzZXQgPT09IG9mZnNldCkge1xuICAgICAgICAgICAgICAgIGlmIChjbnQgPT09IHN0YXJ0Tm9kZS5waWVjZS5sZW5ndGgpIHsgLy8gZGVsZXRlIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IHN0YXJ0Tm9kZS5uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIHJiRGVsZXRlKHRoaXMsIHN0YXJ0Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVDUkxGV2l0aFByZXZOb2RlKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVCdWZmZXJNZXRhZGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTm9kZUhlYWQoc3RhcnROb2RlLCBlbmRTcGxpdFBvc0luQnVmZmVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWFyY2hDYWNoZS52YWxpZGF0ZShvZmZzZXQpO1xuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVDUkxGV2l0aFByZXZOb2RlKHN0YXJ0Tm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wdXRlQnVmZmVyTWV0YWRhdGEoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhcnRQb3NpdGlvbi5ub2RlU3RhcnRPZmZzZXQgKyBzdGFydE5vZGUucGllY2UubGVuZ3RoID09PSBvZmZzZXQgKyBjbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZU5vZGVUYWlsKHN0YXJ0Tm9kZSwgc3RhcnRTcGxpdFBvc0luQnVmZmVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlQ1JMRldpdGhOZXh0Tm9kZShzdGFydE5vZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZUJ1ZmZlck1ldGFkYXRhKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZGVsZXRlIGNvbnRlbnQgaW4gdGhlIG1pZGRsZSwgdGhpcyBub2RlIHdpbGwgYmUgc3BsaXR0ZWQgdG8gbm9kZXNcbiAgICAgICAgICAgIHRoaXMuc2hyaW5rTm9kZShzdGFydE5vZGUsIHN0YXJ0U3BsaXRQb3NJbkJ1ZmZlciwgZW5kU3BsaXRQb3NJbkJ1ZmZlcik7XG4gICAgICAgICAgICB0aGlzLmNvbXB1dGVCdWZmZXJNZXRhZGF0YSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5vZGVzVG9EZWwgPSBbXTtcbiAgICAgICAgY29uc3Qgc3RhcnRTcGxpdFBvc0luQnVmZmVyID0gdGhpcy5wb3NpdGlvbkluQnVmZmVyKHN0YXJ0Tm9kZSwgc3RhcnRQb3NpdGlvbi5yZW1haW5kZXIpO1xuICAgICAgICB0aGlzLmRlbGV0ZU5vZGVUYWlsKHN0YXJ0Tm9kZSwgc3RhcnRTcGxpdFBvc0luQnVmZmVyKTtcbiAgICAgICAgdGhpcy5fc2VhcmNoQ2FjaGUudmFsaWRhdGUob2Zmc2V0KTtcbiAgICAgICAgaWYgKHN0YXJ0Tm9kZS5waWVjZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIG5vZGVzVG9EZWwucHVzaChzdGFydE5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSBsYXN0IHRvdWNoZWQgbm9kZVxuICAgICAgICBjb25zdCBlbmRTcGxpdFBvc0luQnVmZmVyID0gdGhpcy5wb3NpdGlvbkluQnVmZmVyKGVuZE5vZGUsIGVuZFBvc2l0aW9uLnJlbWFpbmRlcik7XG4gICAgICAgIHRoaXMuZGVsZXRlTm9kZUhlYWQoZW5kTm9kZSwgZW5kU3BsaXRQb3NJbkJ1ZmZlcik7XG4gICAgICAgIGlmIChlbmROb2RlLnBpZWNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgbm9kZXNUb0RlbC5wdXNoKGVuZE5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRlbGV0ZSBub2RlcyBpbiBiZXR3ZWVuXG4gICAgICAgIGNvbnN0IHNlY29uZE5vZGUgPSBzdGFydE5vZGUubmV4dCgpO1xuICAgICAgICBmb3IgKGxldCBub2RlID0gc2Vjb25kTm9kZTsgbm9kZSAhPT0gU0VOVElORUwgJiYgbm9kZSAhPT0gZW5kTm9kZTsgbm9kZSA9IG5vZGUubmV4dCgpKSB7XG4gICAgICAgICAgICBub2Rlc1RvRGVsLnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldiA9IHN0YXJ0Tm9kZS5waWVjZS5sZW5ndGggPT09IDAgPyBzdGFydE5vZGUucHJldigpIDogc3RhcnROb2RlO1xuICAgICAgICB0aGlzLmRlbGV0ZU5vZGVzKG5vZGVzVG9EZWwpO1xuICAgICAgICB0aGlzLnZhbGlkYXRlQ1JMRldpdGhOZXh0Tm9kZShwcmV2KTtcbiAgICAgICAgdGhpcy5jb21wdXRlQnVmZmVyTWV0YWRhdGEoKTtcbiAgICB9XG4gICAgaW5zZXJ0Q29udGVudFRvTm9kZUxlZnQodmFsdWUsIG5vZGUpIHtcbiAgICAgICAgLy8gd2UgYXJlIGluc2VydGluZyBjb250ZW50IHRvIHRoZSBiZWdpbm5pbmcgb2Ygbm9kZVxuICAgICAgICBjb25zdCBub2Rlc1RvRGVsID0gW107XG4gICAgICAgIGlmICh0aGlzLnNob3VsZENoZWNrQ1JMRigpICYmIHRoaXMuZW5kV2l0aENSKHZhbHVlKSAmJiB0aGlzLnN0YXJ0V2l0aExGKG5vZGUpKSB7XG4gICAgICAgICAgICAvLyBtb3ZlIGBcXG5gIHRvIG5ldyBub2RlLlxuICAgICAgICAgICAgY29uc3QgcGllY2UgPSBub2RlLnBpZWNlO1xuICAgICAgICAgICAgY29uc3QgbmV3U3RhcnQgPSB7IGxpbmU6IHBpZWNlLnN0YXJ0LmxpbmUgKyAxLCBjb2x1bW46IDAgfTtcbiAgICAgICAgICAgIGNvbnN0IG5QaWVjZSA9IG5ldyBQaWVjZShwaWVjZS5idWZmZXJJbmRleCwgbmV3U3RhcnQsIHBpZWNlLmVuZCwgdGhpcy5nZXRMaW5lRmVlZENudChwaWVjZS5idWZmZXJJbmRleCwgbmV3U3RhcnQsIHBpZWNlLmVuZCksIHBpZWNlLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgbm9kZS5waWVjZSA9IG5QaWVjZTtcbiAgICAgICAgICAgIHZhbHVlICs9ICdcXG4nO1xuICAgICAgICAgICAgdXBkYXRlVHJlZU1ldGFkYXRhKHRoaXMsIG5vZGUsIC0xLCAtMSk7XG4gICAgICAgICAgICBpZiAobm9kZS5waWVjZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBub2Rlc1RvRGVsLnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3UGllY2VzID0gdGhpcy5jcmVhdGVOZXdQaWVjZXModmFsdWUpO1xuICAgICAgICBsZXQgbmV3Tm9kZSA9IHRoaXMucmJJbnNlcnRMZWZ0KG5vZGUsIG5ld1BpZWNlc1tuZXdQaWVjZXMubGVuZ3RoIC0gMV0pO1xuICAgICAgICBmb3IgKGxldCBrID0gbmV3UGllY2VzLmxlbmd0aCAtIDI7IGsgPj0gMDsgay0tKSB7XG4gICAgICAgICAgICBuZXdOb2RlID0gdGhpcy5yYkluc2VydExlZnQobmV3Tm9kZSwgbmV3UGllY2VzW2tdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbGlkYXRlQ1JMRldpdGhQcmV2Tm9kZShuZXdOb2RlKTtcbiAgICAgICAgdGhpcy5kZWxldGVOb2Rlcyhub2Rlc1RvRGVsKTtcbiAgICB9XG4gICAgaW5zZXJ0Q29udGVudFRvTm9kZVJpZ2h0KHZhbHVlLCBub2RlKSB7XG4gICAgICAgIC8vIHdlIGFyZSBpbnNlcnRpbmcgdG8gdGhlIHJpZ2h0IG9mIHRoaXMgbm9kZS5cbiAgICAgICAgaWYgKHRoaXMuYWRqdXN0Q2FycmlhZ2VSZXR1cm5Gcm9tTmV4dCh2YWx1ZSwgbm9kZSkpIHtcbiAgICAgICAgICAgIC8vIG1vdmUgXFxuIHRvIHRoZSBuZXcgbm9kZS5cbiAgICAgICAgICAgIHZhbHVlICs9ICdcXG4nO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld1BpZWNlcyA9IHRoaXMuY3JlYXRlTmV3UGllY2VzKHZhbHVlKTtcbiAgICAgICAgY29uc3QgbmV3Tm9kZSA9IHRoaXMucmJJbnNlcnRSaWdodChub2RlLCBuZXdQaWVjZXNbMF0pO1xuICAgICAgICBsZXQgdG1wTm9kZSA9IG5ld05vZGU7XG4gICAgICAgIGZvciAobGV0IGsgPSAxOyBrIDwgbmV3UGllY2VzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICB0bXBOb2RlID0gdGhpcy5yYkluc2VydFJpZ2h0KHRtcE5vZGUsIG5ld1BpZWNlc1trXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWxpZGF0ZUNSTEZXaXRoUHJldk5vZGUobmV3Tm9kZSk7XG4gICAgfVxuICAgIHBvc2l0aW9uSW5CdWZmZXIobm9kZSwgcmVtYWluZGVyLCByZXQpIHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBub2RlLnBpZWNlO1xuICAgICAgICBjb25zdCBidWZmZXJJbmRleCA9IG5vZGUucGllY2UuYnVmZmVySW5kZXg7XG4gICAgICAgIGNvbnN0IGxpbmVTdGFydHMgPSB0aGlzLl9idWZmZXJzW2J1ZmZlckluZGV4XS5saW5lU3RhcnRzO1xuICAgICAgICBjb25zdCBzdGFydE9mZnNldCA9IGxpbmVTdGFydHNbcGllY2Uuc3RhcnQubGluZV0gKyBwaWVjZS5zdGFydC5jb2x1bW47XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHN0YXJ0T2Zmc2V0ICsgcmVtYWluZGVyO1xuICAgICAgICAvLyBiaW5hcnkgc2VhcmNoIG9mZnNldCBiZXR3ZWVuIHN0YXJ0T2Zmc2V0IGFuZCBlbmRPZmZzZXRcbiAgICAgICAgbGV0IGxvdyA9IHBpZWNlLnN0YXJ0LmxpbmU7XG4gICAgICAgIGxldCBoaWdoID0gcGllY2UuZW5kLmxpbmU7XG4gICAgICAgIGxldCBtaWQgPSAwO1xuICAgICAgICBsZXQgbWlkU3RvcCA9IDA7XG4gICAgICAgIGxldCBtaWRTdGFydCA9IDA7XG4gICAgICAgIHdoaWxlIChsb3cgPD0gaGlnaCkge1xuICAgICAgICAgICAgbWlkID0gbG93ICsgKChoaWdoIC0gbG93KSAvIDIpIHwgMDtcbiAgICAgICAgICAgIG1pZFN0YXJ0ID0gbGluZVN0YXJ0c1ttaWRdO1xuICAgICAgICAgICAgaWYgKG1pZCA9PT0gaGlnaCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWlkU3RvcCA9IGxpbmVTdGFydHNbbWlkICsgMV07XG4gICAgICAgICAgICBpZiAob2Zmc2V0IDwgbWlkU3RhcnQpIHtcbiAgICAgICAgICAgICAgICBoaWdoID0gbWlkIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9mZnNldCA+PSBtaWRTdG9wKSB7XG4gICAgICAgICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICAgIHJldC5saW5lID0gbWlkO1xuICAgICAgICAgICAgcmV0LmNvbHVtbiA9IG9mZnNldCAtIG1pZFN0YXJ0O1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxpbmU6IG1pZCxcbiAgICAgICAgICAgIGNvbHVtbjogb2Zmc2V0IC0gbWlkU3RhcnRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0TGluZUZlZWRDbnQoYnVmZmVySW5kZXgsIHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBzdGFydDogYWJjXFxyfFxcbiwgb3IgYWJjfFxcciwgb3IgYWJjfFxcbiwgb3IgYWJjfFxcclxcbiBkb2Vzbid0IGNoYW5nZSB0aGUgZmFjdCB0aGF0LCB0aGVyZSBpcyBvbmUgbGluZSBicmVhayBhZnRlciBzdGFydC5cbiAgICAgICAgLy8gbm93IGxldCdzIHRha2UgY2FyZSBvZiBlbmQ6IGFiY1xccnxcXG4sIGlmIGVuZCBpcyBpbiBiZXR3ZWVuIFxcciBhbmQgXFxuLCB3ZSBuZWVkIHRvIGFkZCBsaW5lIGZlZWQgY291bnQgYnkgMVxuICAgICAgICBpZiAoZW5kLmNvbHVtbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGVuZC5saW5lIC0gc3RhcnQubGluZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsaW5lU3RhcnRzID0gdGhpcy5fYnVmZmVyc1tidWZmZXJJbmRleF0ubGluZVN0YXJ0cztcbiAgICAgICAgaWYgKGVuZC5saW5lID09PSBsaW5lU3RhcnRzLmxlbmd0aCAtIDEpIHsgLy8gaXQgbWVhbnMsIHRoZXJlIGlzIG5vIFxcbiBhZnRlciBlbmQsIG90aGVyd2lzZSwgdGhlcmUgd2lsbCBiZSBvbmUgbW9yZSBsaW5lU3RhcnQuXG4gICAgICAgICAgICByZXR1cm4gZW5kLmxpbmUgLSBzdGFydC5saW5lO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5leHRMaW5lU3RhcnRPZmZzZXQgPSBsaW5lU3RhcnRzW2VuZC5saW5lICsgMV07XG4gICAgICAgIGNvbnN0IGVuZE9mZnNldCA9IGxpbmVTdGFydHNbZW5kLmxpbmVdICsgZW5kLmNvbHVtbjtcbiAgICAgICAgaWYgKG5leHRMaW5lU3RhcnRPZmZzZXQgPiBlbmRPZmZzZXQgKyAxKSB7IC8vIHRoZXJlIGFyZSBtb3JlIHRoYW4gMSBjaGFyYWN0ZXIgYWZ0ZXIgZW5kLCB3aGljaCBtZWFucyBpdCBjYW4ndCBiZSBcXG5cbiAgICAgICAgICAgIHJldHVybiBlbmQubGluZSAtIHN0YXJ0LmxpbmU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZW5kT2Zmc2V0ICsgMSA9PT0gbmV4dExpbmVTdGFydE9mZnNldFxuICAgICAgICAvLyBjaGFyYWN0ZXIgYXQgZW5kT2Zmc2V0IGlzIFxcbiwgc28gd2UgY2hlY2sgdGhlIGNoYXJhY3RlciBiZWZvcmUgZmlyc3RcbiAgICAgICAgLy8gaWYgY2hhcmFjdGVyIGF0IGVuZE9mZnNldCBpcyBcXHIsIGVuZC5jb2x1bW4gaXMgMCBhbmQgd2UgY2FuJ3QgZ2V0IGhlcmUuXG4gICAgICAgIGNvbnN0IHByZXZpb3VzQ2hhck9mZnNldCA9IGVuZE9mZnNldCAtIDE7IC8vIGVuZC5jb2x1bW4gPiAwIHNvIGl0J3Mgb2theS5cbiAgICAgICAgY29uc3QgYnVmZmVyID0gdGhpcy5fYnVmZmVyc1tidWZmZXJJbmRleF0uYnVmZmVyO1xuICAgICAgICBpZiAoYnVmZmVyLmNoYXJDb2RlQXQocHJldmlvdXNDaGFyT2Zmc2V0KSA9PT0gMTMpIHtcbiAgICAgICAgICAgIHJldHVybiBlbmQubGluZSAtIHN0YXJ0LmxpbmUgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGVuZC5saW5lIC0gc3RhcnQubGluZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvZmZzZXRJbkJ1ZmZlcihidWZmZXJJbmRleCwgY3Vyc29yKSB7XG4gICAgICAgIGNvbnN0IGxpbmVTdGFydHMgPSB0aGlzLl9idWZmZXJzW2J1ZmZlckluZGV4XS5saW5lU3RhcnRzO1xuICAgICAgICByZXR1cm4gbGluZVN0YXJ0c1tjdXJzb3IubGluZV0gKyBjdXJzb3IuY29sdW1uO1xuICAgIH1cbiAgICBkZWxldGVOb2Rlcyhub2Rlcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByYkRlbGV0ZSh0aGlzLCBub2Rlc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlTmV3UGllY2VzKHRleHQpIHtcbiAgICAgICAgaWYgKHRleHQubGVuZ3RoID4gQXZlcmFnZUJ1ZmZlclNpemUpIHtcbiAgICAgICAgICAgIC8vIHRoZSBjb250ZW50IGlzIGxhcmdlLCBvcGVyYXRpb25zIGxpa2Ugc3Vic3RyaW5nLCBjaGFyQ29kZSBiZWNvbWVzIHNsb3dcbiAgICAgICAgICAgIC8vIHNvIGhlcmUgd2Ugc3BsaXQgaXQgaW50byBzbWFsbGVyIGNodW5rcywganVzdCBsaWtlIHdoYXQgd2UgZGlkIGZvciBDUi9MRiBub3JtYWxpemF0aW9uXG4gICAgICAgICAgICBjb25zdCBuZXdQaWVjZXMgPSBbXTtcbiAgICAgICAgICAgIHdoaWxlICh0ZXh0Lmxlbmd0aCA+IEF2ZXJhZ2VCdWZmZXJTaXplKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdENoYXIgPSB0ZXh0LmNoYXJDb2RlQXQoQXZlcmFnZUJ1ZmZlclNpemUgLSAxKTtcbiAgICAgICAgICAgICAgICBsZXQgc3BsaXRUZXh0O1xuICAgICAgICAgICAgICAgIGlmIChsYXN0Q2hhciA9PT0gMTMgLyogQ2hhckNvZGUuQ2FycmlhZ2VSZXR1cm4gKi8gfHwgKGxhc3RDaGFyID49IDB4RDgwMCAmJiBsYXN0Q2hhciA8PSAweERCRkYpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxhc3QgY2hhcmFjdGVyIGlzIFxcciBvciBhIGhpZ2ggc3Vycm9nYXRlID0+IGtlZXAgaXQgYmFja1xuICAgICAgICAgICAgICAgICAgICBzcGxpdFRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCBBdmVyYWdlQnVmZmVyU2l6ZSAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoQXZlcmFnZUJ1ZmZlclNpemUgLSAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNwbGl0VGV4dCA9IHRleHQuc3Vic3RyaW5nKDAsIEF2ZXJhZ2VCdWZmZXJTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKEF2ZXJhZ2VCdWZmZXJTaXplKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZVN0YXJ0cyA9IGNyZWF0ZUxpbmVTdGFydHNGYXN0KHNwbGl0VGV4dCk7XG4gICAgICAgICAgICAgICAgbmV3UGllY2VzLnB1c2gobmV3IFBpZWNlKHRoaXMuX2J1ZmZlcnMubGVuZ3RoLCAvKiBidWZmZXIgaW5kZXggKi8geyBsaW5lOiAwLCBjb2x1bW46IDAgfSwgeyBsaW5lOiBsaW5lU3RhcnRzLmxlbmd0aCAtIDEsIGNvbHVtbjogc3BsaXRUZXh0Lmxlbmd0aCAtIGxpbmVTdGFydHNbbGluZVN0YXJ0cy5sZW5ndGggLSAxXSB9LCBsaW5lU3RhcnRzLmxlbmd0aCAtIDEsIHNwbGl0VGV4dC5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXJzLnB1c2gobmV3IFN0cmluZ0J1ZmZlcihzcGxpdFRleHQsIGxpbmVTdGFydHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxpbmVTdGFydHMgPSBjcmVhdGVMaW5lU3RhcnRzRmFzdCh0ZXh0KTtcbiAgICAgICAgICAgIG5ld1BpZWNlcy5wdXNoKG5ldyBQaWVjZSh0aGlzLl9idWZmZXJzLmxlbmd0aCwgLyogYnVmZmVyIGluZGV4ICovIHsgbGluZTogMCwgY29sdW1uOiAwIH0sIHsgbGluZTogbGluZVN0YXJ0cy5sZW5ndGggLSAxLCBjb2x1bW46IHRleHQubGVuZ3RoIC0gbGluZVN0YXJ0c1tsaW5lU3RhcnRzLmxlbmd0aCAtIDFdIH0sIGxpbmVTdGFydHMubGVuZ3RoIC0gMSwgdGV4dC5sZW5ndGgpKTtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMucHVzaChuZXcgU3RyaW5nQnVmZmVyKHRleHQsIGxpbmVTdGFydHMpKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdQaWVjZXM7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0YXJ0T2Zmc2V0ID0gdGhpcy5fYnVmZmVyc1swXS5idWZmZXIubGVuZ3RoO1xuICAgICAgICBjb25zdCBsaW5lU3RhcnRzID0gY3JlYXRlTGluZVN0YXJ0c0Zhc3QodGV4dCwgZmFsc2UpO1xuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLl9sYXN0Q2hhbmdlQnVmZmVyUG9zO1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVyc1swXS5saW5lU3RhcnRzW3RoaXMuX2J1ZmZlcnNbMF0ubGluZVN0YXJ0cy5sZW5ndGggLSAxXSA9PT0gc3RhcnRPZmZzZXRcbiAgICAgICAgICAgICYmIHN0YXJ0T2Zmc2V0ICE9PSAwXG4gICAgICAgICAgICAmJiB0aGlzLnN0YXJ0V2l0aExGKHRleHQpXG4gICAgICAgICAgICAmJiB0aGlzLmVuZFdpdGhDUih0aGlzLl9idWZmZXJzWzBdLmJ1ZmZlcikgLy8gdG9kbywgd2UgY2FuIGNoZWNrIHRoaXMuX2xhc3RDaGFuZ2VCdWZmZXJQb3MncyBjb2x1bW4gYXMgaXQncyB0aGUgbGFzdCBvbmVcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0Q2hhbmdlQnVmZmVyUG9zID0geyBsaW5lOiB0aGlzLl9sYXN0Q2hhbmdlQnVmZmVyUG9zLmxpbmUsIGNvbHVtbjogdGhpcy5fbGFzdENoYW5nZUJ1ZmZlclBvcy5jb2x1bW4gKyAxIH07XG4gICAgICAgICAgICBzdGFydCA9IHRoaXMuX2xhc3RDaGFuZ2VCdWZmZXJQb3M7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVTdGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsaW5lU3RhcnRzW2ldICs9IHN0YXJ0T2Zmc2V0ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnNbMF0ubGluZVN0YXJ0cyA9IHRoaXMuX2J1ZmZlcnNbMF0ubGluZVN0YXJ0cy5jb25jYXQobGluZVN0YXJ0cy5zbGljZSgxKSk7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzWzBdLmJ1ZmZlciArPSAnXycgKyB0ZXh0O1xuICAgICAgICAgICAgc3RhcnRPZmZzZXQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzdGFydE9mZnNldCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZVN0YXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnRzW2ldICs9IHN0YXJ0T2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnNbMF0ubGluZVN0YXJ0cyA9IHRoaXMuX2J1ZmZlcnNbMF0ubGluZVN0YXJ0cy5jb25jYXQobGluZVN0YXJ0cy5zbGljZSgxKSk7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzWzBdLmJ1ZmZlciArPSB0ZXh0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVuZE9mZnNldCA9IHRoaXMuX2J1ZmZlcnNbMF0uYnVmZmVyLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZW5kSW5kZXggPSB0aGlzLl9idWZmZXJzWzBdLmxpbmVTdGFydHMubGVuZ3RoIC0gMTtcbiAgICAgICAgY29uc3QgZW5kQ29sdW1uID0gZW5kT2Zmc2V0IC0gdGhpcy5fYnVmZmVyc1swXS5saW5lU3RhcnRzW2VuZEluZGV4XTtcbiAgICAgICAgY29uc3QgZW5kUG9zID0geyBsaW5lOiBlbmRJbmRleCwgY29sdW1uOiBlbmRDb2x1bW4gfTtcbiAgICAgICAgY29uc3QgbmV3UGllY2UgPSBuZXcgUGllY2UoMCwgLyoqIHRvZG9AcGVuZyAqLyBzdGFydCwgZW5kUG9zLCB0aGlzLmdldExpbmVGZWVkQ250KDAsIHN0YXJ0LCBlbmRQb3MpLCBlbmRPZmZzZXQgLSBzdGFydE9mZnNldCk7XG4gICAgICAgIHRoaXMuX2xhc3RDaGFuZ2VCdWZmZXJQb3MgPSBlbmRQb3M7XG4gICAgICAgIHJldHVybiBbbmV3UGllY2VdO1xuICAgIH1cbiAgICBnZXRMaW5lUmF3Q29udGVudChsaW5lTnVtYmVyLCBlbmRPZmZzZXQgPSAwKSB7XG4gICAgICAgIGxldCB4ID0gdGhpcy5yb290O1xuICAgICAgICBsZXQgcmV0ID0gJyc7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5fc2VhcmNoQ2FjaGUuZ2V0MihsaW5lTnVtYmVyKTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICB4ID0gY2FjaGUubm9kZTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZBY2N1bXVsYXRlZFZhbHVlID0gdGhpcy5nZXRBY2N1bXVsYXRlZFZhbHVlKHgsIGxpbmVOdW1iZXIgLSBjYWNoZS5ub2RlU3RhcnRMaW5lTnVtYmVyIC0gMSk7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLl9idWZmZXJzW3gucGllY2UuYnVmZmVySW5kZXhdLmJ1ZmZlcjtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0T2Zmc2V0ID0gdGhpcy5vZmZzZXRJbkJ1ZmZlcih4LnBpZWNlLmJ1ZmZlckluZGV4LCB4LnBpZWNlLnN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChjYWNoZS5ub2RlU3RhcnRMaW5lTnVtYmVyICsgeC5waWVjZS5saW5lRmVlZENudCA9PT0gbGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgIHJldCA9IGJ1ZmZlci5zdWJzdHJpbmcoc3RhcnRPZmZzZXQgKyBwcmV2QWNjdW11bGF0ZWRWYWx1ZSwgc3RhcnRPZmZzZXQgKyB4LnBpZWNlLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2N1bXVsYXRlZFZhbHVlID0gdGhpcy5nZXRBY2N1bXVsYXRlZFZhbHVlKHgsIGxpbmVOdW1iZXIgLSBjYWNoZS5ub2RlU3RhcnRMaW5lTnVtYmVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyLnN1YnN0cmluZyhzdGFydE9mZnNldCArIHByZXZBY2N1bXVsYXRlZFZhbHVlLCBzdGFydE9mZnNldCArIGFjY3VtdWxhdGVkVmFsdWUgLSBlbmRPZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IG5vZGVTdGFydE9mZnNldCA9IDA7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbExpbmVOdW1iZXIgPSBsaW5lTnVtYmVyO1xuICAgICAgICAgICAgd2hpbGUgKHggIT09IFNFTlRJTkVMKSB7XG4gICAgICAgICAgICAgICAgaWYgKHgubGVmdCAhPT0gU0VOVElORUwgJiYgeC5sZl9sZWZ0ID49IGxpbmVOdW1iZXIgLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSB4LmxlZnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHgubGZfbGVmdCArIHgucGllY2UubGluZUZlZWRDbnQgPiBsaW5lTnVtYmVyIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2QWNjdW11bGF0ZWRWYWx1ZSA9IHRoaXMuZ2V0QWNjdW11bGF0ZWRWYWx1ZSh4LCBsaW5lTnVtYmVyIC0geC5sZl9sZWZ0IC0gMik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjY3VtdWxhdGVkVmFsdWUgPSB0aGlzLmdldEFjY3VtdWxhdGVkVmFsdWUoeCwgbGluZU51bWJlciAtIHgubGZfbGVmdCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLl9idWZmZXJzW3gucGllY2UuYnVmZmVySW5kZXhdLmJ1ZmZlcjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSB0aGlzLm9mZnNldEluQnVmZmVyKHgucGllY2UuYnVmZmVySW5kZXgsIHgucGllY2Uuc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICBub2RlU3RhcnRPZmZzZXQgKz0geC5zaXplX2xlZnQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlYXJjaENhY2hlLnNldCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlOiB4LFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVN0YXJ0T2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVN0YXJ0TGluZU51bWJlcjogb3JpZ2luYWxMaW5lTnVtYmVyIC0gKGxpbmVOdW1iZXIgLSAxIC0geC5sZl9sZWZ0KVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlci5zdWJzdHJpbmcoc3RhcnRPZmZzZXQgKyBwcmV2QWNjdW11bGF0ZWRWYWx1ZSwgc3RhcnRPZmZzZXQgKyBhY2N1bXVsYXRlZFZhbHVlIC0gZW5kT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoeC5sZl9sZWZ0ICsgeC5waWVjZS5saW5lRmVlZENudCA9PT0gbGluZU51bWJlciAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldkFjY3VtdWxhdGVkVmFsdWUgPSB0aGlzLmdldEFjY3VtdWxhdGVkVmFsdWUoeCwgbGluZU51bWJlciAtIHgubGZfbGVmdCAtIDIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLl9idWZmZXJzW3gucGllY2UuYnVmZmVySW5kZXhdLmJ1ZmZlcjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSB0aGlzLm9mZnNldEluQnVmZmVyKHgucGllY2UuYnVmZmVySW5kZXgsIHgucGllY2Uuc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICByZXQgPSBidWZmZXIuc3Vic3RyaW5nKHN0YXJ0T2Zmc2V0ICsgcHJldkFjY3VtdWxhdGVkVmFsdWUsIHN0YXJ0T2Zmc2V0ICsgeC5waWVjZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVOdW1iZXIgLT0geC5sZl9sZWZ0ICsgeC5waWVjZS5saW5lRmVlZENudDtcbiAgICAgICAgICAgICAgICAgICAgbm9kZVN0YXJ0T2Zmc2V0ICs9IHguc2l6ZV9sZWZ0ICsgeC5waWVjZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHggPSB4LnJpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzZWFyY2ggaW4gb3JkZXIsIHRvIGZpbmQgdGhlIG5vZGUgY29udGFpbnMgZW5kIGNvbHVtblxuICAgICAgICB4ID0geC5uZXh0KCk7XG4gICAgICAgIHdoaWxlICh4ICE9PSBTRU5USU5FTCkge1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gdGhpcy5fYnVmZmVyc1t4LnBpZWNlLmJ1ZmZlckluZGV4XS5idWZmZXI7XG4gICAgICAgICAgICBpZiAoeC5waWVjZS5saW5lRmVlZENudCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2N1bXVsYXRlZFZhbHVlID0gdGhpcy5nZXRBY2N1bXVsYXRlZFZhbHVlKHgsIDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0T2Zmc2V0ID0gdGhpcy5vZmZzZXRJbkJ1ZmZlcih4LnBpZWNlLmJ1ZmZlckluZGV4LCB4LnBpZWNlLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICByZXQgKz0gYnVmZmVyLnN1YnN0cmluZyhzdGFydE9mZnNldCwgc3RhcnRPZmZzZXQgKyBhY2N1bXVsYXRlZFZhbHVlIC0gZW5kT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSB0aGlzLm9mZnNldEluQnVmZmVyKHgucGllY2UuYnVmZmVySW5kZXgsIHgucGllY2Uuc3RhcnQpO1xuICAgICAgICAgICAgICAgIHJldCArPSBidWZmZXIuc3Vic3RyKHN0YXJ0T2Zmc2V0LCB4LnBpZWNlLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4ID0geC5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgY29tcHV0ZUJ1ZmZlck1ldGFkYXRhKCkge1xuICAgICAgICBsZXQgeCA9IHRoaXMucm9vdDtcbiAgICAgICAgbGV0IGxmQ250ID0gMTtcbiAgICAgICAgbGV0IGxlbiA9IDA7XG4gICAgICAgIHdoaWxlICh4ICE9PSBTRU5USU5FTCkge1xuICAgICAgICAgICAgbGZDbnQgKz0geC5sZl9sZWZ0ICsgeC5waWVjZS5saW5lRmVlZENudDtcbiAgICAgICAgICAgIGxlbiArPSB4LnNpemVfbGVmdCArIHgucGllY2UubGVuZ3RoO1xuICAgICAgICAgICAgeCA9IHgucmlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGluZUNudCA9IGxmQ250O1xuICAgICAgICB0aGlzLl9sZW5ndGggPSBsZW47XG4gICAgICAgIHRoaXMuX3NlYXJjaENhY2hlLnZhbGlkYXRlKHRoaXMuX2xlbmd0aCk7XG4gICAgfVxuICAgIC8vICNyZWdpb24gbm9kZSBvcGVyYXRpb25zXG4gICAgZ2V0SW5kZXhPZihub2RlLCBhY2N1bXVsYXRlZFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gbm9kZS5waWVjZTtcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5wb3NpdGlvbkluQnVmZmVyKG5vZGUsIGFjY3VtdWxhdGVkVmFsdWUpO1xuICAgICAgICBjb25zdCBsaW5lQ250ID0gcG9zLmxpbmUgLSBwaWVjZS5zdGFydC5saW5lO1xuICAgICAgICBpZiAodGhpcy5vZmZzZXRJbkJ1ZmZlcihwaWVjZS5idWZmZXJJbmRleCwgcGllY2UuZW5kKSAtIHRoaXMub2Zmc2V0SW5CdWZmZXIocGllY2UuYnVmZmVySW5kZXgsIHBpZWNlLnN0YXJ0KSA9PT0gYWNjdW11bGF0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgLy8gd2UgYXJlIGNoZWNraW5nIHRoZSBlbmQgb2YgdGhpcyBub2RlLCBzbyBhIENSTEYgY2hlY2sgaXMgbmVjZXNzYXJ5LlxuICAgICAgICAgICAgY29uc3QgcmVhbExpbmVDbnQgPSB0aGlzLmdldExpbmVGZWVkQ250KG5vZGUucGllY2UuYnVmZmVySW5kZXgsIHBpZWNlLnN0YXJ0LCBwb3MpO1xuICAgICAgICAgICAgaWYgKHJlYWxMaW5lQ250ICE9PSBsaW5lQ250KSB7XG4gICAgICAgICAgICAgICAgLy8gYWhhIHllcywgQ1JMRlxuICAgICAgICAgICAgICAgIHJldHVybiB7IGluZGV4OiByZWFsTGluZUNudCwgcmVtYWluZGVyOiAwIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgaW5kZXg6IGxpbmVDbnQsIHJlbWFpbmRlcjogcG9zLmNvbHVtbiB9O1xuICAgIH1cbiAgICBnZXRBY2N1bXVsYXRlZFZhbHVlKG5vZGUsIGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBpZWNlID0gbm9kZS5waWVjZTtcbiAgICAgICAgY29uc3QgbGluZVN0YXJ0cyA9IHRoaXMuX2J1ZmZlcnNbcGllY2UuYnVmZmVySW5kZXhdLmxpbmVTdGFydHM7XG4gICAgICAgIGNvbnN0IGV4cGVjdGVkTGluZVN0YXJ0SW5kZXggPSBwaWVjZS5zdGFydC5saW5lICsgaW5kZXggKyAxO1xuICAgICAgICBpZiAoZXhwZWN0ZWRMaW5lU3RhcnRJbmRleCA+IHBpZWNlLmVuZC5saW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gbGluZVN0YXJ0c1twaWVjZS5lbmQubGluZV0gKyBwaWVjZS5lbmQuY29sdW1uIC0gbGluZVN0YXJ0c1twaWVjZS5zdGFydC5saW5lXSAtIHBpZWNlLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBsaW5lU3RhcnRzW2V4cGVjdGVkTGluZVN0YXJ0SW5kZXhdIC0gbGluZVN0YXJ0c1twaWVjZS5zdGFydC5saW5lXSAtIHBpZWNlLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWxldGVOb2RlVGFpbChub2RlLCBwb3MpIHtcbiAgICAgICAgY29uc3QgcGllY2UgPSBub2RlLnBpZWNlO1xuICAgICAgICBjb25zdCBvcmlnaW5hbExGQ250ID0gcGllY2UubGluZUZlZWRDbnQ7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsRW5kT2Zmc2V0ID0gdGhpcy5vZmZzZXRJbkJ1ZmZlcihwaWVjZS5idWZmZXJJbmRleCwgcGllY2UuZW5kKTtcbiAgICAgICAgY29uc3QgbmV3RW5kID0gcG9zO1xuICAgICAgICBjb25zdCBuZXdFbmRPZmZzZXQgPSB0aGlzLm9mZnNldEluQnVmZmVyKHBpZWNlLmJ1ZmZlckluZGV4LCBuZXdFbmQpO1xuICAgICAgICBjb25zdCBuZXdMaW5lRmVlZENudCA9IHRoaXMuZ2V0TGluZUZlZWRDbnQocGllY2UuYnVmZmVySW5kZXgsIHBpZWNlLnN0YXJ0LCBuZXdFbmQpO1xuICAgICAgICBjb25zdCBsZl9kZWx0YSA9IG5ld0xpbmVGZWVkQ250IC0gb3JpZ2luYWxMRkNudDtcbiAgICAgICAgY29uc3Qgc2l6ZV9kZWx0YSA9IG5ld0VuZE9mZnNldCAtIG9yaWdpbmFsRW5kT2Zmc2V0O1xuICAgICAgICBjb25zdCBuZXdMZW5ndGggPSBwaWVjZS5sZW5ndGggKyBzaXplX2RlbHRhO1xuICAgICAgICBub2RlLnBpZWNlID0gbmV3IFBpZWNlKHBpZWNlLmJ1ZmZlckluZGV4LCBwaWVjZS5zdGFydCwgbmV3RW5kLCBuZXdMaW5lRmVlZENudCwgbmV3TGVuZ3RoKTtcbiAgICAgICAgdXBkYXRlVHJlZU1ldGFkYXRhKHRoaXMsIG5vZGUsIHNpemVfZGVsdGEsIGxmX2RlbHRhKTtcbiAgICB9XG4gICAgZGVsZXRlTm9kZUhlYWQobm9kZSwgcG9zKSB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gbm9kZS5waWVjZTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxMRkNudCA9IHBpZWNlLmxpbmVGZWVkQ250O1xuICAgICAgICBjb25zdCBvcmlnaW5hbFN0YXJ0T2Zmc2V0ID0gdGhpcy5vZmZzZXRJbkJ1ZmZlcihwaWVjZS5idWZmZXJJbmRleCwgcGllY2Uuc3RhcnQpO1xuICAgICAgICBjb25zdCBuZXdTdGFydCA9IHBvcztcbiAgICAgICAgY29uc3QgbmV3TGluZUZlZWRDbnQgPSB0aGlzLmdldExpbmVGZWVkQ250KHBpZWNlLmJ1ZmZlckluZGV4LCBuZXdTdGFydCwgcGllY2UuZW5kKTtcbiAgICAgICAgY29uc3QgbmV3U3RhcnRPZmZzZXQgPSB0aGlzLm9mZnNldEluQnVmZmVyKHBpZWNlLmJ1ZmZlckluZGV4LCBuZXdTdGFydCk7XG4gICAgICAgIGNvbnN0IGxmX2RlbHRhID0gbmV3TGluZUZlZWRDbnQgLSBvcmlnaW5hbExGQ250O1xuICAgICAgICBjb25zdCBzaXplX2RlbHRhID0gb3JpZ2luYWxTdGFydE9mZnNldCAtIG5ld1N0YXJ0T2Zmc2V0O1xuICAgICAgICBjb25zdCBuZXdMZW5ndGggPSBwaWVjZS5sZW5ndGggKyBzaXplX2RlbHRhO1xuICAgICAgICBub2RlLnBpZWNlID0gbmV3IFBpZWNlKHBpZWNlLmJ1ZmZlckluZGV4LCBuZXdTdGFydCwgcGllY2UuZW5kLCBuZXdMaW5lRmVlZENudCwgbmV3TGVuZ3RoKTtcbiAgICAgICAgdXBkYXRlVHJlZU1ldGFkYXRhKHRoaXMsIG5vZGUsIHNpemVfZGVsdGEsIGxmX2RlbHRhKTtcbiAgICB9XG4gICAgc2hyaW5rTm9kZShub2RlLCBzdGFydCwgZW5kKSB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gbm9kZS5waWVjZTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxTdGFydFBvcyA9IHBpZWNlLnN0YXJ0O1xuICAgICAgICBjb25zdCBvcmlnaW5hbEVuZFBvcyA9IHBpZWNlLmVuZDtcbiAgICAgICAgLy8gb2xkIHBpZWNlLCBvcmlnaW5hbFN0YXJ0UG9zLCBzdGFydFxuICAgICAgICBjb25zdCBvbGRMZW5ndGggPSBwaWVjZS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IG9sZExGQ250ID0gcGllY2UubGluZUZlZWRDbnQ7XG4gICAgICAgIGNvbnN0IG5ld0VuZCA9IHN0YXJ0O1xuICAgICAgICBjb25zdCBuZXdMaW5lRmVlZENudCA9IHRoaXMuZ2V0TGluZUZlZWRDbnQocGllY2UuYnVmZmVySW5kZXgsIHBpZWNlLnN0YXJ0LCBuZXdFbmQpO1xuICAgICAgICBjb25zdCBuZXdMZW5ndGggPSB0aGlzLm9mZnNldEluQnVmZmVyKHBpZWNlLmJ1ZmZlckluZGV4LCBzdGFydCkgLSB0aGlzLm9mZnNldEluQnVmZmVyKHBpZWNlLmJ1ZmZlckluZGV4LCBvcmlnaW5hbFN0YXJ0UG9zKTtcbiAgICAgICAgbm9kZS5waWVjZSA9IG5ldyBQaWVjZShwaWVjZS5idWZmZXJJbmRleCwgcGllY2Uuc3RhcnQsIG5ld0VuZCwgbmV3TGluZUZlZWRDbnQsIG5ld0xlbmd0aCk7XG4gICAgICAgIHVwZGF0ZVRyZWVNZXRhZGF0YSh0aGlzLCBub2RlLCBuZXdMZW5ndGggLSBvbGRMZW5ndGgsIG5ld0xpbmVGZWVkQ250IC0gb2xkTEZDbnQpO1xuICAgICAgICAvLyBuZXcgcmlnaHQgcGllY2UsIGVuZCwgb3JpZ2luYWxFbmRQb3NcbiAgICAgICAgY29uc3QgbmV3UGllY2UgPSBuZXcgUGllY2UocGllY2UuYnVmZmVySW5kZXgsIGVuZCwgb3JpZ2luYWxFbmRQb3MsIHRoaXMuZ2V0TGluZUZlZWRDbnQocGllY2UuYnVmZmVySW5kZXgsIGVuZCwgb3JpZ2luYWxFbmRQb3MpLCB0aGlzLm9mZnNldEluQnVmZmVyKHBpZWNlLmJ1ZmZlckluZGV4LCBvcmlnaW5hbEVuZFBvcykgLSB0aGlzLm9mZnNldEluQnVmZmVyKHBpZWNlLmJ1ZmZlckluZGV4LCBlbmQpKTtcbiAgICAgICAgY29uc3QgbmV3Tm9kZSA9IHRoaXMucmJJbnNlcnRSaWdodChub2RlLCBuZXdQaWVjZSk7XG4gICAgICAgIHRoaXMudmFsaWRhdGVDUkxGV2l0aFByZXZOb2RlKG5ld05vZGUpO1xuICAgIH1cbiAgICBhcHBlbmRUb05vZGUobm9kZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuYWRqdXN0Q2FycmlhZ2VSZXR1cm5Gcm9tTmV4dCh2YWx1ZSwgbm9kZSkpIHtcbiAgICAgICAgICAgIHZhbHVlICs9ICdcXG4nO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhpdENSTEYgPSB0aGlzLnNob3VsZENoZWNrQ1JMRigpICYmIHRoaXMuc3RhcnRXaXRoTEYodmFsdWUpICYmIHRoaXMuZW5kV2l0aENSKG5vZGUpO1xuICAgICAgICBjb25zdCBzdGFydE9mZnNldCA9IHRoaXMuX2J1ZmZlcnNbMF0uYnVmZmVyLmxlbmd0aDtcbiAgICAgICAgdGhpcy5fYnVmZmVyc1swXS5idWZmZXIgKz0gdmFsdWU7XG4gICAgICAgIGNvbnN0IGxpbmVTdGFydHMgPSBjcmVhdGVMaW5lU3RhcnRzRmFzdCh2YWx1ZSwgZmFsc2UpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVTdGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxpbmVTdGFydHNbaV0gKz0gc3RhcnRPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhpdENSTEYpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZTdGFydE9mZnNldCA9IHRoaXMuX2J1ZmZlcnNbMF0ubGluZVN0YXJ0c1t0aGlzLl9idWZmZXJzWzBdLmxpbmVTdGFydHMubGVuZ3RoIC0gMl07XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzWzBdLmxpbmVTdGFydHMucG9wKCk7XG4gICAgICAgICAgICAvLyBfbGFzdENoYW5nZUJ1ZmZlclBvcyBpcyBhbHJlYWR5IHdyb25nXG4gICAgICAgICAgICB0aGlzLl9sYXN0Q2hhbmdlQnVmZmVyUG9zID0geyBsaW5lOiB0aGlzLl9sYXN0Q2hhbmdlQnVmZmVyUG9zLmxpbmUgLSAxLCBjb2x1bW46IHN0YXJ0T2Zmc2V0IC0gcHJldlN0YXJ0T2Zmc2V0IH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnVmZmVyc1swXS5saW5lU3RhcnRzID0gdGhpcy5fYnVmZmVyc1swXS5saW5lU3RhcnRzLmNvbmNhdChsaW5lU3RhcnRzLnNsaWNlKDEpKTtcbiAgICAgICAgY29uc3QgZW5kSW5kZXggPSB0aGlzLl9idWZmZXJzWzBdLmxpbmVTdGFydHMubGVuZ3RoIC0gMTtcbiAgICAgICAgY29uc3QgZW5kQ29sdW1uID0gdGhpcy5fYnVmZmVyc1swXS5idWZmZXIubGVuZ3RoIC0gdGhpcy5fYnVmZmVyc1swXS5saW5lU3RhcnRzW2VuZEluZGV4XTtcbiAgICAgICAgY29uc3QgbmV3RW5kID0geyBsaW5lOiBlbmRJbmRleCwgY29sdW1uOiBlbmRDb2x1bW4gfTtcbiAgICAgICAgY29uc3QgbmV3TGVuZ3RoID0gbm9kZS5waWVjZS5sZW5ndGggKyB2YWx1ZS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IG9sZExpbmVGZWVkQ250ID0gbm9kZS5waWVjZS5saW5lRmVlZENudDtcbiAgICAgICAgY29uc3QgbmV3TGluZUZlZWRDbnQgPSB0aGlzLmdldExpbmVGZWVkQ250KDAsIG5vZGUucGllY2Uuc3RhcnQsIG5ld0VuZCk7XG4gICAgICAgIGNvbnN0IGxmX2RlbHRhID0gbmV3TGluZUZlZWRDbnQgLSBvbGRMaW5lRmVlZENudDtcbiAgICAgICAgbm9kZS5waWVjZSA9IG5ldyBQaWVjZShub2RlLnBpZWNlLmJ1ZmZlckluZGV4LCBub2RlLnBpZWNlLnN0YXJ0LCBuZXdFbmQsIG5ld0xpbmVGZWVkQ250LCBuZXdMZW5ndGgpO1xuICAgICAgICB0aGlzLl9sYXN0Q2hhbmdlQnVmZmVyUG9zID0gbmV3RW5kO1xuICAgICAgICB1cGRhdGVUcmVlTWV0YWRhdGEodGhpcywgbm9kZSwgdmFsdWUubGVuZ3RoLCBsZl9kZWx0YSk7XG4gICAgfVxuICAgIG5vZGVBdChvZmZzZXQpIHtcbiAgICAgICAgbGV0IHggPSB0aGlzLnJvb3Q7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5fc2VhcmNoQ2FjaGUuZ2V0KG9mZnNldCk7XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBub2RlOiBjYWNoZS5ub2RlLFxuICAgICAgICAgICAgICAgIG5vZGVTdGFydE9mZnNldDogY2FjaGUubm9kZVN0YXJ0T2Zmc2V0LFxuICAgICAgICAgICAgICAgIHJlbWFpbmRlcjogb2Zmc2V0IC0gY2FjaGUubm9kZVN0YXJ0T2Zmc2V0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGxldCBub2RlU3RhcnRPZmZzZXQgPSAwO1xuICAgICAgICB3aGlsZSAoeCAhPT0gU0VOVElORUwpIHtcbiAgICAgICAgICAgIGlmICh4LnNpemVfbGVmdCA+IG9mZnNldCkge1xuICAgICAgICAgICAgICAgIHggPSB4LmxlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh4LnNpemVfbGVmdCArIHgucGllY2UubGVuZ3RoID49IG9mZnNldCkge1xuICAgICAgICAgICAgICAgIG5vZGVTdGFydE9mZnNldCArPSB4LnNpemVfbGVmdDtcbiAgICAgICAgICAgICAgICBjb25zdCByZXQgPSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHgsXG4gICAgICAgICAgICAgICAgICAgIHJlbWFpbmRlcjogb2Zmc2V0IC0geC5zaXplX2xlZnQsXG4gICAgICAgICAgICAgICAgICAgIG5vZGVTdGFydE9mZnNldFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VhcmNoQ2FjaGUuc2V0KHJldCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9mZnNldCAtPSB4LnNpemVfbGVmdCArIHgucGllY2UubGVuZ3RoO1xuICAgICAgICAgICAgICAgIG5vZGVTdGFydE9mZnNldCArPSB4LnNpemVfbGVmdCArIHgucGllY2UubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHggPSB4LnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBub2RlQXQyKGxpbmVOdW1iZXIsIGNvbHVtbikge1xuICAgICAgICBsZXQgeCA9IHRoaXMucm9vdDtcbiAgICAgICAgbGV0IG5vZGVTdGFydE9mZnNldCA9IDA7XG4gICAgICAgIHdoaWxlICh4ICE9PSBTRU5USU5FTCkge1xuICAgICAgICAgICAgaWYgKHgubGVmdCAhPT0gU0VOVElORUwgJiYgeC5sZl9sZWZ0ID49IGxpbmVOdW1iZXIgLSAxKSB7XG4gICAgICAgICAgICAgICAgeCA9IHgubGVmdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHgubGZfbGVmdCArIHgucGllY2UubGluZUZlZWRDbnQgPiBsaW5lTnVtYmVyIC0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZBY2N1bXVhbHRlZFZhbHVlID0gdGhpcy5nZXRBY2N1bXVsYXRlZFZhbHVlKHgsIGxpbmVOdW1iZXIgLSB4LmxmX2xlZnQgLSAyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2N1bXVsYXRlZFZhbHVlID0gdGhpcy5nZXRBY2N1bXVsYXRlZFZhbHVlKHgsIGxpbmVOdW1iZXIgLSB4LmxmX2xlZnQgLSAxKTtcbiAgICAgICAgICAgICAgICBub2RlU3RhcnRPZmZzZXQgKz0geC5zaXplX2xlZnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogeCxcbiAgICAgICAgICAgICAgICAgICAgcmVtYWluZGVyOiBNYXRoLm1pbihwcmV2QWNjdW11YWx0ZWRWYWx1ZSArIGNvbHVtbiAtIDEsIGFjY3VtdWxhdGVkVmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICBub2RlU3RhcnRPZmZzZXRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoeC5sZl9sZWZ0ICsgeC5waWVjZS5saW5lRmVlZENudCA9PT0gbGluZU51bWJlciAtIDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2QWNjdW11YWx0ZWRWYWx1ZSA9IHRoaXMuZ2V0QWNjdW11bGF0ZWRWYWx1ZSh4LCBsaW5lTnVtYmVyIC0geC5sZl9sZWZ0IC0gMik7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZBY2N1bXVhbHRlZFZhbHVlICsgY29sdW1uIC0gMSA8PSB4LnBpZWNlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogeCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmRlcjogcHJldkFjY3VtdWFsdGVkVmFsdWUgKyBjb2x1bW4gLSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVN0YXJ0T2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gLT0geC5waWVjZS5sZW5ndGggLSBwcmV2QWNjdW11YWx0ZWRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGluZU51bWJlciAtPSB4LmxmX2xlZnQgKyB4LnBpZWNlLmxpbmVGZWVkQ250O1xuICAgICAgICAgICAgICAgIG5vZGVTdGFydE9mZnNldCArPSB4LnNpemVfbGVmdCArIHgucGllY2UubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHggPSB4LnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNlYXJjaCBpbiBvcmRlciwgdG8gZmluZCB0aGUgbm9kZSBjb250YWlucyBwb3NpdGlvbi5jb2x1bW5cbiAgICAgICAgeCA9IHgubmV4dCgpO1xuICAgICAgICB3aGlsZSAoeCAhPT0gU0VOVElORUwpIHtcbiAgICAgICAgICAgIGlmICh4LnBpZWNlLmxpbmVGZWVkQ250ID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY3VtdWxhdGVkVmFsdWUgPSB0aGlzLmdldEFjY3VtdWxhdGVkVmFsdWUoeCwgMCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZVN0YXJ0T2Zmc2V0ID0gdGhpcy5vZmZzZXRPZk5vZGUoeCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogeCxcbiAgICAgICAgICAgICAgICAgICAgcmVtYWluZGVyOiBNYXRoLm1pbihjb2x1bW4gLSAxLCBhY2N1bXVsYXRlZFZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgbm9kZVN0YXJ0T2Zmc2V0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh4LnBpZWNlLmxlbmd0aCA+PSBjb2x1bW4gLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVTdGFydE9mZnNldCA9IHRoaXMub2Zmc2V0T2ZOb2RlKHgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogeCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmRlcjogY29sdW1uIC0gMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVTdGFydE9mZnNldFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uIC09IHgucGllY2UubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHggPSB4Lm5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbm9kZUNoYXJDb2RlQXQobm9kZSwgb2Zmc2V0KSB7XG4gICAgICAgIGlmIChub2RlLnBpZWNlLmxpbmVGZWVkQ250IDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuX2J1ZmZlcnNbbm9kZS5waWVjZS5idWZmZXJJbmRleF07XG4gICAgICAgIGNvbnN0IG5ld09mZnNldCA9IHRoaXMub2Zmc2V0SW5CdWZmZXIobm9kZS5waWVjZS5idWZmZXJJbmRleCwgbm9kZS5waWVjZS5zdGFydCkgKyBvZmZzZXQ7XG4gICAgICAgIHJldHVybiBidWZmZXIuYnVmZmVyLmNoYXJDb2RlQXQobmV3T2Zmc2V0KTtcbiAgICB9XG4gICAgb2Zmc2V0T2ZOb2RlKG5vZGUpIHtcbiAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcG9zID0gbm9kZS5zaXplX2xlZnQ7XG4gICAgICAgIHdoaWxlIChub2RlICE9PSB0aGlzLnJvb3QpIHtcbiAgICAgICAgICAgIGlmIChub2RlLnBhcmVudC5yaWdodCA9PT0gbm9kZSkge1xuICAgICAgICAgICAgICAgIHBvcyArPSBub2RlLnBhcmVudC5zaXplX2xlZnQgKyBub2RlLnBhcmVudC5waWVjZS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG4gICAgLy8gI2VuZHJlZ2lvblxuICAgIC8vICNyZWdpb24gQ1JMRlxuICAgIHNob3VsZENoZWNrQ1JMRigpIHtcbiAgICAgICAgcmV0dXJuICEodGhpcy5fRU9MTm9ybWFsaXplZCAmJiB0aGlzLl9FT0wgPT09ICdcXG4nKTtcbiAgICB9XG4gICAgc3RhcnRXaXRoTEYodmFsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHZhbC5jaGFyQ29kZUF0KDApID09PSAxMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsID09PSBTRU5USU5FTCB8fCB2YWwucGllY2UubGluZUZlZWRDbnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwaWVjZSA9IHZhbC5waWVjZTtcbiAgICAgICAgY29uc3QgbGluZVN0YXJ0cyA9IHRoaXMuX2J1ZmZlcnNbcGllY2UuYnVmZmVySW5kZXhdLmxpbmVTdGFydHM7XG4gICAgICAgIGNvbnN0IGxpbmUgPSBwaWVjZS5zdGFydC5saW5lO1xuICAgICAgICBjb25zdCBzdGFydE9mZnNldCA9IGxpbmVTdGFydHNbbGluZV0gKyBwaWVjZS5zdGFydC5jb2x1bW47XG4gICAgICAgIGlmIChsaW5lID09PSBsaW5lU3RhcnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIC8vIGxhc3QgbGluZSwgc28gdGhlcmUgaXMgbm8gbGluZSBmZWVkIGF0IHRoZSBlbmQgb2YgdGhpcyBsaW5lXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dExpbmVPZmZzZXQgPSBsaW5lU3RhcnRzW2xpbmUgKyAxXTtcbiAgICAgICAgaWYgKG5leHRMaW5lT2Zmc2V0ID4gc3RhcnRPZmZzZXQgKyAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlcnNbcGllY2UuYnVmZmVySW5kZXhdLmJ1ZmZlci5jaGFyQ29kZUF0KHN0YXJ0T2Zmc2V0KSA9PT0gMTA7XG4gICAgfVxuICAgIGVuZFdpdGhDUih2YWwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsLmNoYXJDb2RlQXQodmFsLmxlbmd0aCAtIDEpID09PSAxMztcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsID09PSBTRU5USU5FTCB8fCB2YWwucGllY2UubGluZUZlZWRDbnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5ub2RlQ2hhckNvZGVBdCh2YWwsIHZhbC5waWVjZS5sZW5ndGggLSAxKSA9PT0gMTM7XG4gICAgfVxuICAgIHZhbGlkYXRlQ1JMRldpdGhQcmV2Tm9kZShuZXh0Tm9kZSkge1xuICAgICAgICBpZiAodGhpcy5zaG91bGRDaGVja0NSTEYoKSAmJiB0aGlzLnN0YXJ0V2l0aExGKG5leHROb2RlKSkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5leHROb2RlLnByZXYoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuZFdpdGhDUihub2RlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZml4Q1JMRihub2RlLCBuZXh0Tm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFsaWRhdGVDUkxGV2l0aE5leHROb2RlKG5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkQ2hlY2tDUkxGKCkgJiYgdGhpcy5lbmRXaXRoQ1Iobm9kZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHROb2RlID0gbm9kZS5uZXh0KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGFydFdpdGhMRihuZXh0Tm9kZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpeENSTEYobm9kZSwgbmV4dE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZpeENSTEYocHJldiwgbmV4dCkge1xuICAgICAgICBjb25zdCBub2Rlc1RvRGVsID0gW107XG4gICAgICAgIC8vIHVwZGF0ZSBub2RlXG4gICAgICAgIGNvbnN0IGxpbmVTdGFydHMgPSB0aGlzLl9idWZmZXJzW3ByZXYucGllY2UuYnVmZmVySW5kZXhdLmxpbmVTdGFydHM7XG4gICAgICAgIGxldCBuZXdFbmQ7XG4gICAgICAgIGlmIChwcmV2LnBpZWNlLmVuZC5jb2x1bW4gPT09IDApIHtcbiAgICAgICAgICAgIC8vIGl0IG1lYW5zLCBsYXN0IGxpbmUgZW5kcyB3aXRoIFxcciwgbm90IFxcclxcblxuICAgICAgICAgICAgbmV3RW5kID0geyBsaW5lOiBwcmV2LnBpZWNlLmVuZC5saW5lIC0gMSwgY29sdW1uOiBsaW5lU3RhcnRzW3ByZXYucGllY2UuZW5kLmxpbmVdIC0gbGluZVN0YXJ0c1twcmV2LnBpZWNlLmVuZC5saW5lIC0gMV0gLSAxIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBcXHJcXG5cbiAgICAgICAgICAgIG5ld0VuZCA9IHsgbGluZTogcHJldi5waWVjZS5lbmQubGluZSwgY29sdW1uOiBwcmV2LnBpZWNlLmVuZC5jb2x1bW4gLSAxIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldk5ld0xlbmd0aCA9IHByZXYucGllY2UubGVuZ3RoIC0gMTtcbiAgICAgICAgY29uc3QgcHJldk5ld0xGQ250ID0gcHJldi5waWVjZS5saW5lRmVlZENudCAtIDE7XG4gICAgICAgIHByZXYucGllY2UgPSBuZXcgUGllY2UocHJldi5waWVjZS5idWZmZXJJbmRleCwgcHJldi5waWVjZS5zdGFydCwgbmV3RW5kLCBwcmV2TmV3TEZDbnQsIHByZXZOZXdMZW5ndGgpO1xuICAgICAgICB1cGRhdGVUcmVlTWV0YWRhdGEodGhpcywgcHJldiwgLTEsIC0xKTtcbiAgICAgICAgaWYgKHByZXYucGllY2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBub2Rlc1RvRGVsLnB1c2gocHJldik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXBkYXRlIG5leHROb2RlXG4gICAgICAgIGNvbnN0IG5ld1N0YXJ0ID0geyBsaW5lOiBuZXh0LnBpZWNlLnN0YXJ0LmxpbmUgKyAxLCBjb2x1bW46IDAgfTtcbiAgICAgICAgY29uc3QgbmV3TGVuZ3RoID0gbmV4dC5waWVjZS5sZW5ndGggLSAxO1xuICAgICAgICBjb25zdCBuZXdMaW5lRmVlZENudCA9IHRoaXMuZ2V0TGluZUZlZWRDbnQobmV4dC5waWVjZS5idWZmZXJJbmRleCwgbmV3U3RhcnQsIG5leHQucGllY2UuZW5kKTtcbiAgICAgICAgbmV4dC5waWVjZSA9IG5ldyBQaWVjZShuZXh0LnBpZWNlLmJ1ZmZlckluZGV4LCBuZXdTdGFydCwgbmV4dC5waWVjZS5lbmQsIG5ld0xpbmVGZWVkQ250LCBuZXdMZW5ndGgpO1xuICAgICAgICB1cGRhdGVUcmVlTWV0YWRhdGEodGhpcywgbmV4dCwgLTEsIC0xKTtcbiAgICAgICAgaWYgKG5leHQucGllY2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBub2Rlc1RvRGVsLnB1c2gobmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3JlYXRlIG5ldyBwaWVjZSB3aGljaCBjb250YWlucyBcXHJcXG5cbiAgICAgICAgY29uc3QgcGllY2VzID0gdGhpcy5jcmVhdGVOZXdQaWVjZXMoJ1xcclxcbicpO1xuICAgICAgICB0aGlzLnJiSW5zZXJ0UmlnaHQocHJldiwgcGllY2VzWzBdKTtcbiAgICAgICAgLy8gZGVsZXRlIGVtcHR5IG5vZGVzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXNUb0RlbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmJEZWxldGUodGhpcywgbm9kZXNUb0RlbFtpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRqdXN0Q2FycmlhZ2VSZXR1cm5Gcm9tTmV4dCh2YWx1ZSwgbm9kZSkge1xuICAgICAgICBpZiAodGhpcy5zaG91bGRDaGVja0NSTEYoKSAmJiB0aGlzLmVuZFdpdGhDUih2YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHROb2RlID0gbm9kZS5uZXh0KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGFydFdpdGhMRihuZXh0Tm9kZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBtb3ZlIGBcXG5gIGZvcndhcmRcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSAnXFxuJztcbiAgICAgICAgICAgICAgICBpZiAobmV4dE5vZGUucGllY2UubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJiRGVsZXRlKHRoaXMsIG5leHROb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBpZWNlID0gbmV4dE5vZGUucGllY2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1N0YXJ0ID0geyBsaW5lOiBwaWVjZS5zdGFydC5saW5lICsgMSwgY29sdW1uOiAwIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0xlbmd0aCA9IHBpZWNlLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0xpbmVGZWVkQ250ID0gdGhpcy5nZXRMaW5lRmVlZENudChwaWVjZS5idWZmZXJJbmRleCwgbmV3U3RhcnQsIHBpZWNlLmVuZCk7XG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlLnBpZWNlID0gbmV3IFBpZWNlKHBpZWNlLmJ1ZmZlckluZGV4LCBuZXdTdGFydCwgcGllY2UuZW5kLCBuZXdMaW5lRmVlZENudCwgbmV3TGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlVHJlZU1ldGFkYXRhKHRoaXMsIG5leHROb2RlLCAtMSwgLTEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vICNlbmRyZWdpb25cbiAgICAvLyAjZW5kcmVnaW9uXG4gICAgLy8gI3JlZ2lvbiBUcmVlIG9wZXJhdGlvbnNcbiAgICBpdGVyYXRlKG5vZGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChub2RlID09PSBTRU5USU5FTCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKFNFTlRJTkVMKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZWZ0UmV0ID0gdGhpcy5pdGVyYXRlKG5vZGUubGVmdCwgY2FsbGJhY2spO1xuICAgICAgICBpZiAoIWxlZnRSZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBsZWZ0UmV0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhub2RlKSAmJiB0aGlzLml0ZXJhdGUobm9kZS5yaWdodCwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBnZXROb2RlQ29udGVudChub2RlKSB7XG4gICAgICAgIGlmIChub2RlID09PSBTRU5USU5FTCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuX2J1ZmZlcnNbbm9kZS5waWVjZS5idWZmZXJJbmRleF07XG4gICAgICAgIGNvbnN0IHBpZWNlID0gbm9kZS5waWVjZTtcbiAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSB0aGlzLm9mZnNldEluQnVmZmVyKHBpZWNlLmJ1ZmZlckluZGV4LCBwaWVjZS5zdGFydCk7XG4gICAgICAgIGNvbnN0IGVuZE9mZnNldCA9IHRoaXMub2Zmc2V0SW5CdWZmZXIocGllY2UuYnVmZmVySW5kZXgsIHBpZWNlLmVuZCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRDb250ZW50ID0gYnVmZmVyLmJ1ZmZlci5zdWJzdHJpbmcoc3RhcnRPZmZzZXQsIGVuZE9mZnNldCk7XG4gICAgICAgIHJldHVybiBjdXJyZW50Q29udGVudDtcbiAgICB9XG4gICAgZ2V0UGllY2VDb250ZW50KHBpZWNlKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuX2J1ZmZlcnNbcGllY2UuYnVmZmVySW5kZXhdO1xuICAgICAgICBjb25zdCBzdGFydE9mZnNldCA9IHRoaXMub2Zmc2V0SW5CdWZmZXIocGllY2UuYnVmZmVySW5kZXgsIHBpZWNlLnN0YXJ0KTtcbiAgICAgICAgY29uc3QgZW5kT2Zmc2V0ID0gdGhpcy5vZmZzZXRJbkJ1ZmZlcihwaWVjZS5idWZmZXJJbmRleCwgcGllY2UuZW5kKTtcbiAgICAgICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBidWZmZXIuYnVmZmVyLnN1YnN0cmluZyhzdGFydE9mZnNldCwgZW5kT2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRDb250ZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiAgICAgIG5vZGUgICAgICAgICAgICAgIG5vZGVcbiAgICAgKiAgICAgLyAgXFwgICAgICAgICAgICAgIC8gIFxcXG4gICAgICogICAgYSAgIGIgICAgPC0tLS0gICBhICAgIGJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAvXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICB6XG4gICAgICovXG4gICAgcmJJbnNlcnRSaWdodChub2RlLCBwKSB7XG4gICAgICAgIGNvbnN0IHogPSBuZXcgVHJlZU5vZGUocCwgMSAvKiBOb2RlQ29sb3IuUmVkICovKTtcbiAgICAgICAgei5sZWZ0ID0gU0VOVElORUw7XG4gICAgICAgIHoucmlnaHQgPSBTRU5USU5FTDtcbiAgICAgICAgei5wYXJlbnQgPSBTRU5USU5FTDtcbiAgICAgICAgei5zaXplX2xlZnQgPSAwO1xuICAgICAgICB6LmxmX2xlZnQgPSAwO1xuICAgICAgICBjb25zdCB4ID0gdGhpcy5yb290O1xuICAgICAgICBpZiAoeCA9PT0gU0VOVElORUwpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHo7XG4gICAgICAgICAgICB6LmNvbG9yID0gMCAvKiBOb2RlQ29sb3IuQmxhY2sgKi87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS5yaWdodCA9PT0gU0VOVElORUwpIHtcbiAgICAgICAgICAgIG5vZGUucmlnaHQgPSB6O1xuICAgICAgICAgICAgei5wYXJlbnQgPSBub2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV4dE5vZGUgPSBsZWZ0ZXN0KG5vZGUucmlnaHQpO1xuICAgICAgICAgICAgbmV4dE5vZGUubGVmdCA9IHo7XG4gICAgICAgICAgICB6LnBhcmVudCA9IG5leHROb2RlO1xuICAgICAgICB9XG4gICAgICAgIGZpeEluc2VydCh0aGlzLCB6KTtcbiAgICAgICAgcmV0dXJuIHo7XG4gICAgfVxuICAgIC8qKlxuICAgICAqICAgICAgbm9kZSAgICAgICAgICAgICAgbm9kZVxuICAgICAqICAgICAvICBcXCAgICAgICAgICAgICAgLyAgXFxcbiAgICAgKiAgICBhICAgYiAgICAgLS0tLT4gICBhICAgIGJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgXFxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgIHpcbiAgICAgKi9cbiAgICByYkluc2VydExlZnQobm9kZSwgcCkge1xuICAgICAgICBjb25zdCB6ID0gbmV3IFRyZWVOb2RlKHAsIDEgLyogTm9kZUNvbG9yLlJlZCAqLyk7XG4gICAgICAgIHoubGVmdCA9IFNFTlRJTkVMO1xuICAgICAgICB6LnJpZ2h0ID0gU0VOVElORUw7XG4gICAgICAgIHoucGFyZW50ID0gU0VOVElORUw7XG4gICAgICAgIHouc2l6ZV9sZWZ0ID0gMDtcbiAgICAgICAgei5sZl9sZWZ0ID0gMDtcbiAgICAgICAgaWYgKHRoaXMucm9vdCA9PT0gU0VOVElORUwpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHo7XG4gICAgICAgICAgICB6LmNvbG9yID0gMCAvKiBOb2RlQ29sb3IuQmxhY2sgKi87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS5sZWZ0ID09PSBTRU5USU5FTCkge1xuICAgICAgICAgICAgbm9kZS5sZWZ0ID0gejtcbiAgICAgICAgICAgIHoucGFyZW50ID0gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZOb2RlID0gcmlnaHR0ZXN0KG5vZGUubGVmdCk7IC8vIGFcbiAgICAgICAgICAgIHByZXZOb2RlLnJpZ2h0ID0gejtcbiAgICAgICAgICAgIHoucGFyZW50ID0gcHJldk5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZml4SW5zZXJ0KHRoaXMsIHopO1xuICAgICAgICByZXR1cm4gejtcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9iYXNlL2NvbW1vbi9ldmVudC5qcyc7XG5pbXBvcnQgKiBhcyBzdHJpbmdzIGZyb20gJy4uLy4uLy4uLy4uL2Jhc2UvY29tbW9uL3N0cmluZ3MuanMnO1xuaW1wb3J0IHsgUmFuZ2UgfSBmcm9tICcuLi8uLi9jb3JlL3JhbmdlLmpzJztcbmltcG9ydCB7IEFwcGx5RWRpdHNSZXN1bHQgfSBmcm9tICcuLi8uLi9tb2RlbC5qcyc7XG5pbXBvcnQgeyBQaWVjZVRyZWVCYXNlIH0gZnJvbSAnLi9waWVjZVRyZWVCYXNlLmpzJztcbmltcG9ydCB7IGNvdW50RU9MIH0gZnJvbSAnLi4vLi4vY29yZS9lb2xDb3VudGVyLmpzJztcbmltcG9ydCB7IFRleHRDaGFuZ2UgfSBmcm9tICcuLi8uLi9jb3JlL3RleHRDaGFuZ2UuanMnO1xuaW1wb3J0IHsgRGlzcG9zYWJsZSB9IGZyb20gJy4uLy4uLy4uLy4uL2Jhc2UvY29tbW9uL2xpZmVjeWNsZS5qcyc7XG5leHBvcnQgY2xhc3MgUGllY2VUcmVlVGV4dEJ1ZmZlciBleHRlbmRzIERpc3Bvc2FibGUge1xuICAgIGNvbnN0cnVjdG9yKGNodW5rcywgQk9NLCBlb2wsIGNvbnRhaW5zUlRMLCBjb250YWluc1VudXN1YWxMaW5lVGVybWluYXRvcnMsIGlzQmFzaWNBU0NJSSwgZW9sTm9ybWFsaXplZCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZUNvbnRlbnQgPSB0aGlzLl9yZWdpc3RlcihuZXcgRW1pdHRlcigpKTtcbiAgICAgICAgdGhpcy5fQk9NID0gQk9NO1xuICAgICAgICB0aGlzLl9taWdodENvbnRhaW5Ob25CYXNpY0FTQ0lJID0gIWlzQmFzaWNBU0NJSTtcbiAgICAgICAgdGhpcy5fbWlnaHRDb250YWluUlRMID0gY29udGFpbnNSVEw7XG4gICAgICAgIHRoaXMuX21pZ2h0Q29udGFpblVudXN1YWxMaW5lVGVybWluYXRvcnMgPSBjb250YWluc1VudXN1YWxMaW5lVGVybWluYXRvcnM7XG4gICAgICAgIHRoaXMuX3BpZWNlVHJlZSA9IG5ldyBQaWVjZVRyZWVCYXNlKGNodW5rcywgZW9sLCBlb2xOb3JtYWxpemVkKTtcbiAgICB9XG4gICAgbWlnaHRDb250YWluUlRMKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWlnaHRDb250YWluUlRMO1xuICAgIH1cbiAgICBtaWdodENvbnRhaW5VbnVzdWFsTGluZVRlcm1pbmF0b3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWlnaHRDb250YWluVW51c3VhbExpbmVUZXJtaW5hdG9ycztcbiAgICB9XG4gICAgcmVzZXRNaWdodENvbnRhaW5VbnVzdWFsTGluZVRlcm1pbmF0b3JzKCkge1xuICAgICAgICB0aGlzLl9taWdodENvbnRhaW5VbnVzdWFsTGluZVRlcm1pbmF0b3JzID0gZmFsc2U7XG4gICAgfVxuICAgIG1pZ2h0Q29udGFpbk5vbkJhc2ljQVNDSUkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9taWdodENvbnRhaW5Ob25CYXNpY0FTQ0lJO1xuICAgIH1cbiAgICBnZXRCT00oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9CT007XG4gICAgfVxuICAgIGdldEVPTCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BpZWNlVHJlZS5nZXRFT0woKTtcbiAgICB9XG4gICAgY3JlYXRlU25hcHNob3QocHJlc2VydmVCT00pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BpZWNlVHJlZS5jcmVhdGVTbmFwc2hvdChwcmVzZXJ2ZUJPTSA/IHRoaXMuX0JPTSA6ICcnKTtcbiAgICB9XG4gICAgZ2V0T2Zmc2V0QXQobGluZU51bWJlciwgY29sdW1uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9waWVjZVRyZWUuZ2V0T2Zmc2V0QXQobGluZU51bWJlciwgY29sdW1uKTtcbiAgICB9XG4gICAgZ2V0UG9zaXRpb25BdChvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BpZWNlVHJlZS5nZXRQb3NpdGlvbkF0KG9mZnNldCk7XG4gICAgfVxuICAgIGdldFJhbmdlQXQoc3RhcnQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCBlbmQgPSBzdGFydCArIGxlbmd0aDtcbiAgICAgICAgY29uc3Qgc3RhcnRQb3NpdGlvbiA9IHRoaXMuZ2V0UG9zaXRpb25BdChzdGFydCk7XG4gICAgICAgIGNvbnN0IGVuZFBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbkF0KGVuZCk7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnRQb3NpdGlvbi5saW5lTnVtYmVyLCBzdGFydFBvc2l0aW9uLmNvbHVtbiwgZW5kUG9zaXRpb24ubGluZU51bWJlciwgZW5kUG9zaXRpb24uY29sdW1uKTtcbiAgICB9XG4gICAgZ2V0VmFsdWVJblJhbmdlKHJhbmdlLCBlb2wgPSAwIC8qIEVuZE9mTGluZVByZWZlcmVuY2UuVGV4dERlZmluZWQgKi8pIHtcbiAgICAgICAgaWYgKHJhbmdlLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpbmVFbmRpbmcgPSB0aGlzLl9nZXRFbmRPZkxpbmUoZW9sKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BpZWNlVHJlZS5nZXRWYWx1ZUluUmFuZ2UocmFuZ2UsIGxpbmVFbmRpbmcpO1xuICAgIH1cbiAgICBnZXRWYWx1ZUxlbmd0aEluUmFuZ2UocmFuZ2UsIGVvbCA9IDAgLyogRW5kT2ZMaW5lUHJlZmVyZW5jZS5UZXh0RGVmaW5lZCAqLykge1xuICAgICAgICBpZiAocmFuZ2UuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyID09PSByYW5nZS5lbmRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gKHJhbmdlLmVuZENvbHVtbiAtIHJhbmdlLnN0YXJ0Q29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGFydE9mZnNldCA9IHRoaXMuZ2V0T2Zmc2V0QXQocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLCByYW5nZS5zdGFydENvbHVtbik7XG4gICAgICAgIGNvbnN0IGVuZE9mZnNldCA9IHRoaXMuZ2V0T2Zmc2V0QXQocmFuZ2UuZW5kTGluZU51bWJlciwgcmFuZ2UuZW5kQ29sdW1uKTtcbiAgICAgICAgLy8gb2Zmc2V0cyB1c2UgdGhlIHRleHQgRU9MLCBzbyB3ZSBuZWVkIHRvIGNvbXBlbnNhdGUgZm9yIGxlbmd0aCBkaWZmZXJlbmNlc1xuICAgICAgICAvLyBpZiB0aGUgcmVxdWVzdGVkIEVPTCBkb2Vzbid0IG1hdGNoIHRoZSB0ZXh0IEVPTFxuICAgICAgICBsZXQgZW9sT2Zmc2V0Q29tcGVuc2F0aW9uID0gMDtcbiAgICAgICAgY29uc3QgZGVzaXJlZEVPTCA9IHRoaXMuX2dldEVuZE9mTGluZShlb2wpO1xuICAgICAgICBjb25zdCBhY3R1YWxFT0wgPSB0aGlzLmdldEVPTCgpO1xuICAgICAgICBpZiAoZGVzaXJlZEVPTC5sZW5ndGggIT09IGFjdHVhbEVPTC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gZGVzaXJlZEVPTC5sZW5ndGggLSBhY3R1YWxFT0wubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgZW9sQ291bnQgPSByYW5nZS5lbmRMaW5lTnVtYmVyIC0gcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgZW9sT2Zmc2V0Q29tcGVuc2F0aW9uID0gZGVsdGEgKiBlb2xDb3VudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW5kT2Zmc2V0IC0gc3RhcnRPZmZzZXQgKyBlb2xPZmZzZXRDb21wZW5zYXRpb247XG4gICAgfVxuICAgIGdldENoYXJhY3RlckNvdW50SW5SYW5nZShyYW5nZSwgZW9sID0gMCAvKiBFbmRPZkxpbmVQcmVmZXJlbmNlLlRleHREZWZpbmVkICovKSB7XG4gICAgICAgIGlmICh0aGlzLl9taWdodENvbnRhaW5Ob25CYXNpY0FTQ0lJKSB7XG4gICAgICAgICAgICAvLyB3ZSBtdXN0IGNvdW50IGJ5IGl0ZXJhdGluZ1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgICAgICAgICBjb25zdCBmcm9tTGluZU51bWJlciA9IHJhbmdlLnN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgICAgIGNvbnN0IHRvTGluZU51bWJlciA9IHJhbmdlLmVuZExpbmVOdW1iZXI7XG4gICAgICAgICAgICBmb3IgKGxldCBsaW5lTnVtYmVyID0gZnJvbUxpbmVOdW1iZXI7IGxpbmVOdW1iZXIgPD0gdG9MaW5lTnVtYmVyOyBsaW5lTnVtYmVyKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lQ29udGVudCA9IHRoaXMuZ2V0TGluZUNvbnRlbnQobGluZU51bWJlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgZnJvbU9mZnNldCA9IChsaW5lTnVtYmVyID09PSBmcm9tTGluZU51bWJlciA/IHJhbmdlLnN0YXJ0Q29sdW1uIC0gMSA6IDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvT2Zmc2V0ID0gKGxpbmVOdW1iZXIgPT09IHRvTGluZU51bWJlciA/IHJhbmdlLmVuZENvbHVtbiAtIDEgOiBsaW5lQ29udGVudC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IG9mZnNldCA9IGZyb21PZmZzZXQ7IG9mZnNldCA8IHRvT2Zmc2V0OyBvZmZzZXQrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RyaW5ncy5pc0hpZ2hTdXJyb2dhdGUobGluZUNvbnRlbnQuY2hhckNvZGVBdChvZmZzZXQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IG9mZnNldCArIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ICs9IHRoaXMuX2dldEVuZE9mTGluZShlb2wpLmxlbmd0aCAqICh0b0xpbmVOdW1iZXIgLSBmcm9tTGluZU51bWJlcik7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlTGVuZ3RoSW5SYW5nZShyYW5nZSwgZW9sKTtcbiAgICB9XG4gICAgZ2V0TGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGllY2VUcmVlLmdldExlbmd0aCgpO1xuICAgIH1cbiAgICBnZXRMaW5lQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9waWVjZVRyZWUuZ2V0TGluZUNvdW50KCk7XG4gICAgfVxuICAgIGdldExpbmVzQ29udGVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BpZWNlVHJlZS5nZXRMaW5lc0NvbnRlbnQoKTtcbiAgICB9XG4gICAgZ2V0TGluZUNvbnRlbnQobGluZU51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGllY2VUcmVlLmdldExpbmVDb250ZW50KGxpbmVOdW1iZXIpO1xuICAgIH1cbiAgICBnZXRMaW5lQ2hhckNvZGUobGluZU51bWJlciwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BpZWNlVHJlZS5nZXRMaW5lQ2hhckNvZGUobGluZU51bWJlciwgaW5kZXgpO1xuICAgIH1cbiAgICBnZXRMaW5lTGVuZ3RoKGxpbmVOdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BpZWNlVHJlZS5nZXRMaW5lTGVuZ3RoKGxpbmVOdW1iZXIpO1xuICAgIH1cbiAgICBnZXRMaW5lRmlyc3ROb25XaGl0ZXNwYWNlQ29sdW1uKGxpbmVOdW1iZXIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gc3RyaW5ncy5maXJzdE5vbldoaXRlc3BhY2VJbmRleCh0aGlzLmdldExpbmVDb250ZW50KGxpbmVOdW1iZXIpKTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQgKyAxO1xuICAgIH1cbiAgICBnZXRMaW5lTGFzdE5vbldoaXRlc3BhY2VDb2x1bW4obGluZU51bWJlcikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBzdHJpbmdzLmxhc3ROb25XaGl0ZXNwYWNlSW5kZXgodGhpcy5nZXRMaW5lQ29udGVudChsaW5lTnVtYmVyKSk7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0ICsgMjtcbiAgICB9XG4gICAgX2dldEVuZE9mTGluZShlb2wpIHtcbiAgICAgICAgc3dpdGNoIChlb2wpIHtcbiAgICAgICAgICAgIGNhc2UgMSAvKiBFbmRPZkxpbmVQcmVmZXJlbmNlLkxGICovOlxuICAgICAgICAgICAgICAgIHJldHVybiAnXFxuJztcbiAgICAgICAgICAgIGNhc2UgMiAvKiBFbmRPZkxpbmVQcmVmZXJlbmNlLkNSTEYgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuICdcXHJcXG4nO1xuICAgICAgICAgICAgY2FzZSAwIC8qIEVuZE9mTGluZVByZWZlcmVuY2UuVGV4dERlZmluZWQgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RU9MKCk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBFT0wgcHJlZmVyZW5jZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldEVPTChuZXdFT0wpIHtcbiAgICAgICAgdGhpcy5fcGllY2VUcmVlLnNldEVPTChuZXdFT0wpO1xuICAgIH1cbiAgICBhcHBseUVkaXRzKHJhd09wZXJhdGlvbnMsIHJlY29yZFRyaW1BdXRvV2hpdGVzcGFjZSwgY29tcHV0ZVVuZG9FZGl0cykge1xuICAgICAgICBsZXQgbWlnaHRDb250YWluUlRMID0gdGhpcy5fbWlnaHRDb250YWluUlRMO1xuICAgICAgICBsZXQgbWlnaHRDb250YWluVW51c3VhbExpbmVUZXJtaW5hdG9ycyA9IHRoaXMuX21pZ2h0Q29udGFpblVudXN1YWxMaW5lVGVybWluYXRvcnM7XG4gICAgICAgIGxldCBtaWdodENvbnRhaW5Ob25CYXNpY0FTQ0lJID0gdGhpcy5fbWlnaHRDb250YWluTm9uQmFzaWNBU0NJSTtcbiAgICAgICAgbGV0IGNhblJlZHVjZU9wZXJhdGlvbnMgPSB0cnVlO1xuICAgICAgICBsZXQgb3BlcmF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhd09wZXJhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG9wID0gcmF3T3BlcmF0aW9uc1tpXTtcbiAgICAgICAgICAgIGlmIChjYW5SZWR1Y2VPcGVyYXRpb25zICYmIG9wLl9pc1RyYWNrZWQpIHtcbiAgICAgICAgICAgICAgICBjYW5SZWR1Y2VPcGVyYXRpb25zID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2YWxpZGF0ZWRSYW5nZSA9IG9wLnJhbmdlO1xuICAgICAgICAgICAgaWYgKG9wLnRleHQpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGV4dE1pZ2h0Q29udGFpbk5vbkJhc2ljQVNDSUkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghbWlnaHRDb250YWluTm9uQmFzaWNBU0NJSSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0TWlnaHRDb250YWluTm9uQmFzaWNBU0NJSSA9ICFzdHJpbmdzLmlzQmFzaWNBU0NJSShvcC50ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgbWlnaHRDb250YWluTm9uQmFzaWNBU0NJSSA9IHRleHRNaWdodENvbnRhaW5Ob25CYXNpY0FTQ0lJO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIW1pZ2h0Q29udGFpblJUTCAmJiB0ZXh0TWlnaHRDb250YWluTm9uQmFzaWNBU0NJSSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB0aGUgbmV3IGluc2VydGVkIHRleHQgY29udGFpbnMgUlRMXG4gICAgICAgICAgICAgICAgICAgIG1pZ2h0Q29udGFpblJUTCA9IHN0cmluZ3MuY29udGFpbnNSVEwob3AudGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghbWlnaHRDb250YWluVW51c3VhbExpbmVUZXJtaW5hdG9ycyAmJiB0ZXh0TWlnaHRDb250YWluTm9uQmFzaWNBU0NJSSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB0aGUgbmV3IGluc2VydGVkIHRleHQgY29udGFpbnMgdW51c3VhbCBsaW5lIHRlcm1pbmF0b3JzXG4gICAgICAgICAgICAgICAgICAgIG1pZ2h0Q29udGFpblVudXN1YWxMaW5lVGVybWluYXRvcnMgPSBzdHJpbmdzLmNvbnRhaW5zVW51c3VhbExpbmVUZXJtaW5hdG9ycyhvcC50ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdmFsaWRUZXh0ID0gJyc7XG4gICAgICAgICAgICBsZXQgZW9sQ291bnQgPSAwO1xuICAgICAgICAgICAgbGV0IGZpcnN0TGluZUxlbmd0aCA9IDA7XG4gICAgICAgICAgICBsZXQgbGFzdExpbmVMZW5ndGggPSAwO1xuICAgICAgICAgICAgaWYgKG9wLnRleHQpIHtcbiAgICAgICAgICAgICAgICBsZXQgc3RyRU9MO1xuICAgICAgICAgICAgICAgIFtlb2xDb3VudCwgZmlyc3RMaW5lTGVuZ3RoLCBsYXN0TGluZUxlbmd0aCwgc3RyRU9MXSA9IGNvdW50RU9MKG9wLnRleHQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlckVPTCA9IHRoaXMuZ2V0RU9MKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRTdHJFT0wgPSAoYnVmZmVyRU9MID09PSAnXFxyXFxuJyA/IDIgLyogU3RyaW5nRU9MLkNSTEYgKi8gOiAxIC8qIFN0cmluZ0VPTC5MRiAqLyk7XG4gICAgICAgICAgICAgICAgaWYgKHN0ckVPTCA9PT0gMCAvKiBTdHJpbmdFT0wuVW5rbm93biAqLyB8fCBzdHJFT0wgPT09IGV4cGVjdGVkU3RyRU9MKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkVGV4dCA9IG9wLnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZFRleHQgPSBvcC50ZXh0LnJlcGxhY2UoL1xcclxcbnxcXHJ8XFxuL2csIGJ1ZmZlckVPTCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3BlcmF0aW9uc1tpXSA9IHtcbiAgICAgICAgICAgICAgICBzb3J0SW5kZXg6IGksXG4gICAgICAgICAgICAgICAgaWRlbnRpZmllcjogb3AuaWRlbnRpZmllciB8fCBudWxsLFxuICAgICAgICAgICAgICAgIHJhbmdlOiB2YWxpZGF0ZWRSYW5nZSxcbiAgICAgICAgICAgICAgICByYW5nZU9mZnNldDogdGhpcy5nZXRPZmZzZXRBdCh2YWxpZGF0ZWRSYW5nZS5zdGFydExpbmVOdW1iZXIsIHZhbGlkYXRlZFJhbmdlLnN0YXJ0Q29sdW1uKSxcbiAgICAgICAgICAgICAgICByYW5nZUxlbmd0aDogdGhpcy5nZXRWYWx1ZUxlbmd0aEluUmFuZ2UodmFsaWRhdGVkUmFuZ2UpLFxuICAgICAgICAgICAgICAgIHRleHQ6IHZhbGlkVGV4dCxcbiAgICAgICAgICAgICAgICBlb2xDb3VudDogZW9sQ291bnQsXG4gICAgICAgICAgICAgICAgZmlyc3RMaW5lTGVuZ3RoOiBmaXJzdExpbmVMZW5ndGgsXG4gICAgICAgICAgICAgICAgbGFzdExpbmVMZW5ndGg6IGxhc3RMaW5lTGVuZ3RoLFxuICAgICAgICAgICAgICAgIGZvcmNlTW92ZU1hcmtlcnM6IEJvb2xlYW4ob3AuZm9yY2VNb3ZlTWFya2VycyksXG4gICAgICAgICAgICAgICAgaXNBdXRvV2hpdGVzcGFjZUVkaXQ6IG9wLmlzQXV0b1doaXRlc3BhY2VFZGl0IHx8IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIFNvcnQgb3BlcmF0aW9ucyBhc2NlbmRpbmdcbiAgICAgICAgb3BlcmF0aW9ucy5zb3J0KFBpZWNlVHJlZVRleHRCdWZmZXIuX3NvcnRPcHNBc2NlbmRpbmcpO1xuICAgICAgICBsZXQgaGFzVG91Y2hpbmdSYW5nZXMgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gb3BlcmF0aW9ucy5sZW5ndGggLSAxOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcmFuZ2VFbmQgPSBvcGVyYXRpb25zW2ldLnJhbmdlLmdldEVuZFBvc2l0aW9uKCk7XG4gICAgICAgICAgICBjb25zdCBuZXh0UmFuZ2VTdGFydCA9IG9wZXJhdGlvbnNbaSArIDFdLnJhbmdlLmdldFN0YXJ0UG9zaXRpb24oKTtcbiAgICAgICAgICAgIGlmIChuZXh0UmFuZ2VTdGFydC5pc0JlZm9yZU9yRXF1YWwocmFuZ2VFbmQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRSYW5nZVN0YXJ0LmlzQmVmb3JlKHJhbmdlRW5kKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBvdmVybGFwcGluZyByYW5nZXNcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPdmVybGFwcGluZyByYW5nZXMgYXJlIG5vdCBhbGxvd2VkIScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoYXNUb3VjaGluZ1JhbmdlcyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhblJlZHVjZU9wZXJhdGlvbnMpIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbnMgPSB0aGlzLl9yZWR1Y2VPcGVyYXRpb25zKG9wZXJhdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERlbHRhIGVuY29kZSBvcGVyYXRpb25zXG4gICAgICAgIGNvbnN0IHJldmVyc2VSYW5nZXMgPSAoY29tcHV0ZVVuZG9FZGl0cyB8fCByZWNvcmRUcmltQXV0b1doaXRlc3BhY2UgPyBQaWVjZVRyZWVUZXh0QnVmZmVyLl9nZXRJbnZlcnNlRWRpdFJhbmdlcyhvcGVyYXRpb25zKSA6IFtdKTtcbiAgICAgICAgY29uc3QgbmV3VHJpbUF1dG9XaGl0ZXNwYWNlQ2FuZGlkYXRlcyA9IFtdO1xuICAgICAgICBpZiAocmVjb3JkVHJpbUF1dG9XaGl0ZXNwYWNlKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wZXJhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcCA9IG9wZXJhdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgcmV2ZXJzZVJhbmdlID0gcmV2ZXJzZVJhbmdlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAob3AuaXNBdXRvV2hpdGVzcGFjZUVkaXQgJiYgb3AucmFuZ2UuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlY29yZCBhbHJlYWR5IHRoZSBmdXR1cmUgbGluZSBudW1iZXJzIHRoYXQgbWlnaHQgYmUgYXV0byB3aGl0ZXNwYWNlIHJlbW92YWwgY2FuZGlkYXRlcyBvbiBuZXh0IGVkaXRcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbGluZU51bWJlciA9IHJldmVyc2VSYW5nZS5zdGFydExpbmVOdW1iZXI7IGxpbmVOdW1iZXIgPD0gcmV2ZXJzZVJhbmdlLmVuZExpbmVOdW1iZXI7IGxpbmVOdW1iZXIrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRMaW5lQ29udGVudCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVOdW1iZXIgPT09IHJldmVyc2VSYW5nZS5zdGFydExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TGluZUNvbnRlbnQgPSB0aGlzLmdldExpbmVDb250ZW50KG9wLnJhbmdlLnN0YXJ0TGluZU51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmluZ3MuZmlyc3ROb25XaGl0ZXNwYWNlSW5kZXgoY3VycmVudExpbmVDb250ZW50KSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3VHJpbUF1dG9XaGl0ZXNwYWNlQ2FuZGlkYXRlcy5wdXNoKHsgbGluZU51bWJlcjogbGluZU51bWJlciwgb2xkQ29udGVudDogY3VycmVudExpbmVDb250ZW50IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCByZXZlcnNlT3BlcmF0aW9ucyA9IG51bGw7XG4gICAgICAgIGlmIChjb21wdXRlVW5kb0VkaXRzKSB7XG4gICAgICAgICAgICBsZXQgcmV2ZXJzZVJhbmdlRGVsdGFPZmZzZXQgPSAwO1xuICAgICAgICAgICAgcmV2ZXJzZU9wZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3BlcmF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wID0gb3BlcmF0aW9uc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXZlcnNlUmFuZ2UgPSByZXZlcnNlUmFuZ2VzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlclRleHQgPSB0aGlzLmdldFZhbHVlSW5SYW5nZShvcC5yYW5nZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmV2ZXJzZVJhbmdlT2Zmc2V0ID0gb3AucmFuZ2VPZmZzZXQgKyByZXZlcnNlUmFuZ2VEZWx0YU9mZnNldDtcbiAgICAgICAgICAgICAgICByZXZlcnNlUmFuZ2VEZWx0YU9mZnNldCArPSAob3AudGV4dC5sZW5ndGggLSBidWZmZXJUZXh0Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgcmV2ZXJzZU9wZXJhdGlvbnNbaV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHNvcnRJbmRleDogb3Auc29ydEluZGV4LFxuICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiBvcC5pZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgICAgICByYW5nZTogcmV2ZXJzZVJhbmdlLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBidWZmZXJUZXh0LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0Q2hhbmdlOiBuZXcgVGV4dENoYW5nZShvcC5yYW5nZU9mZnNldCwgYnVmZmVyVGV4dCwgcmV2ZXJzZVJhbmdlT2Zmc2V0LCBvcC50ZXh0KVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDYW4gb25seSBzb3J0IHJldmVyc2Ugb3BlcmF0aW9ucyB3aGVuIHRoZSBvcmRlciBpcyBub3Qgc2lnbmlmaWNhbnRcbiAgICAgICAgICAgIGlmICghaGFzVG91Y2hpbmdSYW5nZXMpIHtcbiAgICAgICAgICAgICAgICByZXZlcnNlT3BlcmF0aW9ucy5zb3J0KChhLCBiKSA9PiBhLnNvcnRJbmRleCAtIGIuc29ydEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9taWdodENvbnRhaW5SVEwgPSBtaWdodENvbnRhaW5SVEw7XG4gICAgICAgIHRoaXMuX21pZ2h0Q29udGFpblVudXN1YWxMaW5lVGVybWluYXRvcnMgPSBtaWdodENvbnRhaW5VbnVzdWFsTGluZVRlcm1pbmF0b3JzO1xuICAgICAgICB0aGlzLl9taWdodENvbnRhaW5Ob25CYXNpY0FTQ0lJID0gbWlnaHRDb250YWluTm9uQmFzaWNBU0NJSTtcbiAgICAgICAgY29uc3QgY29udGVudENoYW5nZXMgPSB0aGlzLl9kb0FwcGx5RWRpdHMob3BlcmF0aW9ucyk7XG4gICAgICAgIGxldCB0cmltQXV0b1doaXRlc3BhY2VMaW5lTnVtYmVycyA9IG51bGw7XG4gICAgICAgIGlmIChyZWNvcmRUcmltQXV0b1doaXRlc3BhY2UgJiYgbmV3VHJpbUF1dG9XaGl0ZXNwYWNlQ2FuZGlkYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBzb3J0IGxpbmUgbnVtYmVycyBhdXRvIHdoaXRlc3BhY2UgcmVtb3ZhbCBjYW5kaWRhdGVzIGZvciBuZXh0IGVkaXQgZGVzY2VuZGluZ1xuICAgICAgICAgICAgbmV3VHJpbUF1dG9XaGl0ZXNwYWNlQ2FuZGlkYXRlcy5zb3J0KChhLCBiKSA9PiBiLmxpbmVOdW1iZXIgLSBhLmxpbmVOdW1iZXIpO1xuICAgICAgICAgICAgdHJpbUF1dG9XaGl0ZXNwYWNlTGluZU51bWJlcnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBuZXdUcmltQXV0b1doaXRlc3BhY2VDYW5kaWRhdGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZU51bWJlciA9IG5ld1RyaW1BdXRvV2hpdGVzcGFjZUNhbmRpZGF0ZXNbaV0ubGluZU51bWJlcjtcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDAgJiYgbmV3VHJpbUF1dG9XaGl0ZXNwYWNlQ2FuZGlkYXRlc1tpIC0gMV0ubGluZU51bWJlciA9PT0gbGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3QgaGF2ZSB0aGUgc2FtZSBsaW5lIG51bWJlciB0d2ljZVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkNvbnRlbnQgPSBuZXdUcmltQXV0b1doaXRlc3BhY2VDYW5kaWRhdGVzW2ldLm9sZENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZUNvbnRlbnQgPSB0aGlzLmdldExpbmVDb250ZW50KGxpbmVOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGlmIChsaW5lQ29udGVudC5sZW5ndGggPT09IDAgfHwgbGluZUNvbnRlbnQgPT09IHByZXZDb250ZW50IHx8IHN0cmluZ3MuZmlyc3ROb25XaGl0ZXNwYWNlSW5kZXgobGluZUNvbnRlbnQpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJpbUF1dG9XaGl0ZXNwYWNlTGluZU51bWJlcnMucHVzaChsaW5lTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZUNvbnRlbnQuZmlyZSgpO1xuICAgICAgICByZXR1cm4gbmV3IEFwcGx5RWRpdHNSZXN1bHQocmV2ZXJzZU9wZXJhdGlvbnMsIGNvbnRlbnRDaGFuZ2VzLCB0cmltQXV0b1doaXRlc3BhY2VMaW5lTnVtYmVycyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBvcGVyYXRpb25zIHN1Y2ggdGhhdCB0aGV5IHJlcHJlc2VudCB0aGUgc2FtZSBsb2dpYyBlZGl0LFxuICAgICAqIGJ1dCB0aGF0IHRoZXkgYWxzbyBkbyBub3QgY2F1c2UgT09NIGNyYXNoZXMuXG4gICAgICovXG4gICAgX3JlZHVjZU9wZXJhdGlvbnMob3BlcmF0aW9ucykge1xuICAgICAgICBpZiAob3BlcmF0aW9ucy5sZW5ndGggPCAxMDAwKSB7XG4gICAgICAgICAgICAvLyBXZSBrbm93IGZyb20gZW1waXJpY2FsIHRlc3RpbmcgdGhhdCBhIHRob3VzYW5kIGVkaXRzIHdvcmsgZmluZSByZWdhcmRsZXNzIG9mIHRoZWlyIHNoYXBlLlxuICAgICAgICAgICAgcmV0dXJuIG9wZXJhdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXQgb25lIHBvaW50LCBkdWUgdG8gaG93IGV2ZW50cyBhcmUgZW1pdHRlZCBhbmQgaG93IGVhY2ggb3BlcmF0aW9uIGlzIGhhbmRsZWQsXG4gICAgICAgIC8vIHNvbWUgb3BlcmF0aW9ucyBjYW4gdHJpZ2dlciBhIGhpZ2ggYW1vdW50IG9mIHRlbXBvcmFyeSBzdHJpbmcgYWxsb2NhdGlvbnMsXG4gICAgICAgIC8vIHRoYXQgd2lsbCBpbW1lZGlhdGVseSBnZXQgZWRpdGVkIGFnYWluLlxuICAgICAgICAvLyBlLmcuIGEgZm9ybWF0dGVyIGluc2VydGluZyByaWRpY3Vsb3VzIGFtbW91bnRzIG9mIFxcbiBvbiBhIG1vZGVsIHdpdGggYSBzaW5nbGUgbGluZVxuICAgICAgICAvLyBUaGVyZWZvcmUsIHRoZSBzdHJhdGVneSBpcyB0byBjb2xsYXBzZSBhbGwgdGhlIG9wZXJhdGlvbnMgaW50byBhIGh1Z2Ugc2luZ2xlIGVkaXQgb3BlcmF0aW9uXG4gICAgICAgIHJldHVybiBbdGhpcy5fdG9TaW5nbGVFZGl0T3BlcmF0aW9uKG9wZXJhdGlvbnMpXTtcbiAgICB9XG4gICAgX3RvU2luZ2xlRWRpdE9wZXJhdGlvbihvcGVyYXRpb25zKSB7XG4gICAgICAgIGxldCBmb3JjZU1vdmVNYXJrZXJzID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGZpcnN0RWRpdFJhbmdlID0gb3BlcmF0aW9uc1swXS5yYW5nZTtcbiAgICAgICAgY29uc3QgbGFzdEVkaXRSYW5nZSA9IG9wZXJhdGlvbnNbb3BlcmF0aW9ucy5sZW5ndGggLSAxXS5yYW5nZTtcbiAgICAgICAgY29uc3QgZW50aXJlRWRpdFJhbmdlID0gbmV3IFJhbmdlKGZpcnN0RWRpdFJhbmdlLnN0YXJ0TGluZU51bWJlciwgZmlyc3RFZGl0UmFuZ2Uuc3RhcnRDb2x1bW4sIGxhc3RFZGl0UmFuZ2UuZW5kTGluZU51bWJlciwgbGFzdEVkaXRSYW5nZS5lbmRDb2x1bW4pO1xuICAgICAgICBsZXQgbGFzdEVuZExpbmVOdW1iZXIgPSBmaXJzdEVkaXRSYW5nZS5zdGFydExpbmVOdW1iZXI7XG4gICAgICAgIGxldCBsYXN0RW5kQ29sdW1uID0gZmlyc3RFZGl0UmFuZ2Uuc3RhcnRDb2x1bW47XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gb3BlcmF0aW9ucy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gb3BlcmF0aW9uc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gb3BlcmF0aW9uLnJhbmdlO1xuICAgICAgICAgICAgZm9yY2VNb3ZlTWFya2VycyA9IGZvcmNlTW92ZU1hcmtlcnMgfHwgb3BlcmF0aW9uLmZvcmNlTW92ZU1hcmtlcnM7XG4gICAgICAgICAgICAvLyAoMSkgLS0gUHVzaCBvbGQgdGV4dFxuICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5nZXRWYWx1ZUluUmFuZ2UobmV3IFJhbmdlKGxhc3RFbmRMaW5lTnVtYmVyLCBsYXN0RW5kQ29sdW1uLCByYW5nZS5zdGFydExpbmVOdW1iZXIsIHJhbmdlLnN0YXJ0Q29sdW1uKSkpO1xuICAgICAgICAgICAgLy8gKDIpIC0tIFB1c2ggbmV3IHRleHRcbiAgICAgICAgICAgIGlmIChvcGVyYXRpb24udGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob3BlcmF0aW9uLnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdEVuZExpbmVOdW1iZXIgPSByYW5nZS5lbmRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgbGFzdEVuZENvbHVtbiA9IHJhbmdlLmVuZENvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0ZXh0ID0gcmVzdWx0LmpvaW4oJycpO1xuICAgICAgICBjb25zdCBbZW9sQ291bnQsIGZpcnN0TGluZUxlbmd0aCwgbGFzdExpbmVMZW5ndGhdID0gY291bnRFT0wodGV4dCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzb3J0SW5kZXg6IDAsXG4gICAgICAgICAgICBpZGVudGlmaWVyOiBvcGVyYXRpb25zWzBdLmlkZW50aWZpZXIsXG4gICAgICAgICAgICByYW5nZTogZW50aXJlRWRpdFJhbmdlLFxuICAgICAgICAgICAgcmFuZ2VPZmZzZXQ6IHRoaXMuZ2V0T2Zmc2V0QXQoZW50aXJlRWRpdFJhbmdlLnN0YXJ0TGluZU51bWJlciwgZW50aXJlRWRpdFJhbmdlLnN0YXJ0Q29sdW1uKSxcbiAgICAgICAgICAgIHJhbmdlTGVuZ3RoOiB0aGlzLmdldFZhbHVlTGVuZ3RoSW5SYW5nZShlbnRpcmVFZGl0UmFuZ2UsIDAgLyogRW5kT2ZMaW5lUHJlZmVyZW5jZS5UZXh0RGVmaW5lZCAqLyksXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgICAgZW9sQ291bnQ6IGVvbENvdW50LFxuICAgICAgICAgICAgZmlyc3RMaW5lTGVuZ3RoOiBmaXJzdExpbmVMZW5ndGgsXG4gICAgICAgICAgICBsYXN0TGluZUxlbmd0aDogbGFzdExpbmVMZW5ndGgsXG4gICAgICAgICAgICBmb3JjZU1vdmVNYXJrZXJzOiBmb3JjZU1vdmVNYXJrZXJzLFxuICAgICAgICAgICAgaXNBdXRvV2hpdGVzcGFjZUVkaXQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9kb0FwcGx5RWRpdHMob3BlcmF0aW9ucykge1xuICAgICAgICBvcGVyYXRpb25zLnNvcnQoUGllY2VUcmVlVGV4dEJ1ZmZlci5fc29ydE9wc0Rlc2NlbmRpbmcpO1xuICAgICAgICBjb25zdCBjb250ZW50Q2hhbmdlcyA9IFtdO1xuICAgICAgICAvLyBvcGVyYXRpb25zIGFyZSBmcm9tIGJvdHRvbSB0byB0b3BcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcGVyYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBvcCA9IG9wZXJhdGlvbnNbaV07XG4gICAgICAgICAgICBjb25zdCBzdGFydExpbmVOdW1iZXIgPSBvcC5yYW5nZS5zdGFydExpbmVOdW1iZXI7XG4gICAgICAgICAgICBjb25zdCBzdGFydENvbHVtbiA9IG9wLnJhbmdlLnN0YXJ0Q29sdW1uO1xuICAgICAgICAgICAgY29uc3QgZW5kTGluZU51bWJlciA9IG9wLnJhbmdlLmVuZExpbmVOdW1iZXI7XG4gICAgICAgICAgICBjb25zdCBlbmRDb2x1bW4gPSBvcC5yYW5nZS5lbmRDb2x1bW47XG4gICAgICAgICAgICBpZiAoc3RhcnRMaW5lTnVtYmVyID09PSBlbmRMaW5lTnVtYmVyICYmIHN0YXJ0Q29sdW1uID09PSBlbmRDb2x1bW4gJiYgb3AudGV4dC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBuby1vcFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wLnRleHQpIHtcbiAgICAgICAgICAgICAgICAvLyByZXBsYWNlbWVudFxuICAgICAgICAgICAgICAgIHRoaXMuX3BpZWNlVHJlZS5kZWxldGUob3AucmFuZ2VPZmZzZXQsIG9wLnJhbmdlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9waWVjZVRyZWUuaW5zZXJ0KG9wLnJhbmdlT2Zmc2V0LCBvcC50ZXh0LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGRlbGV0aW9uXG4gICAgICAgICAgICAgICAgdGhpcy5fcGllY2VUcmVlLmRlbGV0ZShvcC5yYW5nZU9mZnNldCwgb3AucmFuZ2VMZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29udGVudENoYW5nZVJhbmdlID0gbmV3IFJhbmdlKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4sIGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbik7XG4gICAgICAgICAgICBjb250ZW50Q2hhbmdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICByYW5nZTogY29udGVudENoYW5nZVJhbmdlLFxuICAgICAgICAgICAgICAgIHJhbmdlTGVuZ3RoOiBvcC5yYW5nZUxlbmd0aCxcbiAgICAgICAgICAgICAgICB0ZXh0OiBvcC50ZXh0LFxuICAgICAgICAgICAgICAgIHJhbmdlT2Zmc2V0OiBvcC5yYW5nZU9mZnNldCxcbiAgICAgICAgICAgICAgICBmb3JjZU1vdmVNYXJrZXJzOiBvcC5mb3JjZU1vdmVNYXJrZXJzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGVudENoYW5nZXM7XG4gICAgfVxuICAgIGZpbmRNYXRjaGVzTGluZUJ5TGluZShzZWFyY2hSYW5nZSwgc2VhcmNoRGF0YSwgY2FwdHVyZU1hdGNoZXMsIGxpbWl0UmVzdWx0Q291bnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BpZWNlVHJlZS5maW5kTWF0Y2hlc0xpbmVCeUxpbmUoc2VhcmNoUmFuZ2UsIHNlYXJjaERhdGEsIGNhcHR1cmVNYXRjaGVzLCBsaW1pdFJlc3VsdENvdW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXNzdW1lcyBgb3BlcmF0aW9uc2AgYXJlIHZhbGlkYXRlZCBhbmQgc29ydGVkIGFzY2VuZGluZ1xuICAgICAqL1xuICAgIHN0YXRpYyBfZ2V0SW52ZXJzZUVkaXRSYW5nZXMob3BlcmF0aW9ucykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IHByZXZPcEVuZExpbmVOdW1iZXIgPSAwO1xuICAgICAgICBsZXQgcHJldk9wRW5kQ29sdW1uID0gMDtcbiAgICAgICAgbGV0IHByZXZPcCA9IG51bGw7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBvcGVyYXRpb25zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBvcCA9IG9wZXJhdGlvbnNbaV07XG4gICAgICAgICAgICBsZXQgc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgbGV0IHN0YXJ0Q29sdW1uO1xuICAgICAgICAgICAgaWYgKHByZXZPcCkge1xuICAgICAgICAgICAgICAgIGlmIChwcmV2T3AucmFuZ2UuZW5kTGluZU51bWJlciA9PT0gb3AucmFuZ2Uuc3RhcnRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlciA9IHByZXZPcEVuZExpbmVOdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gcHJldk9wRW5kQ29sdW1uICsgKG9wLnJhbmdlLnN0YXJ0Q29sdW1uIC0gcHJldk9wLnJhbmdlLmVuZENvbHVtbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGFydExpbmVOdW1iZXIgPSBwcmV2T3BFbmRMaW5lTnVtYmVyICsgKG9wLnJhbmdlLnN0YXJ0TGluZU51bWJlciAtIHByZXZPcC5yYW5nZS5lbmRMaW5lTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRDb2x1bW4gPSBvcC5yYW5nZS5zdGFydENvbHVtbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGFydExpbmVOdW1iZXIgPSBvcC5yYW5nZS5zdGFydExpbmVOdW1iZXI7XG4gICAgICAgICAgICAgICAgc3RhcnRDb2x1bW4gPSBvcC5yYW5nZS5zdGFydENvbHVtbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCByZXN1bHRSYW5nZTtcbiAgICAgICAgICAgIGlmIChvcC50ZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyB0aGUgb3BlcmF0aW9uIGluc2VydHMgc29tZXRoaW5nXG4gICAgICAgICAgICAgICAgY29uc3QgbGluZUNvdW50ID0gb3AuZW9sQ291bnQgKyAxO1xuICAgICAgICAgICAgICAgIGlmIChsaW5lQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2luZ2xlIGxpbmUgaW5zZXJ0XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFJhbmdlID0gbmV3IFJhbmdlKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4sIHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4gKyBvcC5maXJzdExpbmVMZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbXVsdGkgbGluZSBpbnNlcnRcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0UmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiwgc3RhcnRMaW5lTnVtYmVyICsgbGluZUNvdW50IC0gMSwgb3AubGFzdExpbmVMZW5ndGggKyAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUaGVyZSBpcyBub3RoaW5nIHRvIGluc2VydFxuICAgICAgICAgICAgICAgIHJlc3VsdFJhbmdlID0gbmV3IFJhbmdlKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4sIHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldk9wRW5kTGluZU51bWJlciA9IHJlc3VsdFJhbmdlLmVuZExpbmVOdW1iZXI7XG4gICAgICAgICAgICBwcmV2T3BFbmRDb2x1bW4gPSByZXN1bHRSYW5nZS5lbmRDb2x1bW47XG4gICAgICAgICAgICByZXN1bHQucHVzaChyZXN1bHRSYW5nZSk7XG4gICAgICAgICAgICBwcmV2T3AgPSBvcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBzdGF0aWMgX3NvcnRPcHNBc2NlbmRpbmcoYSwgYikge1xuICAgICAgICBjb25zdCByID0gUmFuZ2UuY29tcGFyZVJhbmdlc1VzaW5nRW5kcyhhLnJhbmdlLCBiLnJhbmdlKTtcbiAgICAgICAgaWYgKHIgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBhLnNvcnRJbmRleCAtIGIuc29ydEluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICBzdGF0aWMgX3NvcnRPcHNEZXNjZW5kaW5nKGEsIGIpIHtcbiAgICAgICAgY29uc3QgciA9IFJhbmdlLmNvbXBhcmVSYW5nZXNVc2luZ0VuZHMoYS5yYW5nZSwgYi5yYW5nZSk7XG4gICAgICAgIGlmIChyID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5zb3J0SW5kZXggLSBhLnNvcnRJbmRleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLXI7XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgKiBhcyBzdHJpbmdzIGZyb20gJy4uLy4uLy4uLy4uL2Jhc2UvY29tbW9uL3N0cmluZ3MuanMnO1xuaW1wb3J0IHsgU3RyaW5nQnVmZmVyLCBjcmVhdGVMaW5lU3RhcnRzLCBjcmVhdGVMaW5lU3RhcnRzRmFzdCB9IGZyb20gJy4vcGllY2VUcmVlQmFzZS5qcyc7XG5pbXBvcnQgeyBQaWVjZVRyZWVUZXh0QnVmZmVyIH0gZnJvbSAnLi9waWVjZVRyZWVUZXh0QnVmZmVyLmpzJztcbmNsYXNzIFBpZWNlVHJlZVRleHRCdWZmZXJGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcihfY2h1bmtzLCBfYm9tLCBfY3IsIF9sZiwgX2NybGYsIF9jb250YWluc1JUTCwgX2NvbnRhaW5zVW51c3VhbExpbmVUZXJtaW5hdG9ycywgX2lzQmFzaWNBU0NJSSwgX25vcm1hbGl6ZUVPTCkge1xuICAgICAgICB0aGlzLl9jaHVua3MgPSBfY2h1bmtzO1xuICAgICAgICB0aGlzLl9ib20gPSBfYm9tO1xuICAgICAgICB0aGlzLl9jciA9IF9jcjtcbiAgICAgICAgdGhpcy5fbGYgPSBfbGY7XG4gICAgICAgIHRoaXMuX2NybGYgPSBfY3JsZjtcbiAgICAgICAgdGhpcy5fY29udGFpbnNSVEwgPSBfY29udGFpbnNSVEw7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5zVW51c3VhbExpbmVUZXJtaW5hdG9ycyA9IF9jb250YWluc1VudXN1YWxMaW5lVGVybWluYXRvcnM7XG4gICAgICAgIHRoaXMuX2lzQmFzaWNBU0NJSSA9IF9pc0Jhc2ljQVNDSUk7XG4gICAgICAgIHRoaXMuX25vcm1hbGl6ZUVPTCA9IF9ub3JtYWxpemVFT0w7XG4gICAgfVxuICAgIF9nZXRFT0woZGVmYXVsdEVPTCkge1xuICAgICAgICBjb25zdCB0b3RhbEVPTENvdW50ID0gdGhpcy5fY3IgKyB0aGlzLl9sZiArIHRoaXMuX2NybGY7XG4gICAgICAgIGNvbnN0IHRvdGFsQ1JDb3VudCA9IHRoaXMuX2NyICsgdGhpcy5fY3JsZjtcbiAgICAgICAgaWYgKHRvdGFsRU9MQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYW4gZW1wdHkgZmlsZSBvciBhIGZpbGUgd2l0aCBwcmVjaXNlbHkgb25lIGxpbmVcbiAgICAgICAgICAgIHJldHVybiAoZGVmYXVsdEVPTCA9PT0gMSAvKiBEZWZhdWx0RW5kT2ZMaW5lLkxGICovID8gJ1xcbicgOiAnXFxyXFxuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvdGFsQ1JDb3VudCA+IHRvdGFsRU9MQ291bnQgLyAyKSB7XG4gICAgICAgICAgICAvLyBNb3JlIHRoYW4gaGFsZiBvZiB0aGUgZmlsZSBjb250YWlucyBcXHJcXG4gZW5kaW5nIGxpbmVzXG4gICAgICAgICAgICByZXR1cm4gJ1xcclxcbic7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXQgbGVhc3Qgb25lIGxpbmUgbW9yZSBlbmRzIGluIFxcblxuICAgICAgICByZXR1cm4gJ1xcbic7XG4gICAgfVxuICAgIGNyZWF0ZShkZWZhdWx0RU9MKSB7XG4gICAgICAgIGNvbnN0IGVvbCA9IHRoaXMuX2dldEVPTChkZWZhdWx0RU9MKTtcbiAgICAgICAgY29uc3QgY2h1bmtzID0gdGhpcy5fY2h1bmtzO1xuICAgICAgICBpZiAodGhpcy5fbm9ybWFsaXplRU9MICYmXG4gICAgICAgICAgICAoKGVvbCA9PT0gJ1xcclxcbicgJiYgKHRoaXMuX2NyID4gMCB8fCB0aGlzLl9sZiA+IDApKVxuICAgICAgICAgICAgICAgIHx8IChlb2wgPT09ICdcXG4nICYmICh0aGlzLl9jciA+IDAgfHwgdGhpcy5fY3JsZiA+IDApKSkpIHtcbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSBwaWVjZXNcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBjaHVua3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHIgPSBjaHVua3NbaV0uYnVmZmVyLnJlcGxhY2UoL1xcclxcbnxcXHJ8XFxuL2csIGVvbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3TGluZVN0YXJ0ID0gY3JlYXRlTGluZVN0YXJ0c0Zhc3Qoc3RyKTtcbiAgICAgICAgICAgICAgICBjaHVua3NbaV0gPSBuZXcgU3RyaW5nQnVmZmVyKHN0ciwgbmV3TGluZVN0YXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0ZXh0QnVmZmVyID0gbmV3IFBpZWNlVHJlZVRleHRCdWZmZXIoY2h1bmtzLCB0aGlzLl9ib20sIGVvbCwgdGhpcy5fY29udGFpbnNSVEwsIHRoaXMuX2NvbnRhaW5zVW51c3VhbExpbmVUZXJtaW5hdG9ycywgdGhpcy5faXNCYXNpY0FTQ0lJLCB0aGlzLl9ub3JtYWxpemVFT0wpO1xuICAgICAgICByZXR1cm4geyB0ZXh0QnVmZmVyOiB0ZXh0QnVmZmVyLCBkaXNwb3NhYmxlOiB0ZXh0QnVmZmVyIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFBpZWNlVHJlZVRleHRCdWZmZXJCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jaHVua3MgPSBbXTtcbiAgICAgICAgdGhpcy5CT00gPSAnJztcbiAgICAgICAgdGhpcy5faGFzUHJldmlvdXNDaGFyID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzQ2hhciA9IDA7XG4gICAgICAgIHRoaXMuX3RtcExpbmVTdGFydHMgPSBbXTtcbiAgICAgICAgdGhpcy5jciA9IDA7XG4gICAgICAgIHRoaXMubGYgPSAwO1xuICAgICAgICB0aGlzLmNybGYgPSAwO1xuICAgICAgICB0aGlzLmNvbnRhaW5zUlRMID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29udGFpbnNVbnVzdWFsTGluZVRlcm1pbmF0b3JzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNCYXNpY0FTQ0lJID0gdHJ1ZTtcbiAgICB9XG4gICAgYWNjZXB0Q2h1bmsoY2h1bmspIHtcbiAgICAgICAgaWYgKGNodW5rLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNodW5rcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGlmIChzdHJpbmdzLnN0YXJ0c1dpdGhVVEY4Qk9NKGNodW5rKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuQk9NID0gc3RyaW5ncy5VVEY4X0JPTV9DSEFSQUNURVI7XG4gICAgICAgICAgICAgICAgY2h1bmsgPSBjaHVuay5zdWJzdHIoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGFzdENoYXIgPSBjaHVuay5jaGFyQ29kZUF0KGNodW5rLmxlbmd0aCAtIDEpO1xuICAgICAgICBpZiAobGFzdENoYXIgPT09IDEzIC8qIENoYXJDb2RlLkNhcnJpYWdlUmV0dXJuICovIHx8IChsYXN0Q2hhciA+PSAweEQ4MDAgJiYgbGFzdENoYXIgPD0gMHhEQkZGKSkge1xuICAgICAgICAgICAgLy8gbGFzdCBjaGFyYWN0ZXIgaXMgXFxyIG9yIGEgaGlnaCBzdXJyb2dhdGUgPT4ga2VlcCBpdCBiYWNrXG4gICAgICAgICAgICB0aGlzLl9hY2NlcHRDaHVuazEoY2h1bmsuc3Vic3RyKDAsIGNodW5rLmxlbmd0aCAtIDEpLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLl9oYXNQcmV2aW91c0NoYXIgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNDaGFyID0gbGFzdENoYXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hY2NlcHRDaHVuazEoY2h1bmssIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuX2hhc1ByZXZpb3VzQ2hhciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNDaGFyID0gbGFzdENoYXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2FjY2VwdENodW5rMShjaHVuaywgYWxsb3dFbXB0eVN0cmluZ3MpIHtcbiAgICAgICAgaWYgKCFhbGxvd0VtcHR5U3RyaW5ncyAmJiBjaHVuay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIE5vdGhpbmcgdG8gZG9cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faGFzUHJldmlvdXNDaGFyKSB7XG4gICAgICAgICAgICB0aGlzLl9hY2NlcHRDaHVuazIoU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLl9wcmV2aW91c0NoYXIpICsgY2h1bmspO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYWNjZXB0Q2h1bmsyKGNodW5rKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYWNjZXB0Q2h1bmsyKGNodW5rKSB7XG4gICAgICAgIGNvbnN0IGxpbmVTdGFydHMgPSBjcmVhdGVMaW5lU3RhcnRzKHRoaXMuX3RtcExpbmVTdGFydHMsIGNodW5rKTtcbiAgICAgICAgdGhpcy5jaHVua3MucHVzaChuZXcgU3RyaW5nQnVmZmVyKGNodW5rLCBsaW5lU3RhcnRzLmxpbmVTdGFydHMpKTtcbiAgICAgICAgdGhpcy5jciArPSBsaW5lU3RhcnRzLmNyO1xuICAgICAgICB0aGlzLmxmICs9IGxpbmVTdGFydHMubGY7XG4gICAgICAgIHRoaXMuY3JsZiArPSBsaW5lU3RhcnRzLmNybGY7XG4gICAgICAgIGlmICghbGluZVN0YXJ0cy5pc0Jhc2ljQVNDSUkpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgY2h1bmsgY29udGFpbnMgbm9uIGJhc2ljIEFTQ0lJIGNoYXJhY3RlcnNcbiAgICAgICAgICAgIHRoaXMuaXNCYXNpY0FTQ0lJID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY29udGFpbnNSVEwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5zUlRMID0gc3RyaW5ncy5jb250YWluc1JUTChjaHVuayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuY29udGFpbnNVbnVzdWFsTGluZVRlcm1pbmF0b3JzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluc1VudXN1YWxMaW5lVGVybWluYXRvcnMgPSBzdHJpbmdzLmNvbnRhaW5zVW51c3VhbExpbmVUZXJtaW5hdG9ycyhjaHVuayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmluaXNoKG5vcm1hbGl6ZUVPTCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fZmluaXNoKCk7XG4gICAgICAgIHJldHVybiBuZXcgUGllY2VUcmVlVGV4dEJ1ZmZlckZhY3RvcnkodGhpcy5jaHVua3MsIHRoaXMuQk9NLCB0aGlzLmNyLCB0aGlzLmxmLCB0aGlzLmNybGYsIHRoaXMuY29udGFpbnNSVEwsIHRoaXMuY29udGFpbnNVbnVzdWFsTGluZVRlcm1pbmF0b3JzLCB0aGlzLmlzQmFzaWNBU0NJSSwgbm9ybWFsaXplRU9MKTtcbiAgICB9XG4gICAgX2ZpbmlzaCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2h1bmtzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fYWNjZXB0Q2h1bmsxKCcnLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faGFzUHJldmlvdXNDaGFyKSB7XG4gICAgICAgICAgICB0aGlzLl9oYXNQcmV2aW91c0NoYXIgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHJlY3JlYXRlIGxhc3QgY2h1bmtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RDaHVuayA9IHRoaXMuY2h1bmtzW3RoaXMuY2h1bmtzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgbGFzdENodW5rLmJ1ZmZlciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuX3ByZXZpb3VzQ2hhcik7XG4gICAgICAgICAgICBjb25zdCBuZXdMaW5lU3RhcnRzID0gY3JlYXRlTGluZVN0YXJ0c0Zhc3QobGFzdENodW5rLmJ1ZmZlcik7XG4gICAgICAgICAgICBsYXN0Q2h1bmsubGluZVN0YXJ0cyA9IG5ld0xpbmVTdGFydHM7XG4gICAgICAgICAgICBpZiAodGhpcy5fcHJldmlvdXNDaGFyID09PSAxMyAvKiBDaGFyQ29kZS5DYXJyaWFnZVJldHVybiAqLykge1xuICAgICAgICAgICAgICAgIHRoaXMuY3IrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgYXJyYXlJbnNlcnQgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9hcnJheXMuanMnO1xuLyoqXG4gKiBBbiBhcnJheSB0aGF0IGF2b2lkcyBiZWluZyBzcGFyc2UgYnkgYWx3YXlzXG4gKiBmaWxsaW5nIHVwIHVudXNlZCBpbmRpY2VzIHdpdGggYSBkZWZhdWx0IHZhbHVlLlxuICovXG5leHBvcnQgY2xhc3MgRml4ZWRBcnJheSB7XG4gICAgY29uc3RydWN0b3IoX2RlZmF1bHQpIHtcbiAgICAgICAgdGhpcy5fZGVmYXVsdCA9IF9kZWZhdWx0O1xuICAgICAgICB0aGlzLl9zdG9yZSA9IFtdO1xuICAgIH1cbiAgICBnZXQoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgdGhpcy5fc3RvcmUubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RvcmVbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0O1xuICAgIH1cbiAgICBzZXQoaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgIHdoaWxlIChpbmRleCA+PSB0aGlzLl9zdG9yZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0b3JlW3RoaXMuX3N0b3JlLmxlbmd0aF0gPSB0aGlzLl9kZWZhdWx0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0b3JlW2luZGV4XSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXBsYWNlKGluZGV4LCBvbGRMZW5ndGgsIG5ld0xlbmd0aCkge1xuICAgICAgICBpZiAoaW5kZXggPj0gdGhpcy5fc3RvcmUubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZExlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5pbnNlcnQoaW5kZXgsIG5ld0xlbmd0aCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV3TGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZShpbmRleCwgb2xkTGVuZ3RoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBiZWZvcmUgPSB0aGlzLl9zdG9yZS5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIGNvbnN0IGFmdGVyID0gdGhpcy5fc3RvcmUuc2xpY2UoaW5kZXggKyBvbGRMZW5ndGgpO1xuICAgICAgICBjb25zdCBpbnNlcnRBcnIgPSBhcnJheUZpbGwobmV3TGVuZ3RoLCB0aGlzLl9kZWZhdWx0KTtcbiAgICAgICAgdGhpcy5fc3RvcmUgPSBiZWZvcmUuY29uY2F0KGluc2VydEFyciwgYWZ0ZXIpO1xuICAgIH1cbiAgICBkZWxldGUoZGVsZXRlSW5kZXgsIGRlbGV0ZUNvdW50KSB7XG4gICAgICAgIGlmIChkZWxldGVDb3VudCA9PT0gMCB8fCBkZWxldGVJbmRleCA+PSB0aGlzLl9zdG9yZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdG9yZS5zcGxpY2UoZGVsZXRlSW5kZXgsIGRlbGV0ZUNvdW50KTtcbiAgICB9XG4gICAgaW5zZXJ0KGluc2VydEluZGV4LCBpbnNlcnRDb3VudCkge1xuICAgICAgICBpZiAoaW5zZXJ0Q291bnQgPT09IDAgfHwgaW5zZXJ0SW5kZXggPj0gdGhpcy5fc3RvcmUubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXJyID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5zZXJ0Q291bnQ7IGkrKykge1xuICAgICAgICAgICAgYXJyW2ldID0gdGhpcy5fZGVmYXVsdDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdG9yZSA9IGFycmF5SW5zZXJ0KHRoaXMuX3N0b3JlLCBpbnNlcnRJbmRleCwgYXJyKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhcnJheUZpbGwobGVuZ3RoLCB2YWx1ZSkge1xuICAgIGNvbnN0IGFyciA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyW2ldID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG59XG4iLCIvKipcbiAqIFJlcHJlc2VudHMgY29udGlndW91cyB0b2tlbnMgb3ZlciBhIGNvbnRpZ3VvdXMgcmFuZ2Ugb2YgbGluZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb250aWd1b3VzTXVsdGlsaW5lVG9rZW5zIHtcbiAgICAvKipcbiAgICAgKiAoSW5jbHVzaXZlKSBzdGFydCBsaW5lIG51bWJlciBmb3IgdGhlc2UgdG9rZW5zLlxuICAgICAqL1xuICAgIGdldCBzdGFydExpbmVOdW1iZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFydExpbmVOdW1iZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIChJbmNsdXNpdmUpIGVuZCBsaW5lIG51bWJlciBmb3IgdGhlc2UgdG9rZW5zLlxuICAgICAqL1xuICAgIGdldCBlbmRMaW5lTnVtYmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnRMaW5lTnVtYmVyICsgdGhpcy5fdG9rZW5zLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHN0YXJ0TGluZU51bWJlciwgdG9rZW5zKSB7XG4gICAgICAgIHRoaXMuX3N0YXJ0TGluZU51bWJlciA9IHN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgdGhpcy5fdG9rZW5zID0gdG9rZW5zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAc2VlIHtAbGluayBfdG9rZW5zfVxuICAgICAqL1xuICAgIGdldExpbmVUb2tlbnMobGluZU51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9rZW5zW2xpbmVOdW1iZXIgLSB0aGlzLl9zdGFydExpbmVOdW1iZXJdO1xuICAgIH1cbiAgICBhcHBlbmRMaW5lVG9rZW5zKGxpbmVUb2tlbnMpIHtcbiAgICAgICAgdGhpcy5fdG9rZW5zLnB1c2gobGluZVRva2Vucyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ29udGlndW91c011bHRpbGluZVRva2VucyB9IGZyb20gJy4vY29udGlndW91c011bHRpbGluZVRva2Vucy5qcyc7XG5leHBvcnQgY2xhc3MgQ29udGlndW91c011bHRpbGluZVRva2Vuc0J1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl90b2tlbnMgPSBbXTtcbiAgICB9XG4gICAgYWRkKGxpbmVOdW1iZXIsIGxpbmVUb2tlbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Rva2Vucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0ID0gdGhpcy5fdG9rZW5zW3RoaXMuX3Rva2Vucy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmIChsYXN0LmVuZExpbmVOdW1iZXIgKyAxID09PSBsaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgLy8gYXBwZW5kXG4gICAgICAgICAgICAgICAgbGFzdC5hcHBlbmRMaW5lVG9rZW5zKGxpbmVUb2tlbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90b2tlbnMucHVzaChuZXcgQ29udGlndW91c011bHRpbGluZVRva2VucyhsaW5lTnVtYmVyLCBbbGluZVRva2Vuc10pKTtcbiAgICB9XG4gICAgZmluYWxpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbnM7XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBydW5XaGVuR2xvYmFsSWRsZSB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2FzeW5jLmpzJztcbmltcG9ydCB7IEJ1Z0luZGljYXRpbmdFcnJvciwgb25VbmV4cGVjdGVkRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgc2V0VGltZW91dDAgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9wbGF0Zm9ybS5qcyc7XG5pbXBvcnQgeyBTdG9wV2F0Y2ggfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9zdG9wd2F0Y2guanMnO1xuaW1wb3J0IHsgY291bnRFT0wgfSBmcm9tICcuLi9jb3JlL2VvbENvdW50ZXIuanMnO1xuaW1wb3J0IHsgTGluZVJhbmdlIH0gZnJvbSAnLi4vY29yZS9saW5lUmFuZ2UuanMnO1xuaW1wb3J0IHsgT2Zmc2V0UmFuZ2UgfSBmcm9tICcuLi9jb3JlL29mZnNldFJhbmdlLmpzJztcbmltcG9ydCB7IG51bGxUb2tlbml6ZUVuY29kZWQgfSBmcm9tICcuLi9sYW5ndWFnZXMvbnVsbFRva2VuaXplLmpzJztcbmltcG9ydCB7IEZpeGVkQXJyYXkgfSBmcm9tICcuL2ZpeGVkQXJyYXkuanMnO1xuaW1wb3J0IHsgQ29udGlndW91c011bHRpbGluZVRva2Vuc0J1aWxkZXIgfSBmcm9tICcuLi90b2tlbnMvY29udGlndW91c011bHRpbGluZVRva2Vuc0J1aWxkZXIuanMnO1xuaW1wb3J0IHsgTGluZVRva2VucyB9IGZyb20gJy4uL3Rva2Vucy9saW5lVG9rZW5zLmpzJztcbmV4cG9ydCBjbGFzcyBUb2tlbml6ZXJXaXRoU3RhdGVTdG9yZSB7XG4gICAgY29uc3RydWN0b3IobGluZUNvdW50LCB0b2tlbml6YXRpb25TdXBwb3J0KSB7XG4gICAgICAgIHRoaXMudG9rZW5pemF0aW9uU3VwcG9ydCA9IHRva2VuaXphdGlvblN1cHBvcnQ7XG4gICAgICAgIHRoaXMuaW5pdGlhbFN0YXRlID0gdGhpcy50b2tlbml6YXRpb25TdXBwb3J0LmdldEluaXRpYWxTdGF0ZSgpO1xuICAgICAgICB0aGlzLnN0b3JlID0gbmV3IFRyYWNraW5nVG9rZW5pemF0aW9uU3RhdGVTdG9yZShsaW5lQ291bnQpO1xuICAgIH1cbiAgICBnZXRTdGFydFN0YXRlKGxpbmVOdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuZ2V0U3RhcnRTdGF0ZShsaW5lTnVtYmVyLCB0aGlzLmluaXRpYWxTdGF0ZSk7XG4gICAgfVxuICAgIGdldEZpcnN0SW52YWxpZExpbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlLmdldEZpcnN0SW52YWxpZExpbmUodGhpcy5pbml0aWFsU3RhdGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBUb2tlbml6ZXJXaXRoU3RhdGVTdG9yZUFuZFRleHRNb2RlbCBleHRlbmRzIFRva2VuaXplcldpdGhTdGF0ZVN0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcihsaW5lQ291bnQsIHRva2VuaXphdGlvblN1cHBvcnQsIF90ZXh0TW9kZWwsIF9sYW5ndWFnZUlkQ29kZWMpIHtcbiAgICAgICAgc3VwZXIobGluZUNvdW50LCB0b2tlbml6YXRpb25TdXBwb3J0KTtcbiAgICAgICAgdGhpcy5fdGV4dE1vZGVsID0gX3RleHRNb2RlbDtcbiAgICAgICAgdGhpcy5fbGFuZ3VhZ2VJZENvZGVjID0gX2xhbmd1YWdlSWRDb2RlYztcbiAgICB9XG4gICAgdXBkYXRlVG9rZW5zVW50aWxMaW5lKGJ1aWxkZXIsIGxpbmVOdW1iZXIpIHtcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2VJZCA9IHRoaXMuX3RleHRNb2RlbC5nZXRMYW5ndWFnZUlkKCk7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lVG9Ub2tlbml6ZSA9IHRoaXMuZ2V0Rmlyc3RJbnZhbGlkTGluZSgpO1xuICAgICAgICAgICAgaWYgKCFsaW5lVG9Ub2tlbml6ZSB8fCBsaW5lVG9Ub2tlbml6ZS5saW5lTnVtYmVyID4gbGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuX3RleHRNb2RlbC5nZXRMaW5lQ29udGVudChsaW5lVG9Ub2tlbml6ZS5saW5lTnVtYmVyKTtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBzYWZlVG9rZW5pemUodGhpcy5fbGFuZ3VhZ2VJZENvZGVjLCBsYW5ndWFnZUlkLCB0aGlzLnRva2VuaXphdGlvblN1cHBvcnQsIHRleHQsIHRydWUsIGxpbmVUb1Rva2VuaXplLnN0YXJ0U3RhdGUpO1xuICAgICAgICAgICAgYnVpbGRlci5hZGQobGluZVRvVG9rZW5pemUubGluZU51bWJlciwgci50b2tlbnMpO1xuICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXRFbmRTdGF0ZShsaW5lVG9Ub2tlbml6ZS5saW5lTnVtYmVyLCByLmVuZFN0YXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogYXNzdW1lcyBzdGF0ZSBpcyB1cCB0byBkYXRlICovXG4gICAgZ2V0VG9rZW5UeXBlSWZJbnNlcnRpbmdDaGFyYWN0ZXIocG9zaXRpb24sIGNoYXJhY3Rlcikge1xuICAgICAgICAvLyBUT0RPQGhlZGlldDogdXNlIHRva2VuaXplTGluZVdpdGhFZGl0XG4gICAgICAgIGNvbnN0IGxpbmVTdGFydFN0YXRlID0gdGhpcy5nZXRTdGFydFN0YXRlKHBvc2l0aW9uLmxpbmVOdW1iZXIpO1xuICAgICAgICBpZiAoIWxpbmVTdGFydFN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gMCAvKiBTdGFuZGFyZFRva2VuVHlwZS5PdGhlciAqLztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsYW5ndWFnZUlkID0gdGhpcy5fdGV4dE1vZGVsLmdldExhbmd1YWdlSWQoKTtcbiAgICAgICAgY29uc3QgbGluZUNvbnRlbnQgPSB0aGlzLl90ZXh0TW9kZWwuZ2V0TGluZUNvbnRlbnQocG9zaXRpb24ubGluZU51bWJlcik7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgdGV4dCBhcyBpZiBgY2hhcmFjdGVyYCB3YXMgaW5zZXJ0ZWRcbiAgICAgICAgY29uc3QgdGV4dCA9IChsaW5lQ29udGVudC5zdWJzdHJpbmcoMCwgcG9zaXRpb24uY29sdW1uIC0gMSlcbiAgICAgICAgICAgICsgY2hhcmFjdGVyXG4gICAgICAgICAgICArIGxpbmVDb250ZW50LnN1YnN0cmluZyhwb3NpdGlvbi5jb2x1bW4gLSAxKSk7XG4gICAgICAgIGNvbnN0IHIgPSBzYWZlVG9rZW5pemUodGhpcy5fbGFuZ3VhZ2VJZENvZGVjLCBsYW5ndWFnZUlkLCB0aGlzLnRva2VuaXphdGlvblN1cHBvcnQsIHRleHQsIHRydWUsIGxpbmVTdGFydFN0YXRlKTtcbiAgICAgICAgY29uc3QgbGluZVRva2VucyA9IG5ldyBMaW5lVG9rZW5zKHIudG9rZW5zLCB0ZXh0LCB0aGlzLl9sYW5ndWFnZUlkQ29kZWMpO1xuICAgICAgICBpZiAobGluZVRva2Vucy5nZXRDb3VudCgpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gMCAvKiBTdGFuZGFyZFRva2VuVHlwZS5PdGhlciAqLztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b2tlbkluZGV4ID0gbGluZVRva2Vucy5maW5kVG9rZW5JbmRleEF0T2Zmc2V0KHBvc2l0aW9uLmNvbHVtbiAtIDEpO1xuICAgICAgICByZXR1cm4gbGluZVRva2Vucy5nZXRTdGFuZGFyZFRva2VuVHlwZSh0b2tlbkluZGV4KTtcbiAgICB9XG4gICAgLyoqIGFzc3VtZXMgc3RhdGUgaXMgdXAgdG8gZGF0ZSAqL1xuICAgIHRva2VuaXplTGluZVdpdGhFZGl0KHBvc2l0aW9uLCBsZW5ndGgsIG5ld1RleHQpIHtcbiAgICAgICAgY29uc3QgbGluZU51bWJlciA9IHBvc2l0aW9uLmxpbmVOdW1iZXI7XG4gICAgICAgIGNvbnN0IGNvbHVtbiA9IHBvc2l0aW9uLmNvbHVtbjtcbiAgICAgICAgY29uc3QgbGluZVN0YXJ0U3RhdGUgPSB0aGlzLmdldFN0YXJ0U3RhdGUobGluZU51bWJlcik7XG4gICAgICAgIGlmICghbGluZVN0YXJ0U3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1ckxpbmVDb250ZW50ID0gdGhpcy5fdGV4dE1vZGVsLmdldExpbmVDb250ZW50KGxpbmVOdW1iZXIpO1xuICAgICAgICBjb25zdCBuZXdMaW5lQ29udGVudCA9IGN1ckxpbmVDb250ZW50LnN1YnN0cmluZygwLCBjb2x1bW4gLSAxKVxuICAgICAgICAgICAgKyBuZXdUZXh0ICsgY3VyTGluZUNvbnRlbnQuc3Vic3RyaW5nKGNvbHVtbiAtIDEgKyBsZW5ndGgpO1xuICAgICAgICBjb25zdCBsYW5ndWFnZUlkID0gdGhpcy5fdGV4dE1vZGVsLmdldExhbmd1YWdlSWRBdFBvc2l0aW9uKGxpbmVOdW1iZXIsIDApO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBzYWZlVG9rZW5pemUodGhpcy5fbGFuZ3VhZ2VJZENvZGVjLCBsYW5ndWFnZUlkLCB0aGlzLnRva2VuaXphdGlvblN1cHBvcnQsIG5ld0xpbmVDb250ZW50LCB0cnVlLCBsaW5lU3RhcnRTdGF0ZSk7XG4gICAgICAgIGNvbnN0IGxpbmVUb2tlbnMgPSBuZXcgTGluZVRva2VucyhyZXN1bHQudG9rZW5zLCBuZXdMaW5lQ29udGVudCwgdGhpcy5fbGFuZ3VhZ2VJZENvZGVjKTtcbiAgICAgICAgcmV0dXJuIGxpbmVUb2tlbnM7XG4gICAgfVxuICAgIGhhc0FjY3VyYXRlVG9rZW5zRm9yTGluZShsaW5lTnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0SW52YWxpZExpbmVOdW1iZXIgPSB0aGlzLnN0b3JlLmdldEZpcnN0SW52YWxpZEVuZFN0YXRlTGluZU51bWJlck9yTWF4KCk7XG4gICAgICAgIHJldHVybiAobGluZU51bWJlciA8IGZpcnN0SW52YWxpZExpbmVOdW1iZXIpO1xuICAgIH1cbiAgICBpc0NoZWFwVG9Ub2tlbml6ZShsaW5lTnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0SW52YWxpZExpbmVOdW1iZXIgPSB0aGlzLnN0b3JlLmdldEZpcnN0SW52YWxpZEVuZFN0YXRlTGluZU51bWJlck9yTWF4KCk7XG4gICAgICAgIGlmIChsaW5lTnVtYmVyIDwgZmlyc3RJbnZhbGlkTGluZU51bWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpbmVOdW1iZXIgPT09IGZpcnN0SW52YWxpZExpbmVOdW1iZXJcbiAgICAgICAgICAgICYmIHRoaXMuX3RleHRNb2RlbC5nZXRMaW5lTGVuZ3RoKGxpbmVOdW1iZXIpIDwgMjA0OCAvKiBDb25zdGFudHMuQ0hFQVBfVE9LRU5JWkFUSU9OX0xFTkdUSF9MSU1JVCAqLykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcmVzdWx0IGlzIG5vdCBjYWNoZWQuXG4gICAgICovXG4gICAgdG9rZW5pemVIZXVyaXN0aWNhbGx5KGJ1aWxkZXIsIHN0YXJ0TGluZU51bWJlciwgZW5kTGluZU51bWJlcikge1xuICAgICAgICBpZiAoZW5kTGluZU51bWJlciA8PSB0aGlzLnN0b3JlLmdldEZpcnN0SW52YWxpZEVuZFN0YXRlTGluZU51bWJlck9yTWF4KCkpIHtcbiAgICAgICAgICAgIC8vIG5vdGhpbmcgdG8gZG9cbiAgICAgICAgICAgIHJldHVybiB7IGhldXJpc3RpY1Rva2VuczogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRMaW5lTnVtYmVyIDw9IHRoaXMuc3RvcmUuZ2V0Rmlyc3RJbnZhbGlkRW5kU3RhdGVMaW5lTnVtYmVyT3JNYXgoKSkge1xuICAgICAgICAgICAgLy8gdG9rZW5pemF0aW9uIGhhcyByZWFjaGVkIHRoZSB2aWV3cG9ydCBzdGFydC4uLlxuICAgICAgICAgICAgdGhpcy51cGRhdGVUb2tlbnNVbnRpbExpbmUoYnVpbGRlciwgZW5kTGluZU51bWJlcik7XG4gICAgICAgICAgICByZXR1cm4geyBoZXVyaXN0aWNUb2tlbnM6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5ndWVzc1N0YXJ0U3RhdGUoc3RhcnRMaW5lTnVtYmVyKTtcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2VJZCA9IHRoaXMuX3RleHRNb2RlbC5nZXRMYW5ndWFnZUlkKCk7XG4gICAgICAgIGZvciAobGV0IGxpbmVOdW1iZXIgPSBzdGFydExpbmVOdW1iZXI7IGxpbmVOdW1iZXIgPD0gZW5kTGluZU51bWJlcjsgbGluZU51bWJlcisrKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5fdGV4dE1vZGVsLmdldExpbmVDb250ZW50KGxpbmVOdW1iZXIpO1xuICAgICAgICAgICAgY29uc3QgciA9IHNhZmVUb2tlbml6ZSh0aGlzLl9sYW5ndWFnZUlkQ29kZWMsIGxhbmd1YWdlSWQsIHRoaXMudG9rZW5pemF0aW9uU3VwcG9ydCwgdGV4dCwgdHJ1ZSwgc3RhdGUpO1xuICAgICAgICAgICAgYnVpbGRlci5hZGQobGluZU51bWJlciwgci50b2tlbnMpO1xuICAgICAgICAgICAgc3RhdGUgPSByLmVuZFN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGhldXJpc3RpY1Rva2VuczogdHJ1ZSB9O1xuICAgIH1cbiAgICBndWVzc1N0YXJ0U3RhdGUobGluZU51bWJlcikge1xuICAgICAgICBsZXQgbm9uV2hpdGVzcGFjZUNvbHVtbiA9IHRoaXMuX3RleHRNb2RlbC5nZXRMaW5lRmlyc3ROb25XaGl0ZXNwYWNlQ29sdW1uKGxpbmVOdW1iZXIpO1xuICAgICAgICBjb25zdCBsaWtlbHlSZWxldmFudExpbmVzID0gW107XG4gICAgICAgIGxldCBpbml0aWFsU3RhdGUgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gbGluZU51bWJlciAtIDE7IG5vbldoaXRlc3BhY2VDb2x1bW4gPiAxICYmIGkgPj0gMTsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdOb25XaGl0ZXNwYWNlSW5kZXggPSB0aGlzLl90ZXh0TW9kZWwuZ2V0TGluZUZpcnN0Tm9uV2hpdGVzcGFjZUNvbHVtbihpKTtcbiAgICAgICAgICAgIC8vIElnbm9yZSBsaW5lcyBmdWxsIG9mIHdoaXRlc3BhY2VcbiAgICAgICAgICAgIGlmIChuZXdOb25XaGl0ZXNwYWNlSW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdOb25XaGl0ZXNwYWNlSW5kZXggPCBub25XaGl0ZXNwYWNlQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgbGlrZWx5UmVsZXZhbnRMaW5lcy5wdXNoKHRoaXMuX3RleHRNb2RlbC5nZXRMaW5lQ29udGVudChpKSk7XG4gICAgICAgICAgICAgICAgbm9uV2hpdGVzcGFjZUNvbHVtbiA9IG5ld05vbldoaXRlc3BhY2VJbmRleDtcbiAgICAgICAgICAgICAgICBpbml0aWFsU3RhdGUgPSB0aGlzLmdldFN0YXJ0U3RhdGUoaSk7XG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbml0aWFsU3RhdGUpIHtcbiAgICAgICAgICAgIGluaXRpYWxTdGF0ZSA9IHRoaXMudG9rZW5pemF0aW9uU3VwcG9ydC5nZXRJbml0aWFsU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBsaWtlbHlSZWxldmFudExpbmVzLnJldmVyc2UoKTtcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2VJZCA9IHRoaXMuX3RleHRNb2RlbC5nZXRMYW5ndWFnZUlkKCk7XG4gICAgICAgIGxldCBzdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpa2VseVJlbGV2YW50TGluZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBzYWZlVG9rZW5pemUodGhpcy5fbGFuZ3VhZ2VJZENvZGVjLCBsYW5ndWFnZUlkLCB0aGlzLnRva2VuaXphdGlvblN1cHBvcnQsIGxpbmUsIGZhbHNlLCBzdGF0ZSk7XG4gICAgICAgICAgICBzdGF0ZSA9IHIuZW5kU3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cbi8qKlxuICogKipJbnZhcmlhbnQ6KipcbiAqIElmIHRoZSB0ZXh0IG1vZGVsIGlzIHJldG9rZW5pemVkIGZyb20gbGluZSAxIHRvIHtAbGluayBnZXRGaXJzdEludmFsaWRFbmRTdGF0ZUxpbmVOdW1iZXJ9KCkgLSAxLFxuICogdGhlbiB0aGUgcmVjb21wdXRlZCBlbmQgc3RhdGUgZm9yIGxpbmUgbCB3aWxsIGJlIGVxdWFsIHRvIHtAbGluayBnZXRFbmRTdGF0ZX0obCkuXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmFja2luZ1Rva2VuaXphdGlvblN0YXRlU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKGxpbmVDb3VudCkge1xuICAgICAgICB0aGlzLmxpbmVDb3VudCA9IGxpbmVDb3VudDtcbiAgICAgICAgdGhpcy5fdG9rZW5pemF0aW9uU3RhdGVTdG9yZSA9IG5ldyBUb2tlbml6YXRpb25TdGF0ZVN0b3JlKCk7XG4gICAgICAgIHRoaXMuX2ludmFsaWRFbmRTdGF0ZXNMaW5lTnVtYmVycyA9IG5ldyBSYW5nZVByaW9yaXR5UXVldWVJbXBsKCk7XG4gICAgICAgIHRoaXMuX2ludmFsaWRFbmRTdGF0ZXNMaW5lTnVtYmVycy5hZGRSYW5nZShuZXcgT2Zmc2V0UmFuZ2UoMSwgbGluZUNvdW50ICsgMSkpO1xuICAgIH1cbiAgICBnZXRFbmRTdGF0ZShsaW5lTnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbml6YXRpb25TdGF0ZVN0b3JlLmdldEVuZFN0YXRlKGxpbmVOdW1iZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBpZiB0aGUgZW5kIHN0YXRlIGhhcyBjaGFuZ2VkLlxuICAgICAqL1xuICAgIHNldEVuZFN0YXRlKGxpbmVOdW1iZXIsIHN0YXRlKSB7XG4gICAgICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBCdWdJbmRpY2F0aW5nRXJyb3IoJ0Nhbm5vdCBzZXQgbnVsbC91bmRlZmluZWQgc3RhdGUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnZhbGlkRW5kU3RhdGVzTGluZU51bWJlcnMuZGVsZXRlKGxpbmVOdW1iZXIpO1xuICAgICAgICBjb25zdCByID0gdGhpcy5fdG9rZW5pemF0aW9uU3RhdGVTdG9yZS5zZXRFbmRTdGF0ZShsaW5lTnVtYmVyLCBzdGF0ZSk7XG4gICAgICAgIGlmIChyICYmIGxpbmVOdW1iZXIgPCB0aGlzLmxpbmVDb3VudCkge1xuICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGUgc3RhdGUgY2hhbmdlZCwgd2UgY2Fubm90IHRydXN0IHRoZSBuZXh0IHN0YXRlIGFueW1vcmUgYW5kIGhhdmUgdG8gaW52YWxpZGF0ZSBpdC5cbiAgICAgICAgICAgIHRoaXMuX2ludmFsaWRFbmRTdGF0ZXNMaW5lTnVtYmVycy5hZGRSYW5nZShuZXcgT2Zmc2V0UmFuZ2UobGluZU51bWJlciArIDEsIGxpbmVOdW1iZXIgKyAyKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIGFjY2VwdENoYW5nZShyYW5nZSwgbmV3TGluZUNvdW50KSB7XG4gICAgICAgIHRoaXMubGluZUNvdW50ICs9IG5ld0xpbmVDb3VudCAtIHJhbmdlLmxlbmd0aDtcbiAgICAgICAgdGhpcy5fdG9rZW5pemF0aW9uU3RhdGVTdG9yZS5hY2NlcHRDaGFuZ2UocmFuZ2UsIG5ld0xpbmVDb3VudCk7XG4gICAgICAgIHRoaXMuX2ludmFsaWRFbmRTdGF0ZXNMaW5lTnVtYmVycy5hZGRSYW5nZUFuZFJlc2l6ZShuZXcgT2Zmc2V0UmFuZ2UocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLCByYW5nZS5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlKSwgbmV3TGluZUNvdW50KTtcbiAgICB9XG4gICAgYWNjZXB0Q2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgICAgIGZvciAoY29uc3QgYyBvZiBjaGFuZ2VzKSB7XG4gICAgICAgICAgICBjb25zdCBbZW9sQ291bnRdID0gY291bnRFT0woYy50ZXh0KTtcbiAgICAgICAgICAgIHRoaXMuYWNjZXB0Q2hhbmdlKG5ldyBMaW5lUmFuZ2UoYy5yYW5nZS5zdGFydExpbmVOdW1iZXIsIGMucmFuZ2UuZW5kTGluZU51bWJlciArIDEpLCBlb2xDb3VudCArIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGludmFsaWRhdGVFbmRTdGF0ZVJhbmdlKHJhbmdlKSB7XG4gICAgICAgIHRoaXMuX2ludmFsaWRFbmRTdGF0ZXNMaW5lTnVtYmVycy5hZGRSYW5nZShuZXcgT2Zmc2V0UmFuZ2UocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLCByYW5nZS5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlKSk7XG4gICAgfVxuICAgIGdldEZpcnN0SW52YWxpZEVuZFN0YXRlTGluZU51bWJlcigpIHsgcmV0dXJuIHRoaXMuX2ludmFsaWRFbmRTdGF0ZXNMaW5lTnVtYmVycy5taW47IH1cbiAgICBnZXRGaXJzdEludmFsaWRFbmRTdGF0ZUxpbmVOdW1iZXJPck1heCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rmlyc3RJbnZhbGlkRW5kU3RhdGVMaW5lTnVtYmVyKCkgfHwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gICAgfVxuICAgIGFsbFN0YXRlc1ZhbGlkKCkgeyByZXR1cm4gdGhpcy5faW52YWxpZEVuZFN0YXRlc0xpbmVOdW1iZXJzLm1pbiA9PT0gbnVsbDsgfVxuICAgIGdldFN0YXJ0U3RhdGUobGluZU51bWJlciwgaW5pdGlhbFN0YXRlKSB7XG4gICAgICAgIGlmIChsaW5lTnVtYmVyID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhbFN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldEVuZFN0YXRlKGxpbmVOdW1iZXIgLSAxKTtcbiAgICB9XG4gICAgZ2V0Rmlyc3RJbnZhbGlkTGluZShpbml0aWFsU3RhdGUpIHtcbiAgICAgICAgY29uc3QgbGluZU51bWJlciA9IHRoaXMuZ2V0Rmlyc3RJbnZhbGlkRW5kU3RhdGVMaW5lTnVtYmVyKCk7XG4gICAgICAgIGlmIChsaW5lTnVtYmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGFydFN0YXRlID0gdGhpcy5nZXRTdGFydFN0YXRlKGxpbmVOdW1iZXIsIGluaXRpYWxTdGF0ZSk7XG4gICAgICAgIGlmICghc3RhcnRTdGF0ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEJ1Z0luZGljYXRpbmdFcnJvcignU3RhcnQgc3RhdGUgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgbGluZU51bWJlciwgc3RhcnRTdGF0ZSB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBUb2tlbml6YXRpb25TdGF0ZVN0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fbGluZUVuZFN0YXRlcyA9IG5ldyBGaXhlZEFycmF5KG51bGwpO1xuICAgIH1cbiAgICBnZXRFbmRTdGF0ZShsaW5lTnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lRW5kU3RhdGVzLmdldChsaW5lTnVtYmVyKTtcbiAgICB9XG4gICAgc2V0RW5kU3RhdGUobGluZU51bWJlciwgc3RhdGUpIHtcbiAgICAgICAgY29uc3Qgb2xkU3RhdGUgPSB0aGlzLl9saW5lRW5kU3RhdGVzLmdldChsaW5lTnVtYmVyKTtcbiAgICAgICAgaWYgKG9sZFN0YXRlICYmIG9sZFN0YXRlLmVxdWFscyhzdGF0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9saW5lRW5kU3RhdGVzLnNldChsaW5lTnVtYmVyLCBzdGF0ZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBhY2NlcHRDaGFuZ2UocmFuZ2UsIG5ld0xpbmVDb3VudCkge1xuICAgICAgICBsZXQgbGVuZ3RoID0gcmFuZ2UubGVuZ3RoO1xuICAgICAgICBpZiAobmV3TGluZUNvdW50ID4gMCAmJiBsZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBLZWVwIHRoZSBsYXN0IHN0YXRlLCBldmVuIHRob3VnaCBpdCBpcyB1bnJlbGF0ZWQuXG4gICAgICAgICAgICAvLyBCdXQgaWYgdGhlIG5ldyBzdGF0ZSBoYXBwZW5zIHRvIGFncmVlIHdpdGggdGhpcyBsYXN0IHN0YXRlLCB0aGVuIHdlIGtub3cgd2UgY2FuIHN0b3AgdG9rZW5pemluZy5cbiAgICAgICAgICAgIGxlbmd0aC0tO1xuICAgICAgICAgICAgbmV3TGluZUNvdW50LS07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGluZUVuZFN0YXRlcy5yZXBsYWNlKHJhbmdlLnN0YXJ0TGluZU51bWJlciwgbGVuZ3RoLCBuZXdMaW5lQ291bnQpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSYW5nZVByaW9yaXR5UXVldWVJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fcmFuZ2VzID0gW107XG4gICAgfVxuICAgIGdldCBtaW4oKSB7XG4gICAgICAgIGlmICh0aGlzLl9yYW5nZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmFuZ2VzWzBdLnN0YXJ0O1xuICAgIH1cbiAgICBkZWxldGUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgaWR4ID0gdGhpcy5fcmFuZ2VzLmZpbmRJbmRleChyID0+IHIuY29udGFpbnModmFsdWUpKTtcbiAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5fcmFuZ2VzW2lkeF07XG4gICAgICAgICAgICBpZiAocmFuZ2Uuc3RhcnQgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlLmVuZEV4Y2x1c2l2ZSA9PT0gdmFsdWUgKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jhbmdlcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jhbmdlc1tpZHhdID0gbmV3IE9mZnNldFJhbmdlKHZhbHVlICsgMSwgcmFuZ2UuZW5kRXhjbHVzaXZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UuZW5kRXhjbHVzaXZlID09PSB2YWx1ZSArIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmFuZ2VzW2lkeF0gPSBuZXcgT2Zmc2V0UmFuZ2UocmFuZ2Uuc3RhcnQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jhbmdlcy5zcGxpY2UoaWR4LCAxLCBuZXcgT2Zmc2V0UmFuZ2UocmFuZ2Uuc3RhcnQsIHZhbHVlKSwgbmV3IE9mZnNldFJhbmdlKHZhbHVlICsgMSwgcmFuZ2UuZW5kRXhjbHVzaXZlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFJhbmdlKHJhbmdlKSB7XG4gICAgICAgIE9mZnNldFJhbmdlLmFkZFJhbmdlKHJhbmdlLCB0aGlzLl9yYW5nZXMpO1xuICAgIH1cbiAgICBhZGRSYW5nZUFuZFJlc2l6ZShyYW5nZSwgbmV3TGVuZ3RoKSB7XG4gICAgICAgIGxldCBpZHhGaXJzdE1pZ2h0QmVJbnRlcnNlY3RpbmcgPSAwO1xuICAgICAgICB3aGlsZSAoIShpZHhGaXJzdE1pZ2h0QmVJbnRlcnNlY3RpbmcgPj0gdGhpcy5fcmFuZ2VzLmxlbmd0aCB8fCByYW5nZS5zdGFydCA8PSB0aGlzLl9yYW5nZXNbaWR4Rmlyc3RNaWdodEJlSW50ZXJzZWN0aW5nXS5lbmRFeGNsdXNpdmUpKSB7XG4gICAgICAgICAgICBpZHhGaXJzdE1pZ2h0QmVJbnRlcnNlY3RpbmcrKztcbiAgICAgICAgfVxuICAgICAgICBsZXQgaWR4Rmlyc3RJc0FmdGVyID0gaWR4Rmlyc3RNaWdodEJlSW50ZXJzZWN0aW5nO1xuICAgICAgICB3aGlsZSAoIShpZHhGaXJzdElzQWZ0ZXIgPj0gdGhpcy5fcmFuZ2VzLmxlbmd0aCB8fCByYW5nZS5lbmRFeGNsdXNpdmUgPCB0aGlzLl9yYW5nZXNbaWR4Rmlyc3RJc0FmdGVyXS5zdGFydCkpIHtcbiAgICAgICAgICAgIGlkeEZpcnN0SXNBZnRlcisrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlbHRhID0gbmV3TGVuZ3RoIC0gcmFuZ2UubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gaWR4Rmlyc3RJc0FmdGVyOyBpIDwgdGhpcy5fcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9yYW5nZXNbaV0gPSB0aGlzLl9yYW5nZXNbaV0uZGVsdGEoZGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZHhGaXJzdE1pZ2h0QmVJbnRlcnNlY3RpbmcgPT09IGlkeEZpcnN0SXNBZnRlcikge1xuICAgICAgICAgICAgY29uc3QgbmV3UmFuZ2UgPSBuZXcgT2Zmc2V0UmFuZ2UocmFuZ2Uuc3RhcnQsIHJhbmdlLnN0YXJ0ICsgbmV3TGVuZ3RoKTtcbiAgICAgICAgICAgIGlmICghbmV3UmFuZ2UuaXNFbXB0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jhbmdlcy5zcGxpY2UoaWR4Rmlyc3RNaWdodEJlSW50ZXJzZWN0aW5nLCAwLCBuZXdSYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IE1hdGgubWluKHJhbmdlLnN0YXJ0LCB0aGlzLl9yYW5nZXNbaWR4Rmlyc3RNaWdodEJlSW50ZXJzZWN0aW5nXS5zdGFydCk7XG4gICAgICAgICAgICBjb25zdCBlbmRFeCA9IE1hdGgubWF4KHJhbmdlLmVuZEV4Y2x1c2l2ZSwgdGhpcy5fcmFuZ2VzW2lkeEZpcnN0SXNBZnRlciAtIDFdLmVuZEV4Y2x1c2l2ZSk7XG4gICAgICAgICAgICBjb25zdCBuZXdSYW5nZSA9IG5ldyBPZmZzZXRSYW5nZShzdGFydCwgZW5kRXggKyBkZWx0YSk7XG4gICAgICAgICAgICBpZiAoIW5ld1JhbmdlLmlzRW1wdHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yYW5nZXMuc3BsaWNlKGlkeEZpcnN0TWlnaHRCZUludGVyc2VjdGluZywgaWR4Rmlyc3RJc0FmdGVyIC0gaWR4Rmlyc3RNaWdodEJlSW50ZXJzZWN0aW5nLCBuZXdSYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yYW5nZXMuc3BsaWNlKGlkeEZpcnN0TWlnaHRCZUludGVyc2VjdGluZywgaWR4Rmlyc3RJc0FmdGVyIC0gaWR4Rmlyc3RNaWdodEJlSW50ZXJzZWN0aW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhbmdlcy5tYXAociA9PiByLnRvU3RyaW5nKCkpLmpvaW4oJyArICcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNhZmVUb2tlbml6ZShsYW5ndWFnZUlkQ29kZWMsIGxhbmd1YWdlSWQsIHRva2VuaXphdGlvblN1cHBvcnQsIHRleHQsIGhhc0VPTCwgc3RhdGUpIHtcbiAgICBsZXQgciA9IG51bGw7XG4gICAgaWYgKHRva2VuaXphdGlvblN1cHBvcnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHIgPSB0b2tlbml6YXRpb25TdXBwb3J0LnRva2VuaXplRW5jb2RlZCh0ZXh0LCBoYXNFT0wsIHN0YXRlLmNsb25lKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBvblVuZXhwZWN0ZWRFcnJvcihlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXIpIHtcbiAgICAgICAgciA9IG51bGxUb2tlbml6ZUVuY29kZWQobGFuZ3VhZ2VJZENvZGVjLmVuY29kZUxhbmd1YWdlSWQobGFuZ3VhZ2VJZCksIHN0YXRlKTtcbiAgICB9XG4gICAgTGluZVRva2Vucy5jb252ZXJ0VG9FbmRPZmZzZXQoci50b2tlbnMsIHRleHQubGVuZ3RoKTtcbiAgICByZXR1cm4gcjtcbn1cbmV4cG9ydCBjbGFzcyBEZWZhdWx0QmFja2dyb3VuZFRva2VuaXplciB7XG4gICAgY29uc3RydWN0b3IoX3Rva2VuaXplcldpdGhTdGF0ZVN0b3JlLCBfYmFja2dyb3VuZFRva2VuU3RvcmUpIHtcbiAgICAgICAgdGhpcy5fdG9rZW5pemVyV2l0aFN0YXRlU3RvcmUgPSBfdG9rZW5pemVyV2l0aFN0YXRlU3RvcmU7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRUb2tlblN0b3JlID0gX2JhY2tncm91bmRUb2tlblN0b3JlO1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xuICAgIH1cbiAgICBoYW5kbGVDaGFuZ2VzKCkge1xuICAgICAgICB0aGlzLl9iZWdpbkJhY2tncm91bmRUb2tlbml6YXRpb24oKTtcbiAgICB9XG4gICAgX2JlZ2luQmFja2dyb3VuZFRva2VuaXphdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzU2NoZWR1bGVkIHx8ICF0aGlzLl90b2tlbml6ZXJXaXRoU3RhdGVTdG9yZS5fdGV4dE1vZGVsLmlzQXR0YWNoZWRUb0VkaXRvcigpIHx8ICF0aGlzLl9oYXNMaW5lc1RvVG9rZW5pemUoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgcnVuV2hlbkdsb2JhbElkbGUoKGRlYWRsaW5lKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9pc1NjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fYmFja2dyb3VuZFRva2VuaXplV2l0aERlYWRsaW5lKGRlYWRsaW5lKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRva2VuaXplIHVudGlsIHRoZSBkZWFkbGluZSBvY2N1cnMsIGJ1dCB0cnkgdG8geWllbGQgZXZlcnkgMS0ybXMuXG4gICAgICovXG4gICAgX2JhY2tncm91bmRUb2tlbml6ZVdpdGhEZWFkbGluZShkZWFkbGluZSkge1xuICAgICAgICAvLyBSZWFkIHRoZSB0aW1lIHJlbWFpbmluZyBmcm9tIHRoZSBgZGVhZGxpbmVgIGltbWVkaWF0ZWx5IGJlY2F1c2UgaXQgaXMgdW5jbGVhclxuICAgICAgICAvLyBpZiB0aGUgYGRlYWRsaW5lYCBvYmplY3Qgd2lsbCBiZSB2YWxpZCBhZnRlciBleGVjdXRpb24gbGVhdmVzIHRoaXMgZnVuY3Rpb24uXG4gICAgICAgIGNvbnN0IGVuZFRpbWUgPSBEYXRlLm5vdygpICsgZGVhZGxpbmUudGltZVJlbWFpbmluZygpO1xuICAgICAgICBjb25zdCBleGVjdXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRGlzcG9zZWQgfHwgIXRoaXMuX3Rva2VuaXplcldpdGhTdGF0ZVN0b3JlLl90ZXh0TW9kZWwuaXNBdHRhY2hlZFRvRWRpdG9yKCkgfHwgIXRoaXMuX2hhc0xpbmVzVG9Ub2tlbml6ZSgpKSB7XG4gICAgICAgICAgICAgICAgLy8gZGlzcG9zZWQgaW4gdGhlIG1lYW50aW1lIG9yIGRldGFjaGVkIG9yIGZpbmlzaGVkXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYmFja2dyb3VuZFRva2VuaXplRm9yQXRMZWFzdDFtcygpO1xuICAgICAgICAgICAgaWYgKERhdGUubm93KCkgPCBlbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlcmUgaXMgc3RpbGwgdGltZSBiZWZvcmUgcmVhY2hpbmcgdGhlIGRlYWRsaW5lLCBzbyB5aWVsZCB0byB0aGUgYnJvd3NlciBhbmQgdGhlblxuICAgICAgICAgICAgICAgIC8vIGNvbnRpbnVlIGV4ZWN1dGlvblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQwKGV4ZWN1dGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIGRlYWRsaW5lIGhhcyBiZWVuIHJlYWNoZWQsIHNvIHNjaGVkdWxlIGEgbmV3IGlkbGUgY2FsbGJhY2sgaWYgbmVjZXNzYXJ5XG4gICAgICAgICAgICAgICAgdGhpcy5fYmVnaW5CYWNrZ3JvdW5kVG9rZW5pemF0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGV4ZWN1dGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVG9rZW5pemUgZm9yIGF0IGxlYXN0IDFtcy5cbiAgICAgKi9cbiAgICBfYmFja2dyb3VuZFRva2VuaXplRm9yQXRMZWFzdDFtcygpIHtcbiAgICAgICAgY29uc3QgbGluZUNvdW50ID0gdGhpcy5fdG9rZW5pemVyV2l0aFN0YXRlU3RvcmUuX3RleHRNb2RlbC5nZXRMaW5lQ291bnQoKTtcbiAgICAgICAgY29uc3QgYnVpbGRlciA9IG5ldyBDb250aWd1b3VzTXVsdGlsaW5lVG9rZW5zQnVpbGRlcigpO1xuICAgICAgICBjb25zdCBzdyA9IFN0b3BXYXRjaC5jcmVhdGUoZmFsc2UpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoc3cuZWxhcHNlZCgpID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIHRoZSBjb21wYXJpc29uIGlzIGludGVudGlvbmFsbHkgPiAxIGFuZCBub3QgPj0gMSB0byBlbnN1cmUgdGhhdFxuICAgICAgICAgICAgICAgIC8vIGEgZnVsbCBtaWxsaXNlY29uZCBoYXMgZWxhcHNlZCwgZ2l2ZW4gaG93IG1pY3Jvc2Vjb25kcyBhcmUgcm91bmRlZFxuICAgICAgICAgICAgICAgIC8vIHRvIG1pbGxpc2Vjb25kc1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdG9rZW5pemVkTGluZU51bWJlciA9IHRoaXMuX3Rva2VuaXplT25lSW52YWxpZExpbmUoYnVpbGRlcik7XG4gICAgICAgICAgICBpZiAodG9rZW5pemVkTGluZU51bWJlciA+PSBsaW5lQ291bnQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAodGhpcy5faGFzTGluZXNUb1Rva2VuaXplKCkpO1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kVG9rZW5TdG9yZS5zZXRUb2tlbnMoYnVpbGRlci5maW5hbGl6ZSgpKTtcbiAgICAgICAgdGhpcy5jaGVja0ZpbmlzaGVkKCk7XG4gICAgfVxuICAgIF9oYXNMaW5lc1RvVG9rZW5pemUoKSB7XG4gICAgICAgIGlmICghdGhpcy5fdG9rZW5pemVyV2l0aFN0YXRlU3RvcmUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXRoaXMuX3Rva2VuaXplcldpdGhTdGF0ZVN0b3JlLnN0b3JlLmFsbFN0YXRlc1ZhbGlkKCk7XG4gICAgfVxuICAgIF90b2tlbml6ZU9uZUludmFsaWRMaW5lKGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3QgZmlyc3RJbnZhbGlkTGluZSA9IHRoaXMuX3Rva2VuaXplcldpdGhTdGF0ZVN0b3JlPy5nZXRGaXJzdEludmFsaWRMaW5lKCk7XG4gICAgICAgIGlmICghZmlyc3RJbnZhbGlkTGluZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Rva2VuaXplcldpdGhTdGF0ZVN0b3JlLl90ZXh0TW9kZWwuZ2V0TGluZUNvdW50KCkgKyAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Rva2VuaXplcldpdGhTdGF0ZVN0b3JlLnVwZGF0ZVRva2Vuc1VudGlsTGluZShidWlsZGVyLCBmaXJzdEludmFsaWRMaW5lLmxpbmVOdW1iZXIpO1xuICAgICAgICByZXR1cm4gZmlyc3RJbnZhbGlkTGluZS5saW5lTnVtYmVyO1xuICAgIH1cbiAgICBjaGVja0ZpbmlzaGVkKCkge1xuICAgICAgICBpZiAodGhpcy5faXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl90b2tlbml6ZXJXaXRoU3RhdGVTdG9yZS5zdG9yZS5hbGxTdGF0ZXNWYWxpZCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kVG9rZW5TdG9yZS5iYWNrZ3JvdW5kVG9rZW5pemF0aW9uRmluaXNoZWQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXF1ZXN0VG9rZW5zKHN0YXJ0TGluZU51bWJlciwgZW5kTGluZU51bWJlckV4Y2x1c2l2ZSkge1xuICAgICAgICB0aGlzLl90b2tlbml6ZXJXaXRoU3RhdGVTdG9yZS5zdG9yZS5pbnZhbGlkYXRlRW5kU3RhdGVSYW5nZShuZXcgTGluZVJhbmdlKHN0YXJ0TGluZU51bWJlciwgZW5kTGluZU51bWJlckV4Y2x1c2l2ZSkpO1xuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgZXF1YWxzIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vYXJyYXlzLmpzJztcbmltcG9ydCB7IFJ1bk9uY2VTY2hlZHVsZXIgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9hc3luYy5qcyc7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vZXZlbnQuanMnO1xuaW1wb3J0IHsgRGlzcG9zYWJsZSB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2xpZmVjeWNsZS5qcyc7XG5pbXBvcnQgeyBMaW5lUmFuZ2UgfSBmcm9tICcuLi9jb3JlL2xpbmVSYW5nZS5qcyc7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgQXR0YWNoZWRWaWV3cyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlVmlzaWJsZVJhbmdlcyA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRDaGFuZ2VWaXNpYmxlUmFuZ2VzID0gdGhpcy5fb25EaWRDaGFuZ2VWaXNpYmxlUmFuZ2VzLmV2ZW50O1xuICAgICAgICB0aGlzLl92aWV3cyA9IG5ldyBTZXQoKTtcbiAgICB9XG4gICAgYXR0YWNoVmlldygpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyBBdHRhY2hlZFZpZXdJbXBsKChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VWaXNpYmxlUmFuZ2VzLmZpcmUoeyB2aWV3LCBzdGF0ZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3ZpZXdzLmFkZCh2aWV3KTtcbiAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxuICAgIGRldGFjaFZpZXcodmlldykge1xuICAgICAgICB0aGlzLl92aWV3cy5kZWxldGUodmlldyk7XG4gICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlVmlzaWJsZVJhbmdlcy5maXJlKHsgdmlldywgc3RhdGU6IHVuZGVmaW5lZCB9KTtcbiAgICB9XG59XG5jbGFzcyBBdHRhY2hlZFZpZXdJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihoYW5kbGVTdGF0ZUNoYW5nZSkge1xuICAgICAgICB0aGlzLmhhbmRsZVN0YXRlQ2hhbmdlID0gaGFuZGxlU3RhdGVDaGFuZ2U7XG4gICAgfVxuICAgIHNldFZpc2libGVMaW5lcyh2aXNpYmxlTGluZXMsIHN0YWJpbGl6ZWQpIHtcbiAgICAgICAgY29uc3QgdmlzaWJsZUxpbmVSYW5nZXMgPSB2aXNpYmxlTGluZXMubWFwKChsaW5lKSA9PiBuZXcgTGluZVJhbmdlKGxpbmUuc3RhcnRMaW5lTnVtYmVyLCBsaW5lLmVuZExpbmVOdW1iZXIgKyAxKSk7XG4gICAgICAgIHRoaXMuaGFuZGxlU3RhdGVDaGFuZ2UoeyB2aXNpYmxlTGluZVJhbmdlcywgc3RhYmlsaXplZCB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQXR0YWNoZWRWaWV3SGFuZGxlciBleHRlbmRzIERpc3Bvc2FibGUge1xuICAgIGdldCBsaW5lUmFuZ2VzKCkgeyByZXR1cm4gdGhpcy5fbGluZVJhbmdlczsgfVxuICAgIGNvbnN0cnVjdG9yKF9yZWZyZXNoVG9rZW5zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3JlZnJlc2hUb2tlbnMgPSBfcmVmcmVzaFRva2VucztcbiAgICAgICAgdGhpcy5ydW5uZXIgPSB0aGlzLl9yZWdpc3RlcihuZXcgUnVuT25jZVNjaGVkdWxlcigoKSA9PiB0aGlzLnVwZGF0ZSgpLCA1MCkpO1xuICAgICAgICB0aGlzLl9jb21wdXRlZExpbmVSYW5nZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fbGluZVJhbmdlcyA9IFtdO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmIChlcXVhbHModGhpcy5fY29tcHV0ZWRMaW5lUmFuZ2VzLCB0aGlzLl9saW5lUmFuZ2VzLCAoYSwgYikgPT4gYS5lcXVhbHMoYikpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY29tcHV0ZWRMaW5lUmFuZ2VzID0gdGhpcy5fbGluZVJhbmdlcztcbiAgICAgICAgdGhpcy5fcmVmcmVzaFRva2VucygpO1xuICAgIH1cbiAgICBoYW5kbGVTdGF0ZUNoYW5nZShzdGF0ZSkge1xuICAgICAgICB0aGlzLl9saW5lUmFuZ2VzID0gc3RhdGUudmlzaWJsZUxpbmVSYW5nZXM7XG4gICAgICAgIGlmIChzdGF0ZS5zdGFiaWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lci5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lci5zY2hlZHVsZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFic3RyYWN0VG9rZW5zIGV4dGVuZHMgRGlzcG9zYWJsZSB7XG4gICAgZ2V0IGJhY2tncm91bmRUb2tlbml6YXRpb25TdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRUb2tlbml6YXRpb25TdGF0ZTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoX2xhbmd1YWdlSWRDb2RlYywgX3RleHRNb2RlbCwgZ2V0TGFuZ3VhZ2VJZCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9sYW5ndWFnZUlkQ29kZWMgPSBfbGFuZ3VhZ2VJZENvZGVjO1xuICAgICAgICB0aGlzLl90ZXh0TW9kZWwgPSBfdGV4dE1vZGVsO1xuICAgICAgICB0aGlzLmdldExhbmd1YWdlSWQgPSBnZXRMYW5ndWFnZUlkO1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kVG9rZW5pemF0aW9uU3RhdGUgPSAxIC8qIEJhY2tncm91bmRUb2tlbml6YXRpb25TdGF0ZS5JblByb2dyZXNzICovO1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZUJhY2tncm91bmRUb2tlbml6YXRpb25TdGF0ZSA9IHRoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyKCkpO1xuICAgICAgICAvKiogQGludGVybmFsLCBzaG91bGQgbm90IGJlIGV4cG9zZWQgYnkgdGhlIHRleHQgbW9kZWwhICovXG4gICAgICAgIHRoaXMub25EaWRDaGFuZ2VCYWNrZ3JvdW5kVG9rZW5pemF0aW9uU3RhdGUgPSB0aGlzLl9vbkRpZENoYW5nZUJhY2tncm91bmRUb2tlbml6YXRpb25TdGF0ZS5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VUb2tlbnMgPSB0aGlzLl9yZWdpc3RlcihuZXcgRW1pdHRlcigpKTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCwgc2hvdWxkIG5vdCBiZSBleHBvc2VkIGJ5IHRoZSB0ZXh0IG1vZGVsISAqL1xuICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlVG9rZW5zID0gdGhpcy5fb25EaWRDaGFuZ2VUb2tlbnMuZXZlbnQ7XG4gICAgfVxuICAgIHRva2VuaXplSWZDaGVhcChsaW5lTnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQ2hlYXBUb1Rva2VuaXplKGxpbmVOdW1iZXIpKSB7XG4gICAgICAgICAgICB0aGlzLmZvcmNlVG9rZW5pemF0aW9uKGxpbmVOdW1iZXIpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBUcmVlU2l0dGVyVG9rZW5pemF0aW9uUmVnaXN0cnkgfSBmcm9tICcuLi9sYW5ndWFnZXMuanMnO1xuaW1wb3J0IHsgTGluZVRva2VucyB9IGZyb20gJy4uL3Rva2Vucy9saW5lVG9rZW5zLmpzJztcbmltcG9ydCB7IEFic3RyYWN0VG9rZW5zIH0gZnJvbSAnLi90b2tlbnMuanMnO1xuZXhwb3J0IGNsYXNzIFRyZWVTaXR0ZXJUb2tlbnMgZXh0ZW5kcyBBYnN0cmFjdFRva2VucyB7XG4gICAgY29uc3RydWN0b3IoX3RyZWVTaXR0ZXJTZXJ2aWNlLCBsYW5ndWFnZUlkQ29kZWMsIHRleHRNb2RlbCwgbGFuZ3VhZ2VJZCkge1xuICAgICAgICBzdXBlcihsYW5ndWFnZUlkQ29kZWMsIHRleHRNb2RlbCwgbGFuZ3VhZ2VJZCk7XG4gICAgICAgIHRoaXMuX3RyZWVTaXR0ZXJTZXJ2aWNlID0gX3RyZWVTaXR0ZXJTZXJ2aWNlO1xuICAgICAgICB0aGlzLl90b2tlbml6YXRpb25TdXBwb3J0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZSgpO1xuICAgIH1cbiAgICBfaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgY29uc3QgbmV3TGFuZ3VhZ2UgPSB0aGlzLmdldExhbmd1YWdlSWQoKTtcbiAgICAgICAgaWYgKCF0aGlzLl90b2tlbml6YXRpb25TdXBwb3J0IHx8IHRoaXMuX2xhc3RMYW5ndWFnZUlkICE9PSBuZXdMYW5ndWFnZSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdExhbmd1YWdlSWQgPSBuZXdMYW5ndWFnZTtcbiAgICAgICAgICAgIHRoaXMuX3Rva2VuaXphdGlvblN1cHBvcnQgPSBUcmVlU2l0dGVyVG9rZW5pemF0aW9uUmVnaXN0cnkuZ2V0KG5ld0xhbmd1YWdlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRMaW5lVG9rZW5zKGxpbmVOdW1iZXIpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuX3RleHRNb2RlbC5nZXRMaW5lQ29udGVudChsaW5lTnVtYmVyKTtcbiAgICAgICAgaWYgKHRoaXMuX3Rva2VuaXphdGlvblN1cHBvcnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhd1Rva2VucyA9IHRoaXMuX3Rva2VuaXphdGlvblN1cHBvcnQudG9rZW5pemVFbmNvZGVkKGxpbmVOdW1iZXIsIHRoaXMuX3RleHRNb2RlbCk7XG4gICAgICAgICAgICBpZiAocmF3VG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBMaW5lVG9rZW5zKHJhd1Rva2VucywgY29udGVudCwgdGhpcy5fbGFuZ3VhZ2VJZENvZGVjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTGluZVRva2Vucy5jcmVhdGVFbXB0eShjb250ZW50LCB0aGlzLl9sYW5ndWFnZUlkQ29kZWMpO1xuICAgIH1cbiAgICByZXNldFRva2VuaXphdGlvbihmaXJlVG9rZW5DaGFuZ2VFdmVudCA9IHRydWUpIHtcbiAgICAgICAgaWYgKGZpcmVUb2tlbkNoYW5nZUV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZVRva2Vucy5maXJlKHtcbiAgICAgICAgICAgICAgICBzZW1hbnRpY1Rva2Vuc0FwcGxpZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJhbmdlczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tTGluZU51bWJlcjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvTGluZU51bWJlcjogdGhpcy5fdGV4dE1vZGVsLmdldExpbmVDb3VudCgpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbml0aWFsaXplKCk7XG4gICAgfVxuICAgIGhhbmRsZURpZENoYW5nZUF0dGFjaGVkKCkge1xuICAgICAgICAvLyBUT0RPIEBhbGV4cjAwIGltcGxlbWVudCBmb3IgYmFja2dyb3VuZCB0b2tlbml6YXRpb25cbiAgICB9XG4gICAgaGFuZGxlRGlkQ2hhbmdlQ29udGVudChlKSB7XG4gICAgICAgIGlmIChlLmlzRmx1c2gpIHtcbiAgICAgICAgICAgIC8vIERvbid0IGZpcmUgdGhlIGV2ZW50LCBhcyB0aGUgdmlldyBtaWdodCBub3QgaGF2ZSBnb3QgdGhlIHRleHQgY2hhbmdlIGV2ZW50IHlldFxuICAgICAgICAgICAgdGhpcy5yZXNldFRva2VuaXphdGlvbihmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yY2VUb2tlbml6YXRpb24obGluZU51bWJlcikge1xuICAgICAgICAvLyBUT0RPIEBhbGV4cjAwIGltcGxlbWVudFxuICAgIH1cbiAgICBoYXNBY2N1cmF0ZVRva2Vuc0ZvckxpbmUobGluZU51bWJlcikge1xuICAgICAgICAvLyBUT0RPIEBhbGV4cjAwIHVwZGF0ZSBmb3IgYmFja2dyb3VuZCB0b2tlbml6YXRpb25cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlzQ2hlYXBUb1Rva2VuaXplKGxpbmVOdW1iZXIpIHtcbiAgICAgICAgLy8gVE9ETyBAYWxleHIwMCB1cGRhdGUgZm9yIGJhY2tncm91bmQgdG9rZW5pemF0aW9uXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBnZXRUb2tlblR5cGVJZkluc2VydGluZ0NoYXJhY3RlcihsaW5lTnVtYmVyLCBjb2x1bW4sIGNoYXJhY3Rlcikge1xuICAgICAgICAvLyBUT0RPIEBhbGV4cjAwIGltcGxlbWVudCBvbmNlIHdlIGhhdmUgY3VzdG9tIHBhcnNpbmcgYW5kIGRvbid0IGp1c3QgZmVlZCBpbiB0aGUgd2hvbGUgdGV4dCBtb2RlbCB2YWx1ZVxuICAgICAgICByZXR1cm4gMCAvKiBTdGFuZGFyZFRva2VuVHlwZS5PdGhlciAqLztcbiAgICB9XG4gICAgdG9rZW5pemVMaW5lV2l0aEVkaXQocG9zaXRpb24sIGxlbmd0aCwgbmV3VGV4dCkge1xuICAgICAgICAvLyBUT0RPIEBhbGV4cjAwIHVuZGVyc3RhbmQgd2hhdCB0aGlzIGlzIGZvciBhbmQgaW1wbGVtZW50XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBnZXQgaGFzVG9rZW5zKCkge1xuICAgICAgICAvLyBUT0RPIEBhbGV4cjAwIG9uY2Ugd2UgaGF2ZSBhIHRva2VuIHN0b3JlLCBpbXBsZW1lbnQgcHJvcGVybHlcbiAgICAgICAgY29uc3QgaGFzVHJlZSA9IHRoaXMuX3RyZWVTaXR0ZXJTZXJ2aWNlLmdldFBhcnNlUmVzdWx0KHRoaXMuX3RleHRNb2RlbCkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIGhhc1RyZWU7XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBMaW5lVG9rZW5zIH0gZnJvbSAnLi9saW5lVG9rZW5zLmpzJztcbmV4cG9ydCBjb25zdCBFTVBUWV9MSU5FX1RPS0VOUyA9IChuZXcgVWludDMyQXJyYXkoMCkpLmJ1ZmZlcjtcbmV4cG9ydCBjbGFzcyBDb250aWd1b3VzVG9rZW5zRWRpdGluZyB7XG4gICAgc3RhdGljIGRlbGV0ZUJlZ2lubmluZyhsaW5lVG9rZW5zLCB0b0NoSW5kZXgpIHtcbiAgICAgICAgaWYgKGxpbmVUb2tlbnMgPT09IG51bGwgfHwgbGluZVRva2VucyA9PT0gRU1QVFlfTElORV9UT0tFTlMpIHtcbiAgICAgICAgICAgIHJldHVybiBsaW5lVG9rZW5zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDb250aWd1b3VzVG9rZW5zRWRpdGluZy5kZWxldGUobGluZVRva2VucywgMCwgdG9DaEluZGV4KTtcbiAgICB9XG4gICAgc3RhdGljIGRlbGV0ZUVuZGluZyhsaW5lVG9rZW5zLCBmcm9tQ2hJbmRleCkge1xuICAgICAgICBpZiAobGluZVRva2VucyA9PT0gbnVsbCB8fCBsaW5lVG9rZW5zID09PSBFTVBUWV9MSU5FX1RPS0VOUykge1xuICAgICAgICAgICAgcmV0dXJuIGxpbmVUb2tlbnM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9rZW5zID0gdG9VaW50MzJBcnJheShsaW5lVG9rZW5zKTtcbiAgICAgICAgY29uc3QgbGluZVRleHRMZW5ndGggPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDJdO1xuICAgICAgICByZXR1cm4gQ29udGlndW91c1Rva2Vuc0VkaXRpbmcuZGVsZXRlKGxpbmVUb2tlbnMsIGZyb21DaEluZGV4LCBsaW5lVGV4dExlbmd0aCk7XG4gICAgfVxuICAgIHN0YXRpYyBkZWxldGUobGluZVRva2VucywgZnJvbUNoSW5kZXgsIHRvQ2hJbmRleCkge1xuICAgICAgICBpZiAobGluZVRva2VucyA9PT0gbnVsbCB8fCBsaW5lVG9rZW5zID09PSBFTVBUWV9MSU5FX1RPS0VOUyB8fCBmcm9tQ2hJbmRleCA9PT0gdG9DaEluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gbGluZVRva2VucztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b2tlbnMgPSB0b1VpbnQzMkFycmF5KGxpbmVUb2tlbnMpO1xuICAgICAgICBjb25zdCB0b2tlbnNDb3VudCA9ICh0b2tlbnMubGVuZ3RoID4+PiAxKTtcbiAgICAgICAgLy8gc3BlY2lhbCBjYXNlOiBkZWxldGluZyBldmVyeXRoaW5nXG4gICAgICAgIGlmIChmcm9tQ2hJbmRleCA9PT0gMCAmJiB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDJdID09PSB0b0NoSW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBFTVBUWV9MSU5FX1RPS0VOUztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmcm9tVG9rZW5JbmRleCA9IExpbmVUb2tlbnMuZmluZEluZGV4SW5Ub2tlbnNBcnJheSh0b2tlbnMsIGZyb21DaEluZGV4KTtcbiAgICAgICAgY29uc3QgZnJvbVRva2VuU3RhcnRPZmZzZXQgPSAoZnJvbVRva2VuSW5kZXggPiAwID8gdG9rZW5zWyhmcm9tVG9rZW5JbmRleCAtIDEpIDw8IDFdIDogMCk7XG4gICAgICAgIGNvbnN0IGZyb21Ub2tlbkVuZE9mZnNldCA9IHRva2Vuc1tmcm9tVG9rZW5JbmRleCA8PCAxXTtcbiAgICAgICAgaWYgKHRvQ2hJbmRleCA8IGZyb21Ub2tlbkVuZE9mZnNldCkge1xuICAgICAgICAgICAgLy8gdGhlIGRlbGV0ZSByYW5nZSBpcyBpbnNpZGUgYSBzaW5nbGUgdG9rZW5cbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gKHRvQ2hJbmRleCAtIGZyb21DaEluZGV4KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBmcm9tVG9rZW5JbmRleDsgaSA8IHRva2Vuc0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICB0b2tlbnNbaSA8PCAxXSAtPSBkZWx0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsaW5lVG9rZW5zO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkZXN0O1xuICAgICAgICBsZXQgbGFzdEVuZDtcbiAgICAgICAgaWYgKGZyb21Ub2tlblN0YXJ0T2Zmc2V0ICE9PSBmcm9tQ2hJbmRleCkge1xuICAgICAgICAgICAgdG9rZW5zW2Zyb21Ub2tlbkluZGV4IDw8IDFdID0gZnJvbUNoSW5kZXg7XG4gICAgICAgICAgICBkZXN0ID0gKChmcm9tVG9rZW5JbmRleCArIDEpIDw8IDEpO1xuICAgICAgICAgICAgbGFzdEVuZCA9IGZyb21DaEluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVzdCA9IChmcm9tVG9rZW5JbmRleCA8PCAxKTtcbiAgICAgICAgICAgIGxhc3RFbmQgPSBmcm9tVG9rZW5TdGFydE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWx0YSA9ICh0b0NoSW5kZXggLSBmcm9tQ2hJbmRleCk7XG4gICAgICAgIGZvciAobGV0IHRva2VuSW5kZXggPSBmcm9tVG9rZW5JbmRleCArIDE7IHRva2VuSW5kZXggPCB0b2tlbnNDb3VudDsgdG9rZW5JbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbkVuZE9mZnNldCA9IHRva2Vuc1t0b2tlbkluZGV4IDw8IDFdIC0gZGVsdGE7XG4gICAgICAgICAgICBpZiAodG9rZW5FbmRPZmZzZXQgPiBsYXN0RW5kKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5zW2Rlc3QrK10gPSB0b2tlbkVuZE9mZnNldDtcbiAgICAgICAgICAgICAgICB0b2tlbnNbZGVzdCsrXSA9IHRva2Vuc1sodG9rZW5JbmRleCA8PCAxKSArIDFdO1xuICAgICAgICAgICAgICAgIGxhc3RFbmQgPSB0b2tlbkVuZE9mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVzdCA9PT0gdG9rZW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gbm90aGluZyB0byB0cmltXG4gICAgICAgICAgICByZXR1cm4gbGluZVRva2VucztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0bXAgPSBuZXcgVWludDMyQXJyYXkoZGVzdCk7XG4gICAgICAgIHRtcC5zZXQodG9rZW5zLnN1YmFycmF5KDAsIGRlc3QpLCAwKTtcbiAgICAgICAgcmV0dXJuIHRtcC5idWZmZXI7XG4gICAgfVxuICAgIHN0YXRpYyBhcHBlbmQobGluZVRva2VucywgX290aGVyVG9rZW5zKSB7XG4gICAgICAgIGlmIChfb3RoZXJUb2tlbnMgPT09IEVNUFRZX0xJTkVfVE9LRU5TKSB7XG4gICAgICAgICAgICByZXR1cm4gbGluZVRva2VucztcbiAgICAgICAgfVxuICAgICAgICBpZiAobGluZVRva2VucyA9PT0gRU1QVFlfTElORV9UT0tFTlMpIHtcbiAgICAgICAgICAgIHJldHVybiBfb3RoZXJUb2tlbnM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpbmVUb2tlbnMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBsaW5lVG9rZW5zO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfb3RoZXJUb2tlbnMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGNhbm5vdCBkZXRlcm1pbmUgY29tYmluZWQgbGluZSBsZW5ndGguLi5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG15VG9rZW5zID0gdG9VaW50MzJBcnJheShsaW5lVG9rZW5zKTtcbiAgICAgICAgY29uc3Qgb3RoZXJUb2tlbnMgPSB0b1VpbnQzMkFycmF5KF9vdGhlclRva2Vucyk7XG4gICAgICAgIGNvbnN0IG90aGVyVG9rZW5zQ291bnQgPSAob3RoZXJUb2tlbnMubGVuZ3RoID4+PiAxKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFVpbnQzMkFycmF5KG15VG9rZW5zLmxlbmd0aCArIG90aGVyVG9rZW5zLmxlbmd0aCk7XG4gICAgICAgIHJlc3VsdC5zZXQobXlUb2tlbnMsIDApO1xuICAgICAgICBsZXQgZGVzdCA9IG15VG9rZW5zLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZGVsdGEgPSBteVRva2Vuc1tteVRva2Vucy5sZW5ndGggLSAyXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdGhlclRva2Vuc0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdFtkZXN0KytdID0gb3RoZXJUb2tlbnNbKGkgPDwgMSldICsgZGVsdGE7XG4gICAgICAgICAgICByZXN1bHRbZGVzdCsrXSA9IG90aGVyVG9rZW5zWyhpIDw8IDEpICsgMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdC5idWZmZXI7XG4gICAgfVxuICAgIHN0YXRpYyBpbnNlcnQobGluZVRva2VucywgY2hJbmRleCwgdGV4dExlbmd0aCkge1xuICAgICAgICBpZiAobGluZVRva2VucyA9PT0gbnVsbCB8fCBsaW5lVG9rZW5zID09PSBFTVBUWV9MSU5FX1RPS0VOUykge1xuICAgICAgICAgICAgLy8gbm90aGluZyB0byBkb1xuICAgICAgICAgICAgcmV0dXJuIGxpbmVUb2tlbnM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9rZW5zID0gdG9VaW50MzJBcnJheShsaW5lVG9rZW5zKTtcbiAgICAgICAgY29uc3QgdG9rZW5zQ291bnQgPSAodG9rZW5zLmxlbmd0aCA+Pj4gMSk7XG4gICAgICAgIGxldCBmcm9tVG9rZW5JbmRleCA9IExpbmVUb2tlbnMuZmluZEluZGV4SW5Ub2tlbnNBcnJheSh0b2tlbnMsIGNoSW5kZXgpO1xuICAgICAgICBpZiAoZnJvbVRva2VuSW5kZXggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBmcm9tVG9rZW5TdGFydE9mZnNldCA9IHRva2Vuc1soZnJvbVRva2VuSW5kZXggLSAxKSA8PCAxXTtcbiAgICAgICAgICAgIGlmIChmcm9tVG9rZW5TdGFydE9mZnNldCA9PT0gY2hJbmRleCkge1xuICAgICAgICAgICAgICAgIGZyb21Ub2tlbkluZGV4LS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgdG9rZW5JbmRleCA9IGZyb21Ub2tlbkluZGV4OyB0b2tlbkluZGV4IDwgdG9rZW5zQ291bnQ7IHRva2VuSW5kZXgrKykge1xuICAgICAgICAgICAgdG9rZW5zW3Rva2VuSW5kZXggPDwgMV0gKz0gdGV4dExlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGluZVRva2VucztcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdG9VaW50MzJBcnJheShhcnIpIHtcbiAgICBpZiAoYXJyIGluc3RhbmNlb2YgVWludDMyQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDMyQXJyYXkoYXJyKTtcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCAqIGFzIGFycmF5cyBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9hcnJheXMuanMnO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tICcuLi9jb3JlL3Bvc2l0aW9uLmpzJztcbmltcG9ydCB7IENvbnRpZ3VvdXNUb2tlbnNFZGl0aW5nLCBFTVBUWV9MSU5FX1RPS0VOUywgdG9VaW50MzJBcnJheSB9IGZyb20gJy4vY29udGlndW91c1Rva2Vuc0VkaXRpbmcuanMnO1xuaW1wb3J0IHsgTGluZVRva2VucyB9IGZyb20gJy4vbGluZVRva2Vucy5qcyc7XG5pbXBvcnQgeyBUb2tlbk1ldGFkYXRhIH0gZnJvbSAnLi4vZW5jb2RlZFRva2VuQXR0cmlidXRlcy5qcyc7XG4vKipcbiAqIFJlcHJlc2VudHMgY29udGlndW91cyB0b2tlbnMgaW4gYSB0ZXh0IG1vZGVsLlxuICovXG5leHBvcnQgY2xhc3MgQ29udGlndW91c1Rva2Vuc1N0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcihsYW5ndWFnZUlkQ29kZWMpIHtcbiAgICAgICAgdGhpcy5fbGluZVRva2VucyA9IFtdO1xuICAgICAgICB0aGlzLl9sZW4gPSAwO1xuICAgICAgICB0aGlzLl9sYW5ndWFnZUlkQ29kZWMgPSBsYW5ndWFnZUlkQ29kZWM7XG4gICAgfVxuICAgIGZsdXNoKCkge1xuICAgICAgICB0aGlzLl9saW5lVG9rZW5zID0gW107XG4gICAgICAgIHRoaXMuX2xlbiA9IDA7XG4gICAgfVxuICAgIGdldCBoYXNUb2tlbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lVG9rZW5zLmxlbmd0aCA+IDA7XG4gICAgfVxuICAgIGdldFRva2Vucyh0b3BMZXZlbExhbmd1YWdlSWQsIGxpbmVJbmRleCwgbGluZVRleHQpIHtcbiAgICAgICAgbGV0IHJhd0xpbmVUb2tlbnMgPSBudWxsO1xuICAgICAgICBpZiAobGluZUluZGV4IDwgdGhpcy5fbGVuKSB7XG4gICAgICAgICAgICByYXdMaW5lVG9rZW5zID0gdGhpcy5fbGluZVRva2Vuc1tsaW5lSW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyYXdMaW5lVG9rZW5zICE9PSBudWxsICYmIHJhd0xpbmVUb2tlbnMgIT09IEVNUFRZX0xJTkVfVE9LRU5TKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IExpbmVUb2tlbnModG9VaW50MzJBcnJheShyYXdMaW5lVG9rZW5zKSwgbGluZVRleHQsIHRoaXMuX2xhbmd1YWdlSWRDb2RlYyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGluZVRva2VucyA9IG5ldyBVaW50MzJBcnJheSgyKTtcbiAgICAgICAgbGluZVRva2Vuc1swXSA9IGxpbmVUZXh0Lmxlbmd0aDtcbiAgICAgICAgbGluZVRva2Vuc1sxXSA9IGdldERlZmF1bHRNZXRhZGF0YSh0aGlzLl9sYW5ndWFnZUlkQ29kZWMuZW5jb2RlTGFuZ3VhZ2VJZCh0b3BMZXZlbExhbmd1YWdlSWQpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lVG9rZW5zKGxpbmVUb2tlbnMsIGxpbmVUZXh0LCB0aGlzLl9sYW5ndWFnZUlkQ29kZWMpO1xuICAgIH1cbiAgICBzdGF0aWMgX21hc3NhZ2VUb2tlbnModG9wTGV2ZWxMYW5ndWFnZUlkLCBsaW5lVGV4dExlbmd0aCwgX3Rva2Vucykge1xuICAgICAgICBjb25zdCB0b2tlbnMgPSBfdG9rZW5zID8gdG9VaW50MzJBcnJheShfdG9rZW5zKSA6IG51bGw7XG4gICAgICAgIGlmIChsaW5lVGV4dExlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgbGV0IGhhc0RpZmZlcmVudExhbmd1YWdlSWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0b2tlbnMgJiYgdG9rZW5zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBoYXNEaWZmZXJlbnRMYW5ndWFnZUlkID0gKFRva2VuTWV0YWRhdGEuZ2V0TGFuZ3VhZ2VJZCh0b2tlbnNbMV0pICE9PSB0b3BMZXZlbExhbmd1YWdlSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFoYXNEaWZmZXJlbnRMYW5ndWFnZUlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEVNUFRZX0xJTkVfVE9LRU5TO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdG9rZW5zIHx8IHRva2Vucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VucyA9IG5ldyBVaW50MzJBcnJheSgyKTtcbiAgICAgICAgICAgIHRva2Vuc1swXSA9IGxpbmVUZXh0TGVuZ3RoO1xuICAgICAgICAgICAgdG9rZW5zWzFdID0gZ2V0RGVmYXVsdE1ldGFkYXRhKHRvcExldmVsTGFuZ3VhZ2VJZCk7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zLmJ1ZmZlcjtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbnN1cmUgdGhlIGxhc3QgdG9rZW4gY292ZXJzIHRoZSBlbmQgb2YgdGhlIHRleHRcbiAgICAgICAgdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAyXSA9IGxpbmVUZXh0TGVuZ3RoO1xuICAgICAgICBpZiAodG9rZW5zLmJ5dGVPZmZzZXQgPT09IDAgJiYgdG9rZW5zLmJ5dGVMZW5ndGggPT09IHRva2Vucy5idWZmZXIuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgLy8gU3RvcmUgZGlyZWN0bHkgdGhlIEFycmF5QnVmZmVyIHBvaW50ZXIgdG8gc2F2ZSBhbiBvYmplY3RcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnMuYnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfVxuICAgIF9lbnN1cmVMaW5lKGxpbmVJbmRleCkge1xuICAgICAgICB3aGlsZSAobGluZUluZGV4ID49IHRoaXMuX2xlbikge1xuICAgICAgICAgICAgdGhpcy5fbGluZVRva2Vuc1t0aGlzLl9sZW5dID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2xlbisrO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9kZWxldGVMaW5lcyhzdGFydCwgZGVsZXRlQ291bnQpIHtcbiAgICAgICAgaWYgKGRlbGV0ZUNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0ICsgZGVsZXRlQ291bnQgPiB0aGlzLl9sZW4pIHtcbiAgICAgICAgICAgIGRlbGV0ZUNvdW50ID0gdGhpcy5fbGVuIC0gc3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGluZVRva2Vucy5zcGxpY2Uoc3RhcnQsIGRlbGV0ZUNvdW50KTtcbiAgICAgICAgdGhpcy5fbGVuIC09IGRlbGV0ZUNvdW50O1xuICAgIH1cbiAgICBfaW5zZXJ0TGluZXMoaW5zZXJ0SW5kZXgsIGluc2VydENvdW50KSB7XG4gICAgICAgIGlmIChpbnNlcnRDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpbmVUb2tlbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnNlcnRDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsaW5lVG9rZW5zW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9saW5lVG9rZW5zID0gYXJyYXlzLmFycmF5SW5zZXJ0KHRoaXMuX2xpbmVUb2tlbnMsIGluc2VydEluZGV4LCBsaW5lVG9rZW5zKTtcbiAgICAgICAgdGhpcy5fbGVuICs9IGluc2VydENvdW50O1xuICAgIH1cbiAgICBzZXRUb2tlbnModG9wTGV2ZWxMYW5ndWFnZUlkLCBsaW5lSW5kZXgsIGxpbmVUZXh0TGVuZ3RoLCBfdG9rZW5zLCBjaGVja0VxdWFsaXR5KSB7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IENvbnRpZ3VvdXNUb2tlbnNTdG9yZS5fbWFzc2FnZVRva2Vucyh0aGlzLl9sYW5ndWFnZUlkQ29kZWMuZW5jb2RlTGFuZ3VhZ2VJZCh0b3BMZXZlbExhbmd1YWdlSWQpLCBsaW5lVGV4dExlbmd0aCwgX3Rva2Vucyk7XG4gICAgICAgIHRoaXMuX2Vuc3VyZUxpbmUobGluZUluZGV4KTtcbiAgICAgICAgY29uc3Qgb2xkVG9rZW5zID0gdGhpcy5fbGluZVRva2Vuc1tsaW5lSW5kZXhdO1xuICAgICAgICB0aGlzLl9saW5lVG9rZW5zW2xpbmVJbmRleF0gPSB0b2tlbnM7XG4gICAgICAgIGlmIChjaGVja0VxdWFsaXR5KSB7XG4gICAgICAgICAgICByZXR1cm4gIUNvbnRpZ3VvdXNUb2tlbnNTdG9yZS5fZXF1YWxzKG9sZFRva2VucywgdG9rZW5zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHN0YXRpYyBfZXF1YWxzKF9hLCBfYikge1xuICAgICAgICBpZiAoIV9hIHx8ICFfYikge1xuICAgICAgICAgICAgcmV0dXJuICFfYSAmJiAhX2I7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYSA9IHRvVWludDMyQXJyYXkoX2EpO1xuICAgICAgICBjb25zdCBiID0gdG9VaW50MzJBcnJheShfYik7XG4gICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gYS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vI3JlZ2lvbiBFZGl0aW5nXG4gICAgYWNjZXB0RWRpdChyYW5nZSwgZW9sQ291bnQsIGZpcnN0TGluZUxlbmd0aCkge1xuICAgICAgICB0aGlzLl9hY2NlcHREZWxldGVSYW5nZShyYW5nZSk7XG4gICAgICAgIHRoaXMuX2FjY2VwdEluc2VydFRleHQobmV3IFBvc2l0aW9uKHJhbmdlLnN0YXJ0TGluZU51bWJlciwgcmFuZ2Uuc3RhcnRDb2x1bW4pLCBlb2xDb3VudCwgZmlyc3RMaW5lTGVuZ3RoKTtcbiAgICB9XG4gICAgX2FjY2VwdERlbGV0ZVJhbmdlKHJhbmdlKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0TGluZUluZGV4ID0gcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIC0gMTtcbiAgICAgICAgaWYgKGZpcnN0TGluZUluZGV4ID49IHRoaXMuX2xlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyYW5nZS5zdGFydExpbmVOdW1iZXIgPT09IHJhbmdlLmVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmIChyYW5nZS5zdGFydENvbHVtbiA9PT0gcmFuZ2UuZW5kQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgLy8gTm90aGluZyB0byBkZWxldGVcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9saW5lVG9rZW5zW2ZpcnN0TGluZUluZGV4XSA9IENvbnRpZ3VvdXNUb2tlbnNFZGl0aW5nLmRlbGV0ZSh0aGlzLl9saW5lVG9rZW5zW2ZpcnN0TGluZUluZGV4XSwgcmFuZ2Uuc3RhcnRDb2x1bW4gLSAxLCByYW5nZS5lbmRDb2x1bW4gLSAxKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9saW5lVG9rZW5zW2ZpcnN0TGluZUluZGV4XSA9IENvbnRpZ3VvdXNUb2tlbnNFZGl0aW5nLmRlbGV0ZUVuZGluZyh0aGlzLl9saW5lVG9rZW5zW2ZpcnN0TGluZUluZGV4XSwgcmFuZ2Uuc3RhcnRDb2x1bW4gLSAxKTtcbiAgICAgICAgY29uc3QgbGFzdExpbmVJbmRleCA9IHJhbmdlLmVuZExpbmVOdW1iZXIgLSAxO1xuICAgICAgICBsZXQgbGFzdExpbmVUb2tlbnMgPSBudWxsO1xuICAgICAgICBpZiAobGFzdExpbmVJbmRleCA8IHRoaXMuX2xlbikge1xuICAgICAgICAgICAgbGFzdExpbmVUb2tlbnMgPSBDb250aWd1b3VzVG9rZW5zRWRpdGluZy5kZWxldGVCZWdpbm5pbmcodGhpcy5fbGluZVRva2Vuc1tsYXN0TGluZUluZGV4XSwgcmFuZ2UuZW5kQ29sdW1uIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGFrZSByZW1haW5pbmcgdGV4dCBvbiBsYXN0IGxpbmUgYW5kIGFwcGVuZCBpdCB0byByZW1haW5pbmcgdGV4dCBvbiBmaXJzdCBsaW5lXG4gICAgICAgIHRoaXMuX2xpbmVUb2tlbnNbZmlyc3RMaW5lSW5kZXhdID0gQ29udGlndW91c1Rva2Vuc0VkaXRpbmcuYXBwZW5kKHRoaXMuX2xpbmVUb2tlbnNbZmlyc3RMaW5lSW5kZXhdLCBsYXN0TGluZVRva2Vucyk7XG4gICAgICAgIC8vIERlbGV0ZSBtaWRkbGUgbGluZXNcbiAgICAgICAgdGhpcy5fZGVsZXRlTGluZXMocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLCByYW5nZS5lbmRMaW5lTnVtYmVyIC0gcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyKTtcbiAgICB9XG4gICAgX2FjY2VwdEluc2VydFRleHQocG9zaXRpb24sIGVvbENvdW50LCBmaXJzdExpbmVMZW5ndGgpIHtcbiAgICAgICAgaWYgKGVvbENvdW50ID09PSAwICYmIGZpcnN0TGluZUxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gTm90aGluZyB0byBpbnNlcnRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsaW5lSW5kZXggPSBwb3NpdGlvbi5saW5lTnVtYmVyIC0gMTtcbiAgICAgICAgaWYgKGxpbmVJbmRleCA+PSB0aGlzLl9sZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW9sQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIC8vIEluc2VydGluZyB0ZXh0IG9uIG9uZSBsaW5lXG4gICAgICAgICAgICB0aGlzLl9saW5lVG9rZW5zW2xpbmVJbmRleF0gPSBDb250aWd1b3VzVG9rZW5zRWRpdGluZy5pbnNlcnQodGhpcy5fbGluZVRva2Vuc1tsaW5lSW5kZXhdLCBwb3NpdGlvbi5jb2x1bW4gLSAxLCBmaXJzdExpbmVMZW5ndGgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xpbmVUb2tlbnNbbGluZUluZGV4XSA9IENvbnRpZ3VvdXNUb2tlbnNFZGl0aW5nLmRlbGV0ZUVuZGluZyh0aGlzLl9saW5lVG9rZW5zW2xpbmVJbmRleF0sIHBvc2l0aW9uLmNvbHVtbiAtIDEpO1xuICAgICAgICB0aGlzLl9saW5lVG9rZW5zW2xpbmVJbmRleF0gPSBDb250aWd1b3VzVG9rZW5zRWRpdGluZy5pbnNlcnQodGhpcy5fbGluZVRva2Vuc1tsaW5lSW5kZXhdLCBwb3NpdGlvbi5jb2x1bW4gLSAxLCBmaXJzdExpbmVMZW5ndGgpO1xuICAgICAgICB0aGlzLl9pbnNlcnRMaW5lcyhwb3NpdGlvbi5saW5lTnVtYmVyLCBlb2xDb3VudCk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIHNldE11bHRpbGluZVRva2Vucyh0b2tlbnMsIHRleHRNb2RlbCkge1xuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogW10gfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYW5nZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRva2Vucy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgIGxldCBtaW5DaGFuZ2VkTGluZU51bWJlciA9IDA7XG4gICAgICAgICAgICBsZXQgbWF4Q2hhbmdlZExpbmVOdW1iZXIgPSAwO1xuICAgICAgICAgICAgbGV0IGhhc0NoYW5nZSA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yIChsZXQgbGluZU51bWJlciA9IGVsZW1lbnQuc3RhcnRMaW5lTnVtYmVyOyBsaW5lTnVtYmVyIDw9IGVsZW1lbnQuZW5kTGluZU51bWJlcjsgbGluZU51bWJlcisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc0NoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRva2Vucyh0ZXh0TW9kZWwuZ2V0TGFuZ3VhZ2VJZCgpLCBsaW5lTnVtYmVyIC0gMSwgdGV4dE1vZGVsLmdldExpbmVMZW5ndGgobGluZU51bWJlciksIGVsZW1lbnQuZ2V0TGluZVRva2VucyhsaW5lTnVtYmVyKSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBtYXhDaGFuZ2VkTGluZU51bWJlciA9IGxpbmVOdW1iZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lSGFzQ2hhbmdlID0gdGhpcy5zZXRUb2tlbnModGV4dE1vZGVsLmdldExhbmd1YWdlSWQoKSwgbGluZU51bWJlciAtIDEsIHRleHRNb2RlbC5nZXRMaW5lTGVuZ3RoKGxpbmVOdW1iZXIpLCBlbGVtZW50LmdldExpbmVUb2tlbnMobGluZU51bWJlciksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGluZUhhc0NoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbkNoYW5nZWRMaW5lTnVtYmVyID0gbGluZU51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heENoYW5nZWRMaW5lTnVtYmVyID0gbGluZU51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICByYW5nZXMucHVzaCh7IGZyb21MaW5lTnVtYmVyOiBtaW5DaGFuZ2VkTGluZU51bWJlciwgdG9MaW5lTnVtYmVyOiBtYXhDaGFuZ2VkTGluZU51bWJlciwgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogcmFuZ2VzIH07XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0RGVmYXVsdE1ldGFkYXRhKHRvcExldmVsTGFuZ3VhZ2VJZCkge1xuICAgIHJldHVybiAoKHRvcExldmVsTGFuZ3VhZ2VJZCA8PCAwIC8qIE1ldGFkYXRhQ29uc3RzLkxBTkdVQUdFSURfT0ZGU0VUICovKVxuICAgICAgICB8ICgwIC8qIFN0YW5kYXJkVG9rZW5UeXBlLk90aGVyICovIDw8IDggLyogTWV0YWRhdGFDb25zdHMuVE9LRU5fVFlQRV9PRkZTRVQgKi8pXG4gICAgICAgIHwgKDAgLyogRm9udFN0eWxlLk5vbmUgKi8gPDwgMTEgLyogTWV0YWRhdGFDb25zdHMuRk9OVF9TVFlMRV9PRkZTRVQgKi8pXG4gICAgICAgIHwgKDEgLyogQ29sb3JJZC5EZWZhdWx0Rm9yZWdyb3VuZCAqLyA8PCAxNSAvKiBNZXRhZGF0YUNvbnN0cy5GT1JFR1JPVU5EX09GRlNFVCAqLylcbiAgICAgICAgfCAoMiAvKiBDb2xvcklkLkRlZmF1bHRCYWNrZ3JvdW5kICovIDw8IDI0IC8qIE1ldGFkYXRhQ29uc3RzLkJBQ0tHUk9VTkRfT0ZGU0VUICovKVxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBncmFtbWFyLCB3ZSBqdXN0IHRha2UgYSBndWVzcyBhbmQgdHJ5IHRvIG1hdGNoIGJyYWNrZXRzLlxuICAgICAgICB8ICgxMDI0IC8qIE1ldGFkYXRhQ29uc3RzLkJBTEFOQ0VEX0JSQUNLRVRTX01BU0sgKi8pKSA+Pj4gMDtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0ICogYXMgYXJyYXlzIGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2FycmF5cy5qcyc7XG5pbXBvcnQgeyBMaW5lVG9rZW5zIH0gZnJvbSAnLi9saW5lVG9rZW5zLmpzJztcbi8qKlxuICogUmVwcmVzZW50cyBzcGFyc2UgdG9rZW5zIGluIGEgdGV4dCBtb2RlbC5cbiAqL1xuZXhwb3J0IGNsYXNzIFNwYXJzZVRva2Vuc1N0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcihsYW5ndWFnZUlkQ29kZWMpIHtcbiAgICAgICAgdGhpcy5fcGllY2VzID0gW107XG4gICAgICAgIHRoaXMuX2lzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbGFuZ3VhZ2VJZENvZGVjID0gbGFuZ3VhZ2VJZENvZGVjO1xuICAgIH1cbiAgICBmbHVzaCgpIHtcbiAgICAgICAgdGhpcy5fcGllY2VzID0gW107XG4gICAgICAgIHRoaXMuX2lzQ29tcGxldGUgPSBmYWxzZTtcbiAgICB9XG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9waWVjZXMubGVuZ3RoID09PSAwKTtcbiAgICB9XG4gICAgc2V0KHBpZWNlcywgaXNDb21wbGV0ZSkge1xuICAgICAgICB0aGlzLl9waWVjZXMgPSBwaWVjZXMgfHwgW107XG4gICAgICAgIHRoaXMuX2lzQ29tcGxldGUgPSBpc0NvbXBsZXRlO1xuICAgIH1cbiAgICBzZXRQYXJ0aWFsKF9yYW5nZSwgcGllY2VzKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBzZXRQYXJ0aWFsICR7X3JhbmdlfSAke3BpZWNlcy5tYXAocCA9PiBwLnRvU3RyaW5nKCkpLmpvaW4oJywgJyl9YCk7XG4gICAgICAgIGxldCByYW5nZSA9IF9yYW5nZTtcbiAgICAgICAgaWYgKHBpZWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBfZmlyc3RSYW5nZSA9IHBpZWNlc1swXS5nZXRSYW5nZSgpO1xuICAgICAgICAgICAgY29uc3QgX2xhc3RSYW5nZSA9IHBpZWNlc1twaWVjZXMubGVuZ3RoIC0gMV0uZ2V0UmFuZ2UoKTtcbiAgICAgICAgICAgIGlmICghX2ZpcnN0UmFuZ2UgfHwgIV9sYXN0UmFuZ2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JhbmdlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmFuZ2UgPSBfcmFuZ2UucGx1c1JhbmdlKF9maXJzdFJhbmdlKS5wbHVzUmFuZ2UoX2xhc3RSYW5nZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluc2VydFBvc2l0aW9uID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuX3BpZWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGllY2UgPSB0aGlzLl9waWVjZXNbaV07XG4gICAgICAgICAgICBpZiAocGllY2UuZW5kTGluZU51bWJlciA8IHJhbmdlLnN0YXJ0TGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgcGllY2UgaXMgYmVmb3JlIHRoZSByYW5nZVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBpZWNlLnN0YXJ0TGluZU51bWJlciA+IHJhbmdlLmVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHBpZWNlIGlzIGFmdGVyIHRoZSByYW5nZSwgc28gbWFyayB0aGUgc3BvdCBiZWZvcmUgdGhpcyBwaWVjZVxuICAgICAgICAgICAgICAgIC8vIGFzIGEgZ29vZCBpbnNlcnRpb24gcG9zaXRpb24gYW5kIHN0b3AgbG9vcGluZ1xuICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uID0gaW5zZXJ0UG9zaXRpb24gfHwgeyBpbmRleDogaSB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGhpcyBwaWVjZSBtaWdodCBpbnRlcnNlY3Qgd2l0aCB0aGUgcmFuZ2VcbiAgICAgICAgICAgIHBpZWNlLnJlbW92ZVRva2VucyhyYW5nZSk7XG4gICAgICAgICAgICBpZiAocGllY2UuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBwaWVjZSBpZiBpdCBiZWNhbWUgZW1wdHlcbiAgICAgICAgICAgICAgICB0aGlzLl9waWVjZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgICBsZW4tLTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwaWVjZS5lbmRMaW5lTnVtYmVyIDwgcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgLy8gYWZ0ZXIgcmVtb3ZhbCwgdGhpcyBwaWVjZSBpcyBiZWZvcmUgdGhlIHJhbmdlXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGllY2Uuc3RhcnRMaW5lTnVtYmVyID4gcmFuZ2UuZW5kTGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgIC8vIGFmdGVyIHJlbW92YWwsIHRoaXMgcGllY2UgaXMgYWZ0ZXIgdGhlIHJhbmdlXG4gICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb24gPSBpbnNlcnRQb3NpdGlvbiB8fCB7IGluZGV4OiBpIH07XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhZnRlciByZW1vdmFsLCB0aGlzIHBpZWNlIGNvbnRhaW5zIHRoZSByYW5nZVxuICAgICAgICAgICAgY29uc3QgW2EsIGJdID0gcGllY2Uuc3BsaXQocmFuZ2UpO1xuICAgICAgICAgICAgaWYgKGEuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBwaWVjZSBpcyBhY3R1YWxseSBhZnRlciB0aGUgcmFuZ2VcbiAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbiA9IGluc2VydFBvc2l0aW9uIHx8IHsgaW5kZXg6IGkgfTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgcGllY2UgaXMgYWN0dWFsbHkgYmVmb3JlIHRoZSByYW5nZVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcGllY2VzLnNwbGljZShpLCAxLCBhLCBiKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGxlbisrO1xuICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb24gPSBpbnNlcnRQb3NpdGlvbiB8fCB7IGluZGV4OiBpIH07XG4gICAgICAgIH1cbiAgICAgICAgaW5zZXJ0UG9zaXRpb24gPSBpbnNlcnRQb3NpdGlvbiB8fCB7IGluZGV4OiB0aGlzLl9waWVjZXMubGVuZ3RoIH07XG4gICAgICAgIGlmIChwaWVjZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fcGllY2VzID0gYXJyYXlzLmFycmF5SW5zZXJ0KHRoaXMuX3BpZWNlcywgaW5zZXJ0UG9zaXRpb24uaW5kZXgsIHBpZWNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coYEkgSEFWRSAke3RoaXMuX3BpZWNlcy5sZW5ndGh9IHBpZWNlc2ApO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhgJHt0aGlzLl9waWVjZXMubWFwKHAgPT4gcC50b1N0cmluZygpKS5qb2luKCdcXG4nKX1gKTtcbiAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgIH1cbiAgICBpc0NvbXBsZXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNDb21wbGV0ZTtcbiAgICB9XG4gICAgYWRkU3BhcnNlVG9rZW5zKGxpbmVOdW1iZXIsIGFUb2tlbnMpIHtcbiAgICAgICAgaWYgKGFUb2tlbnMuZ2V0TGluZUNvbnRlbnQoKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIERvbid0IGRvIGFueXRoaW5nIGZvciBlbXB0eSBsaW5lc1xuICAgICAgICAgICAgcmV0dXJuIGFUb2tlbnM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGllY2VzID0gdGhpcy5fcGllY2VzO1xuICAgICAgICBpZiAocGllY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGFUb2tlbnM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGllY2VJbmRleCA9IFNwYXJzZVRva2Vuc1N0b3JlLl9maW5kRmlyc3RQaWVjZVdpdGhMaW5lKHBpZWNlcywgbGluZU51bWJlcik7XG4gICAgICAgIGNvbnN0IGJUb2tlbnMgPSBwaWVjZXNbcGllY2VJbmRleF0uZ2V0TGluZVRva2VucyhsaW5lTnVtYmVyKTtcbiAgICAgICAgaWYgKCFiVG9rZW5zKSB7XG4gICAgICAgICAgICByZXR1cm4gYVRva2VucztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhTGVuID0gYVRva2Vucy5nZXRDb3VudCgpO1xuICAgICAgICBjb25zdCBiTGVuID0gYlRva2Vucy5nZXRDb3VudCgpO1xuICAgICAgICBsZXQgYUluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCByZXN1bHRMZW4gPSAwO1xuICAgICAgICBsZXQgbGFzdEVuZE9mZnNldCA9IDA7XG4gICAgICAgIGNvbnN0IGVtaXRUb2tlbiA9IChlbmRPZmZzZXQsIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgICAgICBpZiAoZW5kT2Zmc2V0ID09PSBsYXN0RW5kT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdEVuZE9mZnNldCA9IGVuZE9mZnNldDtcbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRMZW4rK10gPSBlbmRPZmZzZXQ7XG4gICAgICAgICAgICByZXN1bHRbcmVzdWx0TGVuKytdID0gbWV0YWRhdGE7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAobGV0IGJJbmRleCA9IDA7IGJJbmRleCA8IGJMZW47IGJJbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBiU3RhcnRDaGFyYWN0ZXIgPSBiVG9rZW5zLmdldFN0YXJ0Q2hhcmFjdGVyKGJJbmRleCk7XG4gICAgICAgICAgICBjb25zdCBiRW5kQ2hhcmFjdGVyID0gYlRva2Vucy5nZXRFbmRDaGFyYWN0ZXIoYkluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IGJNZXRhZGF0YSA9IGJUb2tlbnMuZ2V0TWV0YWRhdGEoYkluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IGJNYXNrID0gKCgoYk1ldGFkYXRhICYgMSAvKiBNZXRhZGF0YUNvbnN0cy5TRU1BTlRJQ19VU0VfSVRBTElDICovKSA/IDIwNDggLyogTWV0YWRhdGFDb25zdHMuSVRBTElDX01BU0sgKi8gOiAwKVxuICAgICAgICAgICAgICAgIHwgKChiTWV0YWRhdGEgJiAyIC8qIE1ldGFkYXRhQ29uc3RzLlNFTUFOVElDX1VTRV9CT0xEICovKSA/IDQwOTYgLyogTWV0YWRhdGFDb25zdHMuQk9MRF9NQVNLICovIDogMClcbiAgICAgICAgICAgICAgICB8ICgoYk1ldGFkYXRhICYgNCAvKiBNZXRhZGF0YUNvbnN0cy5TRU1BTlRJQ19VU0VfVU5ERVJMSU5FICovKSA/IDgxOTIgLyogTWV0YWRhdGFDb25zdHMuVU5ERVJMSU5FX01BU0sgKi8gOiAwKVxuICAgICAgICAgICAgICAgIHwgKChiTWV0YWRhdGEgJiA4IC8qIE1ldGFkYXRhQ29uc3RzLlNFTUFOVElDX1VTRV9TVFJJS0VUSFJPVUdIICovKSA/IDE2Mzg0IC8qIE1ldGFkYXRhQ29uc3RzLlNUUklLRVRIUk9VR0hfTUFTSyAqLyA6IDApXG4gICAgICAgICAgICAgICAgfCAoKGJNZXRhZGF0YSAmIDE2IC8qIE1ldGFkYXRhQ29uc3RzLlNFTUFOVElDX1VTRV9GT1JFR1JPVU5EICovKSA/IDE2NzQ0NDQ4IC8qIE1ldGFkYXRhQ29uc3RzLkZPUkVHUk9VTkRfTUFTSyAqLyA6IDApXG4gICAgICAgICAgICAgICAgfCAoKGJNZXRhZGF0YSAmIDMyIC8qIE1ldGFkYXRhQ29uc3RzLlNFTUFOVElDX1VTRV9CQUNLR1JPVU5EICovKSA/IDQyNzgxOTAwODAgLyogTWV0YWRhdGFDb25zdHMuQkFDS0dST1VORF9NQVNLICovIDogMCkpID4+PiAwO1xuICAgICAgICAgICAgY29uc3QgYU1hc2sgPSAofmJNYXNrKSA+Pj4gMDtcbiAgICAgICAgICAgIC8vIHB1c2ggYW55IHRva2VuIGZyb20gYGFgIHRoYXQgaXMgYmVmb3JlIGBiYFxuICAgICAgICAgICAgd2hpbGUgKGFJbmRleCA8IGFMZW4gJiYgYVRva2Vucy5nZXRFbmRPZmZzZXQoYUluZGV4KSA8PSBiU3RhcnRDaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICBlbWl0VG9rZW4oYVRva2Vucy5nZXRFbmRPZmZzZXQoYUluZGV4KSwgYVRva2Vucy5nZXRNZXRhZGF0YShhSW5kZXgpKTtcbiAgICAgICAgICAgICAgICBhSW5kZXgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHB1c2ggdGhlIHRva2VuIGZyb20gYGFgIGlmIGl0IGludGVyc2VjdHMgdGhlIHRva2VuIGZyb20gYGJgXG4gICAgICAgICAgICBpZiAoYUluZGV4IDwgYUxlbiAmJiBhVG9rZW5zLmdldFN0YXJ0T2Zmc2V0KGFJbmRleCkgPCBiU3RhcnRDaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICBlbWl0VG9rZW4oYlN0YXJ0Q2hhcmFjdGVyLCBhVG9rZW5zLmdldE1ldGFkYXRhKGFJbmRleCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2tpcCBhbnkgdG9rZW5zIGZyb20gYGFgIHRoYXQgYXJlIGNvbnRhaW5lZCBpbnNpZGUgYGJgXG4gICAgICAgICAgICB3aGlsZSAoYUluZGV4IDwgYUxlbiAmJiBhVG9rZW5zLmdldEVuZE9mZnNldChhSW5kZXgpIDwgYkVuZENoYXJhY3Rlcikge1xuICAgICAgICAgICAgICAgIGVtaXRUb2tlbihhVG9rZW5zLmdldEVuZE9mZnNldChhSW5kZXgpLCAoYVRva2Vucy5nZXRNZXRhZGF0YShhSW5kZXgpICYgYU1hc2spIHwgKGJNZXRhZGF0YSAmIGJNYXNrKSk7XG4gICAgICAgICAgICAgICAgYUluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYUluZGV4IDwgYUxlbikge1xuICAgICAgICAgICAgICAgIGVtaXRUb2tlbihiRW5kQ2hhcmFjdGVyLCAoYVRva2Vucy5nZXRNZXRhZGF0YShhSW5kZXgpICYgYU1hc2spIHwgKGJNZXRhZGF0YSAmIGJNYXNrKSk7XG4gICAgICAgICAgICAgICAgaWYgKGFUb2tlbnMuZ2V0RW5kT2Zmc2V0KGFJbmRleCkgPT09IGJFbmRDaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYGFgIGVuZHMgZXhhY3RseSBhdCB0aGUgc2FtZSBzcG90IGFzIGBiYCFcbiAgICAgICAgICAgICAgICAgICAgYUluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYU1lcmdlSW5kZXggPSBNYXRoLm1pbihNYXRoLm1heCgwLCBhSW5kZXggLSAxKSwgYUxlbiAtIDEpO1xuICAgICAgICAgICAgICAgIC8vIHB1c2ggdGhlIHRva2VuIGZyb20gYGJgXG4gICAgICAgICAgICAgICAgZW1pdFRva2VuKGJFbmRDaGFyYWN0ZXIsIChhVG9rZW5zLmdldE1ldGFkYXRhKGFNZXJnZUluZGV4KSAmIGFNYXNrKSB8IChiTWV0YWRhdGEgJiBiTWFzaykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHB1c2ggdGhlIHJlbWFpbmluZyB0b2tlbnMgZnJvbSBgYWBcbiAgICAgICAgd2hpbGUgKGFJbmRleCA8IGFMZW4pIHtcbiAgICAgICAgICAgIGVtaXRUb2tlbihhVG9rZW5zLmdldEVuZE9mZnNldChhSW5kZXgpLCBhVG9rZW5zLmdldE1ldGFkYXRhKGFJbmRleCkpO1xuICAgICAgICAgICAgYUluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lVG9rZW5zKG5ldyBVaW50MzJBcnJheShyZXN1bHQpLCBhVG9rZW5zLmdldExpbmVDb250ZW50KCksIHRoaXMuX2xhbmd1YWdlSWRDb2RlYyk7XG4gICAgfVxuICAgIHN0YXRpYyBfZmluZEZpcnN0UGllY2VXaXRoTGluZShwaWVjZXMsIGxpbmVOdW1iZXIpIHtcbiAgICAgICAgbGV0IGxvdyA9IDA7XG4gICAgICAgIGxldCBoaWdoID0gcGllY2VzLmxlbmd0aCAtIDE7XG4gICAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgICAgICBsZXQgbWlkID0gbG93ICsgTWF0aC5mbG9vcigoaGlnaCAtIGxvdykgLyAyKTtcbiAgICAgICAgICAgIGlmIChwaWVjZXNbbWlkXS5lbmRMaW5lTnVtYmVyIDwgbGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwaWVjZXNbbWlkXS5zdGFydExpbmVOdW1iZXIgPiBsaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgaGlnaCA9IG1pZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAobWlkID4gbG93ICYmIHBpZWNlc1ttaWQgLSAxXS5zdGFydExpbmVOdW1iZXIgPD0gbGluZU51bWJlciAmJiBsaW5lTnVtYmVyIDw9IHBpZWNlc1ttaWQgLSAxXS5lbmRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIG1pZC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbWlkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb3c7XG4gICAgfVxuICAgIGFjY2VwdEVkaXQocmFuZ2UsIGVvbENvdW50LCBmaXJzdExpbmVMZW5ndGgsIGxhc3RMaW5lTGVuZ3RoLCBmaXJzdENoYXJDb2RlKSB7XG4gICAgICAgIGZvciAoY29uc3QgcGllY2Ugb2YgdGhpcy5fcGllY2VzKSB7XG4gICAgICAgICAgICBwaWVjZS5hY2NlcHRFZGl0KHJhbmdlLCBlb2xDb3VudCwgZmlyc3RMaW5lTGVuZ3RoLCBsYXN0TGluZUxlbmd0aCwgZmlyc3RDaGFyQ29kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbnZhciBfX3BhcmFtID0gKHRoaXMgJiYgdGhpcy5fX3BhcmFtKSB8fCBmdW5jdGlvbiAocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59O1xudmFyIFRva2VuaXphdGlvblRleHRNb2RlbFBhcnRfMTtcbmltcG9ydCB7IEJ1Z0luZGljYXRpbmdFcnJvciwgb25VbmV4cGVjdGVkRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgRW1pdHRlciwgRXZlbnQgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9ldmVudC5qcyc7XG5pbXBvcnQgeyBEaXNwb3NhYmxlTWFwLCBEaXNwb3NhYmxlU3RvcmUsIE11dGFibGVEaXNwb3NhYmxlIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vbGlmZWN5Y2xlLmpzJztcbmltcG9ydCB7IGNvdW50RU9MIH0gZnJvbSAnLi4vY29yZS9lb2xDb3VudGVyLmpzJztcbmltcG9ydCB7IExpbmVSYW5nZSB9IGZyb20gJy4uL2NvcmUvbGluZVJhbmdlLmpzJztcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSAnLi4vY29yZS9wb3NpdGlvbi5qcyc7XG5pbXBvcnQgeyBnZXRXb3JkQXRUZXh0IH0gZnJvbSAnLi4vY29yZS93b3JkSGVscGVyLmpzJztcbmltcG9ydCB7IFRva2VuaXphdGlvblJlZ2lzdHJ5LCBUcmVlU2l0dGVyVG9rZW5pemF0aW9uUmVnaXN0cnkgfSBmcm9tICcuLi9sYW5ndWFnZXMuanMnO1xuaW1wb3J0IHsgSUxhbmd1YWdlU2VydmljZSB9IGZyb20gJy4uL2xhbmd1YWdlcy9sYW5ndWFnZS5qcyc7XG5pbXBvcnQgeyBJTGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZSB9IGZyb20gJy4uL2xhbmd1YWdlcy9sYW5ndWFnZUNvbmZpZ3VyYXRpb25SZWdpc3RyeS5qcyc7XG5pbXBvcnQgeyBUZXh0TW9kZWxQYXJ0IH0gZnJvbSAnLi90ZXh0TW9kZWxQYXJ0LmpzJztcbmltcG9ydCB7IERlZmF1bHRCYWNrZ3JvdW5kVG9rZW5pemVyLCBUb2tlbml6ZXJXaXRoU3RhdGVTdG9yZUFuZFRleHRNb2RlbCwgVHJhY2tpbmdUb2tlbml6YXRpb25TdGF0ZVN0b3JlIH0gZnJvbSAnLi90ZXh0TW9kZWxUb2tlbnMuanMnO1xuaW1wb3J0IHsgQWJzdHJhY3RUb2tlbnMsIEF0dGFjaGVkVmlld0hhbmRsZXIgfSBmcm9tICcuL3Rva2Vucy5qcyc7XG5pbXBvcnQgeyBUcmVlU2l0dGVyVG9rZW5zIH0gZnJvbSAnLi90cmVlU2l0dGVyVG9rZW5zLmpzJztcbmltcG9ydCB7IElUcmVlU2l0dGVyUGFyc2VyU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL3RyZWVTaXR0ZXJQYXJzZXJTZXJ2aWNlLmpzJztcbmltcG9ydCB7IENvbnRpZ3VvdXNNdWx0aWxpbmVUb2tlbnNCdWlsZGVyIH0gZnJvbSAnLi4vdG9rZW5zL2NvbnRpZ3VvdXNNdWx0aWxpbmVUb2tlbnNCdWlsZGVyLmpzJztcbmltcG9ydCB7IENvbnRpZ3VvdXNUb2tlbnNTdG9yZSB9IGZyb20gJy4uL3Rva2Vucy9jb250aWd1b3VzVG9rZW5zU3RvcmUuanMnO1xuaW1wb3J0IHsgU3BhcnNlVG9rZW5zU3RvcmUgfSBmcm9tICcuLi90b2tlbnMvc3BhcnNlVG9rZW5zU3RvcmUuanMnO1xubGV0IFRva2VuaXphdGlvblRleHRNb2RlbFBhcnQgPSBUb2tlbml6YXRpb25UZXh0TW9kZWxQYXJ0XzEgPSBjbGFzcyBUb2tlbml6YXRpb25UZXh0TW9kZWxQYXJ0IGV4dGVuZHMgVGV4dE1vZGVsUGFydCB7XG4gICAgY29uc3RydWN0b3IoX3RleHRNb2RlbCwgX2JyYWNrZXRQYWlyc1RleHRNb2RlbFBhcnQsIF9sYW5ndWFnZUlkLCBfYXR0YWNoZWRWaWV3cywgX2xhbmd1YWdlU2VydmljZSwgX2xhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UsIF90cmVlU2l0dGVyU2VydmljZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl90ZXh0TW9kZWwgPSBfdGV4dE1vZGVsO1xuICAgICAgICB0aGlzLl9icmFja2V0UGFpcnNUZXh0TW9kZWxQYXJ0ID0gX2JyYWNrZXRQYWlyc1RleHRNb2RlbFBhcnQ7XG4gICAgICAgIHRoaXMuX2xhbmd1YWdlSWQgPSBfbGFuZ3VhZ2VJZDtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRWaWV3cyA9IF9hdHRhY2hlZFZpZXdzO1xuICAgICAgICB0aGlzLl9sYW5ndWFnZVNlcnZpY2UgPSBfbGFuZ3VhZ2VTZXJ2aWNlO1xuICAgICAgICB0aGlzLl9sYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlID0gX2xhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2U7XG4gICAgICAgIHRoaXMuX3RyZWVTaXR0ZXJTZXJ2aWNlID0gX3RyZWVTaXR0ZXJTZXJ2aWNlO1xuICAgICAgICB0aGlzLl9zZW1hbnRpY1Rva2VucyA9IG5ldyBTcGFyc2VUb2tlbnNTdG9yZSh0aGlzLl9sYW5ndWFnZVNlcnZpY2UubGFuZ3VhZ2VJZENvZGVjKTtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VMYW5ndWFnZSA9IHRoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyKCkpO1xuICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlTGFuZ3VhZ2UgPSB0aGlzLl9vbkRpZENoYW5nZUxhbmd1YWdlLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZUxhbmd1YWdlQ29uZmlndXJhdGlvbiA9IHRoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyKCkpO1xuICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlTGFuZ3VhZ2VDb25maWd1cmF0aW9uID0gdGhpcy5fb25EaWRDaGFuZ2VMYW5ndWFnZUNvbmZpZ3VyYXRpb24uZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlVG9rZW5zID0gdGhpcy5fcmVnaXN0ZXIobmV3IEVtaXR0ZXIoKSk7XG4gICAgICAgIHRoaXMub25EaWRDaGFuZ2VUb2tlbnMgPSB0aGlzLl9vbkRpZENoYW5nZVRva2Vucy5ldmVudDtcbiAgICAgICAgdGhpcy5fdG9rZW5zRGlzcG9zYWJsZXMgPSB0aGlzLl9yZWdpc3RlcihuZXcgRGlzcG9zYWJsZVN0b3JlKCkpO1xuICAgICAgICB0aGlzLl9yZWdpc3Rlcih0aGlzLl9sYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlLm9uRGlkQ2hhbmdlKGUgPT4ge1xuICAgICAgICAgICAgaWYgKGUuYWZmZWN0cyh0aGlzLl9sYW5ndWFnZUlkKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlTGFuZ3VhZ2VDb25maWd1cmF0aW9uLmZpcmUoe30pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIC8vIFdlIGp1c3QgbG9vayBhdCByZWdpc3RyeSBjaGFuZ2VzIHRvIGRldGVybWluZSB3aGV0aGVyIHRvIHVzZSB0cmVlIHNpdHRlci5cbiAgICAgICAgLy8gVGhpcyBtZWFucyB0aGF0IHJlbW92aW5nIGEgbGFuZ3VhZ2UgZnJvbSB0aGUgc2V0dGluZyB3aWxsIG5vdCBjYXVzZSBhIHN3aXRjaCB0byB0ZXh0bWF0ZSBhbmQgd2lsbCByZXF1aXJlIGEgcmVsb2FkLlxuICAgICAgICAvLyBBZGRpbmcgYSBsYW5ndWFnZSB0byB0aGUgc2V0dGluZyB3aWxsIG5vdCBuZWVkIGEgcmVsb2FkLCBob3dldmVyLlxuICAgICAgICB0aGlzLl9yZWdpc3RlcihFdmVudC5maWx0ZXIoVHJlZVNpdHRlclRva2VuaXphdGlvblJlZ2lzdHJ5Lm9uRGlkQ2hhbmdlLCAoZSkgPT4gZS5jaGFuZ2VkTGFuZ3VhZ2VzLmluY2x1ZGVzKHRoaXMuX2xhbmd1YWdlSWQpKSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVByZWZlcnJlZFRva2VuUHJvdmlkZXIoKTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLmNyZWF0ZVByZWZlcnJlZFRva2VuUHJvdmlkZXIoKTtcbiAgICB9XG4gICAgY3JlYXRlR3JhbW1hclRva2VucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZ2lzdGVyKG5ldyBHcmFtbWFyVG9rZW5zKHRoaXMuX2xhbmd1YWdlU2VydmljZS5sYW5ndWFnZUlkQ29kZWMsIHRoaXMuX3RleHRNb2RlbCwgKCkgPT4gdGhpcy5fbGFuZ3VhZ2VJZCwgdGhpcy5fYXR0YWNoZWRWaWV3cykpO1xuICAgIH1cbiAgICBjcmVhdGVUcmVlU2l0dGVyVG9rZW5zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVnaXN0ZXIobmV3IFRyZWVTaXR0ZXJUb2tlbnModGhpcy5fdHJlZVNpdHRlclNlcnZpY2UsIHRoaXMuX2xhbmd1YWdlU2VydmljZS5sYW5ndWFnZUlkQ29kZWMsIHRoaXMuX3RleHRNb2RlbCwgKCkgPT4gdGhpcy5fbGFuZ3VhZ2VJZCkpO1xuICAgIH1cbiAgICBjcmVhdGVUb2tlbnModXNlVHJlZVNpdHRlcikge1xuICAgICAgICBjb25zdCBuZWVkc1Jlc2V0ID0gdGhpcy5fdG9rZW5zICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3Rva2Vucz8uZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl90b2tlbnMgPSB1c2VUcmVlU2l0dGVyID8gdGhpcy5jcmVhdGVUcmVlU2l0dGVyVG9rZW5zKCkgOiB0aGlzLmNyZWF0ZUdyYW1tYXJUb2tlbnMoKTtcbiAgICAgICAgdGhpcy5fdG9rZW5zRGlzcG9zYWJsZXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fdG9rZW5zRGlzcG9zYWJsZXMuYWRkKHRoaXMuX3Rva2Vucy5vbkRpZENoYW5nZVRva2VucyhlID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXRNb2RlbFRva2Vuc0NoYW5nZWRFdmVudChlKTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLl90b2tlbnNEaXNwb3NhYmxlcy5hZGQodGhpcy5fdG9rZW5zLm9uRGlkQ2hhbmdlQmFja2dyb3VuZFRva2VuaXphdGlvblN0YXRlKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5fYnJhY2tldFBhaXJzVGV4dE1vZGVsUGFydC5oYW5kbGVEaWRDaGFuZ2VCYWNrZ3JvdW5kVG9rZW5pemF0aW9uU3RhdGUoKTtcbiAgICAgICAgfSkpO1xuICAgICAgICBpZiAobmVlZHNSZXNldCkge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byByZXNldCB0aGUgdG9rZW5pemF0aW9uLCBhcyB0aGUgbmV3IHRva2VuIHByb3ZpZGVyIG90aGVyd2lzZSB3b24ndCBoYXZlIGEgY2hhbmNlIHRvIHByb3ZpZGUgdG9rZW5zIHVudGlsIHNvbWUgYWN0aW9uIGhhcHBlbnMgaW4gdGhlIGVkaXRvci5cbiAgICAgICAgICAgIHRoaXMuX3Rva2Vucy5yZXNldFRva2VuaXphdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZVByZWZlcnJlZFRva2VuUHJvdmlkZXIoKSB7XG4gICAgICAgIGlmIChUcmVlU2l0dGVyVG9rZW5pemF0aW9uUmVnaXN0cnkuZ2V0KHRoaXMuX2xhbmd1YWdlSWQpKSB7XG4gICAgICAgICAgICBpZiAoISh0aGlzLl90b2tlbnMgaW5zdGFuY2VvZiBUcmVlU2l0dGVyVG9rZW5zKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlVG9rZW5zKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCEodGhpcy5fdG9rZW5zIGluc3RhbmNlb2YgR3JhbW1hclRva2VucykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVRva2VucyhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlTGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZUNoYW5nZShlKSB7XG4gICAgICAgIGlmIChlLmFmZmVjdHModGhpcy5fbGFuZ3VhZ2VJZCkpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlTGFuZ3VhZ2VDb25maWd1cmF0aW9uLmZpcmUoe30pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZURpZENoYW5nZUNvbnRlbnQoZSkge1xuICAgICAgICBpZiAoZS5pc0ZsdXNoKSB7XG4gICAgICAgICAgICB0aGlzLl9zZW1hbnRpY1Rva2Vucy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFlLmlzRW9sQ2hhbmdlKSB7IC8vIFdlIGRvbid0IGhhdmUgdG8gZG8gYW55dGhpbmcgb24gYW4gRU9MIGNoYW5nZVxuICAgICAgICAgICAgZm9yIChjb25zdCBjIG9mIGUuY2hhbmdlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtlb2xDb3VudCwgZmlyc3RMaW5lTGVuZ3RoLCBsYXN0TGluZUxlbmd0aF0gPSBjb3VudEVPTChjLnRleHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbWFudGljVG9rZW5zLmFjY2VwdEVkaXQoYy5yYW5nZSwgZW9sQ291bnQsIGZpcnN0TGluZUxlbmd0aCwgbGFzdExpbmVMZW5ndGgsIGMudGV4dC5sZW5ndGggPiAwID8gYy50ZXh0LmNoYXJDb2RlQXQoMCkgOiAwIC8qIENoYXJDb2RlLk51bGwgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Rva2Vucy5oYW5kbGVEaWRDaGFuZ2VDb250ZW50KGUpO1xuICAgIH1cbiAgICBoYW5kbGVEaWRDaGFuZ2VBdHRhY2hlZCgpIHtcbiAgICAgICAgdGhpcy5fdG9rZW5zLmhhbmRsZURpZENoYW5nZUF0dGFjaGVkKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluY2x1ZGVzIGdyYW1tYXIgYW5kIHNlbWFudGljIHRva2Vucy5cbiAgICAgKi9cbiAgICBnZXRMaW5lVG9rZW5zKGxpbmVOdW1iZXIpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUxpbmVOdW1iZXIobGluZU51bWJlcik7XG4gICAgICAgIGNvbnN0IHN5bnRhY3RpY1Rva2VucyA9IHRoaXMuX3Rva2Vucy5nZXRMaW5lVG9rZW5zKGxpbmVOdW1iZXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VtYW50aWNUb2tlbnMuYWRkU3BhcnNlVG9rZW5zKGxpbmVOdW1iZXIsIHN5bnRhY3RpY1Rva2Vucyk7XG4gICAgfVxuICAgIF9lbWl0TW9kZWxUb2tlbnNDaGFuZ2VkRXZlbnQoZSkge1xuICAgICAgICBpZiAoIXRoaXMuX3RleHRNb2RlbC5faXNEaXNwb3NpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5fYnJhY2tldFBhaXJzVGV4dE1vZGVsUGFydC5oYW5kbGVEaWRDaGFuZ2VUb2tlbnMoZSk7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZVRva2Vucy5maXJlKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vICNyZWdpb24gR3JhbW1hciBUb2tlbnNcbiAgICB2YWxpZGF0ZUxpbmVOdW1iZXIobGluZU51bWJlcikge1xuICAgICAgICBpZiAobGluZU51bWJlciA8IDEgfHwgbGluZU51bWJlciA+IHRoaXMuX3RleHRNb2RlbC5nZXRMaW5lQ291bnQoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEJ1Z0luZGljYXRpbmdFcnJvcignSWxsZWdhbCB2YWx1ZSBmb3IgbGluZU51bWJlcicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBoYXNUb2tlbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbnMuaGFzVG9rZW5zO1xuICAgIH1cbiAgICByZXNldFRva2VuaXphdGlvbigpIHtcbiAgICAgICAgdGhpcy5fdG9rZW5zLnJlc2V0VG9rZW5pemF0aW9uKCk7XG4gICAgfVxuICAgIGdldCBiYWNrZ3JvdW5kVG9rZW5pemF0aW9uU3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbnMuYmFja2dyb3VuZFRva2VuaXphdGlvblN0YXRlO1xuICAgIH1cbiAgICBmb3JjZVRva2VuaXphdGlvbihsaW5lTnVtYmVyKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGVMaW5lTnVtYmVyKGxpbmVOdW1iZXIpO1xuICAgICAgICB0aGlzLl90b2tlbnMuZm9yY2VUb2tlbml6YXRpb24obGluZU51bWJlcik7XG4gICAgfVxuICAgIGhhc0FjY3VyYXRlVG9rZW5zRm9yTGluZShsaW5lTnVtYmVyKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGVMaW5lTnVtYmVyKGxpbmVOdW1iZXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9rZW5zLmhhc0FjY3VyYXRlVG9rZW5zRm9yTGluZShsaW5lTnVtYmVyKTtcbiAgICB9XG4gICAgaXNDaGVhcFRvVG9rZW5pemUobGluZU51bWJlcikge1xuICAgICAgICB0aGlzLnZhbGlkYXRlTGluZU51bWJlcihsaW5lTnVtYmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rva2Vucy5pc0NoZWFwVG9Ub2tlbml6ZShsaW5lTnVtYmVyKTtcbiAgICB9XG4gICAgdG9rZW5pemVJZkNoZWFwKGxpbmVOdW1iZXIpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUxpbmVOdW1iZXIobGluZU51bWJlcik7XG4gICAgICAgIHRoaXMuX3Rva2Vucy50b2tlbml6ZUlmQ2hlYXAobGluZU51bWJlcik7XG4gICAgfVxuICAgIGdldFRva2VuVHlwZUlmSW5zZXJ0aW5nQ2hhcmFjdGVyKGxpbmVOdW1iZXIsIGNvbHVtbiwgY2hhcmFjdGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbnMuZ2V0VG9rZW5UeXBlSWZJbnNlcnRpbmdDaGFyYWN0ZXIobGluZU51bWJlciwgY29sdW1uLCBjaGFyYWN0ZXIpO1xuICAgIH1cbiAgICB0b2tlbml6ZUxpbmVXaXRoRWRpdChwb3NpdGlvbiwgbGVuZ3RoLCBuZXdUZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbnMudG9rZW5pemVMaW5lV2l0aEVkaXQocG9zaXRpb24sIGxlbmd0aCwgbmV3VGV4dCk7XG4gICAgfVxuICAgIC8vICNlbmRyZWdpb25cbiAgICAvLyAjcmVnaW9uIFNlbWFudGljIFRva2Vuc1xuICAgIHNldFNlbWFudGljVG9rZW5zKHRva2VucywgaXNDb21wbGV0ZSkge1xuICAgICAgICB0aGlzLl9zZW1hbnRpY1Rva2Vucy5zZXQodG9rZW5zLCBpc0NvbXBsZXRlKTtcbiAgICAgICAgdGhpcy5fZW1pdE1vZGVsVG9rZW5zQ2hhbmdlZEV2ZW50KHtcbiAgICAgICAgICAgIHNlbWFudGljVG9rZW5zQXBwbGllZDogdG9rZW5zICE9PSBudWxsLFxuICAgICAgICAgICAgcmFuZ2VzOiBbeyBmcm9tTGluZU51bWJlcjogMSwgdG9MaW5lTnVtYmVyOiB0aGlzLl90ZXh0TW9kZWwuZ2V0TGluZUNvdW50KCkgfV0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBoYXNDb21wbGV0ZVNlbWFudGljVG9rZW5zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VtYW50aWNUb2tlbnMuaXNDb21wbGV0ZSgpO1xuICAgIH1cbiAgICBoYXNTb21lU2VtYW50aWNUb2tlbnMoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5fc2VtYW50aWNUb2tlbnMuaXNFbXB0eSgpO1xuICAgIH1cbiAgICBzZXRQYXJ0aWFsU2VtYW50aWNUb2tlbnMocmFuZ2UsIHRva2Vucykge1xuICAgICAgICBpZiAodGhpcy5oYXNDb21wbGV0ZVNlbWFudGljVG9rZW5zKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGFuZ2VkUmFuZ2UgPSB0aGlzLl90ZXh0TW9kZWwudmFsaWRhdGVSYW5nZSh0aGlzLl9zZW1hbnRpY1Rva2Vucy5zZXRQYXJ0aWFsKHJhbmdlLCB0b2tlbnMpKTtcbiAgICAgICAgdGhpcy5fZW1pdE1vZGVsVG9rZW5zQ2hhbmdlZEV2ZW50KHtcbiAgICAgICAgICAgIHNlbWFudGljVG9rZW5zQXBwbGllZDogdHJ1ZSxcbiAgICAgICAgICAgIHJhbmdlczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbUxpbmVOdW1iZXI6IGNoYW5nZWRSYW5nZS5zdGFydExpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIHRvTGluZU51bWJlcjogY2hhbmdlZFJhbmdlLmVuZExpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyAjZW5kcmVnaW9uXG4gICAgLy8gI3JlZ2lvbiBVdGlsaXR5IE1ldGhvZHNcbiAgICBnZXRXb3JkQXRQb3NpdGlvbihfcG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5hc3NlcnROb3REaXNwb3NlZCgpO1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuX3RleHRNb2RlbC52YWxpZGF0ZVBvc2l0aW9uKF9wb3NpdGlvbik7XG4gICAgICAgIGNvbnN0IGxpbmVDb250ZW50ID0gdGhpcy5fdGV4dE1vZGVsLmdldExpbmVDb250ZW50KHBvc2l0aW9uLmxpbmVOdW1iZXIpO1xuICAgICAgICBjb25zdCBsaW5lVG9rZW5zID0gdGhpcy5nZXRMaW5lVG9rZW5zKHBvc2l0aW9uLmxpbmVOdW1iZXIpO1xuICAgICAgICBjb25zdCB0b2tlbkluZGV4ID0gbGluZVRva2Vucy5maW5kVG9rZW5JbmRleEF0T2Zmc2V0KHBvc2l0aW9uLmNvbHVtbiAtIDEpO1xuICAgICAgICAvLyAoMSkuIEZpcnN0IHRyeSBjaGVja2luZyByaWdodCBiaWFzZWQgd29yZFxuICAgICAgICBjb25zdCBbcmJTdGFydE9mZnNldCwgcmJFbmRPZmZzZXRdID0gVG9rZW5pemF0aW9uVGV4dE1vZGVsUGFydF8xLl9maW5kTGFuZ3VhZ2VCb3VuZGFyaWVzKGxpbmVUb2tlbnMsIHRva2VuSW5kZXgpO1xuICAgICAgICBjb25zdCByaWdodEJpYXNlZFdvcmQgPSBnZXRXb3JkQXRUZXh0KHBvc2l0aW9uLmNvbHVtbiwgdGhpcy5nZXRMYW5ndWFnZUNvbmZpZ3VyYXRpb24obGluZVRva2Vucy5nZXRMYW5ndWFnZUlkKHRva2VuSW5kZXgpKS5nZXRXb3JkRGVmaW5pdGlvbigpLCBsaW5lQ29udGVudC5zdWJzdHJpbmcocmJTdGFydE9mZnNldCwgcmJFbmRPZmZzZXQpLCByYlN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSByZXN1bHQgdG91Y2hlcyB0aGUgb3JpZ2luYWwgcGFzc2VkIGluIHBvc2l0aW9uXG4gICAgICAgIGlmIChyaWdodEJpYXNlZFdvcmQgJiZcbiAgICAgICAgICAgIHJpZ2h0Qmlhc2VkV29yZC5zdGFydENvbHVtbiA8PSBfcG9zaXRpb24uY29sdW1uICYmXG4gICAgICAgICAgICBfcG9zaXRpb24uY29sdW1uIDw9IHJpZ2h0Qmlhc2VkV29yZC5lbmRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiByaWdodEJpYXNlZFdvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gKDIpLiBFbHNlLCBpZiB3ZSB3ZXJlIGF0IGEgbGFuZ3VhZ2UgYm91bmRhcnksIGNoZWNrIHRoZSBsZWZ0IGJpYXNlZCB3b3JkXG4gICAgICAgIGlmICh0b2tlbkluZGV4ID4gMCAmJiByYlN0YXJ0T2Zmc2V0ID09PSBwb3NpdGlvbi5jb2x1bW4gLSAxKSB7XG4gICAgICAgICAgICAvLyBlZGdlIGNhc2UsIHdoZXJlIGBwb3NpdGlvbmAgc2l0cyBiZXR3ZWVuIHR3byB0b2tlbnMgYmVsb25naW5nIHRvIHR3byBkaWZmZXJlbnQgbGFuZ3VhZ2VzXG4gICAgICAgICAgICBjb25zdCBbbGJTdGFydE9mZnNldCwgbGJFbmRPZmZzZXRdID0gVG9rZW5pemF0aW9uVGV4dE1vZGVsUGFydF8xLl9maW5kTGFuZ3VhZ2VCb3VuZGFyaWVzKGxpbmVUb2tlbnMsIHRva2VuSW5kZXggLSAxKTtcbiAgICAgICAgICAgIGNvbnN0IGxlZnRCaWFzZWRXb3JkID0gZ2V0V29yZEF0VGV4dChwb3NpdGlvbi5jb2x1bW4sIHRoaXMuZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uKGxpbmVUb2tlbnMuZ2V0TGFuZ3VhZ2VJZCh0b2tlbkluZGV4IC0gMSkpLmdldFdvcmREZWZpbml0aW9uKCksIGxpbmVDb250ZW50LnN1YnN0cmluZyhsYlN0YXJ0T2Zmc2V0LCBsYkVuZE9mZnNldCksIGxiU3RhcnRPZmZzZXQpO1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSByZXN1bHQgdG91Y2hlcyB0aGUgb3JpZ2luYWwgcGFzc2VkIGluIHBvc2l0aW9uXG4gICAgICAgICAgICBpZiAobGVmdEJpYXNlZFdvcmQgJiZcbiAgICAgICAgICAgICAgICBsZWZ0Qmlhc2VkV29yZC5zdGFydENvbHVtbiA8PSBfcG9zaXRpb24uY29sdW1uICYmXG4gICAgICAgICAgICAgICAgX3Bvc2l0aW9uLmNvbHVtbiA8PSBsZWZ0Qmlhc2VkV29yZC5lbmRDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdEJpYXNlZFdvcmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGdldExhbmd1YWdlQ29uZmlndXJhdGlvbihsYW5ndWFnZUlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlLmdldExhbmd1YWdlQ29uZmlndXJhdGlvbihsYW5ndWFnZUlkKTtcbiAgICB9XG4gICAgc3RhdGljIF9maW5kTGFuZ3VhZ2VCb3VuZGFyaWVzKGxpbmVUb2tlbnMsIHRva2VuSW5kZXgpIHtcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2VJZCA9IGxpbmVUb2tlbnMuZ2V0TGFuZ3VhZ2VJZCh0b2tlbkluZGV4KTtcbiAgICAgICAgLy8gZ28gbGVmdCB1bnRpbCBhIGRpZmZlcmVudCBsYW5ndWFnZSBpcyBoaXRcbiAgICAgICAgbGV0IHN0YXJ0T2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRva2VuSW5kZXg7IGkgPj0gMCAmJiBsaW5lVG9rZW5zLmdldExhbmd1YWdlSWQoaSkgPT09IGxhbmd1YWdlSWQ7IGktLSkge1xuICAgICAgICAgICAgc3RhcnRPZmZzZXQgPSBsaW5lVG9rZW5zLmdldFN0YXJ0T2Zmc2V0KGkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGdvIHJpZ2h0IHVudGlsIGEgZGlmZmVyZW50IGxhbmd1YWdlIGlzIGhpdFxuICAgICAgICBsZXQgZW5kT2Zmc2V0ID0gbGluZVRva2Vucy5nZXRMaW5lQ29udGVudCgpLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRva2VuSW5kZXgsIHRva2VuQ291bnQgPSBsaW5lVG9rZW5zLmdldENvdW50KCk7IGkgPCB0b2tlbkNvdW50ICYmIGxpbmVUb2tlbnMuZ2V0TGFuZ3VhZ2VJZChpKSA9PT0gbGFuZ3VhZ2VJZDsgaSsrKSB7XG4gICAgICAgICAgICBlbmRPZmZzZXQgPSBsaW5lVG9rZW5zLmdldEVuZE9mZnNldChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3N0YXJ0T2Zmc2V0LCBlbmRPZmZzZXRdO1xuICAgIH1cbiAgICBnZXRXb3JkVW50aWxQb3NpdGlvbihwb3NpdGlvbikge1xuICAgICAgICBjb25zdCB3b3JkQXRQb3NpdGlvbiA9IHRoaXMuZ2V0V29yZEF0UG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICBpZiAoIXdvcmRBdFBvc2l0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4geyB3b3JkOiAnJywgc3RhcnRDb2x1bW46IHBvc2l0aW9uLmNvbHVtbiwgZW5kQ29sdW1uOiBwb3NpdGlvbi5jb2x1bW4sIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdvcmQ6IHdvcmRBdFBvc2l0aW9uLndvcmQuc3Vic3RyKDAsIHBvc2l0aW9uLmNvbHVtbiAtIHdvcmRBdFBvc2l0aW9uLnN0YXJ0Q29sdW1uKSxcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiB3b3JkQXRQb3NpdGlvbi5zdGFydENvbHVtbixcbiAgICAgICAgICAgIGVuZENvbHVtbjogcG9zaXRpb24uY29sdW1uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyAjZW5kcmVnaW9uXG4gICAgLy8gI3JlZ2lvbiBMYW5ndWFnZSBJZCBoYW5kbGluZ1xuICAgIGdldExhbmd1YWdlSWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYW5ndWFnZUlkO1xuICAgIH1cbiAgICBnZXRMYW5ndWFnZUlkQXRQb3NpdGlvbihsaW5lTnVtYmVyLCBjb2x1bW4pIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLl90ZXh0TW9kZWwudmFsaWRhdGVQb3NpdGlvbihuZXcgUG9zaXRpb24obGluZU51bWJlciwgY29sdW1uKSk7XG4gICAgICAgIGNvbnN0IGxpbmVUb2tlbnMgPSB0aGlzLmdldExpbmVUb2tlbnMocG9zaXRpb24ubGluZU51bWJlcik7XG4gICAgICAgIHJldHVybiBsaW5lVG9rZW5zLmdldExhbmd1YWdlSWQobGluZVRva2Vucy5maW5kVG9rZW5JbmRleEF0T2Zmc2V0KHBvc2l0aW9uLmNvbHVtbiAtIDEpKTtcbiAgICB9XG4gICAgc2V0TGFuZ3VhZ2VJZChsYW5ndWFnZUlkLCBzb3VyY2UgPSAnYXBpJykge1xuICAgICAgICBpZiAodGhpcy5fbGFuZ3VhZ2VJZCA9PT0gbGFuZ3VhZ2VJZCkge1xuICAgICAgICAgICAgLy8gVGhlcmUncyBub3RoaW5nIHRvIGRvXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZSA9IHtcbiAgICAgICAgICAgIG9sZExhbmd1YWdlOiB0aGlzLl9sYW5ndWFnZUlkLFxuICAgICAgICAgICAgbmV3TGFuZ3VhZ2U6IGxhbmd1YWdlSWQsXG4gICAgICAgICAgICBzb3VyY2VcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fbGFuZ3VhZ2VJZCA9IGxhbmd1YWdlSWQ7XG4gICAgICAgIHRoaXMuX2JyYWNrZXRQYWlyc1RleHRNb2RlbFBhcnQuaGFuZGxlRGlkQ2hhbmdlTGFuZ3VhZ2UoZSk7XG4gICAgICAgIHRoaXMuX3Rva2Vucy5yZXNldFRva2VuaXphdGlvbigpO1xuICAgICAgICB0aGlzLmNyZWF0ZVByZWZlcnJlZFRva2VuUHJvdmlkZXIoKTtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VMYW5ndWFnZS5maXJlKGUpO1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZUxhbmd1YWdlQ29uZmlndXJhdGlvbi5maXJlKHt9KTtcbiAgICB9XG59O1xuVG9rZW5pemF0aW9uVGV4dE1vZGVsUGFydCA9IFRva2VuaXphdGlvblRleHRNb2RlbFBhcnRfMSA9IF9fZGVjb3JhdGUoW1xuICAgIF9fcGFyYW0oNCwgSUxhbmd1YWdlU2VydmljZSksXG4gICAgX19wYXJhbSg1LCBJTGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZSksXG4gICAgX19wYXJhbSg2LCBJVHJlZVNpdHRlclBhcnNlclNlcnZpY2UpXG5dLCBUb2tlbml6YXRpb25UZXh0TW9kZWxQYXJ0KTtcbmV4cG9ydCB7IFRva2VuaXphdGlvblRleHRNb2RlbFBhcnQgfTtcbmNsYXNzIEdyYW1tYXJUb2tlbnMgZXh0ZW5kcyBBYnN0cmFjdFRva2VucyB7XG4gICAgY29uc3RydWN0b3IobGFuZ3VhZ2VJZENvZGVjLCB0ZXh0TW9kZWwsIGdldExhbmd1YWdlSWQsIGF0dGFjaGVkVmlld3MpIHtcbiAgICAgICAgc3VwZXIobGFuZ3VhZ2VJZENvZGVjLCB0ZXh0TW9kZWwsIGdldExhbmd1YWdlSWQpO1xuICAgICAgICB0aGlzLl90b2tlbml6ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9kZWZhdWx0QmFja2dyb3VuZFRva2VuaXplciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRUb2tlbml6ZXIgPSB0aGlzLl9yZWdpc3RlcihuZXcgTXV0YWJsZURpc3Bvc2FibGUoKSk7XG4gICAgICAgIHRoaXMuX3Rva2VucyA9IG5ldyBDb250aWd1b3VzVG9rZW5zU3RvcmUodGhpcy5fbGFuZ3VhZ2VJZENvZGVjKTtcbiAgICAgICAgdGhpcy5fZGVidWdCYWNrZ3JvdW5kVG9rZW5pemVyID0gdGhpcy5fcmVnaXN0ZXIobmV3IE11dGFibGVEaXNwb3NhYmxlKCkpO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFZpZXdTdGF0ZXMgPSB0aGlzLl9yZWdpc3RlcihuZXcgRGlzcG9zYWJsZU1hcCgpKTtcbiAgICAgICAgdGhpcy5fcmVnaXN0ZXIoVG9rZW5pemF0aW9uUmVnaXN0cnkub25EaWRDaGFuZ2UoKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxhbmd1YWdlSWQgPSB0aGlzLmdldExhbmd1YWdlSWQoKTtcbiAgICAgICAgICAgIGlmIChlLmNoYW5nZWRMYW5ndWFnZXMuaW5kZXhPZihsYW5ndWFnZUlkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlc2V0VG9rZW5pemF0aW9uKCk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5yZXNldFRva2VuaXphdGlvbigpO1xuICAgICAgICB0aGlzLl9yZWdpc3RlcihhdHRhY2hlZFZpZXdzLm9uRGlkQ2hhbmdlVmlzaWJsZVJhbmdlcygoeyB2aWV3LCBzdGF0ZSB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBsZXQgZXhpc3RpbmcgPSB0aGlzLl9hdHRhY2hlZFZpZXdTdGF0ZXMuZ2V0KHZpZXcpO1xuICAgICAgICAgICAgICAgIGlmICghZXhpc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcgPSBuZXcgQXR0YWNoZWRWaWV3SGFuZGxlcigoKSA9PiB0aGlzLnJlZnJlc2hSYW5nZXMoZXhpc3RpbmcubGluZVJhbmdlcykpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFZpZXdTdGF0ZXMuc2V0KHZpZXcsIGV4aXN0aW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZXhpc3RpbmcuaGFuZGxlU3RhdGVDaGFuZ2Uoc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRWaWV3U3RhdGVzLmRlbGV0ZUFuZERpc3Bvc2Uodmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmVzZXRUb2tlbml6YXRpb24oZmlyZVRva2VuQ2hhbmdlRXZlbnQgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuX3Rva2Vucy5mbHVzaCgpO1xuICAgICAgICB0aGlzLl9kZWJ1Z0JhY2tncm91bmRUb2tlbnM/LmZsdXNoKCk7XG4gICAgICAgIGlmICh0aGlzLl9kZWJ1Z0JhY2tncm91bmRTdGF0ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnQmFja2dyb3VuZFN0YXRlcyA9IG5ldyBUcmFja2luZ1Rva2VuaXphdGlvblN0YXRlU3RvcmUodGhpcy5fdGV4dE1vZGVsLmdldExpbmVDb3VudCgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyZVRva2VuQ2hhbmdlRXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlVG9rZW5zLmZpcmUoe1xuICAgICAgICAgICAgICAgIHNlbWFudGljVG9rZW5zQXBwbGllZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmFuZ2VzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb21MaW5lTnVtYmVyOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9MaW5lTnVtYmVyOiB0aGlzLl90ZXh0TW9kZWwuZ2V0TGluZUNvdW50KCksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluaXRpYWxpemVUb2tlbml6YXRpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGV4dE1vZGVsLmlzVG9vTGFyZ2VGb3JUb2tlbml6YXRpb24oKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0b2tlbml6YXRpb25TdXBwb3J0ID0gVG9rZW5pemF0aW9uUmVnaXN0cnkuZ2V0KHRoaXMuZ2V0TGFuZ3VhZ2VJZCgpKTtcbiAgICAgICAgICAgIGlmICghdG9rZW5pemF0aW9uU3VwcG9ydCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgaW5pdGlhbFN0YXRlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpbml0aWFsU3RhdGUgPSB0b2tlbml6YXRpb25TdXBwb3J0LmdldEluaXRpYWxTdGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBvblVuZXhwZWN0ZWRFcnJvcihlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW251bGwsIG51bGxdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFt0b2tlbml6YXRpb25TdXBwb3J0LCBpbml0aWFsU3RhdGVdO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBbdG9rZW5pemF0aW9uU3VwcG9ydCwgaW5pdGlhbFN0YXRlXSA9IGluaXRpYWxpemVUb2tlbml6YXRpb24oKTtcbiAgICAgICAgaWYgKHRva2VuaXphdGlvblN1cHBvcnQgJiYgaW5pdGlhbFN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLl90b2tlbml6ZXIgPSBuZXcgVG9rZW5pemVyV2l0aFN0YXRlU3RvcmVBbmRUZXh0TW9kZWwodGhpcy5fdGV4dE1vZGVsLmdldExpbmVDb3VudCgpLCB0b2tlbml6YXRpb25TdXBwb3J0LCB0aGlzLl90ZXh0TW9kZWwsIHRoaXMuX2xhbmd1YWdlSWRDb2RlYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl90b2tlbml6ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRUb2tlbml6ZXIuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fZGVmYXVsdEJhY2tncm91bmRUb2tlbml6ZXIgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5fdG9rZW5pemVyKSB7XG4gICAgICAgICAgICBjb25zdCBiID0ge1xuICAgICAgICAgICAgICAgIHNldFRva2VuczogKHRva2VucykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRva2Vucyh0b2tlbnMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZFRva2VuaXphdGlvbkZpbmlzaGVkOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9iYWNrZ3JvdW5kVG9rZW5pemF0aW9uU3RhdGUgPT09IDIgLyogQmFja2dyb3VuZFRva2VuaXphdGlvblN0YXRlLkNvbXBsZXRlZCAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgYWxyZWFkeSBkaWQgYSBmdWxsIHRva2VuaXphdGlvbiBhbmQgZG9uJ3QgZ28gYmFjayB0byBwcm9ncmVzc2luZy5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IDIgLyogQmFja2dyb3VuZFRva2VuaXphdGlvblN0YXRlLkNvbXBsZXRlZCAqLztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmFja2dyb3VuZFRva2VuaXphdGlvblN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlQmFja2dyb3VuZFRva2VuaXphdGlvblN0YXRlLmZpcmUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldEVuZFN0YXRlOiAobGluZU51bWJlciwgc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl90b2tlbml6ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdEludmFsaWRFbmRTdGF0ZUxpbmVOdW1iZXIgPSB0aGlzLl90b2tlbml6ZXIuc3RvcmUuZ2V0Rmlyc3RJbnZhbGlkRW5kU3RhdGVMaW5lTnVtYmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGFjY2VwdCBzdGF0ZXMgZm9yIGRlZmluaXRlbHkgdmFsaWQgc3RhdGVzLCB0aGUgcmVuZGVyZXIgaXMgYWhlYWQgb2YgdGhlIHdvcmtlciFcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0SW52YWxpZEVuZFN0YXRlTGluZU51bWJlciAhPT0gbnVsbCAmJiBsaW5lTnVtYmVyID49IGZpcnN0SW52YWxpZEVuZFN0YXRlTGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdG9rZW5pemVyPy5zdG9yZS5zZXRFbmRTdGF0ZShsaW5lTnVtYmVyLCBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0b2tlbml6YXRpb25TdXBwb3J0ICYmIHRva2VuaXphdGlvblN1cHBvcnQuY3JlYXRlQmFja2dyb3VuZFRva2VuaXplciAmJiAhdG9rZW5pemF0aW9uU3VwcG9ydC5iYWNrZ3JvdW5kVG9rZW5pemVyU2hvdWxkT25seVZlcmlmeVRva2Vucykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JhY2tncm91bmRUb2tlbml6ZXIudmFsdWUgPSB0b2tlbml6YXRpb25TdXBwb3J0LmNyZWF0ZUJhY2tncm91bmRUb2tlbml6ZXIodGhpcy5fdGV4dE1vZGVsLCBiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5fYmFja2dyb3VuZFRva2VuaXplci52YWx1ZSAmJiAhdGhpcy5fdGV4dE1vZGVsLmlzVG9vTGFyZ2VGb3JUb2tlbml6YXRpb24oKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JhY2tncm91bmRUb2tlbml6ZXIudmFsdWUgPSB0aGlzLl9kZWZhdWx0QmFja2dyb3VuZFRva2VuaXplciA9XG4gICAgICAgICAgICAgICAgICAgIG5ldyBEZWZhdWx0QmFja2dyb3VuZFRva2VuaXplcih0aGlzLl90b2tlbml6ZXIsIGIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlZmF1bHRCYWNrZ3JvdW5kVG9rZW5pemVyLmhhbmRsZUNoYW5nZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b2tlbml6YXRpb25TdXBwb3J0Py5iYWNrZ3JvdW5kVG9rZW5pemVyU2hvdWxkT25seVZlcmlmeVRva2VucyAmJiB0b2tlbml6YXRpb25TdXBwb3J0LmNyZWF0ZUJhY2tncm91bmRUb2tlbml6ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1Z0JhY2tncm91bmRUb2tlbnMgPSBuZXcgQ29udGlndW91c1Rva2Vuc1N0b3JlKHRoaXMuX2xhbmd1YWdlSWRDb2RlYyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVidWdCYWNrZ3JvdW5kU3RhdGVzID0gbmV3IFRyYWNraW5nVG9rZW5pemF0aW9uU3RhdGVTdG9yZSh0aGlzLl90ZXh0TW9kZWwuZ2V0TGluZUNvdW50KCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlYnVnQmFja2dyb3VuZFRva2VuaXplci5jbGVhcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlYnVnQmFja2dyb3VuZFRva2VuaXplci52YWx1ZSA9IHRva2VuaXphdGlvblN1cHBvcnQuY3JlYXRlQmFja2dyb3VuZFRva2VuaXplcih0aGlzLl90ZXh0TW9kZWwsIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VG9rZW5zOiAodG9rZW5zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1Z0JhY2tncm91bmRUb2tlbnM/LnNldE11bHRpbGluZVRva2Vucyh0b2tlbnMsIHRoaXMuX3RleHRNb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRUb2tlbml6YXRpb25GaW5pc2hlZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5PIE9QXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNldEVuZFN0YXRlOiAobGluZU51bWJlciwgc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RlYnVnQmFja2dyb3VuZFN0YXRlcz8uc2V0RW5kU3RhdGUobGluZU51bWJlciwgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVidWdCYWNrZ3JvdW5kVG9rZW5zID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlYnVnQmFja2dyb3VuZFN0YXRlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1Z0JhY2tncm91bmRUb2tlbml6ZXIudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWZyZXNoQWxsVmlzaWJsZUxpbmVUb2tlbnMoKTtcbiAgICB9XG4gICAgaGFuZGxlRGlkQ2hhbmdlQXR0YWNoZWQoKSB7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRCYWNrZ3JvdW5kVG9rZW5pemVyPy5oYW5kbGVDaGFuZ2VzKCk7XG4gICAgfVxuICAgIGhhbmRsZURpZENoYW5nZUNvbnRlbnQoZSkge1xuICAgICAgICBpZiAoZS5pc0ZsdXNoKSB7XG4gICAgICAgICAgICAvLyBEb24ndCBmaXJlIHRoZSBldmVudCwgYXMgdGhlIHZpZXcgbWlnaHQgbm90IGhhdmUgZ290IHRoZSB0ZXh0IGNoYW5nZSBldmVudCB5ZXRcbiAgICAgICAgICAgIHRoaXMucmVzZXRUb2tlbml6YXRpb24oZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFlLmlzRW9sQ2hhbmdlKSB7IC8vIFdlIGRvbid0IGhhdmUgdG8gZG8gYW55dGhpbmcgb24gYW4gRU9MIGNoYW5nZVxuICAgICAgICAgICAgZm9yIChjb25zdCBjIG9mIGUuY2hhbmdlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtlb2xDb3VudCwgZmlyc3RMaW5lTGVuZ3RoXSA9IGNvdW50RU9MKGMudGV4dCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG9rZW5zLmFjY2VwdEVkaXQoYy5yYW5nZSwgZW9sQ291bnQsIGZpcnN0TGluZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVidWdCYWNrZ3JvdW5kVG9rZW5zPy5hY2NlcHRFZGl0KGMucmFuZ2UsIGVvbENvdW50LCBmaXJzdExpbmVMZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZGVidWdCYWNrZ3JvdW5kU3RhdGVzPy5hY2NlcHRDaGFuZ2VzKGUuY2hhbmdlcyk7XG4gICAgICAgICAgICBpZiAodGhpcy5fdG9rZW5pemVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG9rZW5pemVyLnN0b3JlLmFjY2VwdENoYW5nZXMoZS5jaGFuZ2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2RlZmF1bHRCYWNrZ3JvdW5kVG9rZW5pemVyPy5oYW5kbGVDaGFuZ2VzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0VG9rZW5zKHRva2Vucykge1xuICAgICAgICBjb25zdCB7IGNoYW5nZXMgfSA9IHRoaXMuX3Rva2Vucy5zZXRNdWx0aWxpbmVUb2tlbnModG9rZW5zLCB0aGlzLl90ZXh0TW9kZWwpO1xuICAgICAgICBpZiAoY2hhbmdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZVRva2Vucy5maXJlKHsgc2VtYW50aWNUb2tlbnNBcHBsaWVkOiBmYWxzZSwgcmFuZ2VzOiBjaGFuZ2VzLCB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBjaGFuZ2VzOiBjaGFuZ2VzIH07XG4gICAgfVxuICAgIHJlZnJlc2hBbGxWaXNpYmxlTGluZVRva2VucygpIHtcbiAgICAgICAgY29uc3QgcmFuZ2VzID0gTGluZVJhbmdlLmpvaW5NYW55KFsuLi50aGlzLl9hdHRhY2hlZFZpZXdTdGF0ZXNdLm1hcCgoW18sIHNdKSA9PiBzLmxpbmVSYW5nZXMpKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoUmFuZ2VzKHJhbmdlcyk7XG4gICAgfVxuICAgIHJlZnJlc2hSYW5nZXMocmFuZ2VzKSB7XG4gICAgICAgIGZvciAoY29uc3QgcmFuZ2Ugb2YgcmFuZ2VzKSB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hSYW5nZShyYW5nZS5zdGFydExpbmVOdW1iZXIsIHJhbmdlLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUgLSAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWZyZXNoUmFuZ2Uoc3RhcnRMaW5lTnVtYmVyLCBlbmRMaW5lTnVtYmVyKSB7XG4gICAgICAgIGlmICghdGhpcy5fdG9rZW5pemVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3RhcnRMaW5lTnVtYmVyID0gTWF0aC5tYXgoMSwgTWF0aC5taW4odGhpcy5fdGV4dE1vZGVsLmdldExpbmVDb3VudCgpLCBzdGFydExpbmVOdW1iZXIpKTtcbiAgICAgICAgZW5kTGluZU51bWJlciA9IE1hdGgubWluKHRoaXMuX3RleHRNb2RlbC5nZXRMaW5lQ291bnQoKSwgZW5kTGluZU51bWJlcik7XG4gICAgICAgIGNvbnN0IGJ1aWxkZXIgPSBuZXcgQ29udGlndW91c011bHRpbGluZVRva2Vuc0J1aWxkZXIoKTtcbiAgICAgICAgY29uc3QgeyBoZXVyaXN0aWNUb2tlbnMgfSA9IHRoaXMuX3Rva2VuaXplci50b2tlbml6ZUhldXJpc3RpY2FsbHkoYnVpbGRlciwgc3RhcnRMaW5lTnVtYmVyLCBlbmRMaW5lTnVtYmVyKTtcbiAgICAgICAgY29uc3QgY2hhbmdlZFRva2VucyA9IHRoaXMuc2V0VG9rZW5zKGJ1aWxkZXIuZmluYWxpemUoKSk7XG4gICAgICAgIGlmIChoZXVyaXN0aWNUb2tlbnMpIHtcbiAgICAgICAgICAgIC8vIFdlIG92ZXJyb2RlIHRva2VucyB3aXRoIGhldXJpc3RpY2FsbHkgY29tcHV0ZWQgb25lcy5cbiAgICAgICAgICAgIC8vIEJlY2F1c2Ugb2xkIHN0YXRlcyBtaWdodCBnZXQgcmV1c2VkICh0aHVzIHN0b3BwaW5nIGludmFsaWRhdGlvbiksXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIHRvIGV4cGxpY2l0bHkgcmVxdWVzdCB0aGUgdG9rZW5zIGZvciB0aGUgY2hhbmdlZCByYW5nZXMgYWdhaW4uXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGMgb2YgY2hhbmdlZFRva2Vucy5jaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmFja2dyb3VuZFRva2VuaXplci52YWx1ZT8ucmVxdWVzdFRva2VucyhjLmZyb21MaW5lTnVtYmVyLCBjLnRvTGluZU51bWJlciArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RlZmF1bHRCYWNrZ3JvdW5kVG9rZW5pemVyPy5jaGVja0ZpbmlzaGVkKCk7XG4gICAgfVxuICAgIGZvcmNlVG9rZW5pemF0aW9uKGxpbmVOdW1iZXIpIHtcbiAgICAgICAgY29uc3QgYnVpbGRlciA9IG5ldyBDb250aWd1b3VzTXVsdGlsaW5lVG9rZW5zQnVpbGRlcigpO1xuICAgICAgICB0aGlzLl90b2tlbml6ZXI/LnVwZGF0ZVRva2Vuc1VudGlsTGluZShidWlsZGVyLCBsaW5lTnVtYmVyKTtcbiAgICAgICAgdGhpcy5zZXRUb2tlbnMoYnVpbGRlci5maW5hbGl6ZSgpKTtcbiAgICAgICAgdGhpcy5fZGVmYXVsdEJhY2tncm91bmRUb2tlbml6ZXI/LmNoZWNrRmluaXNoZWQoKTtcbiAgICB9XG4gICAgaGFzQWNjdXJhdGVUb2tlbnNGb3JMaW5lKGxpbmVOdW1iZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLl90b2tlbml6ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbml6ZXIuaGFzQWNjdXJhdGVUb2tlbnNGb3JMaW5lKGxpbmVOdW1iZXIpO1xuICAgIH1cbiAgICBpc0NoZWFwVG9Ub2tlbml6ZShsaW5lTnVtYmVyKSB7XG4gICAgICAgIGlmICghdGhpcy5fdG9rZW5pemVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdG9rZW5pemVyLmlzQ2hlYXBUb1Rva2VuaXplKGxpbmVOdW1iZXIpO1xuICAgIH1cbiAgICBnZXRMaW5lVG9rZW5zKGxpbmVOdW1iZXIpIHtcbiAgICAgICAgY29uc3QgbGluZVRleHQgPSB0aGlzLl90ZXh0TW9kZWwuZ2V0TGluZUNvbnRlbnQobGluZU51bWJlcik7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3Rva2Vucy5nZXRUb2tlbnModGhpcy5fdGV4dE1vZGVsLmdldExhbmd1YWdlSWQoKSwgbGluZU51bWJlciAtIDEsIGxpbmVUZXh0KTtcbiAgICAgICAgaWYgKHRoaXMuX2RlYnVnQmFja2dyb3VuZFRva2VucyAmJiB0aGlzLl9kZWJ1Z0JhY2tncm91bmRTdGF0ZXMgJiYgdGhpcy5fdG9rZW5pemVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGVidWdCYWNrZ3JvdW5kU3RhdGVzLmdldEZpcnN0SW52YWxpZEVuZFN0YXRlTGluZU51bWJlck9yTWF4KCkgPiBsaW5lTnVtYmVyICYmIHRoaXMuX3Rva2VuaXplci5zdG9yZS5nZXRGaXJzdEludmFsaWRFbmRTdGF0ZUxpbmVOdW1iZXJPck1heCgpID4gbGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhY2tncm91bmRSZXN1bHQgPSB0aGlzLl9kZWJ1Z0JhY2tncm91bmRUb2tlbnMuZ2V0VG9rZW5zKHRoaXMuX3RleHRNb2RlbC5nZXRMYW5ndWFnZUlkKCksIGxpbmVOdW1iZXIgLSAxLCBsaW5lVGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQuZXF1YWxzKGJhY2tncm91bmRSZXN1bHQpICYmIHRoaXMuX2RlYnVnQmFja2dyb3VuZFRva2VuaXplci52YWx1ZT8ucmVwb3J0TWlzbWF0Y2hpbmdUb2tlbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVidWdCYWNrZ3JvdW5kVG9rZW5pemVyLnZhbHVlLnJlcG9ydE1pc21hdGNoaW5nVG9rZW5zKGxpbmVOdW1iZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBnZXRUb2tlblR5cGVJZkluc2VydGluZ0NoYXJhY3RlcihsaW5lTnVtYmVyLCBjb2x1bW4sIGNoYXJhY3Rlcikge1xuICAgICAgICBpZiAoIXRoaXMuX3Rva2VuaXplcikge1xuICAgICAgICAgICAgcmV0dXJuIDAgLyogU3RhbmRhcmRUb2tlblR5cGUuT3RoZXIgKi87XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLl90ZXh0TW9kZWwudmFsaWRhdGVQb3NpdGlvbihuZXcgUG9zaXRpb24obGluZU51bWJlciwgY29sdW1uKSk7XG4gICAgICAgIHRoaXMuZm9yY2VUb2tlbml6YXRpb24ocG9zaXRpb24ubGluZU51bWJlcik7XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbml6ZXIuZ2V0VG9rZW5UeXBlSWZJbnNlcnRpbmdDaGFyYWN0ZXIocG9zaXRpb24sIGNoYXJhY3Rlcik7XG4gICAgfVxuICAgIHRva2VuaXplTGluZVdpdGhFZGl0KHBvc2l0aW9uLCBsZW5ndGgsIG5ld1RleHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl90b2tlbml6ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZFBvc2l0aW9uID0gdGhpcy5fdGV4dE1vZGVsLnZhbGlkYXRlUG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICB0aGlzLmZvcmNlVG9rZW5pemF0aW9uKHZhbGlkYXRlZFBvc2l0aW9uLmxpbmVOdW1iZXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9rZW5pemVyLnRva2VuaXplTGluZVdpdGhFZGl0KHZhbGlkYXRlZFBvc2l0aW9uLCBsZW5ndGgsIG5ld1RleHQpO1xuICAgIH1cbiAgICBnZXQgaGFzVG9rZW5zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9rZW5zLmhhc1Rva2VucztcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbnZhciBfX3BhcmFtID0gKHRoaXMgJiYgdGhpcy5fX3BhcmFtKSB8fCBmdW5jdGlvbiAocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59O1xudmFyIFRleHRNb2RlbF8xO1xuaW1wb3J0IHsgQXJyYXlRdWV1ZSwgcHVzaE1hbnkgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9hcnJheXMuanMnO1xuaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9jb2xvci5qcyc7XG5pbXBvcnQgeyBCdWdJbmRpY2F0aW5nRXJyb3IsIGlsbGVnYWxBcmd1bWVudCwgb25VbmV4cGVjdGVkRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2V2ZW50LmpzJztcbmltcG9ydCB7IERpc3Bvc2FibGUsIE11dGFibGVEaXNwb3NhYmxlLCBjb21iaW5lZERpc3Bvc2FibGUgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9saWZlY3ljbGUuanMnO1xuaW1wb3J0ICogYXMgc3RyaW5ncyBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9zdHJpbmdzLmpzJztcbmltcG9ydCB7IFVSSSB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3VyaS5qcyc7XG5pbXBvcnQgeyBjb3VudEVPTCB9IGZyb20gJy4uL2NvcmUvZW9sQ291bnRlci5qcyc7XG5pbXBvcnQgeyBub3JtYWxpemVJbmRlbnRhdGlvbiB9IGZyb20gJy4uL2NvcmUvaW5kZW50YXRpb24uanMnO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tICcuLi9jb3JlL3Bvc2l0aW9uLmpzJztcbmltcG9ydCB7IFJhbmdlIH0gZnJvbSAnLi4vY29yZS9yYW5nZS5qcyc7XG5pbXBvcnQgeyBTZWxlY3Rpb24gfSBmcm9tICcuLi9jb3JlL3NlbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBFRElUT1JfTU9ERUxfREVGQVVMVFMgfSBmcm9tICcuLi9jb3JlL3RleHRNb2RlbERlZmF1bHRzLmpzJztcbmltcG9ydCB7IElMYW5ndWFnZVNlcnZpY2UgfSBmcm9tICcuLi9sYW5ndWFnZXMvbGFuZ3VhZ2UuanMnO1xuaW1wb3J0IHsgSUxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UgfSBmcm9tICcuLi9sYW5ndWFnZXMvbGFuZ3VhZ2VDb25maWd1cmF0aW9uUmVnaXN0cnkuanMnO1xuaW1wb3J0ICogYXMgbW9kZWwgZnJvbSAnLi4vbW9kZWwuanMnO1xuaW1wb3J0IHsgQnJhY2tldFBhaXJzVGV4dE1vZGVsUGFydCB9IGZyb20gJy4vYnJhY2tldFBhaXJzVGV4dE1vZGVsUGFydC9icmFja2V0UGFpcnNJbXBsLmpzJztcbmltcG9ydCB7IENvbG9yaXplZEJyYWNrZXRQYWlyc0RlY29yYXRpb25Qcm92aWRlciB9IGZyb20gJy4vYnJhY2tldFBhaXJzVGV4dE1vZGVsUGFydC9jb2xvcml6ZWRCcmFja2V0UGFpcnNEZWNvcmF0aW9uUHJvdmlkZXIuanMnO1xuaW1wb3J0IHsgRWRpdFN0YWNrIH0gZnJvbSAnLi9lZGl0U3RhY2suanMnO1xuaW1wb3J0IHsgR3VpZGVzVGV4dE1vZGVsUGFydCB9IGZyb20gJy4vZ3VpZGVzVGV4dE1vZGVsUGFydC5qcyc7XG5pbXBvcnQgeyBndWVzc0luZGVudGF0aW9uIH0gZnJvbSAnLi9pbmRlbnRhdGlvbkd1ZXNzZXIuanMnO1xuaW1wb3J0IHsgSW50ZXJ2YWxOb2RlLCBJbnRlcnZhbFRyZWUsIHJlY29tcHV0ZU1heEVuZCB9IGZyb20gJy4vaW50ZXJ2YWxUcmVlLmpzJztcbmltcG9ydCB7IFBpZWNlVHJlZVRleHRCdWZmZXIgfSBmcm9tICcuL3BpZWNlVHJlZVRleHRCdWZmZXIvcGllY2VUcmVlVGV4dEJ1ZmZlci5qcyc7XG5pbXBvcnQgeyBQaWVjZVRyZWVUZXh0QnVmZmVyQnVpbGRlciB9IGZyb20gJy4vcGllY2VUcmVlVGV4dEJ1ZmZlci9waWVjZVRyZWVUZXh0QnVmZmVyQnVpbGRlci5qcyc7XG5pbXBvcnQgeyBTZWFyY2hQYXJhbXMsIFRleHRNb2RlbFNlYXJjaCB9IGZyb20gJy4vdGV4dE1vZGVsU2VhcmNoLmpzJztcbmltcG9ydCB7IFRva2VuaXphdGlvblRleHRNb2RlbFBhcnQgfSBmcm9tICcuL3Rva2VuaXphdGlvblRleHRNb2RlbFBhcnQuanMnO1xuaW1wb3J0IHsgQXR0YWNoZWRWaWV3cyB9IGZyb20gJy4vdG9rZW5zLmpzJztcbmltcG9ydCB7IEludGVybmFsTW9kZWxDb250ZW50Q2hhbmdlRXZlbnQsIExpbmVJbmplY3RlZFRleHQsIE1vZGVsSW5qZWN0ZWRUZXh0Q2hhbmdlZEV2ZW50LCBNb2RlbFJhd0NvbnRlbnRDaGFuZ2VkRXZlbnQsIE1vZGVsUmF3RU9MQ2hhbmdlZCwgTW9kZWxSYXdGbHVzaCwgTW9kZWxSYXdMaW5lQ2hhbmdlZCwgTW9kZWxSYXdMaW5lc0RlbGV0ZWQsIE1vZGVsUmF3TGluZXNJbnNlcnRlZCB9IGZyb20gJy4uL3RleHRNb2RlbEV2ZW50cy5qcyc7XG5pbXBvcnQgeyBJSW5zdGFudGlhdGlvblNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9pbnN0YW50aWF0aW9uL2NvbW1vbi9pbnN0YW50aWF0aW9uLmpzJztcbmltcG9ydCB7IElVbmRvUmVkb1NlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS91bmRvUmVkby9jb21tb24vdW5kb1JlZG8uanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRleHRCdWZmZXJGYWN0b3J5KHRleHQpIHtcbiAgICBjb25zdCBidWlsZGVyID0gbmV3IFBpZWNlVHJlZVRleHRCdWZmZXJCdWlsZGVyKCk7XG4gICAgYnVpbGRlci5hY2NlcHRDaHVuayh0ZXh0KTtcbiAgICByZXR1cm4gYnVpbGRlci5maW5pc2goKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUZXh0QnVmZmVyRmFjdG9yeUZyb21TbmFwc2hvdChzbmFwc2hvdCkge1xuICAgIGNvbnN0IGJ1aWxkZXIgPSBuZXcgUGllY2VUcmVlVGV4dEJ1ZmZlckJ1aWxkZXIoKTtcbiAgICBsZXQgY2h1bms7XG4gICAgd2hpbGUgKHR5cGVvZiAoY2h1bmsgPSBzbmFwc2hvdC5yZWFkKCkpID09PSAnc3RyaW5nJykge1xuICAgICAgICBidWlsZGVyLmFjY2VwdENodW5rKGNodW5rKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1aWxkZXIuZmluaXNoKCk7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVGV4dEJ1ZmZlcih2YWx1ZSwgZGVmYXVsdEVPTCkge1xuICAgIGxldCBmYWN0b3J5O1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZhY3RvcnkgPSBjcmVhdGVUZXh0QnVmZmVyRmFjdG9yeSh2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1vZGVsLmlzSVRleHRTbmFwc2hvdCh2YWx1ZSkpIHtcbiAgICAgICAgZmFjdG9yeSA9IGNyZWF0ZVRleHRCdWZmZXJGYWN0b3J5RnJvbVNuYXBzaG90KHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZhY3RvcnkgPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhY3RvcnkuY3JlYXRlKGRlZmF1bHRFT0wpO1xufVxubGV0IE1PREVMX0lEID0gMDtcbmNvbnN0IExJTUlUX0ZJTkRfQ09VTlQgPSA5OTk7XG5jb25zdCBMT05HX0xJTkVfQk9VTkRBUlkgPSAxMDAwMDtcbmNsYXNzIFRleHRNb2RlbFNuYXBzaG90IHtcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5fc291cmNlID0gc291cmNlO1xuICAgICAgICB0aGlzLl9lb3MgPSBmYWxzZTtcbiAgICB9XG4gICAgcmVhZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Vvcykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCByZXN1bHRDbnQgPSAwO1xuICAgICAgICBsZXQgcmVzdWx0TGVuZ3RoID0gMDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY29uc3QgdG1wID0gdGhpcy5fc291cmNlLnJlYWQoKTtcbiAgICAgICAgICAgIGlmICh0bXAgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBlbmQtb2Ytc3RyZWFtXG4gICAgICAgICAgICAgICAgdGhpcy5fZW9zID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Q250ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKCcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG1wLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0Q250KytdID0gdG1wO1xuICAgICAgICAgICAgICAgIHJlc3VsdExlbmd0aCArPSB0bXAubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdExlbmd0aCA+PSA2NCAqIDEwMjQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICB9XG59XG5jb25zdCBpbnZhbGlkRnVuYyA9ICgpID0+IHsgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNoYW5nZSBhY2Nlc3NvcmApOyB9O1xubGV0IFRleHRNb2RlbCA9IGNsYXNzIFRleHRNb2RlbCBleHRlbmRzIERpc3Bvc2FibGUge1xuICAgIHN0YXRpYyB7IFRleHRNb2RlbF8xID0gdGhpczsgfVxuICAgIHN0YXRpYyB7IHRoaXMuX01PREVMX1NZTkNfTElNSVQgPSA1MCAqIDEwMjQgKiAxMDI0OyB9IC8vIDUwIE1CLCAgLy8gdXNlZCBpbiB0ZXN0c1xuICAgIHN0YXRpYyB7IHRoaXMuTEFSR0VfRklMRV9TSVpFX1RIUkVTSE9MRCA9IDIwICogMTAyNCAqIDEwMjQ7IH0gLy8gMjAgTUI7XG4gICAgc3RhdGljIHsgdGhpcy5MQVJHRV9GSUxFX0xJTkVfQ09VTlRfVEhSRVNIT0xEID0gMzAwICogMTAwMDsgfSAvLyAzMDBLIGxpbmVzXG4gICAgc3RhdGljIHsgdGhpcy5MQVJHRV9GSUxFX0hFQVBfT1BFUkFUSU9OX1RIUkVTSE9MRCA9IDI1NiAqIDEwMjQgKiAxMDI0OyB9IC8vIDI1Nk0gY2hhcmFjdGVycywgdXN1YWxseSB+PiA1MTJNQiBtZW1vcnkgdXNhZ2VcbiAgICBzdGF0aWMgeyB0aGlzLkRFRkFVTFRfQ1JFQVRJT05fT1BUSU9OUyA9IHtcbiAgICAgICAgaXNGb3JTaW1wbGVXaWRnZXQ6IGZhbHNlLFxuICAgICAgICB0YWJTaXplOiBFRElUT1JfTU9ERUxfREVGQVVMVFMudGFiU2l6ZSxcbiAgICAgICAgaW5kZW50U2l6ZTogRURJVE9SX01PREVMX0RFRkFVTFRTLmluZGVudFNpemUsXG4gICAgICAgIGluc2VydFNwYWNlczogRURJVE9SX01PREVMX0RFRkFVTFRTLmluc2VydFNwYWNlcyxcbiAgICAgICAgZGV0ZWN0SW5kZW50YXRpb246IGZhbHNlLFxuICAgICAgICBkZWZhdWx0RU9MOiAxIC8qIG1vZGVsLkRlZmF1bHRFbmRPZkxpbmUuTEYgKi8sXG4gICAgICAgIHRyaW1BdXRvV2hpdGVzcGFjZTogRURJVE9SX01PREVMX0RFRkFVTFRTLnRyaW1BdXRvV2hpdGVzcGFjZSxcbiAgICAgICAgbGFyZ2VGaWxlT3B0aW1pemF0aW9uczogRURJVE9SX01PREVMX0RFRkFVTFRTLmxhcmdlRmlsZU9wdGltaXphdGlvbnMsXG4gICAgICAgIGJyYWNrZXRQYWlyQ29sb3JpemF0aW9uT3B0aW9uczogRURJVE9SX01PREVMX0RFRkFVTFRTLmJyYWNrZXRQYWlyQ29sb3JpemF0aW9uT3B0aW9ucyxcbiAgICB9OyB9XG4gICAgc3RhdGljIHJlc29sdmVPcHRpb25zKHRleHRCdWZmZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuZGV0ZWN0SW5kZW50YXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGd1ZXNzZWRJbmRlbnRhdGlvbiA9IGd1ZXNzSW5kZW50YXRpb24odGV4dEJ1ZmZlciwgb3B0aW9ucy50YWJTaXplLCBvcHRpb25zLmluc2VydFNwYWNlcyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IG1vZGVsLlRleHRNb2RlbFJlc29sdmVkT3B0aW9ucyh7XG4gICAgICAgICAgICAgICAgdGFiU2l6ZTogZ3Vlc3NlZEluZGVudGF0aW9uLnRhYlNpemUsXG4gICAgICAgICAgICAgICAgaW5kZW50U2l6ZTogJ3RhYlNpemUnLCAvLyBUT0RPQEFsZXg6IGd1ZXNzIGluZGVudFNpemUgaW5kZXBlbmRlbnQgb2YgdGFiU2l6ZVxuICAgICAgICAgICAgICAgIGluc2VydFNwYWNlczogZ3Vlc3NlZEluZGVudGF0aW9uLmluc2VydFNwYWNlcyxcbiAgICAgICAgICAgICAgICB0cmltQXV0b1doaXRlc3BhY2U6IG9wdGlvbnMudHJpbUF1dG9XaGl0ZXNwYWNlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRFT0w6IG9wdGlvbnMuZGVmYXVsdEVPTCxcbiAgICAgICAgICAgICAgICBicmFja2V0UGFpckNvbG9yaXphdGlvbk9wdGlvbnM6IG9wdGlvbnMuYnJhY2tldFBhaXJDb2xvcml6YXRpb25PcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBtb2RlbC5UZXh0TW9kZWxSZXNvbHZlZE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfVxuICAgIGdldCBvbkRpZENoYW5nZUxhbmd1YWdlKCkgeyByZXR1cm4gdGhpcy5fdG9rZW5pemF0aW9uVGV4dE1vZGVsUGFydC5vbkRpZENoYW5nZUxhbmd1YWdlOyB9XG4gICAgZ2V0IG9uRGlkQ2hhbmdlTGFuZ3VhZ2VDb25maWd1cmF0aW9uKCkgeyByZXR1cm4gdGhpcy5fdG9rZW5pemF0aW9uVGV4dE1vZGVsUGFydC5vbkRpZENoYW5nZUxhbmd1YWdlQ29uZmlndXJhdGlvbjsgfVxuICAgIGdldCBvbkRpZENoYW5nZVRva2VucygpIHsgcmV0dXJuIHRoaXMuX3Rva2VuaXphdGlvblRleHRNb2RlbFBhcnQub25EaWRDaGFuZ2VUb2tlbnM7IH1cbiAgICBvbkRpZENoYW5nZUNvbnRlbnQobGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V2ZW50RW1pdHRlci5zbG93RXZlbnQoKGUpID0+IGxpc3RlbmVyKGUuY29udGVudENoYW5nZWRFdmVudCkpO1xuICAgIH1cbiAgICBvbkRpZENoYW5nZUNvbnRlbnRPckluamVjdGVkVGV4dChsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gY29tYmluZWREaXNwb3NhYmxlKHRoaXMuX2V2ZW50RW1pdHRlci5mYXN0RXZlbnQoZSA9PiBsaXN0ZW5lcihlKSksIHRoaXMuX29uRGlkQ2hhbmdlSW5qZWN0ZWRUZXh0LmV2ZW50KGUgPT4gbGlzdGVuZXIoZSkpKTtcbiAgICB9XG4gICAgX2lzRGlzcG9zaW5nKCkgeyByZXR1cm4gdGhpcy5fX2lzRGlzcG9zaW5nOyB9XG4gICAgZ2V0IHRva2VuaXphdGlvbigpIHsgcmV0dXJuIHRoaXMuX3Rva2VuaXphdGlvblRleHRNb2RlbFBhcnQ7IH1cbiAgICBnZXQgYnJhY2tldFBhaXJzKCkgeyByZXR1cm4gdGhpcy5fYnJhY2tldFBhaXJzOyB9XG4gICAgZ2V0IGd1aWRlcygpIHsgcmV0dXJuIHRoaXMuX2d1aWRlc1RleHRNb2RlbFBhcnQ7IH1cbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2UsIGxhbmd1YWdlSWRPclNlbGVjdGlvbiwgY3JlYXRpb25PcHRpb25zLCBhc3NvY2lhdGVkUmVzb3VyY2UgPSBudWxsLCBfdW5kb1JlZG9TZXJ2aWNlLCBfbGFuZ3VhZ2VTZXJ2aWNlLCBfbGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZSwgaW5zdGFudGlhdGlvblNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fdW5kb1JlZG9TZXJ2aWNlID0gX3VuZG9SZWRvU2VydmljZTtcbiAgICAgICAgdGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlID0gX2xhbmd1YWdlU2VydmljZTtcbiAgICAgICAgdGhpcy5fbGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZSA9IF9sYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlO1xuICAgICAgICB0aGlzLmluc3RhbnRpYXRpb25TZXJ2aWNlID0gaW5zdGFudGlhdGlvblNlcnZpY2U7XG4gICAgICAgIC8vI3JlZ2lvbiBFdmVudHNcbiAgICAgICAgdGhpcy5fb25XaWxsRGlzcG9zZSA9IHRoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyKCkpO1xuICAgICAgICB0aGlzLm9uV2lsbERpc3Bvc2UgPSB0aGlzLl9vbldpbGxEaXNwb3NlLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZURlY29yYXRpb25zID0gdGhpcy5fcmVnaXN0ZXIobmV3IERpZENoYW5nZURlY29yYXRpb25zRW1pdHRlcihhZmZlY3RlZEluamVjdGVkVGV4dExpbmVzID0+IHRoaXMuaGFuZGxlQmVmb3JlRmlyZURlY29yYXRpb25zQ2hhbmdlZEV2ZW50KGFmZmVjdGVkSW5qZWN0ZWRUZXh0TGluZXMpKSk7XG4gICAgICAgIHRoaXMub25EaWRDaGFuZ2VEZWNvcmF0aW9ucyA9IHRoaXMuX29uRGlkQ2hhbmdlRGVjb3JhdGlvbnMuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlT3B0aW9ucyA9IHRoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyKCkpO1xuICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlT3B0aW9ucyA9IHRoaXMuX29uRGlkQ2hhbmdlT3B0aW9ucy5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VBdHRhY2hlZCA9IHRoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyKCkpO1xuICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlQXR0YWNoZWQgPSB0aGlzLl9vbkRpZENoYW5nZUF0dGFjaGVkLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZUluamVjdGVkVGV4dCA9IHRoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyKCkpO1xuICAgICAgICB0aGlzLl9ldmVudEVtaXR0ZXIgPSB0aGlzLl9yZWdpc3RlcihuZXcgRGlkQ2hhbmdlQ29udGVudEVtaXR0ZXIoKSk7XG4gICAgICAgIHRoaXMuX2xhbmd1YWdlU2VsZWN0aW9uTGlzdGVuZXIgPSB0aGlzLl9yZWdpc3RlcihuZXcgTXV0YWJsZURpc3Bvc2FibGUoKSk7XG4gICAgICAgIHRoaXMuX2RlbHRhRGVjb3JhdGlvbkNhbGxDbnQgPSAwO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFZpZXdzID0gbmV3IEF0dGFjaGVkVmlld3MoKTtcbiAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgdW5pcXVlIG1vZGVsIGlkXG4gICAgICAgIE1PREVMX0lEKys7XG4gICAgICAgIHRoaXMuaWQgPSAnJG1vZGVsJyArIE1PREVMX0lEO1xuICAgICAgICB0aGlzLmlzRm9yU2ltcGxlV2lkZ2V0ID0gY3JlYXRpb25PcHRpb25zLmlzRm9yU2ltcGxlV2lkZ2V0O1xuICAgICAgICBpZiAodHlwZW9mIGFzc29jaWF0ZWRSZXNvdXJjZSA9PT0gJ3VuZGVmaW5lZCcgfHwgYXNzb2NpYXRlZFJlc291cmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9hc3NvY2lhdGVkUmVzb3VyY2UgPSBVUkkucGFyc2UoJ2lubWVtb3J5Oi8vbW9kZWwvJyArIE1PREVMX0lEKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2Fzc29jaWF0ZWRSZXNvdXJjZSA9IGFzc29jaWF0ZWRSZXNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdHRhY2hlZEVkaXRvckNvdW50ID0gMDtcbiAgICAgICAgY29uc3QgeyB0ZXh0QnVmZmVyLCBkaXNwb3NhYmxlIH0gPSBjcmVhdGVUZXh0QnVmZmVyKHNvdXJjZSwgY3JlYXRpb25PcHRpb25zLmRlZmF1bHRFT0wpO1xuICAgICAgICB0aGlzLl9idWZmZXIgPSB0ZXh0QnVmZmVyO1xuICAgICAgICB0aGlzLl9idWZmZXJEaXNwb3NhYmxlID0gZGlzcG9zYWJsZTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IFRleHRNb2RlbF8xLnJlc29sdmVPcHRpb25zKHRoaXMuX2J1ZmZlciwgY3JlYXRpb25PcHRpb25zKTtcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2VJZCA9ICh0eXBlb2YgbGFuZ3VhZ2VJZE9yU2VsZWN0aW9uID09PSAnc3RyaW5nJyA/IGxhbmd1YWdlSWRPclNlbGVjdGlvbiA6IGxhbmd1YWdlSWRPclNlbGVjdGlvbi5sYW5ndWFnZUlkKTtcbiAgICAgICAgaWYgKHR5cGVvZiBsYW5ndWFnZUlkT3JTZWxlY3Rpb24gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLl9sYW5ndWFnZVNlbGVjdGlvbkxpc3RlbmVyLnZhbHVlID0gbGFuZ3VhZ2VJZE9yU2VsZWN0aW9uLm9uRGlkQ2hhbmdlKCgpID0+IHRoaXMuX3NldExhbmd1YWdlKGxhbmd1YWdlSWRPclNlbGVjdGlvbi5sYW5ndWFnZUlkKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnJhY2tldFBhaXJzID0gdGhpcy5fcmVnaXN0ZXIobmV3IEJyYWNrZXRQYWlyc1RleHRNb2RlbFBhcnQodGhpcywgdGhpcy5fbGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZSkpO1xuICAgICAgICB0aGlzLl9ndWlkZXNUZXh0TW9kZWxQYXJ0ID0gdGhpcy5fcmVnaXN0ZXIobmV3IEd1aWRlc1RleHRNb2RlbFBhcnQodGhpcywgdGhpcy5fbGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZSkpO1xuICAgICAgICB0aGlzLl9kZWNvcmF0aW9uUHJvdmlkZXIgPSB0aGlzLl9yZWdpc3RlcihuZXcgQ29sb3JpemVkQnJhY2tldFBhaXJzRGVjb3JhdGlvblByb3ZpZGVyKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fdG9rZW5pemF0aW9uVGV4dE1vZGVsUGFydCA9IHRoaXMuaW5zdGFudGlhdGlvblNlcnZpY2UuY3JlYXRlSW5zdGFuY2UoVG9rZW5pemF0aW9uVGV4dE1vZGVsUGFydCwgdGhpcywgdGhpcy5fYnJhY2tldFBhaXJzLCBsYW5ndWFnZUlkLCB0aGlzLl9hdHRhY2hlZFZpZXdzKTtcbiAgICAgICAgY29uc3QgYnVmZmVyTGluZUNvdW50ID0gdGhpcy5fYnVmZmVyLmdldExpbmVDb3VudCgpO1xuICAgICAgICBjb25zdCBidWZmZXJUZXh0TGVuZ3RoID0gdGhpcy5fYnVmZmVyLmdldFZhbHVlTGVuZ3RoSW5SYW5nZShuZXcgUmFuZ2UoMSwgMSwgYnVmZmVyTGluZUNvdW50LCB0aGlzLl9idWZmZXIuZ2V0TGluZUxlbmd0aChidWZmZXJMaW5lQ291bnQpICsgMSksIDAgLyogbW9kZWwuRW5kT2ZMaW5lUHJlZmVyZW5jZS5UZXh0RGVmaW5lZCAqLyk7XG4gICAgICAgIC8vICEhISBNYWtlIGEgZGVjaXNpb24gaW4gdGhlIGN0b3IgYW5kIHBlcm1hbmVudGx5IHJlc3BlY3QgdGhpcyBkZWNpc2lvbiAhISFcbiAgICAgICAgLy8gSWYgYSBtb2RlbCBpcyB0b28gbGFyZ2UgYXQgY29uc3RydWN0aW9uIHRpbWUsIGl0IHdpbGwgbmV2ZXIgZ2V0IHRva2VuaXplZCxcbiAgICAgICAgLy8gdW5kZXIgbm8gY2lyY3Vtc3RhbmNlcy5cbiAgICAgICAgaWYgKGNyZWF0aW9uT3B0aW9ucy5sYXJnZUZpbGVPcHRpbWl6YXRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLl9pc1Rvb0xhcmdlRm9yVG9rZW5pemF0aW9uID0gKChidWZmZXJUZXh0TGVuZ3RoID4gVGV4dE1vZGVsXzEuTEFSR0VfRklMRV9TSVpFX1RIUkVTSE9MRClcbiAgICAgICAgICAgICAgICB8fCAoYnVmZmVyTGluZUNvdW50ID4gVGV4dE1vZGVsXzEuTEFSR0VfRklMRV9MSU5FX0NPVU5UX1RIUkVTSE9MRCkpO1xuICAgICAgICAgICAgdGhpcy5faXNUb29MYXJnZUZvckhlYXBPcGVyYXRpb24gPSBidWZmZXJUZXh0TGVuZ3RoID4gVGV4dE1vZGVsXzEuTEFSR0VfRklMRV9IRUFQX09QRVJBVElPTl9USFJFU0hPTEQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pc1Rvb0xhcmdlRm9yVG9rZW5pemF0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9pc1Rvb0xhcmdlRm9ySGVhcE9wZXJhdGlvbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzVG9vTGFyZ2VGb3JTeW5jaW5nID0gKGJ1ZmZlclRleHRMZW5ndGggPiBUZXh0TW9kZWxfMS5fTU9ERUxfU1lOQ19MSU1JVCk7XG4gICAgICAgIHRoaXMuX3ZlcnNpb25JZCA9IDE7XG4gICAgICAgIHRoaXMuX2FsdGVybmF0aXZlVmVyc2lvbklkID0gMTtcbiAgICAgICAgdGhpcy5faW5pdGlhbFVuZG9SZWRvU25hcHNob3QgPSBudWxsO1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX19pc0Rpc3Bvc2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pbnN0YW5jZUlkID0gc3RyaW5ncy5zaW5nbGVMZXR0ZXJIYXNoKE1PREVMX0lEKTtcbiAgICAgICAgdGhpcy5fbGFzdERlY29yYXRpb25JZCA9IDA7XG4gICAgICAgIHRoaXMuX2RlY29yYXRpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZGVjb3JhdGlvbnNUcmVlID0gbmV3IERlY29yYXRpb25zVHJlZXMoKTtcbiAgICAgICAgdGhpcy5fY29tbWFuZE1hbmFnZXIgPSBuZXcgRWRpdFN0YWNrKHRoaXMsIHRoaXMuX3VuZG9SZWRvU2VydmljZSk7XG4gICAgICAgIHRoaXMuX2lzVW5kb2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pc1JlZG9pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdHJpbUF1dG9XaGl0ZXNwYWNlTGluZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZWdpc3Rlcih0aGlzLl9kZWNvcmF0aW9uUHJvdmlkZXIub25EaWRDaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VEZWNvcmF0aW9ucy5iZWdpbkRlZmVycmVkRW1pdCgpO1xuICAgICAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VEZWNvcmF0aW9ucy5maXJlKCk7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZURlY29yYXRpb25zLmVuZERlZmVycmVkRW1pdCgpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMuX2xhbmd1YWdlU2VydmljZS5yZXF1ZXN0UmljaExhbmd1YWdlRmVhdHVyZXMobGFuZ3VhZ2VJZCk7XG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyKHRoaXMuX2xhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2Uub25EaWRDaGFuZ2UoZSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9icmFja2V0UGFpcnMuaGFuZGxlTGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZUNoYW5nZShlKTtcbiAgICAgICAgICAgIHRoaXMuX3Rva2VuaXphdGlvblRleHRNb2RlbFBhcnQuaGFuZGxlTGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZUNoYW5nZShlKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLl9faXNEaXNwb3NpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLl9vbldpbGxEaXNwb3NlLmZpcmUoKTtcbiAgICAgICAgdGhpcy5fdG9rZW5pemF0aW9uVGV4dE1vZGVsUGFydC5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2J1ZmZlckRpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9faXNEaXNwb3NpbmcgPSBmYWxzZTtcbiAgICAgICAgLy8gTWFudWFsbHkgcmVsZWFzZSByZWZlcmVuY2UgdG8gcHJldmlvdXMgdGV4dCBidWZmZXIgdG8gYXZvaWQgbGFyZ2UgbGVha3NcbiAgICAgICAgLy8gaW4gY2FzZSBzb21lb25lIGxlYWtzIGEgVGV4dE1vZGVsIHJlZmVyZW5jZVxuICAgICAgICBjb25zdCBlbXB0eURpc3Bvc2VkVGV4dEJ1ZmZlciA9IG5ldyBQaWVjZVRyZWVUZXh0QnVmZmVyKFtdLCAnJywgJ1xcbicsIGZhbHNlLCBmYWxzZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIGVtcHR5RGlzcG9zZWRUZXh0QnVmZmVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fYnVmZmVyID0gZW1wdHlEaXNwb3NlZFRleHRCdWZmZXI7XG4gICAgICAgIHRoaXMuX2J1ZmZlckRpc3Bvc2FibGUgPSBEaXNwb3NhYmxlLk5vbmU7XG4gICAgfVxuICAgIF9hc3NlcnROb3REaXNwb3NlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBCdWdJbmRpY2F0aW5nRXJyb3IoJ01vZGVsIGlzIGRpc3Bvc2VkIScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9lbWl0Q29udGVudENoYW5nZWRFdmVudChyYXdDaGFuZ2UsIGNoYW5nZSkge1xuICAgICAgICBpZiAodGhpcy5fX2lzRGlzcG9zaW5nKSB7XG4gICAgICAgICAgICAvLyBEbyBub3QgY29uZnVzZSBsaXN0ZW5lcnMgYnkgZW1pdHRpbmcgYW55IGV2ZW50IGFmdGVyIGRpc3Bvc2luZ1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Rva2VuaXphdGlvblRleHRNb2RlbFBhcnQuaGFuZGxlRGlkQ2hhbmdlQ29udGVudChjaGFuZ2UpO1xuICAgICAgICB0aGlzLl9icmFja2V0UGFpcnMuaGFuZGxlRGlkQ2hhbmdlQ29udGVudChjaGFuZ2UpO1xuICAgICAgICB0aGlzLl9ldmVudEVtaXR0ZXIuZmlyZShuZXcgSW50ZXJuYWxNb2RlbENvbnRlbnRDaGFuZ2VFdmVudChyYXdDaGFuZ2UsIGNoYW5nZSkpO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9hc3NlcnROb3REaXNwb3NlZCgpO1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgaWxsZWdhbEFyZ3VtZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyB0ZXh0QnVmZmVyLCBkaXNwb3NhYmxlIH0gPSBjcmVhdGVUZXh0QnVmZmVyKHZhbHVlLCB0aGlzLl9vcHRpb25zLmRlZmF1bHRFT0wpO1xuICAgICAgICB0aGlzLl9zZXRWYWx1ZUZyb21UZXh0QnVmZmVyKHRleHRCdWZmZXIsIGRpc3Bvc2FibGUpO1xuICAgIH1cbiAgICBfY3JlYXRlQ29udGVudENoYW5nZWQyKHJhbmdlLCByYW5nZU9mZnNldCwgcmFuZ2VMZW5ndGgsIHRleHQsIGlzVW5kb2luZywgaXNSZWRvaW5nLCBpc0ZsdXNoLCBpc0VvbENoYW5nZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhbmdlczogW3tcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IHJhbmdlLFxuICAgICAgICAgICAgICAgICAgICByYW5nZU9mZnNldDogcmFuZ2VPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlTGVuZ3RoOiByYW5nZUxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIGVvbDogdGhpcy5fYnVmZmVyLmdldEVPTCgpLFxuICAgICAgICAgICAgaXNFb2xDaGFuZ2U6IGlzRW9sQ2hhbmdlLFxuICAgICAgICAgICAgdmVyc2lvbklkOiB0aGlzLmdldFZlcnNpb25JZCgpLFxuICAgICAgICAgICAgaXNVbmRvaW5nOiBpc1VuZG9pbmcsXG4gICAgICAgICAgICBpc1JlZG9pbmc6IGlzUmVkb2luZyxcbiAgICAgICAgICAgIGlzRmx1c2g6IGlzRmx1c2hcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX3NldFZhbHVlRnJvbVRleHRCdWZmZXIodGV4dEJ1ZmZlciwgdGV4dEJ1ZmZlckRpc3Bvc2FibGUpIHtcbiAgICAgICAgdGhpcy5fYXNzZXJ0Tm90RGlzcG9zZWQoKTtcbiAgICAgICAgY29uc3Qgb2xkRnVsbE1vZGVsUmFuZ2UgPSB0aGlzLmdldEZ1bGxNb2RlbFJhbmdlKCk7XG4gICAgICAgIGNvbnN0IG9sZE1vZGVsVmFsdWVMZW5ndGggPSB0aGlzLmdldFZhbHVlTGVuZ3RoSW5SYW5nZShvbGRGdWxsTW9kZWxSYW5nZSk7XG4gICAgICAgIGNvbnN0IGVuZExpbmVOdW1iZXIgPSB0aGlzLmdldExpbmVDb3VudCgpO1xuICAgICAgICBjb25zdCBlbmRDb2x1bW4gPSB0aGlzLmdldExpbmVNYXhDb2x1bW4oZW5kTGluZU51bWJlcik7XG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IHRleHRCdWZmZXI7XG4gICAgICAgIHRoaXMuX2J1ZmZlckRpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9idWZmZXJEaXNwb3NhYmxlID0gdGV4dEJ1ZmZlckRpc3Bvc2FibGU7XG4gICAgICAgIHRoaXMuX2luY3JlYXNlVmVyc2lvbklkKCk7XG4gICAgICAgIC8vIERlc3Ryb3kgYWxsIG15IGRlY29yYXRpb25zXG4gICAgICAgIHRoaXMuX2RlY29yYXRpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZGVjb3JhdGlvbnNUcmVlID0gbmV3IERlY29yYXRpb25zVHJlZXMoKTtcbiAgICAgICAgLy8gRGVzdHJveSBteSBlZGl0IGhpc3RvcnkgYW5kIHNldHRpbmdzXG4gICAgICAgIHRoaXMuX2NvbW1hbmRNYW5hZ2VyLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX3RyaW1BdXRvV2hpdGVzcGFjZUxpbmVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZW1pdENvbnRlbnRDaGFuZ2VkRXZlbnQobmV3IE1vZGVsUmF3Q29udGVudENoYW5nZWRFdmVudChbXG4gICAgICAgICAgICBuZXcgTW9kZWxSYXdGbHVzaCgpXG4gICAgICAgIF0sIHRoaXMuX3ZlcnNpb25JZCwgZmFsc2UsIGZhbHNlKSwgdGhpcy5fY3JlYXRlQ29udGVudENoYW5nZWQyKG5ldyBSYW5nZSgxLCAxLCBlbmRMaW5lTnVtYmVyLCBlbmRDb2x1bW4pLCAwLCBvbGRNb2RlbFZhbHVlTGVuZ3RoLCB0aGlzLmdldFZhbHVlKCksIGZhbHNlLCBmYWxzZSwgdHJ1ZSwgZmFsc2UpKTtcbiAgICB9XG4gICAgc2V0RU9MKGVvbCkge1xuICAgICAgICB0aGlzLl9hc3NlcnROb3REaXNwb3NlZCgpO1xuICAgICAgICBjb25zdCBuZXdFT0wgPSAoZW9sID09PSAxIC8qIG1vZGVsLkVuZE9mTGluZVNlcXVlbmNlLkNSTEYgKi8gPyAnXFxyXFxuJyA6ICdcXG4nKTtcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlci5nZXRFT0woKSA9PT0gbmV3RU9MKSB7XG4gICAgICAgICAgICAvLyBOb3RoaW5nIHRvIGRvXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2xkRnVsbE1vZGVsUmFuZ2UgPSB0aGlzLmdldEZ1bGxNb2RlbFJhbmdlKCk7XG4gICAgICAgIGNvbnN0IG9sZE1vZGVsVmFsdWVMZW5ndGggPSB0aGlzLmdldFZhbHVlTGVuZ3RoSW5SYW5nZShvbGRGdWxsTW9kZWxSYW5nZSk7XG4gICAgICAgIGNvbnN0IGVuZExpbmVOdW1iZXIgPSB0aGlzLmdldExpbmVDb3VudCgpO1xuICAgICAgICBjb25zdCBlbmRDb2x1bW4gPSB0aGlzLmdldExpbmVNYXhDb2x1bW4oZW5kTGluZU51bWJlcik7XG4gICAgICAgIHRoaXMuX29uQmVmb3JlRU9MQ2hhbmdlKCk7XG4gICAgICAgIHRoaXMuX2J1ZmZlci5zZXRFT0wobmV3RU9MKTtcbiAgICAgICAgdGhpcy5faW5jcmVhc2VWZXJzaW9uSWQoKTtcbiAgICAgICAgdGhpcy5fb25BZnRlckVPTENoYW5nZSgpO1xuICAgICAgICB0aGlzLl9lbWl0Q29udGVudENoYW5nZWRFdmVudChuZXcgTW9kZWxSYXdDb250ZW50Q2hhbmdlZEV2ZW50KFtcbiAgICAgICAgICAgIG5ldyBNb2RlbFJhd0VPTENoYW5nZWQoKVxuICAgICAgICBdLCB0aGlzLl92ZXJzaW9uSWQsIGZhbHNlLCBmYWxzZSksIHRoaXMuX2NyZWF0ZUNvbnRlbnRDaGFuZ2VkMihuZXcgUmFuZ2UoMSwgMSwgZW5kTGluZU51bWJlciwgZW5kQ29sdW1uKSwgMCwgb2xkTW9kZWxWYWx1ZUxlbmd0aCwgdGhpcy5nZXRWYWx1ZSgpLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCB0cnVlKSk7XG4gICAgfVxuICAgIF9vbkJlZm9yZUVPTENoYW5nZSgpIHtcbiAgICAgICAgLy8gRW5zdXJlIGFsbCBkZWNvcmF0aW9ucyBnZXQgdGhlaXIgYHJhbmdlYCBzZXQuXG4gICAgICAgIHRoaXMuX2RlY29yYXRpb25zVHJlZS5lbnN1cmVBbGxOb2Rlc0hhdmVSYW5nZXModGhpcyk7XG4gICAgfVxuICAgIF9vbkFmdGVyRU9MQ2hhbmdlKCkge1xuICAgICAgICAvLyBUcmFuc2Zvcm0gYmFjayBgcmFuZ2VgIHRvIG9mZnNldHNcbiAgICAgICAgY29uc3QgdmVyc2lvbklkID0gdGhpcy5nZXRWZXJzaW9uSWQoKTtcbiAgICAgICAgY29uc3QgYWxsRGVjb3JhdGlvbnMgPSB0aGlzLl9kZWNvcmF0aW9uc1RyZWUuY29sbGVjdE5vZGVzUG9zdE9yZGVyKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBhbGxEZWNvcmF0aW9ucy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IGFsbERlY29yYXRpb25zW2ldO1xuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBub2RlLnJhbmdlOyAvLyB0aGUgcmFuZ2UgaXMgZGVmaW5lZCBkdWUgdG8gYF9vbkJlZm9yZUVPTENoYW5nZWBcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gbm9kZS5jYWNoZWRBYnNvbHV0ZVN0YXJ0IC0gbm9kZS5zdGFydDtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0T2Zmc2V0ID0gdGhpcy5fYnVmZmVyLmdldE9mZnNldEF0KHJhbmdlLnN0YXJ0TGluZU51bWJlciwgcmFuZ2Uuc3RhcnRDb2x1bW4pO1xuICAgICAgICAgICAgY29uc3QgZW5kT2Zmc2V0ID0gdGhpcy5fYnVmZmVyLmdldE9mZnNldEF0KHJhbmdlLmVuZExpbmVOdW1iZXIsIHJhbmdlLmVuZENvbHVtbik7XG4gICAgICAgICAgICBub2RlLmNhY2hlZEFic29sdXRlU3RhcnQgPSBzdGFydE9mZnNldDtcbiAgICAgICAgICAgIG5vZGUuY2FjaGVkQWJzb2x1dGVFbmQgPSBlbmRPZmZzZXQ7XG4gICAgICAgICAgICBub2RlLmNhY2hlZFZlcnNpb25JZCA9IHZlcnNpb25JZDtcbiAgICAgICAgICAgIG5vZGUuc3RhcnQgPSBzdGFydE9mZnNldCAtIGRlbHRhO1xuICAgICAgICAgICAgbm9kZS5lbmQgPSBlbmRPZmZzZXQgLSBkZWx0YTtcbiAgICAgICAgICAgIHJlY29tcHV0ZU1heEVuZChub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkJlZm9yZUF0dGFjaGVkKCkge1xuICAgICAgICB0aGlzLl9hdHRhY2hlZEVkaXRvckNvdW50Kys7XG4gICAgICAgIGlmICh0aGlzLl9hdHRhY2hlZEVkaXRvckNvdW50ID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLl90b2tlbml6YXRpb25UZXh0TW9kZWxQYXJ0LmhhbmRsZURpZENoYW5nZUF0dGFjaGVkKCk7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZUF0dGFjaGVkLmZpcmUodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYXR0YWNoZWRWaWV3cy5hdHRhY2hWaWV3KCk7XG4gICAgfVxuICAgIG9uQmVmb3JlRGV0YWNoZWQodmlldykge1xuICAgICAgICB0aGlzLl9hdHRhY2hlZEVkaXRvckNvdW50LS07XG4gICAgICAgIGlmICh0aGlzLl9hdHRhY2hlZEVkaXRvckNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl90b2tlbml6YXRpb25UZXh0TW9kZWxQYXJ0LmhhbmRsZURpZENoYW5nZUF0dGFjaGVkKCk7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZUF0dGFjaGVkLmZpcmUodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdHRhY2hlZFZpZXdzLmRldGFjaFZpZXcodmlldyk7XG4gICAgfVxuICAgIGlzQXR0YWNoZWRUb0VkaXRvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F0dGFjaGVkRWRpdG9yQ291bnQgPiAwO1xuICAgIH1cbiAgICBnZXRBdHRhY2hlZEVkaXRvckNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXR0YWNoZWRFZGl0b3JDb3VudDtcbiAgICB9XG4gICAgaXNUb29MYXJnZUZvclN5bmNpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1Rvb0xhcmdlRm9yU3luY2luZztcbiAgICB9XG4gICAgaXNUb29MYXJnZUZvclRva2VuaXphdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVG9vTGFyZ2VGb3JUb2tlbml6YXRpb247XG4gICAgfVxuICAgIGlzVG9vTGFyZ2VGb3JIZWFwT3BlcmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNUb29MYXJnZUZvckhlYXBPcGVyYXRpb247XG4gICAgfVxuICAgIGlzRGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Rpc3Bvc2VkO1xuICAgIH1cbiAgICBpc0RvbWluYXRlZEJ5TG9uZ0xpbmVzKCkge1xuICAgICAgICB0aGlzLl9hc3NlcnROb3REaXNwb3NlZCgpO1xuICAgICAgICBpZiAodGhpcy5pc1Rvb0xhcmdlRm9yVG9rZW5pemF0aW9uKCkpIHtcbiAgICAgICAgICAgIC8vIENhbm5vdCB3b3JkIHdyYXAgaHVnZSBmaWxlcyBhbnl3YXlzLCBzbyBpdCBkb2Vzbid0IHJlYWxseSBtYXR0ZXJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc21hbGxMaW5lQ2hhckNvdW50ID0gMDtcbiAgICAgICAgbGV0IGxvbmdMaW5lQ2hhckNvdW50ID0gMDtcbiAgICAgICAgY29uc3QgbGluZUNvdW50ID0gdGhpcy5fYnVmZmVyLmdldExpbmVDb3VudCgpO1xuICAgICAgICBmb3IgKGxldCBsaW5lTnVtYmVyID0gMTsgbGluZU51bWJlciA8PSBsaW5lQ291bnQ7IGxpbmVOdW1iZXIrKykge1xuICAgICAgICAgICAgY29uc3QgbGluZUxlbmd0aCA9IHRoaXMuX2J1ZmZlci5nZXRMaW5lTGVuZ3RoKGxpbmVOdW1iZXIpO1xuICAgICAgICAgICAgaWYgKGxpbmVMZW5ndGggPj0gTE9OR19MSU5FX0JPVU5EQVJZKSB7XG4gICAgICAgICAgICAgICAgbG9uZ0xpbmVDaGFyQ291bnQgKz0gbGluZUxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNtYWxsTGluZUNoYXJDb3VudCArPSBsaW5lTGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAobG9uZ0xpbmVDaGFyQ291bnQgPiBzbWFsbExpbmVDaGFyQ291bnQpO1xuICAgIH1cbiAgICBnZXQgdXJpKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXNzb2NpYXRlZFJlc291cmNlO1xuICAgIH1cbiAgICAvLyNyZWdpb24gT3B0aW9uc1xuICAgIGdldE9wdGlvbnMoKSB7XG4gICAgICAgIHRoaXMuX2Fzc2VydE5vdERpc3Bvc2VkKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zO1xuICAgIH1cbiAgICBnZXRGb3JtYXR0aW5nT3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRhYlNpemU6IHRoaXMuX29wdGlvbnMuaW5kZW50U2l6ZSxcbiAgICAgICAgICAgIGluc2VydFNwYWNlczogdGhpcy5fb3B0aW9ucy5pbnNlcnRTcGFjZXNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdXBkYXRlT3B0aW9ucyhfbmV3T3B0cykge1xuICAgICAgICB0aGlzLl9hc3NlcnROb3REaXNwb3NlZCgpO1xuICAgICAgICBjb25zdCB0YWJTaXplID0gKHR5cGVvZiBfbmV3T3B0cy50YWJTaXplICE9PSAndW5kZWZpbmVkJykgPyBfbmV3T3B0cy50YWJTaXplIDogdGhpcy5fb3B0aW9ucy50YWJTaXplO1xuICAgICAgICBjb25zdCBpbmRlbnRTaXplID0gKHR5cGVvZiBfbmV3T3B0cy5pbmRlbnRTaXplICE9PSAndW5kZWZpbmVkJykgPyBfbmV3T3B0cy5pbmRlbnRTaXplIDogdGhpcy5fb3B0aW9ucy5vcmlnaW5hbEluZGVudFNpemU7XG4gICAgICAgIGNvbnN0IGluc2VydFNwYWNlcyA9ICh0eXBlb2YgX25ld09wdHMuaW5zZXJ0U3BhY2VzICE9PSAndW5kZWZpbmVkJykgPyBfbmV3T3B0cy5pbnNlcnRTcGFjZXMgOiB0aGlzLl9vcHRpb25zLmluc2VydFNwYWNlcztcbiAgICAgICAgY29uc3QgdHJpbUF1dG9XaGl0ZXNwYWNlID0gKHR5cGVvZiBfbmV3T3B0cy50cmltQXV0b1doaXRlc3BhY2UgIT09ICd1bmRlZmluZWQnKSA/IF9uZXdPcHRzLnRyaW1BdXRvV2hpdGVzcGFjZSA6IHRoaXMuX29wdGlvbnMudHJpbUF1dG9XaGl0ZXNwYWNlO1xuICAgICAgICBjb25zdCBicmFja2V0UGFpckNvbG9yaXphdGlvbk9wdGlvbnMgPSAodHlwZW9mIF9uZXdPcHRzLmJyYWNrZXRDb2xvcml6YXRpb25PcHRpb25zICE9PSAndW5kZWZpbmVkJykgPyBfbmV3T3B0cy5icmFja2V0Q29sb3JpemF0aW9uT3B0aW9ucyA6IHRoaXMuX29wdGlvbnMuYnJhY2tldFBhaXJDb2xvcml6YXRpb25PcHRpb25zO1xuICAgICAgICBjb25zdCBuZXdPcHRzID0gbmV3IG1vZGVsLlRleHRNb2RlbFJlc29sdmVkT3B0aW9ucyh7XG4gICAgICAgICAgICB0YWJTaXplOiB0YWJTaXplLFxuICAgICAgICAgICAgaW5kZW50U2l6ZTogaW5kZW50U2l6ZSxcbiAgICAgICAgICAgIGluc2VydFNwYWNlczogaW5zZXJ0U3BhY2VzLFxuICAgICAgICAgICAgZGVmYXVsdEVPTDogdGhpcy5fb3B0aW9ucy5kZWZhdWx0RU9MLFxuICAgICAgICAgICAgdHJpbUF1dG9XaGl0ZXNwYWNlOiB0cmltQXV0b1doaXRlc3BhY2UsXG4gICAgICAgICAgICBicmFja2V0UGFpckNvbG9yaXphdGlvbk9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5lcXVhbHMobmV3T3B0cykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlID0gdGhpcy5fb3B0aW9ucy5jcmVhdGVDaGFuZ2VFdmVudChuZXdPcHRzKTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG5ld09wdHM7XG4gICAgICAgIHRoaXMuX2JyYWNrZXRQYWlycy5oYW5kbGVEaWRDaGFuZ2VPcHRpb25zKGUpO1xuICAgICAgICB0aGlzLl9kZWNvcmF0aW9uUHJvdmlkZXIuaGFuZGxlRGlkQ2hhbmdlT3B0aW9ucyhlKTtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VPcHRpb25zLmZpcmUoZSk7XG4gICAgfVxuICAgIGRldGVjdEluZGVudGF0aW9uKGRlZmF1bHRJbnNlcnRTcGFjZXMsIGRlZmF1bHRUYWJTaXplKSB7XG4gICAgICAgIHRoaXMuX2Fzc2VydE5vdERpc3Bvc2VkKCk7XG4gICAgICAgIGNvbnN0IGd1ZXNzZWRJbmRlbnRhdGlvbiA9IGd1ZXNzSW5kZW50YXRpb24odGhpcy5fYnVmZmVyLCBkZWZhdWx0VGFiU2l6ZSwgZGVmYXVsdEluc2VydFNwYWNlcyk7XG4gICAgICAgIHRoaXMudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgICAgICBpbnNlcnRTcGFjZXM6IGd1ZXNzZWRJbmRlbnRhdGlvbi5pbnNlcnRTcGFjZXMsXG4gICAgICAgICAgICB0YWJTaXplOiBndWVzc2VkSW5kZW50YXRpb24udGFiU2l6ZSxcbiAgICAgICAgICAgIGluZGVudFNpemU6IGd1ZXNzZWRJbmRlbnRhdGlvbi50YWJTaXplLCAvLyBUT0RPQEFsZXg6IGd1ZXNzIGluZGVudFNpemUgaW5kZXBlbmRlbnQgb2YgdGFiU2l6ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ybWFsaXplSW5kZW50YXRpb24oc3RyKSB7XG4gICAgICAgIHRoaXMuX2Fzc2VydE5vdERpc3Bvc2VkKCk7XG4gICAgICAgIHJldHVybiBub3JtYWxpemVJbmRlbnRhdGlvbihzdHIsIHRoaXMuX29wdGlvbnMuaW5kZW50U2l6ZSwgdGhpcy5fb3B0aW9ucy5pbnNlcnRTcGFjZXMpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gUmVhZGluZ1xuICAgIGdldFZlcnNpb25JZCgpIHtcbiAgICAgICAgdGhpcy5fYXNzZXJ0Tm90RGlzcG9zZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZlcnNpb25JZDtcbiAgICB9XG4gICAgbWlnaHRDb250YWluUlRMKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLm1pZ2h0Q29udGFpblJUTCgpO1xuICAgIH1cbiAgICBtaWdodENvbnRhaW5VbnVzdWFsTGluZVRlcm1pbmF0b3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLm1pZ2h0Q29udGFpblVudXN1YWxMaW5lVGVybWluYXRvcnMoKTtcbiAgICB9XG4gICAgcmVtb3ZlVW51c3VhbExpbmVUZXJtaW5hdG9ycyhzZWxlY3Rpb25zID0gbnVsbCkge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gdGhpcy5maW5kTWF0Y2hlcyhzdHJpbmdzLlVOVVNVQUxfTElORV9URVJNSU5BVE9SUy5zb3VyY2UsIGZhbHNlLCB0cnVlLCBmYWxzZSwgbnVsbCwgZmFsc2UsIDEwNzM3NDE4MjQgLyogQ29uc3RhbnRzLk1BWF9TQUZFX1NNQUxMX0lOVEVHRVIgKi8pO1xuICAgICAgICB0aGlzLl9idWZmZXIucmVzZXRNaWdodENvbnRhaW5VbnVzdWFsTGluZVRlcm1pbmF0b3JzKCk7XG4gICAgICAgIHRoaXMucHVzaEVkaXRPcGVyYXRpb25zKHNlbGVjdGlvbnMsIG1hdGNoZXMubWFwKG0gPT4gKHsgcmFuZ2U6IG0ucmFuZ2UsIHRleHQ6IG51bGwgfSkpLCAoKSA9PiBudWxsKTtcbiAgICB9XG4gICAgbWlnaHRDb250YWluTm9uQmFzaWNBU0NJSSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5taWdodENvbnRhaW5Ob25CYXNpY0FTQ0lJKCk7XG4gICAgfVxuICAgIGdldEFsdGVybmF0aXZlVmVyc2lvbklkKCkge1xuICAgICAgICB0aGlzLl9hc3NlcnROb3REaXNwb3NlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fYWx0ZXJuYXRpdmVWZXJzaW9uSWQ7XG4gICAgfVxuICAgIGdldEluaXRpYWxVbmRvUmVkb1NuYXBzaG90KCkge1xuICAgICAgICB0aGlzLl9hc3NlcnROb3REaXNwb3NlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbFVuZG9SZWRvU25hcHNob3Q7XG4gICAgfVxuICAgIGdldE9mZnNldEF0KHJhd1Bvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuX2Fzc2VydE5vdERpc3Bvc2VkKCk7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5fdmFsaWRhdGVQb3NpdGlvbihyYXdQb3NpdGlvbi5saW5lTnVtYmVyLCByYXdQb3NpdGlvbi5jb2x1bW4sIDAgLyogU3RyaW5nT2Zmc2V0VmFsaWRhdGlvblR5cGUuUmVsYXhlZCAqLyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuZ2V0T2Zmc2V0QXQocG9zaXRpb24ubGluZU51bWJlciwgcG9zaXRpb24uY29sdW1uKTtcbiAgICB9XG4gICAgZ2V0UG9zaXRpb25BdChyYXdPZmZzZXQpIHtcbiAgICAgICAgdGhpcy5fYXNzZXJ0Tm90RGlzcG9zZWQoKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gKE1hdGgubWluKHRoaXMuX2J1ZmZlci5nZXRMZW5ndGgoKSwgTWF0aC5tYXgoMCwgcmF3T2Zmc2V0KSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLmdldFBvc2l0aW9uQXQob2Zmc2V0KTtcbiAgICB9XG4gICAgX2luY3JlYXNlVmVyc2lvbklkKCkge1xuICAgICAgICB0aGlzLl92ZXJzaW9uSWQgPSB0aGlzLl92ZXJzaW9uSWQgKyAxO1xuICAgICAgICB0aGlzLl9hbHRlcm5hdGl2ZVZlcnNpb25JZCA9IHRoaXMuX3ZlcnNpb25JZDtcbiAgICB9XG4gICAgX292ZXJ3cml0ZVZlcnNpb25JZCh2ZXJzaW9uSWQpIHtcbiAgICAgICAgdGhpcy5fdmVyc2lvbklkID0gdmVyc2lvbklkO1xuICAgIH1cbiAgICBfb3ZlcndyaXRlQWx0ZXJuYXRpdmVWZXJzaW9uSWQobmV3QWx0ZXJuYXRpdmVWZXJzaW9uSWQpIHtcbiAgICAgICAgdGhpcy5fYWx0ZXJuYXRpdmVWZXJzaW9uSWQgPSBuZXdBbHRlcm5hdGl2ZVZlcnNpb25JZDtcbiAgICB9XG4gICAgX292ZXJ3cml0ZUluaXRpYWxVbmRvUmVkb1NuYXBzaG90KG5ld0luaXRpYWxVbmRvUmVkb1NuYXBzaG90KSB7XG4gICAgICAgIHRoaXMuX2luaXRpYWxVbmRvUmVkb1NuYXBzaG90ID0gbmV3SW5pdGlhbFVuZG9SZWRvU25hcHNob3Q7XG4gICAgfVxuICAgIGdldFZhbHVlKGVvbCwgcHJlc2VydmVCT00gPSBmYWxzZSkge1xuICAgICAgICB0aGlzLl9hc3NlcnROb3REaXNwb3NlZCgpO1xuICAgICAgICBpZiAodGhpcy5pc1Rvb0xhcmdlRm9ySGVhcE9wZXJhdGlvbigpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQnVnSW5kaWNhdGluZ0Vycm9yKCdPcGVyYXRpb24gd291bGQgZXhjZWVkIGhlYXAgbWVtb3J5IGxpbWl0cycpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZ1bGxNb2RlbFJhbmdlID0gdGhpcy5nZXRGdWxsTW9kZWxSYW5nZSgpO1xuICAgICAgICBjb25zdCBmdWxsTW9kZWxWYWx1ZSA9IHRoaXMuZ2V0VmFsdWVJblJhbmdlKGZ1bGxNb2RlbFJhbmdlLCBlb2wpO1xuICAgICAgICBpZiAocHJlc2VydmVCT00pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuZ2V0Qk9NKCkgKyBmdWxsTW9kZWxWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVsbE1vZGVsVmFsdWU7XG4gICAgfVxuICAgIGNyZWF0ZVNuYXBzaG90KHByZXNlcnZlQk9NID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0TW9kZWxTbmFwc2hvdCh0aGlzLl9idWZmZXIuY3JlYXRlU25hcHNob3QocHJlc2VydmVCT00pKTtcbiAgICB9XG4gICAgZ2V0VmFsdWVMZW5ndGgoZW9sLCBwcmVzZXJ2ZUJPTSA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuX2Fzc2VydE5vdERpc3Bvc2VkKCk7XG4gICAgICAgIGNvbnN0IGZ1bGxNb2RlbFJhbmdlID0gdGhpcy5nZXRGdWxsTW9kZWxSYW5nZSgpO1xuICAgICAgICBjb25zdCBmdWxsTW9kZWxWYWx1ZSA9IHRoaXMuZ2V0VmFsdWVMZW5ndGhJblJhbmdlKGZ1bGxNb2RlbFJhbmdlLCBlb2wpO1xuICAgICAgICBpZiAocHJlc2VydmVCT00pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuZ2V0Qk9NKCkubGVuZ3RoICsgZnVsbE1vZGVsVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bGxNb2RlbFZhbHVlO1xuICAgIH1cbiAgICBnZXRWYWx1ZUluUmFuZ2UocmF3UmFuZ2UsIGVvbCA9IDAgLyogbW9kZWwuRW5kT2ZMaW5lUHJlZmVyZW5jZS5UZXh0RGVmaW5lZCAqLykge1xuICAgICAgICB0aGlzLl9hc3NlcnROb3REaXNwb3NlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLmdldFZhbHVlSW5SYW5nZSh0aGlzLnZhbGlkYXRlUmFuZ2UocmF3UmFuZ2UpLCBlb2wpO1xuICAgIH1cbiAgICBnZXRWYWx1ZUxlbmd0aEluUmFuZ2UocmF3UmFuZ2UsIGVvbCA9IDAgLyogbW9kZWwuRW5kT2ZMaW5lUHJlZmVyZW5jZS5UZXh0RGVmaW5lZCAqLykge1xuICAgICAgICB0aGlzLl9hc3NlcnROb3REaXNwb3NlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLmdldFZhbHVlTGVuZ3RoSW5SYW5nZSh0aGlzLnZhbGlkYXRlUmFuZ2UocmF3UmFuZ2UpLCBlb2wpO1xuICAgIH1cbiAgICBnZXRDaGFyYWN0ZXJDb3VudEluUmFuZ2UocmF3UmFuZ2UsIGVvbCA9IDAgLyogbW9kZWwuRW5kT2ZMaW5lUHJlZmVyZW5jZS5UZXh0RGVmaW5lZCAqLykge1xuICAgICAgICB0aGlzLl9hc3NlcnROb3REaXNwb3NlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLmdldENoYXJhY3RlckNvdW50SW5SYW5nZSh0aGlzLnZhbGlkYXRlUmFuZ2UocmF3UmFuZ2UpLCBlb2wpO1xuICAgIH1cbiAgICBnZXRMaW5lQ291bnQoKSB7XG4gICAgICAgIHRoaXMuX2Fzc2VydE5vdERpc3Bvc2VkKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuZ2V0TGluZUNvdW50KCk7XG4gICAgfVxuICAgIGdldExpbmVDb250ZW50KGxpbmVOdW1iZXIpIHtcbiAgICAgICAgdGhpcy5fYXNzZXJ0Tm90RGlzcG9zZWQoKTtcbiAgICAgICAgaWYgKGxpbmVOdW1iZXIgPCAxIHx8IGxpbmVOdW1iZXIgPiB0aGlzLmdldExpbmVDb3VudCgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQnVnSW5kaWNhdGluZ0Vycm9yKCdJbGxlZ2FsIHZhbHVlIGZvciBsaW5lTnVtYmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5nZXRMaW5lQ29udGVudChsaW5lTnVtYmVyKTtcbiAgICB9XG4gICAgZ2V0TGluZUxlbmd0aChsaW5lTnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX2Fzc2VydE5vdERpc3Bvc2VkKCk7XG4gICAgICAgIGlmIChsaW5lTnVtYmVyIDwgMSB8fCBsaW5lTnVtYmVyID4gdGhpcy5nZXRMaW5lQ291bnQoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEJ1Z0luZGljYXRpbmdFcnJvcignSWxsZWdhbCB2YWx1ZSBmb3IgbGluZU51bWJlcicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuZ2V0TGluZUxlbmd0aChsaW5lTnVtYmVyKTtcbiAgICB9XG4gICAgZ2V0TGluZXNDb250ZW50KCkge1xuICAgICAgICB0aGlzLl9hc3NlcnROb3REaXNwb3NlZCgpO1xuICAgICAgICBpZiAodGhpcy5pc1Rvb0xhcmdlRm9ySGVhcE9wZXJhdGlvbigpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQnVnSW5kaWNhdGluZ0Vycm9yKCdPcGVyYXRpb24gd291bGQgZXhjZWVkIGhlYXAgbWVtb3J5IGxpbWl0cycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuZ2V0TGluZXNDb250ZW50KCk7XG4gICAgfVxuICAgIGdldEVPTCgpIHtcbiAgICAgICAgdGhpcy5fYXNzZXJ0Tm90RGlzcG9zZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5nZXRFT0woKTtcbiAgICB9XG4gICAgZ2V0RW5kT2ZMaW5lU2VxdWVuY2UoKSB7XG4gICAgICAgIHRoaXMuX2Fzc2VydE5vdERpc3Bvc2VkKCk7XG4gICAgICAgIHJldHVybiAodGhpcy5fYnVmZmVyLmdldEVPTCgpID09PSAnXFxuJ1xuICAgICAgICAgICAgPyAwIC8qIG1vZGVsLkVuZE9mTGluZVNlcXVlbmNlLkxGICovXG4gICAgICAgICAgICA6IDEgLyogbW9kZWwuRW5kT2ZMaW5lU2VxdWVuY2UuQ1JMRiAqLyk7XG4gICAgfVxuICAgIGdldExpbmVNaW5Db2x1bW4obGluZU51bWJlcikge1xuICAgICAgICB0aGlzLl9hc3NlcnROb3REaXNwb3NlZCgpO1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgZ2V0TGluZU1heENvbHVtbihsaW5lTnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX2Fzc2VydE5vdERpc3Bvc2VkKCk7XG4gICAgICAgIGlmIChsaW5lTnVtYmVyIDwgMSB8fCBsaW5lTnVtYmVyID4gdGhpcy5nZXRMaW5lQ291bnQoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEJ1Z0luZGljYXRpbmdFcnJvcignSWxsZWdhbCB2YWx1ZSBmb3IgbGluZU51bWJlcicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuZ2V0TGluZUxlbmd0aChsaW5lTnVtYmVyKSArIDE7XG4gICAgfVxuICAgIGdldExpbmVGaXJzdE5vbldoaXRlc3BhY2VDb2x1bW4obGluZU51bWJlcikge1xuICAgICAgICB0aGlzLl9hc3NlcnROb3REaXNwb3NlZCgpO1xuICAgICAgICBpZiAobGluZU51bWJlciA8IDEgfHwgbGluZU51bWJlciA+IHRoaXMuZ2V0TGluZUNvdW50KCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBCdWdJbmRpY2F0aW5nRXJyb3IoJ0lsbGVnYWwgdmFsdWUgZm9yIGxpbmVOdW1iZXInKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLmdldExpbmVGaXJzdE5vbldoaXRlc3BhY2VDb2x1bW4obGluZU51bWJlcik7XG4gICAgfVxuICAgIGdldExpbmVMYXN0Tm9uV2hpdGVzcGFjZUNvbHVtbihsaW5lTnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX2Fzc2VydE5vdERpc3Bvc2VkKCk7XG4gICAgICAgIGlmIChsaW5lTnVtYmVyIDwgMSB8fCBsaW5lTnVtYmVyID4gdGhpcy5nZXRMaW5lQ291bnQoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEJ1Z0luZGljYXRpbmdFcnJvcignSWxsZWdhbCB2YWx1ZSBmb3IgbGluZU51bWJlcicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuZ2V0TGluZUxhc3ROb25XaGl0ZXNwYWNlQ29sdW1uKGxpbmVOdW1iZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgYHJhbmdlYCBpcyB3aXRoaW4gYnVmZmVyIGJvdW5kcywgYnV0IGFsbG93cyBpdCB0byBzaXQgaW4gYmV0d2VlbiBzdXJyb2dhdGUgcGFpcnMsIGV0Yy5cbiAgICAgKiBXaWxsIHRyeSB0byBub3QgYWxsb2NhdGUgaWYgcG9zc2libGUuXG4gICAgICovXG4gICAgX3ZhbGlkYXRlUmFuZ2VSZWxheGVkTm9BbGxvY2F0aW9ucyhyYW5nZSkge1xuICAgICAgICBjb25zdCBsaW5lc0NvdW50ID0gdGhpcy5fYnVmZmVyLmdldExpbmVDb3VudCgpO1xuICAgICAgICBjb25zdCBpbml0aWFsU3RhcnRMaW5lTnVtYmVyID0gcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICBjb25zdCBpbml0aWFsU3RhcnRDb2x1bW4gPSByYW5nZS5zdGFydENvbHVtbjtcbiAgICAgICAgbGV0IHN0YXJ0TGluZU51bWJlciA9IE1hdGguZmxvb3IoKHR5cGVvZiBpbml0aWFsU3RhcnRMaW5lTnVtYmVyID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oaW5pdGlhbFN0YXJ0TGluZU51bWJlcikpID8gaW5pdGlhbFN0YXJ0TGluZU51bWJlciA6IDEpO1xuICAgICAgICBsZXQgc3RhcnRDb2x1bW4gPSBNYXRoLmZsb29yKCh0eXBlb2YgaW5pdGlhbFN0YXJ0Q29sdW1uID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oaW5pdGlhbFN0YXJ0Q29sdW1uKSkgPyBpbml0aWFsU3RhcnRDb2x1bW4gOiAxKTtcbiAgICAgICAgaWYgKHN0YXJ0TGluZU51bWJlciA8IDEpIHtcbiAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlciA9IDE7XG4gICAgICAgICAgICBzdGFydENvbHVtbiA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhcnRMaW5lTnVtYmVyID4gbGluZXNDb3VudCkge1xuICAgICAgICAgICAgc3RhcnRMaW5lTnVtYmVyID0gbGluZXNDb3VudDtcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gdGhpcy5nZXRMaW5lTWF4Q29sdW1uKHN0YXJ0TGluZU51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoc3RhcnRDb2x1bW4gPD0gMSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heENvbHVtbiA9IHRoaXMuZ2V0TGluZU1heENvbHVtbihzdGFydExpbmVOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGlmIChzdGFydENvbHVtbiA+PSBtYXhDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRDb2x1bW4gPSBtYXhDb2x1bW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluaXRpYWxFbmRMaW5lTnVtYmVyID0gcmFuZ2UuZW5kTGluZU51bWJlcjtcbiAgICAgICAgY29uc3QgaW5pdGlhbEVuZENvbHVtbiA9IHJhbmdlLmVuZENvbHVtbjtcbiAgICAgICAgbGV0IGVuZExpbmVOdW1iZXIgPSBNYXRoLmZsb29yKCh0eXBlb2YgaW5pdGlhbEVuZExpbmVOdW1iZXIgPT09ICdudW1iZXInICYmICFpc05hTihpbml0aWFsRW5kTGluZU51bWJlcikpID8gaW5pdGlhbEVuZExpbmVOdW1iZXIgOiAxKTtcbiAgICAgICAgbGV0IGVuZENvbHVtbiA9IE1hdGguZmxvb3IoKHR5cGVvZiBpbml0aWFsRW5kQ29sdW1uID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oaW5pdGlhbEVuZENvbHVtbikpID8gaW5pdGlhbEVuZENvbHVtbiA6IDEpO1xuICAgICAgICBpZiAoZW5kTGluZU51bWJlciA8IDEpIHtcbiAgICAgICAgICAgIGVuZExpbmVOdW1iZXIgPSAxO1xuICAgICAgICAgICAgZW5kQ29sdW1uID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlbmRMaW5lTnVtYmVyID4gbGluZXNDb3VudCkge1xuICAgICAgICAgICAgZW5kTGluZU51bWJlciA9IGxpbmVzQ291bnQ7XG4gICAgICAgICAgICBlbmRDb2x1bW4gPSB0aGlzLmdldExpbmVNYXhDb2x1bW4oZW5kTGluZU51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZW5kQ29sdW1uIDw9IDEpIHtcbiAgICAgICAgICAgICAgICBlbmRDb2x1bW4gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF4Q29sdW1uID0gdGhpcy5nZXRMaW5lTWF4Q29sdW1uKGVuZExpbmVOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGlmIChlbmRDb2x1bW4gPj0gbWF4Q29sdW1uKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZENvbHVtbiA9IG1heENvbHVtbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluaXRpYWxTdGFydExpbmVOdW1iZXIgPT09IHN0YXJ0TGluZU51bWJlclxuICAgICAgICAgICAgJiYgaW5pdGlhbFN0YXJ0Q29sdW1uID09PSBzdGFydENvbHVtblxuICAgICAgICAgICAgJiYgaW5pdGlhbEVuZExpbmVOdW1iZXIgPT09IGVuZExpbmVOdW1iZXJcbiAgICAgICAgICAgICYmIGluaXRpYWxFbmRDb2x1bW4gPT09IGVuZENvbHVtblxuICAgICAgICAgICAgJiYgcmFuZ2UgaW5zdGFuY2VvZiBSYW5nZVxuICAgICAgICAgICAgJiYgIShyYW5nZSBpbnN0YW5jZW9mIFNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4sIGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbik7XG4gICAgfVxuICAgIF9pc1ZhbGlkUG9zaXRpb24obGluZU51bWJlciwgY29sdW1uLCB2YWxpZGF0aW9uVHlwZSkge1xuICAgICAgICBpZiAodHlwZW9mIGxpbmVOdW1iZXIgIT09ICdudW1iZXInIHx8IHR5cGVvZiBjb2x1bW4gIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmFOKGxpbmVOdW1iZXIpIHx8IGlzTmFOKGNvbHVtbikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGluZU51bWJlciA8IDEgfHwgY29sdW1uIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgobGluZU51bWJlciB8IDApICE9PSBsaW5lTnVtYmVyIHx8IChjb2x1bW4gfCAwKSAhPT0gY29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGluZUNvdW50ID0gdGhpcy5fYnVmZmVyLmdldExpbmVDb3VudCgpO1xuICAgICAgICBpZiAobGluZU51bWJlciA+IGxpbmVDb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2x1bW4gPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1heENvbHVtbiA9IHRoaXMuZ2V0TGluZU1heENvbHVtbihsaW5lTnVtYmVyKTtcbiAgICAgICAgaWYgKGNvbHVtbiA+IG1heENvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWxpZGF0aW9uVHlwZSA9PT0gMSAvKiBTdHJpbmdPZmZzZXRWYWxpZGF0aW9uVHlwZS5TdXJyb2dhdGVQYWlycyAqLykge1xuICAgICAgICAgICAgLy8gISFBdCB0aGlzIHBvaW50LCBjb2x1bW4gPiAxXG4gICAgICAgICAgICBjb25zdCBjaGFyQ29kZUJlZm9yZSA9IHRoaXMuX2J1ZmZlci5nZXRMaW5lQ2hhckNvZGUobGluZU51bWJlciwgY29sdW1uIC0gMik7XG4gICAgICAgICAgICBpZiAoc3RyaW5ncy5pc0hpZ2hTdXJyb2dhdGUoY2hhckNvZGVCZWZvcmUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBfdmFsaWRhdGVQb3NpdGlvbihfbGluZU51bWJlciwgX2NvbHVtbiwgdmFsaWRhdGlvblR5cGUpIHtcbiAgICAgICAgY29uc3QgbGluZU51bWJlciA9IE1hdGguZmxvb3IoKHR5cGVvZiBfbGluZU51bWJlciA9PT0gJ251bWJlcicgJiYgIWlzTmFOKF9saW5lTnVtYmVyKSkgPyBfbGluZU51bWJlciA6IDEpO1xuICAgICAgICBjb25zdCBjb2x1bW4gPSBNYXRoLmZsb29yKCh0eXBlb2YgX2NvbHVtbiA9PT0gJ251bWJlcicgJiYgIWlzTmFOKF9jb2x1bW4pKSA/IF9jb2x1bW4gOiAxKTtcbiAgICAgICAgY29uc3QgbGluZUNvdW50ID0gdGhpcy5fYnVmZmVyLmdldExpbmVDb3VudCgpO1xuICAgICAgICBpZiAobGluZU51bWJlciA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9zaXRpb24oMSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpbmVOdW1iZXIgPiBsaW5lQ291bnQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9zaXRpb24obGluZUNvdW50LCB0aGlzLmdldExpbmVNYXhDb2x1bW4obGluZUNvdW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbHVtbiA8PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvc2l0aW9uKGxpbmVOdW1iZXIsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1heENvbHVtbiA9IHRoaXMuZ2V0TGluZU1heENvbHVtbihsaW5lTnVtYmVyKTtcbiAgICAgICAgaWYgKGNvbHVtbiA+PSBtYXhDb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9zaXRpb24obGluZU51bWJlciwgbWF4Q29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsaWRhdGlvblR5cGUgPT09IDEgLyogU3RyaW5nT2Zmc2V0VmFsaWRhdGlvblR5cGUuU3Vycm9nYXRlUGFpcnMgKi8pIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBwb3NpdGlvbiB3b3VsZCBlbmQgdXAgaW4gdGhlIG1pZGRsZSBvZiBhIGhpZ2gtbG93IHN1cnJvZ2F0ZSBwYWlyLFxuICAgICAgICAgICAgLy8gd2UgbW92ZSBpdCB0byBiZWZvcmUgdGhlIHBhaXJcbiAgICAgICAgICAgIC8vICEhQXQgdGhpcyBwb2ludCwgY29sdW1uID4gMVxuICAgICAgICAgICAgY29uc3QgY2hhckNvZGVCZWZvcmUgPSB0aGlzLl9idWZmZXIuZ2V0TGluZUNoYXJDb2RlKGxpbmVOdW1iZXIsIGNvbHVtbiAtIDIpO1xuICAgICAgICAgICAgaWYgKHN0cmluZ3MuaXNIaWdoU3Vycm9nYXRlKGNoYXJDb2RlQmVmb3JlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUG9zaXRpb24obGluZU51bWJlciwgY29sdW1uIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbihsaW5lTnVtYmVyLCBjb2x1bW4pO1xuICAgIH1cbiAgICB2YWxpZGF0ZVBvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb25UeXBlID0gMSAvKiBTdHJpbmdPZmZzZXRWYWxpZGF0aW9uVHlwZS5TdXJyb2dhdGVQYWlycyAqLztcbiAgICAgICAgdGhpcy5fYXNzZXJ0Tm90RGlzcG9zZWQoKTtcbiAgICAgICAgLy8gQXZvaWQgb2JqZWN0IGFsbG9jYXRpb24gYW5kIGNvdmVyIG1vc3QgbGlrZWx5IGNhc2VcbiAgICAgICAgaWYgKHBvc2l0aW9uIGluc3RhbmNlb2YgUG9zaXRpb24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1ZhbGlkUG9zaXRpb24ocG9zaXRpb24ubGluZU51bWJlciwgcG9zaXRpb24uY29sdW1uLCB2YWxpZGF0aW9uVHlwZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbGlkYXRlUG9zaXRpb24ocG9zaXRpb24ubGluZU51bWJlciwgcG9zaXRpb24uY29sdW1uLCB2YWxpZGF0aW9uVHlwZSk7XG4gICAgfVxuICAgIF9pc1ZhbGlkUmFuZ2UocmFuZ2UsIHZhbGlkYXRpb25UeXBlKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0TGluZU51bWJlciA9IHJhbmdlLnN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgY29uc3Qgc3RhcnRDb2x1bW4gPSByYW5nZS5zdGFydENvbHVtbjtcbiAgICAgICAgY29uc3QgZW5kTGluZU51bWJlciA9IHJhbmdlLmVuZExpbmVOdW1iZXI7XG4gICAgICAgIGNvbnN0IGVuZENvbHVtbiA9IHJhbmdlLmVuZENvbHVtbjtcbiAgICAgICAgaWYgKCF0aGlzLl9pc1ZhbGlkUG9zaXRpb24oc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiwgMCAvKiBTdHJpbmdPZmZzZXRWYWxpZGF0aW9uVHlwZS5SZWxheGVkICovKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faXNWYWxpZFBvc2l0aW9uKGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbiwgMCAvKiBTdHJpbmdPZmZzZXRWYWxpZGF0aW9uVHlwZS5SZWxheGVkICovKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWxpZGF0aW9uVHlwZSA9PT0gMSAvKiBTdHJpbmdPZmZzZXRWYWxpZGF0aW9uVHlwZS5TdXJyb2dhdGVQYWlycyAqLykge1xuICAgICAgICAgICAgY29uc3QgY2hhckNvZGVCZWZvcmVTdGFydCA9IChzdGFydENvbHVtbiA+IDEgPyB0aGlzLl9idWZmZXIuZ2V0TGluZUNoYXJDb2RlKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4gLSAyKSA6IDApO1xuICAgICAgICAgICAgY29uc3QgY2hhckNvZGVCZWZvcmVFbmQgPSAoZW5kQ29sdW1uID4gMSAmJiBlbmRDb2x1bW4gPD0gdGhpcy5fYnVmZmVyLmdldExpbmVMZW5ndGgoZW5kTGluZU51bWJlcikgPyB0aGlzLl9idWZmZXIuZ2V0TGluZUNoYXJDb2RlKGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbiAtIDIpIDogMCk7XG4gICAgICAgICAgICBjb25zdCBzdGFydEluc2lkZVN1cnJvZ2F0ZVBhaXIgPSBzdHJpbmdzLmlzSGlnaFN1cnJvZ2F0ZShjaGFyQ29kZUJlZm9yZVN0YXJ0KTtcbiAgICAgICAgICAgIGNvbnN0IGVuZEluc2lkZVN1cnJvZ2F0ZVBhaXIgPSBzdHJpbmdzLmlzSGlnaFN1cnJvZ2F0ZShjaGFyQ29kZUJlZm9yZUVuZCk7XG4gICAgICAgICAgICBpZiAoIXN0YXJ0SW5zaWRlU3Vycm9nYXRlUGFpciAmJiAhZW5kSW5zaWRlU3Vycm9nYXRlUGFpcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YWxpZGF0ZVJhbmdlKF9yYW5nZSkge1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uVHlwZSA9IDEgLyogU3RyaW5nT2Zmc2V0VmFsaWRhdGlvblR5cGUuU3Vycm9nYXRlUGFpcnMgKi87XG4gICAgICAgIHRoaXMuX2Fzc2VydE5vdERpc3Bvc2VkKCk7XG4gICAgICAgIC8vIEF2b2lkIG9iamVjdCBhbGxvY2F0aW9uIGFuZCBjb3ZlciBtb3N0IGxpa2VseSBjYXNlXG4gICAgICAgIGlmICgoX3JhbmdlIGluc3RhbmNlb2YgUmFuZ2UpICYmICEoX3JhbmdlIGluc3RhbmNlb2YgU2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzVmFsaWRSYW5nZShfcmFuZ2UsIHZhbGlkYXRpb25UeXBlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmFuZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLl92YWxpZGF0ZVBvc2l0aW9uKF9yYW5nZS5zdGFydExpbmVOdW1iZXIsIF9yYW5nZS5zdGFydENvbHVtbiwgMCAvKiBTdHJpbmdPZmZzZXRWYWxpZGF0aW9uVHlwZS5SZWxheGVkICovKTtcbiAgICAgICAgY29uc3QgZW5kID0gdGhpcy5fdmFsaWRhdGVQb3NpdGlvbihfcmFuZ2UuZW5kTGluZU51bWJlciwgX3JhbmdlLmVuZENvbHVtbiwgMCAvKiBTdHJpbmdPZmZzZXRWYWxpZGF0aW9uVHlwZS5SZWxheGVkICovKTtcbiAgICAgICAgY29uc3Qgc3RhcnRMaW5lTnVtYmVyID0gc3RhcnQubGluZU51bWJlcjtcbiAgICAgICAgY29uc3Qgc3RhcnRDb2x1bW4gPSBzdGFydC5jb2x1bW47XG4gICAgICAgIGNvbnN0IGVuZExpbmVOdW1iZXIgPSBlbmQubGluZU51bWJlcjtcbiAgICAgICAgY29uc3QgZW5kQ29sdW1uID0gZW5kLmNvbHVtbjtcbiAgICAgICAgaWYgKHZhbGlkYXRpb25UeXBlID09PSAxIC8qIFN0cmluZ09mZnNldFZhbGlkYXRpb25UeXBlLlN1cnJvZ2F0ZVBhaXJzICovKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFyQ29kZUJlZm9yZVN0YXJ0ID0gKHN0YXJ0Q29sdW1uID4gMSA/IHRoaXMuX2J1ZmZlci5nZXRMaW5lQ2hhckNvZGUoc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiAtIDIpIDogMCk7XG4gICAgICAgICAgICBjb25zdCBjaGFyQ29kZUJlZm9yZUVuZCA9IChlbmRDb2x1bW4gPiAxICYmIGVuZENvbHVtbiA8PSB0aGlzLl9idWZmZXIuZ2V0TGluZUxlbmd0aChlbmRMaW5lTnVtYmVyKSA/IHRoaXMuX2J1ZmZlci5nZXRMaW5lQ2hhckNvZGUoZW5kTGluZU51bWJlciwgZW5kQ29sdW1uIC0gMikgOiAwKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0SW5zaWRlU3Vycm9nYXRlUGFpciA9IHN0cmluZ3MuaXNIaWdoU3Vycm9nYXRlKGNoYXJDb2RlQmVmb3JlU3RhcnQpO1xuICAgICAgICAgICAgY29uc3QgZW5kSW5zaWRlU3Vycm9nYXRlUGFpciA9IHN0cmluZ3MuaXNIaWdoU3Vycm9nYXRlKGNoYXJDb2RlQmVmb3JlRW5kKTtcbiAgICAgICAgICAgIGlmICghc3RhcnRJbnNpZGVTdXJyb2dhdGVQYWlyICYmICFlbmRJbnNpZGVTdXJyb2dhdGVQYWlyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydExpbmVOdW1iZXIsIHN0YXJ0Q29sdW1uLCBlbmRMaW5lTnVtYmVyLCBlbmRDb2x1bW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXJ0TGluZU51bWJlciA9PT0gZW5kTGluZU51bWJlciAmJiBzdGFydENvbHVtbiA9PT0gZW5kQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgLy8gZG8gbm90IGV4cGFuZCBhIGNvbGxhcHNlZCByYW5nZSwgc2ltcGx5IG1vdmUgaXQgdG8gYSB2YWxpZCBsb2NhdGlvblxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiAtIDEsIGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbiAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXJ0SW5zaWRlU3Vycm9nYXRlUGFpciAmJiBlbmRJbnNpZGVTdXJyb2dhdGVQYWlyKSB7XG4gICAgICAgICAgICAgICAgLy8gZXhwYW5kIHJhbmdlIGF0IGJvdGggZW5kc1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiAtIDEsIGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbiArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXJ0SW5zaWRlU3Vycm9nYXRlUGFpcikge1xuICAgICAgICAgICAgICAgIC8vIG9ubHkgZXhwYW5kIHJhbmdlIGF0IHRoZSBzdGFydFxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiAtIDEsIGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvbmx5IGV4cGFuZCByYW5nZSBhdCB0aGUgZW5kXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4sIGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbiArIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiwgZW5kTGluZU51bWJlciwgZW5kQ29sdW1uKTtcbiAgICB9XG4gICAgbW9kaWZ5UG9zaXRpb24ocmF3UG9zaXRpb24sIG9mZnNldCkge1xuICAgICAgICB0aGlzLl9hc3NlcnROb3REaXNwb3NlZCgpO1xuICAgICAgICBjb25zdCBjYW5kaWRhdGUgPSB0aGlzLmdldE9mZnNldEF0KHJhd1Bvc2l0aW9uKSArIG9mZnNldDtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UG9zaXRpb25BdChNYXRoLm1pbih0aGlzLl9idWZmZXIuZ2V0TGVuZ3RoKCksIE1hdGgubWF4KDAsIGNhbmRpZGF0ZSkpKTtcbiAgICB9XG4gICAgZ2V0RnVsbE1vZGVsUmFuZ2UoKSB7XG4gICAgICAgIHRoaXMuX2Fzc2VydE5vdERpc3Bvc2VkKCk7XG4gICAgICAgIGNvbnN0IGxpbmVDb3VudCA9IHRoaXMuZ2V0TGluZUNvdW50KCk7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UoMSwgMSwgbGluZUNvdW50LCB0aGlzLmdldExpbmVNYXhDb2x1bW4obGluZUNvdW50KSk7XG4gICAgfVxuICAgIGZpbmRNYXRjaGVzTGluZUJ5TGluZShzZWFyY2hSYW5nZSwgc2VhcmNoRGF0YSwgY2FwdHVyZU1hdGNoZXMsIGxpbWl0UmVzdWx0Q291bnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5maW5kTWF0Y2hlc0xpbmVCeUxpbmUoc2VhcmNoUmFuZ2UsIHNlYXJjaERhdGEsIGNhcHR1cmVNYXRjaGVzLCBsaW1pdFJlc3VsdENvdW50KTtcbiAgICB9XG4gICAgZmluZE1hdGNoZXMoc2VhcmNoU3RyaW5nLCByYXdTZWFyY2hTY29wZSwgaXNSZWdleCwgbWF0Y2hDYXNlLCB3b3JkU2VwYXJhdG9ycywgY2FwdHVyZU1hdGNoZXMsIGxpbWl0UmVzdWx0Q291bnQgPSBMSU1JVF9GSU5EX0NPVU5UKSB7XG4gICAgICAgIHRoaXMuX2Fzc2VydE5vdERpc3Bvc2VkKCk7XG4gICAgICAgIGxldCBzZWFyY2hSYW5nZXMgPSBudWxsO1xuICAgICAgICBpZiAocmF3U2VhcmNoU2NvcGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShyYXdTZWFyY2hTY29wZSkpIHtcbiAgICAgICAgICAgICAgICByYXdTZWFyY2hTY29wZSA9IFtyYXdTZWFyY2hTY29wZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmF3U2VhcmNoU2NvcGUuZXZlcnkoKHNlYXJjaFNjb3BlKSA9PiBSYW5nZS5pc0lSYW5nZShzZWFyY2hTY29wZSkpKSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoUmFuZ2VzID0gcmF3U2VhcmNoU2NvcGUubWFwKChzZWFyY2hTY29wZSkgPT4gdGhpcy52YWxpZGF0ZVJhbmdlKHNlYXJjaFNjb3BlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlYXJjaFJhbmdlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc2VhcmNoUmFuZ2VzID0gW3RoaXMuZ2V0RnVsbE1vZGVsUmFuZ2UoKV07XG4gICAgICAgIH1cbiAgICAgICAgc2VhcmNoUmFuZ2VzID0gc2VhcmNoUmFuZ2VzLnNvcnQoKGQxLCBkMikgPT4gZDEuc3RhcnRMaW5lTnVtYmVyIC0gZDIuc3RhcnRMaW5lTnVtYmVyIHx8IGQxLnN0YXJ0Q29sdW1uIC0gZDIuc3RhcnRDb2x1bW4pO1xuICAgICAgICBjb25zdCB1bmlxdWVTZWFyY2hSYW5nZXMgPSBbXTtcbiAgICAgICAgdW5pcXVlU2VhcmNoUmFuZ2VzLnB1c2goc2VhcmNoUmFuZ2VzLnJlZHVjZSgocHJldiwgY3VycikgPT4ge1xuICAgICAgICAgICAgaWYgKFJhbmdlLmFyZUludGVyc2VjdGluZyhwcmV2LCBjdXJyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2LnBsdXNSYW5nZShjdXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVuaXF1ZVNlYXJjaFJhbmdlcy5wdXNoKHByZXYpO1xuICAgICAgICAgICAgcmV0dXJuIGN1cnI7XG4gICAgICAgIH0pKTtcbiAgICAgICAgbGV0IG1hdGNoTWFwcGVyO1xuICAgICAgICBpZiAoIWlzUmVnZXggJiYgc2VhcmNoU3RyaW5nLmluZGV4T2YoJ1xcbicpIDwgMCkge1xuICAgICAgICAgICAgLy8gbm90IHJlZ2V4LCBub3QgbXVsdGkgbGluZVxuICAgICAgICAgICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFNlYXJjaFBhcmFtcyhzZWFyY2hTdHJpbmcsIGlzUmVnZXgsIG1hdGNoQ2FzZSwgd29yZFNlcGFyYXRvcnMpO1xuICAgICAgICAgICAgY29uc3Qgc2VhcmNoRGF0YSA9IHNlYXJjaFBhcmFtcy5wYXJzZVNlYXJjaFJlcXVlc3QoKTtcbiAgICAgICAgICAgIGlmICghc2VhcmNoRGF0YSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hdGNoTWFwcGVyID0gKHNlYXJjaFJhbmdlKSA9PiB0aGlzLmZpbmRNYXRjaGVzTGluZUJ5TGluZShzZWFyY2hSYW5nZSwgc2VhcmNoRGF0YSwgY2FwdHVyZU1hdGNoZXMsIGxpbWl0UmVzdWx0Q291bnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWF0Y2hNYXBwZXIgPSAoc2VhcmNoUmFuZ2UpID0+IFRleHRNb2RlbFNlYXJjaC5maW5kTWF0Y2hlcyh0aGlzLCBuZXcgU2VhcmNoUGFyYW1zKHNlYXJjaFN0cmluZywgaXNSZWdleCwgbWF0Y2hDYXNlLCB3b3JkU2VwYXJhdG9ycyksIHNlYXJjaFJhbmdlLCBjYXB0dXJlTWF0Y2hlcywgbGltaXRSZXN1bHRDb3VudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuaXF1ZVNlYXJjaFJhbmdlcy5tYXAobWF0Y2hNYXBwZXIpLnJlZHVjZSgoYXJyLCBtYXRjaGVzKSA9PiBhcnIuY29uY2F0KG1hdGNoZXMpLCBbXSk7XG4gICAgfVxuICAgIGZpbmROZXh0TWF0Y2goc2VhcmNoU3RyaW5nLCByYXdTZWFyY2hTdGFydCwgaXNSZWdleCwgbWF0Y2hDYXNlLCB3b3JkU2VwYXJhdG9ycywgY2FwdHVyZU1hdGNoZXMpIHtcbiAgICAgICAgdGhpcy5fYXNzZXJ0Tm90RGlzcG9zZWQoKTtcbiAgICAgICAgY29uc3Qgc2VhcmNoU3RhcnQgPSB0aGlzLnZhbGlkYXRlUG9zaXRpb24ocmF3U2VhcmNoU3RhcnQpO1xuICAgICAgICBpZiAoIWlzUmVnZXggJiYgc2VhcmNoU3RyaW5nLmluZGV4T2YoJ1xcbicpIDwgMCkge1xuICAgICAgICAgICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFNlYXJjaFBhcmFtcyhzZWFyY2hTdHJpbmcsIGlzUmVnZXgsIG1hdGNoQ2FzZSwgd29yZFNlcGFyYXRvcnMpO1xuICAgICAgICAgICAgY29uc3Qgc2VhcmNoRGF0YSA9IHNlYXJjaFBhcmFtcy5wYXJzZVNlYXJjaFJlcXVlc3QoKTtcbiAgICAgICAgICAgIGlmICghc2VhcmNoRGF0YSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbGluZUNvdW50ID0gdGhpcy5nZXRMaW5lQ291bnQoKTtcbiAgICAgICAgICAgIGxldCBzZWFyY2hSYW5nZSA9IG5ldyBSYW5nZShzZWFyY2hTdGFydC5saW5lTnVtYmVyLCBzZWFyY2hTdGFydC5jb2x1bW4sIGxpbmVDb3VudCwgdGhpcy5nZXRMaW5lTWF4Q29sdW1uKGxpbmVDb3VudCkpO1xuICAgICAgICAgICAgbGV0IHJldCA9IHRoaXMuZmluZE1hdGNoZXNMaW5lQnlMaW5lKHNlYXJjaFJhbmdlLCBzZWFyY2hEYXRhLCBjYXB0dXJlTWF0Y2hlcywgMSk7XG4gICAgICAgICAgICBUZXh0TW9kZWxTZWFyY2guZmluZE5leHRNYXRjaCh0aGlzLCBuZXcgU2VhcmNoUGFyYW1zKHNlYXJjaFN0cmluZywgaXNSZWdleCwgbWF0Y2hDYXNlLCB3b3JkU2VwYXJhdG9ycyksIHNlYXJjaFN0YXJ0LCBjYXB0dXJlTWF0Y2hlcyk7XG4gICAgICAgICAgICBpZiAocmV0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0WzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VhcmNoUmFuZ2UgPSBuZXcgUmFuZ2UoMSwgMSwgc2VhcmNoU3RhcnQubGluZU51bWJlciwgdGhpcy5nZXRMaW5lTWF4Q29sdW1uKHNlYXJjaFN0YXJ0LmxpbmVOdW1iZXIpKTtcbiAgICAgICAgICAgIHJldCA9IHRoaXMuZmluZE1hdGNoZXNMaW5lQnlMaW5lKHNlYXJjaFJhbmdlLCBzZWFyY2hEYXRhLCBjYXB0dXJlTWF0Y2hlcywgMSk7XG4gICAgICAgICAgICBpZiAocmV0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0WzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRleHRNb2RlbFNlYXJjaC5maW5kTmV4dE1hdGNoKHRoaXMsIG5ldyBTZWFyY2hQYXJhbXMoc2VhcmNoU3RyaW5nLCBpc1JlZ2V4LCBtYXRjaENhc2UsIHdvcmRTZXBhcmF0b3JzKSwgc2VhcmNoU3RhcnQsIGNhcHR1cmVNYXRjaGVzKTtcbiAgICB9XG4gICAgZmluZFByZXZpb3VzTWF0Y2goc2VhcmNoU3RyaW5nLCByYXdTZWFyY2hTdGFydCwgaXNSZWdleCwgbWF0Y2hDYXNlLCB3b3JkU2VwYXJhdG9ycywgY2FwdHVyZU1hdGNoZXMpIHtcbiAgICAgICAgdGhpcy5fYXNzZXJ0Tm90RGlzcG9zZWQoKTtcbiAgICAgICAgY29uc3Qgc2VhcmNoU3RhcnQgPSB0aGlzLnZhbGlkYXRlUG9zaXRpb24ocmF3U2VhcmNoU3RhcnQpO1xuICAgICAgICByZXR1cm4gVGV4dE1vZGVsU2VhcmNoLmZpbmRQcmV2aW91c01hdGNoKHRoaXMsIG5ldyBTZWFyY2hQYXJhbXMoc2VhcmNoU3RyaW5nLCBpc1JlZ2V4LCBtYXRjaENhc2UsIHdvcmRTZXBhcmF0b3JzKSwgc2VhcmNoU3RhcnQsIGNhcHR1cmVNYXRjaGVzKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIEVkaXRpbmdcbiAgICBwdXNoU3RhY2tFbGVtZW50KCkge1xuICAgICAgICB0aGlzLl9jb21tYW5kTWFuYWdlci5wdXNoU3RhY2tFbGVtZW50KCk7XG4gICAgfVxuICAgIHBvcFN0YWNrRWxlbWVudCgpIHtcbiAgICAgICAgdGhpcy5fY29tbWFuZE1hbmFnZXIucG9wU3RhY2tFbGVtZW50KCk7XG4gICAgfVxuICAgIHB1c2hFT0woZW9sKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRFT0wgPSAodGhpcy5nZXRFT0woKSA9PT0gJ1xcbicgPyAwIC8qIG1vZGVsLkVuZE9mTGluZVNlcXVlbmNlLkxGICovIDogMSAvKiBtb2RlbC5FbmRPZkxpbmVTZXF1ZW5jZS5DUkxGICovKTtcbiAgICAgICAgaWYgKGN1cnJlbnRFT0wgPT09IGVvbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZURlY29yYXRpb25zLmJlZ2luRGVmZXJyZWRFbWl0KCk7XG4gICAgICAgICAgICB0aGlzLl9ldmVudEVtaXR0ZXIuYmVnaW5EZWZlcnJlZEVtaXQoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbml0aWFsVW5kb1JlZG9TbmFwc2hvdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRpYWxVbmRvUmVkb1NuYXBzaG90ID0gdGhpcy5fdW5kb1JlZG9TZXJ2aWNlLmNyZWF0ZVNuYXBzaG90KHRoaXMudXJpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2NvbW1hbmRNYW5hZ2VyLnB1c2hFT0woZW9sKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50RW1pdHRlci5lbmREZWZlcnJlZEVtaXQoKTtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlRGVjb3JhdGlvbnMuZW5kRGVmZXJyZWRFbWl0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3ZhbGlkYXRlRWRpdE9wZXJhdGlvbihyYXdPcGVyYXRpb24pIHtcbiAgICAgICAgaWYgKHJhd09wZXJhdGlvbiBpbnN0YW5jZW9mIG1vZGVsLlZhbGlkQW5ub3RhdGVkRWRpdE9wZXJhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHJhd09wZXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IG1vZGVsLlZhbGlkQW5ub3RhdGVkRWRpdE9wZXJhdGlvbihyYXdPcGVyYXRpb24uaWRlbnRpZmllciB8fCBudWxsLCB0aGlzLnZhbGlkYXRlUmFuZ2UocmF3T3BlcmF0aW9uLnJhbmdlKSwgcmF3T3BlcmF0aW9uLnRleHQsIHJhd09wZXJhdGlvbi5mb3JjZU1vdmVNYXJrZXJzIHx8IGZhbHNlLCByYXdPcGVyYXRpb24uaXNBdXRvV2hpdGVzcGFjZUVkaXQgfHwgZmFsc2UsIHJhd09wZXJhdGlvbi5faXNUcmFja2VkIHx8IGZhbHNlKTtcbiAgICB9XG4gICAgX3ZhbGlkYXRlRWRpdE9wZXJhdGlvbnMocmF3T3BlcmF0aW9ucykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHJhd09wZXJhdGlvbnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdFtpXSA9IHRoaXMuX3ZhbGlkYXRlRWRpdE9wZXJhdGlvbihyYXdPcGVyYXRpb25zW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBwdXNoRWRpdE9wZXJhdGlvbnMoYmVmb3JlQ3Vyc29yU3RhdGUsIGVkaXRPcGVyYXRpb25zLCBjdXJzb3JTdGF0ZUNvbXB1dGVyLCBncm91cCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VEZWNvcmF0aW9ucy5iZWdpbkRlZmVycmVkRW1pdCgpO1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRFbWl0dGVyLmJlZ2luRGVmZXJyZWRFbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVzaEVkaXRPcGVyYXRpb25zKGJlZm9yZUN1cnNvclN0YXRlLCB0aGlzLl92YWxpZGF0ZUVkaXRPcGVyYXRpb25zKGVkaXRPcGVyYXRpb25zKSwgY3Vyc29yU3RhdGVDb21wdXRlciwgZ3JvdXApO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRFbWl0dGVyLmVuZERlZmVycmVkRW1pdCgpO1xuICAgICAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VEZWNvcmF0aW9ucy5lbmREZWZlcnJlZEVtaXQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcHVzaEVkaXRPcGVyYXRpb25zKGJlZm9yZUN1cnNvclN0YXRlLCBlZGl0T3BlcmF0aW9ucywgY3Vyc29yU3RhdGVDb21wdXRlciwgZ3JvdXApIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudHJpbUF1dG9XaGl0ZXNwYWNlICYmIHRoaXMuX3RyaW1BdXRvV2hpdGVzcGFjZUxpbmVzKSB7XG4gICAgICAgICAgICAvLyBHbyB0aHJvdWdoIGVhY2ggc2F2ZWQgbGluZSBudW1iZXIgYW5kIGluc2VydCBhIHRyaW0gd2hpdGVzcGFjZSBlZGl0XG4gICAgICAgICAgICAvLyBpZiBpdCBpcyBzYWZlIHRvIGRvIHNvIChubyBjb25mbGljdHMgd2l0aCBvdGhlciBlZGl0cykuXG4gICAgICAgICAgICBjb25zdCBpbmNvbWluZ0VkaXRzID0gZWRpdE9wZXJhdGlvbnMubWFwKChvcCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiB0aGlzLnZhbGlkYXRlUmFuZ2Uob3AucmFuZ2UpLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBvcC50ZXh0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gU29tZXRpbWVzLCBhdXRvLWZvcm1hdHRlcnMgY2hhbmdlIHJhbmdlcyBhdXRvbWF0aWNhbGx5IHdoaWNoIGNhbiBjYXVzZSB1bmRlc2lyZWQgYXV0byB3aGl0ZXNwYWNlIHRyaW1taW5nIG5lYXIgdGhlIGN1cnNvclxuICAgICAgICAgICAgLy8gV2UnbGwgdXNlIHRoZSBmb2xsb3dpbmcgaGV1cmlzdGljOiBpZiB0aGUgZWRpdHMgb2NjdXIgbmVhciB0aGUgY3Vyc29yLCB0aGVuIGl0J3Mgb2sgdG8gdHJpbSBhdXRvIHdoaXRlc3BhY2VcbiAgICAgICAgICAgIGxldCBlZGl0c0FyZU5lYXJDdXJzb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChiZWZvcmVDdXJzb3JTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBiZWZvcmVDdXJzb3JTdGF0ZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWwgPSBiZWZvcmVDdXJzb3JTdGF0ZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZvdW5kRWRpdE5lYXJTZWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDAsIGxlbkogPSBpbmNvbWluZ0VkaXRzLmxlbmd0aDsgaiA8IGxlbko7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWRpdFJhbmdlID0gaW5jb21pbmdFZGl0c1tqXS5yYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbElzQWJvdmUgPSBlZGl0UmFuZ2Uuc3RhcnRMaW5lTnVtYmVyID4gc2VsLmVuZExpbmVOdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxJc0JlbG93ID0gc2VsLnN0YXJ0TGluZU51bWJlciA+IGVkaXRSYW5nZS5lbmRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxJc0Fib3ZlICYmICFzZWxJc0JlbG93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRFZGl0TmVhclNlbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3VuZEVkaXROZWFyU2VsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0c0FyZU5lYXJDdXJzb3JzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlZGl0c0FyZU5lYXJDdXJzb3JzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuX3RyaW1BdXRvV2hpdGVzcGFjZUxpbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyaW1MaW5lTnVtYmVyID0gdGhpcy5fdHJpbUF1dG9XaGl0ZXNwYWNlTGluZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heExpbmVDb2x1bW4gPSB0aGlzLmdldExpbmVNYXhDb2x1bW4odHJpbUxpbmVOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYWxsb3dUcmltTGluZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBsZW5KID0gaW5jb21pbmdFZGl0cy5sZW5ndGg7IGogPCBsZW5KOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVkaXRSYW5nZSA9IGluY29taW5nRWRpdHNbal0ucmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlZGl0VGV4dCA9IGluY29taW5nRWRpdHNbal0udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmltTGluZU51bWJlciA8IGVkaXRSYW5nZS5zdGFydExpbmVOdW1iZXIgfHwgdHJpbUxpbmVOdW1iZXIgPiBlZGl0UmFuZ2UuZW5kTGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGB0cmltTGluZWAgaXMgY29tcGxldGVseSBvdXRzaWRlIHRoaXMgZWRpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXQgdGhpcyBwb2ludDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgZWRpdFJhbmdlLnN0YXJ0TGluZU51bWJlciA8PSB0cmltTGluZSA8PSBlZGl0UmFuZ2UuZW5kTGluZU51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaW1MaW5lTnVtYmVyID09PSBlZGl0UmFuZ2Uuc3RhcnRMaW5lTnVtYmVyICYmIGVkaXRSYW5nZS5zdGFydENvbHVtbiA9PT0gbWF4TGluZUNvbHVtblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGVkaXRSYW5nZS5pc0VtcHR5KCkgJiYgZWRpdFRleHQgJiYgZWRpdFRleHQubGVuZ3RoID4gMCAmJiBlZGl0VGV4dC5jaGFyQXQoMCkgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBlZGl0IGluc2VydHMgYSBuZXcgbGluZSAoYW5kIG1heWJlIG90aGVyIHRleHQpIGFmdGVyIGB0cmltTGluZWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmltTGluZU51bWJlciA9PT0gZWRpdFJhbmdlLnN0YXJ0TGluZU51bWJlciAmJiBlZGl0UmFuZ2Uuc3RhcnRDb2x1bW4gPT09IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBlZGl0UmFuZ2UuaXNFbXB0eSgpICYmIGVkaXRUZXh0ICYmIGVkaXRUZXh0Lmxlbmd0aCA+IDAgJiYgZWRpdFRleHQuY2hhckF0KGVkaXRUZXh0Lmxlbmd0aCAtIDEpID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgZWRpdCBpbnNlcnRzIGEgbmV3IGxpbmUgKGFuZCBtYXliZSBvdGhlciB0ZXh0KSBiZWZvcmUgYHRyaW1MaW5lYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTG9va3MgbGlrZSB3ZSBjYW4ndCB0cmltIHRoaXMgbGluZSBhcyBpdCB3b3VsZCBpbnRlcmZlcmUgd2l0aCBhbiBpbmNvbWluZyBlZGl0XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxvd1RyaW1MaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsb3dUcmltTGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJpbVJhbmdlID0gbmV3IFJhbmdlKHRyaW1MaW5lTnVtYmVyLCAxLCB0cmltTGluZU51bWJlciwgbWF4TGluZUNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0T3BlcmF0aW9ucy5wdXNoKG5ldyBtb2RlbC5WYWxpZEFubm90YXRlZEVkaXRPcGVyYXRpb24obnVsbCwgdHJpbVJhbmdlLCBudWxsLCBmYWxzZSwgZmFsc2UsIGZhbHNlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90cmltQXV0b1doaXRlc3BhY2VMaW5lcyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2luaXRpYWxVbmRvUmVkb1NuYXBzaG90ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsVW5kb1JlZG9TbmFwc2hvdCA9IHRoaXMuX3VuZG9SZWRvU2VydmljZS5jcmVhdGVTbmFwc2hvdCh0aGlzLnVyaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbW1hbmRNYW5hZ2VyLnB1c2hFZGl0T3BlcmF0aW9uKGJlZm9yZUN1cnNvclN0YXRlLCBlZGl0T3BlcmF0aW9ucywgY3Vyc29yU3RhdGVDb21wdXRlciwgZ3JvdXApO1xuICAgIH1cbiAgICBfYXBwbHlVbmRvKGNoYW5nZXMsIGVvbCwgcmVzdWx0aW5nQWx0ZXJuYXRpdmVWZXJzaW9uSWQsIHJlc3VsdGluZ1NlbGVjdGlvbikge1xuICAgICAgICBjb25zdCBlZGl0cyA9IGNoYW5nZXMubWFwKChjaGFuZ2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlU3RhcnQgPSB0aGlzLmdldFBvc2l0aW9uQXQoY2hhbmdlLm5ld1Bvc2l0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlRW5kID0gdGhpcy5nZXRQb3NpdGlvbkF0KGNoYW5nZS5uZXdFbmQpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByYW5nZTogbmV3IFJhbmdlKHJhbmdlU3RhcnQubGluZU51bWJlciwgcmFuZ2VTdGFydC5jb2x1bW4sIHJhbmdlRW5kLmxpbmVOdW1iZXIsIHJhbmdlRW5kLmNvbHVtbiksXG4gICAgICAgICAgICAgICAgdGV4dDogY2hhbmdlLm9sZFRleHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9hcHBseVVuZG9SZWRvRWRpdHMoZWRpdHMsIGVvbCwgdHJ1ZSwgZmFsc2UsIHJlc3VsdGluZ0FsdGVybmF0aXZlVmVyc2lvbklkLCByZXN1bHRpbmdTZWxlY3Rpb24pO1xuICAgIH1cbiAgICBfYXBwbHlSZWRvKGNoYW5nZXMsIGVvbCwgcmVzdWx0aW5nQWx0ZXJuYXRpdmVWZXJzaW9uSWQsIHJlc3VsdGluZ1NlbGVjdGlvbikge1xuICAgICAgICBjb25zdCBlZGl0cyA9IGNoYW5nZXMubWFwKChjaGFuZ2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlU3RhcnQgPSB0aGlzLmdldFBvc2l0aW9uQXQoY2hhbmdlLm9sZFBvc2l0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlRW5kID0gdGhpcy5nZXRQb3NpdGlvbkF0KGNoYW5nZS5vbGRFbmQpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByYW5nZTogbmV3IFJhbmdlKHJhbmdlU3RhcnQubGluZU51bWJlciwgcmFuZ2VTdGFydC5jb2x1bW4sIHJhbmdlRW5kLmxpbmVOdW1iZXIsIHJhbmdlRW5kLmNvbHVtbiksXG4gICAgICAgICAgICAgICAgdGV4dDogY2hhbmdlLm5ld1RleHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9hcHBseVVuZG9SZWRvRWRpdHMoZWRpdHMsIGVvbCwgZmFsc2UsIHRydWUsIHJlc3VsdGluZ0FsdGVybmF0aXZlVmVyc2lvbklkLCByZXN1bHRpbmdTZWxlY3Rpb24pO1xuICAgIH1cbiAgICBfYXBwbHlVbmRvUmVkb0VkaXRzKGVkaXRzLCBlb2wsIGlzVW5kb2luZywgaXNSZWRvaW5nLCByZXN1bHRpbmdBbHRlcm5hdGl2ZVZlcnNpb25JZCwgcmVzdWx0aW5nU2VsZWN0aW9uKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZURlY29yYXRpb25zLmJlZ2luRGVmZXJyZWRFbWl0KCk7XG4gICAgICAgICAgICB0aGlzLl9ldmVudEVtaXR0ZXIuYmVnaW5EZWZlcnJlZEVtaXQoKTtcbiAgICAgICAgICAgIHRoaXMuX2lzVW5kb2luZyA9IGlzVW5kb2luZztcbiAgICAgICAgICAgIHRoaXMuX2lzUmVkb2luZyA9IGlzUmVkb2luZztcbiAgICAgICAgICAgIHRoaXMuYXBwbHlFZGl0cyhlZGl0cywgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5zZXRFT0woZW9sKTtcbiAgICAgICAgICAgIHRoaXMuX292ZXJ3cml0ZUFsdGVybmF0aXZlVmVyc2lvbklkKHJlc3VsdGluZ0FsdGVybmF0aXZlVmVyc2lvbklkKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuX2lzVW5kb2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5faXNSZWRvaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9ldmVudEVtaXR0ZXIuZW5kRGVmZXJyZWRFbWl0KHJlc3VsdGluZ1NlbGVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZURlY29yYXRpb25zLmVuZERlZmVycmVkRW1pdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFwcGx5RWRpdHMocmF3T3BlcmF0aW9ucywgY29tcHV0ZVVuZG9FZGl0cyA9IGZhbHNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZURlY29yYXRpb25zLmJlZ2luRGVmZXJyZWRFbWl0KCk7XG4gICAgICAgICAgICB0aGlzLl9ldmVudEVtaXR0ZXIuYmVnaW5EZWZlcnJlZEVtaXQoKTtcbiAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbnMgPSB0aGlzLl92YWxpZGF0ZUVkaXRPcGVyYXRpb25zKHJhd09wZXJhdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RvQXBwbHlFZGl0cyhvcGVyYXRpb25zLCBjb21wdXRlVW5kb0VkaXRzKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50RW1pdHRlci5lbmREZWZlcnJlZEVtaXQoKTtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlRGVjb3JhdGlvbnMuZW5kRGVmZXJyZWRFbWl0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2RvQXBwbHlFZGl0cyhyYXdPcGVyYXRpb25zLCBjb21wdXRlVW5kb0VkaXRzKSB7XG4gICAgICAgIGNvbnN0IG9sZExpbmVDb3VudCA9IHRoaXMuX2J1ZmZlci5nZXRMaW5lQ291bnQoKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fYnVmZmVyLmFwcGx5RWRpdHMocmF3T3BlcmF0aW9ucywgdGhpcy5fb3B0aW9ucy50cmltQXV0b1doaXRlc3BhY2UsIGNvbXB1dGVVbmRvRWRpdHMpO1xuICAgICAgICBjb25zdCBuZXdMaW5lQ291bnQgPSB0aGlzLl9idWZmZXIuZ2V0TGluZUNvdW50KCk7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRDaGFuZ2VzID0gcmVzdWx0LmNoYW5nZXM7XG4gICAgICAgIHRoaXMuX3RyaW1BdXRvV2hpdGVzcGFjZUxpbmVzID0gcmVzdWx0LnRyaW1BdXRvV2hpdGVzcGFjZUxpbmVOdW1iZXJzO1xuICAgICAgICBpZiAoY29udGVudENoYW5nZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBXZSBkbyBhIGZpcnN0IHBhc3MgdG8gdXBkYXRlIGRlY29yYXRpb25zXG4gICAgICAgICAgICAvLyBiZWNhdXNlIHdlIHdhbnQgdG8gcmVhZCBkZWNvcmF0aW9ucyBpbiB0aGUgc2Vjb25kIHBhc3NcbiAgICAgICAgICAgIC8vIHdoZXJlIHdlIHdpbGwgZW1pdCBjb250ZW50IGNoYW5nZSBldmVudHNcbiAgICAgICAgICAgIC8vIGFuZCB3ZSB3YW50IHRvIHJlYWQgdGhlIGZpbmFsIGRlY29yYXRpb25zXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gY29udGVudENoYW5nZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFuZ2UgPSBjb250ZW50Q2hhbmdlc1tpXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWNvcmF0aW9uc1RyZWUuYWNjZXB0UmVwbGFjZShjaGFuZ2UucmFuZ2VPZmZzZXQsIGNoYW5nZS5yYW5nZUxlbmd0aCwgY2hhbmdlLnRleHQubGVuZ3RoLCBjaGFuZ2UuZm9yY2VNb3ZlTWFya2Vycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByYXdDb250ZW50Q2hhbmdlcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5faW5jcmVhc2VWZXJzaW9uSWQoKTtcbiAgICAgICAgICAgIGxldCBsaW5lQ291bnQgPSBvbGRMaW5lQ291bnQ7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gY29udGVudENoYW5nZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFuZ2UgPSBjb250ZW50Q2hhbmdlc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBbZW9sQ291bnRdID0gY291bnRFT0woY2hhbmdlLnRleHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlRGVjb3JhdGlvbnMuZmlyZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0TGluZU51bWJlciA9IGNoYW5nZS5yYW5nZS5zdGFydExpbmVOdW1iZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5kTGluZU51bWJlciA9IGNoYW5nZS5yYW5nZS5lbmRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0aW5nTGluZXNDbnQgPSBlbmRMaW5lTnVtYmVyIC0gc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluc2VydGluZ0xpbmVzQ250ID0gZW9sQ291bnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZWRpdGluZ0xpbmVzQ250ID0gTWF0aC5taW4oZGVsZXRpbmdMaW5lc0NudCwgaW5zZXJ0aW5nTGluZXNDbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZUxpbmVDb3VudERlbHRhID0gKGluc2VydGluZ0xpbmVzQ250IC0gZGVsZXRpbmdMaW5lc0NudCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEVkaXRTdGFydExpbmVOdW1iZXIgPSBuZXdMaW5lQ291bnQgLSBsaW5lQ291bnQgLSBjaGFuZ2VMaW5lQ291bnREZWx0YSArIHN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdEVkaXRMaW5lTnVtYmVyID0gY3VycmVudEVkaXRTdGFydExpbmVOdW1iZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdEluc2VydGVkTGluZU51bWJlciA9IGN1cnJlbnRFZGl0U3RhcnRMaW5lTnVtYmVyICsgaW5zZXJ0aW5nTGluZXNDbnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVjb3JhdGlvbnNXaXRoSW5qZWN0ZWRUZXh0SW5FZGl0ZWRSYW5nZSA9IHRoaXMuX2RlY29yYXRpb25zVHJlZS5nZXRJbmplY3RlZFRleHRJbkludGVydmFsKHRoaXMsIHRoaXMuZ2V0T2Zmc2V0QXQobmV3IFBvc2l0aW9uKGZpcnN0RWRpdExpbmVOdW1iZXIsIDEpKSwgdGhpcy5nZXRPZmZzZXRBdChuZXcgUG9zaXRpb24obGFzdEluc2VydGVkTGluZU51bWJlciwgdGhpcy5nZXRMaW5lTWF4Q29sdW1uKGxhc3RJbnNlcnRlZExpbmVOdW1iZXIpKSksIDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluamVjdGVkVGV4dEluRWRpdGVkUmFuZ2UgPSBMaW5lSW5qZWN0ZWRUZXh0LmZyb21EZWNvcmF0aW9ucyhkZWNvcmF0aW9uc1dpdGhJbmplY3RlZFRleHRJbkVkaXRlZFJhbmdlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmplY3RlZFRleHRJbkVkaXRlZFJhbmdlUXVldWUgPSBuZXcgQXJyYXlRdWV1ZShpbmplY3RlZFRleHRJbkVkaXRlZFJhbmdlKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gZWRpdGluZ0xpbmVzQ250OyBqID49IDA7IGotLSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlZGl0TGluZU51bWJlciA9IHN0YXJ0TGluZU51bWJlciArIGo7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRFZGl0TGluZU51bWJlciA9IGN1cnJlbnRFZGl0U3RhcnRMaW5lTnVtYmVyICsgajtcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0ZWRUZXh0SW5FZGl0ZWRSYW5nZVF1ZXVlLnRha2VGcm9tRW5kV2hpbGUociA9PiByLmxpbmVOdW1iZXIgPiBjdXJyZW50RWRpdExpbmVOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWNvcmF0aW9uc0luQ3VycmVudExpbmUgPSBpbmplY3RlZFRleHRJbkVkaXRlZFJhbmdlUXVldWUudGFrZUZyb21FbmRXaGlsZShyID0+IHIubGluZU51bWJlciA9PT0gY3VycmVudEVkaXRMaW5lTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmF3Q29udGVudENoYW5nZXMucHVzaChuZXcgTW9kZWxSYXdMaW5lQ2hhbmdlZChlZGl0TGluZU51bWJlciwgdGhpcy5nZXRMaW5lQ29udGVudChjdXJyZW50RWRpdExpbmVOdW1iZXIpLCBkZWNvcmF0aW9uc0luQ3VycmVudExpbmUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVkaXRpbmdMaW5lc0NudCA8IGRlbGV0aW5nTGluZXNDbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTXVzdCBkZWxldGUgc29tZSBsaW5lc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGxpY2VTdGFydExpbmVOdW1iZXIgPSBzdGFydExpbmVOdW1iZXIgKyBlZGl0aW5nTGluZXNDbnQ7XG4gICAgICAgICAgICAgICAgICAgIHJhd0NvbnRlbnRDaGFuZ2VzLnB1c2gobmV3IE1vZGVsUmF3TGluZXNEZWxldGVkKHNwbGljZVN0YXJ0TGluZU51bWJlciArIDEsIGVuZExpbmVOdW1iZXIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVkaXRpbmdMaW5lc0NudCA8IGluc2VydGluZ0xpbmVzQ250KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluamVjdGVkVGV4dEluRWRpdGVkUmFuZ2VRdWV1ZSA9IG5ldyBBcnJheVF1ZXVlKGluamVjdGVkVGV4dEluRWRpdGVkUmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAvLyBNdXN0IGluc2VydCBzb21lIGxpbmVzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwbGljZUxpbmVOdW1iZXIgPSBzdGFydExpbmVOdW1iZXIgKyBlZGl0aW5nTGluZXNDbnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNudCA9IGluc2VydGluZ0xpbmVzQ250IC0gZWRpdGluZ0xpbmVzQ250O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tTGluZU51bWJlciA9IG5ld0xpbmVDb3VudCAtIGxpbmVDb3VudCAtIGNudCArIHNwbGljZUxpbmVOdW1iZXIgKyAxO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmplY3RlZFRleHRzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0xpbmVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY250OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVOdW1iZXIgPSBmcm9tTGluZU51bWJlciArIGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdMaW5lc1tpXSA9IHRoaXMuZ2V0TGluZUNvbnRlbnQobGluZU51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmplY3RlZFRleHRJbkVkaXRlZFJhbmdlUXVldWUudGFrZVdoaWxlKHIgPT4gci5saW5lTnVtYmVyIDwgbGluZU51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmplY3RlZFRleHRzW2ldID0gaW5qZWN0ZWRUZXh0SW5FZGl0ZWRSYW5nZVF1ZXVlLnRha2VXaGlsZShyID0+IHIubGluZU51bWJlciA9PT0gbGluZU51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmF3Q29udGVudENoYW5nZXMucHVzaChuZXcgTW9kZWxSYXdMaW5lc0luc2VydGVkKHNwbGljZUxpbmVOdW1iZXIgKyAxLCBzdGFydExpbmVOdW1iZXIgKyBpbnNlcnRpbmdMaW5lc0NudCwgbmV3TGluZXMsIGluamVjdGVkVGV4dHMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGluZUNvdW50ICs9IGNoYW5nZUxpbmVDb3VudERlbHRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZW1pdENvbnRlbnRDaGFuZ2VkRXZlbnQobmV3IE1vZGVsUmF3Q29udGVudENoYW5nZWRFdmVudChyYXdDb250ZW50Q2hhbmdlcywgdGhpcy5nZXRWZXJzaW9uSWQoKSwgdGhpcy5faXNVbmRvaW5nLCB0aGlzLl9pc1JlZG9pbmcpLCB7XG4gICAgICAgICAgICAgICAgY2hhbmdlczogY29udGVudENoYW5nZXMsXG4gICAgICAgICAgICAgICAgZW9sOiB0aGlzLl9idWZmZXIuZ2V0RU9MKCksXG4gICAgICAgICAgICAgICAgaXNFb2xDaGFuZ2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZlcnNpb25JZDogdGhpcy5nZXRWZXJzaW9uSWQoKSxcbiAgICAgICAgICAgICAgICBpc1VuZG9pbmc6IHRoaXMuX2lzVW5kb2luZyxcbiAgICAgICAgICAgICAgICBpc1JlZG9pbmc6IHRoaXMuX2lzUmVkb2luZyxcbiAgICAgICAgICAgICAgICBpc0ZsdXNoOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChyZXN1bHQucmV2ZXJzZUVkaXRzID09PSBudWxsID8gdW5kZWZpbmVkIDogcmVzdWx0LnJldmVyc2VFZGl0cyk7XG4gICAgfVxuICAgIHVuZG8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91bmRvUmVkb1NlcnZpY2UudW5kbyh0aGlzLnVyaSk7XG4gICAgfVxuICAgIGNhblVuZG8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91bmRvUmVkb1NlcnZpY2UuY2FuVW5kbyh0aGlzLnVyaSk7XG4gICAgfVxuICAgIHJlZG8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91bmRvUmVkb1NlcnZpY2UucmVkbyh0aGlzLnVyaSk7XG4gICAgfVxuICAgIGNhblJlZG8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91bmRvUmVkb1NlcnZpY2UuY2FuUmVkbyh0aGlzLnVyaSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vI3JlZ2lvbiBEZWNvcmF0aW9uc1xuICAgIGhhbmRsZUJlZm9yZUZpcmVEZWNvcmF0aW9uc0NoYW5nZWRFdmVudChhZmZlY3RlZEluamVjdGVkVGV4dExpbmVzKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgY2FsbGVkIGJlZm9yZSB0aGUgZGVjb3JhdGlvbiBjaGFuZ2VkIGV2ZW50IGlzIGZpcmVkLlxuICAgICAgICBpZiAoYWZmZWN0ZWRJbmplY3RlZFRleHRMaW5lcyA9PT0gbnVsbCB8fCBhZmZlY3RlZEluamVjdGVkVGV4dExpbmVzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhZmZlY3RlZExpbmVzID0gQXJyYXkuZnJvbShhZmZlY3RlZEluamVjdGVkVGV4dExpbmVzKTtcbiAgICAgICAgY29uc3QgbGluZUNoYW5nZUV2ZW50cyA9IGFmZmVjdGVkTGluZXMubWFwKGxpbmVOdW1iZXIgPT4gbmV3IE1vZGVsUmF3TGluZUNoYW5nZWQobGluZU51bWJlciwgdGhpcy5nZXRMaW5lQ29udGVudChsaW5lTnVtYmVyKSwgdGhpcy5fZ2V0SW5qZWN0ZWRUZXh0SW5MaW5lKGxpbmVOdW1iZXIpKSk7XG4gICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlSW5qZWN0ZWRUZXh0LmZpcmUobmV3IE1vZGVsSW5qZWN0ZWRUZXh0Q2hhbmdlZEV2ZW50KGxpbmVDaGFuZ2VFdmVudHMpKTtcbiAgICB9XG4gICAgY2hhbmdlRGVjb3JhdGlvbnMoY2FsbGJhY2ssIG93bmVySWQgPSAwKSB7XG4gICAgICAgIHRoaXMuX2Fzc2VydE5vdERpc3Bvc2VkKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZURlY29yYXRpb25zLmJlZ2luRGVmZXJyZWRFbWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hhbmdlRGVjb3JhdGlvbnMob3duZXJJZCwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VEZWNvcmF0aW9ucy5lbmREZWZlcnJlZEVtaXQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY2hhbmdlRGVjb3JhdGlvbnMob3duZXJJZCwgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgY2hhbmdlQWNjZXNzb3IgPSB7XG4gICAgICAgICAgICBhZGREZWNvcmF0aW9uOiAocmFuZ2UsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVsdGFEZWNvcmF0aW9uc0ltcGwob3duZXJJZCwgW10sIFt7IHJhbmdlOiByYW5nZSwgb3B0aW9uczogb3B0aW9ucyB9XSlbMF07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hhbmdlRGVjb3JhdGlvbjogKGlkLCBuZXdSYW5nZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZURlY29yYXRpb25JbXBsKGlkLCBuZXdSYW5nZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hhbmdlRGVjb3JhdGlvbk9wdGlvbnM6IChpZCwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZURlY29yYXRpb25PcHRpb25zSW1wbChpZCwgX25vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucykpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZURlY29yYXRpb246IChpZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlbHRhRGVjb3JhdGlvbnNJbXBsKG93bmVySWQsIFtpZF0sIFtdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWx0YURlY29yYXRpb25zOiAob2xkRGVjb3JhdGlvbnMsIG5ld0RlY29yYXRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG9sZERlY29yYXRpb25zLmxlbmd0aCA9PT0gMCAmJiBuZXdEZWNvcmF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90aGluZyB0byBkb1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWx0YURlY29yYXRpb25zSW1wbChvd25lcklkLCBvbGREZWNvcmF0aW9ucywgbmV3RGVjb3JhdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBsZXQgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGNhbGxiYWNrKGNoYW5nZUFjY2Vzc29yKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgb25VbmV4cGVjdGVkRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW52YWxpZGF0ZSBjaGFuZ2UgYWNjZXNzb3JcbiAgICAgICAgY2hhbmdlQWNjZXNzb3IuYWRkRGVjb3JhdGlvbiA9IGludmFsaWRGdW5jO1xuICAgICAgICBjaGFuZ2VBY2Nlc3Nvci5jaGFuZ2VEZWNvcmF0aW9uID0gaW52YWxpZEZ1bmM7XG4gICAgICAgIGNoYW5nZUFjY2Vzc29yLmNoYW5nZURlY29yYXRpb25PcHRpb25zID0gaW52YWxpZEZ1bmM7XG4gICAgICAgIGNoYW5nZUFjY2Vzc29yLnJlbW92ZURlY29yYXRpb24gPSBpbnZhbGlkRnVuYztcbiAgICAgICAgY2hhbmdlQWNjZXNzb3IuZGVsdGFEZWNvcmF0aW9ucyA9IGludmFsaWRGdW5jO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBkZWx0YURlY29yYXRpb25zKG9sZERlY29yYXRpb25zLCBuZXdEZWNvcmF0aW9ucywgb3duZXJJZCA9IDApIHtcbiAgICAgICAgdGhpcy5fYXNzZXJ0Tm90RGlzcG9zZWQoKTtcbiAgICAgICAgaWYgKCFvbGREZWNvcmF0aW9ucykge1xuICAgICAgICAgICAgb2xkRGVjb3JhdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2xkRGVjb3JhdGlvbnMubGVuZ3RoID09PSAwICYmIG5ld0RlY29yYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gbm90aGluZyB0byBkb1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9kZWx0YURlY29yYXRpb25DYWxsQ250Kys7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGVsdGFEZWNvcmF0aW9uQ2FsbENudCA+IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEludm9raW5nIGRlbHRhRGVjb3JhdGlvbnMgcmVjdXJzaXZlbHkgY291bGQgbGVhZCB0byBsZWFraW5nIGRlY29yYXRpb25zLmApO1xuICAgICAgICAgICAgICAgIG9uVW5leHBlY3RlZEVycm9yKG5ldyBFcnJvcihgSW52b2tpbmcgZGVsdGFEZWNvcmF0aW9ucyByZWN1cnNpdmVseSBjb3VsZCBsZWFkIHRvIGxlYWtpbmcgZGVjb3JhdGlvbnMuYCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VEZWNvcmF0aW9ucy5iZWdpbkRlZmVycmVkRW1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlbHRhRGVjb3JhdGlvbnNJbXBsKG93bmVySWQsIG9sZERlY29yYXRpb25zLCBuZXdEZWNvcmF0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZURlY29yYXRpb25zLmVuZERlZmVycmVkRW1pdCgpO1xuICAgICAgICAgICAgdGhpcy5fZGVsdGFEZWNvcmF0aW9uQ2FsbENudC0tO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXRUcmFja2VkUmFuZ2UoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVjb3JhdGlvblJhbmdlKGlkKTtcbiAgICB9XG4gICAgX3NldFRyYWNrZWRSYW5nZShpZCwgbmV3UmFuZ2UsIG5ld1N0aWNraW5lc3MpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IChpZCA/IHRoaXMuX2RlY29yYXRpb25zW2lkXSA6IG51bGwpO1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIGlmICghbmV3UmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAvLyBub2RlIGRvZXNuJ3QgZXhpc3QsIHRoZSByZXF1ZXN0IGlzIHRvIGRlbGV0ZSA9PiBub3RoaW5nIHRvIGRvXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBub2RlIGRvZXNuJ3QgZXhpc3QsIHRoZSByZXF1ZXN0IGlzIHRvIHNldCA9PiBhZGQgdGhlIHRyYWNrZWQgcmFuZ2VcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWx0YURlY29yYXRpb25zSW1wbCgwLCBbXSwgW3sgcmFuZ2U6IG5ld1JhbmdlLCBvcHRpb25zOiBUUkFDS0VEX1JBTkdFX09QVElPTlNbbmV3U3RpY2tpbmVzc10gfV0sIHRydWUpWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV3UmFuZ2UpIHtcbiAgICAgICAgICAgIC8vIG5vZGUgZXhpc3RzLCB0aGUgcmVxdWVzdCBpcyB0byBkZWxldGUgPT4gZGVsZXRlIG5vZGVcbiAgICAgICAgICAgIHRoaXMuX2RlY29yYXRpb25zVHJlZS5kZWxldGUobm9kZSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZGVjb3JhdGlvbnNbbm9kZS5pZF07XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBub2RlIGV4aXN0cywgdGhlIHJlcXVlc3QgaXMgdG8gc2V0ID0+IGNoYW5nZSB0aGUgdHJhY2tlZCByYW5nZSBhbmQgaXRzIG9wdGlvbnNcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLl92YWxpZGF0ZVJhbmdlUmVsYXhlZE5vQWxsb2NhdGlvbnMobmV3UmFuZ2UpO1xuICAgICAgICBjb25zdCBzdGFydE9mZnNldCA9IHRoaXMuX2J1ZmZlci5nZXRPZmZzZXRBdChyYW5nZS5zdGFydExpbmVOdW1iZXIsIHJhbmdlLnN0YXJ0Q29sdW1uKTtcbiAgICAgICAgY29uc3QgZW5kT2Zmc2V0ID0gdGhpcy5fYnVmZmVyLmdldE9mZnNldEF0KHJhbmdlLmVuZExpbmVOdW1iZXIsIHJhbmdlLmVuZENvbHVtbik7XG4gICAgICAgIHRoaXMuX2RlY29yYXRpb25zVHJlZS5kZWxldGUobm9kZSk7XG4gICAgICAgIG5vZGUucmVzZXQodGhpcy5nZXRWZXJzaW9uSWQoKSwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgcmFuZ2UpO1xuICAgICAgICBub2RlLnNldE9wdGlvbnMoVFJBQ0tFRF9SQU5HRV9PUFRJT05TW25ld1N0aWNraW5lc3NdKTtcbiAgICAgICAgdGhpcy5fZGVjb3JhdGlvbnNUcmVlLmluc2VydChub2RlKTtcbiAgICAgICAgcmV0dXJuIG5vZGUuaWQ7XG4gICAgfVxuICAgIHJlbW92ZUFsbERlY29yYXRpb25zV2l0aE93bmVySWQob3duZXJJZCkge1xuICAgICAgICBpZiAodGhpcy5faXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5vZGVzID0gdGhpcy5fZGVjb3JhdGlvbnNUcmVlLmNvbGxlY3ROb2Rlc0Zyb21Pd25lcihvd25lcklkKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgICAgICB0aGlzLl9kZWNvcmF0aW9uc1RyZWUuZGVsZXRlKG5vZGUpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2RlY29yYXRpb25zW25vZGUuaWRdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldERlY29yYXRpb25PcHRpb25zKGRlY29yYXRpb25JZCkge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5fZGVjb3JhdGlvbnNbZGVjb3JhdGlvbklkXTtcbiAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZS5vcHRpb25zO1xuICAgIH1cbiAgICBnZXREZWNvcmF0aW9uUmFuZ2UoZGVjb3JhdGlvbklkKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLl9kZWNvcmF0aW9uc1tkZWNvcmF0aW9uSWRdO1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWNvcmF0aW9uc1RyZWUuZ2V0Tm9kZVJhbmdlKHRoaXMsIG5vZGUpO1xuICAgIH1cbiAgICBnZXRMaW5lRGVjb3JhdGlvbnMobGluZU51bWJlciwgb3duZXJJZCA9IDAsIGZpbHRlck91dFZhbGlkYXRpb24gPSBmYWxzZSkge1xuICAgICAgICBpZiAobGluZU51bWJlciA8IDEgfHwgbGluZU51bWJlciA+IHRoaXMuZ2V0TGluZUNvdW50KCkpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRMaW5lc0RlY29yYXRpb25zKGxpbmVOdW1iZXIsIGxpbmVOdW1iZXIsIG93bmVySWQsIGZpbHRlck91dFZhbGlkYXRpb24pO1xuICAgIH1cbiAgICBnZXRMaW5lc0RlY29yYXRpb25zKF9zdGFydExpbmVOdW1iZXIsIF9lbmRMaW5lTnVtYmVyLCBvd25lcklkID0gMCwgZmlsdGVyT3V0VmFsaWRhdGlvbiA9IGZhbHNlLCBvbmx5TWFyZ2luRGVjb3JhdGlvbnMgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBsaW5lQ291bnQgPSB0aGlzLmdldExpbmVDb3VudCgpO1xuICAgICAgICBjb25zdCBzdGFydExpbmVOdW1iZXIgPSBNYXRoLm1pbihsaW5lQ291bnQsIE1hdGgubWF4KDEsIF9zdGFydExpbmVOdW1iZXIpKTtcbiAgICAgICAgY29uc3QgZW5kTGluZU51bWJlciA9IE1hdGgubWluKGxpbmVDb3VudCwgTWF0aC5tYXgoMSwgX2VuZExpbmVOdW1iZXIpKTtcbiAgICAgICAgY29uc3QgZW5kQ29sdW1uID0gdGhpcy5nZXRMaW5lTWF4Q29sdW1uKGVuZExpbmVOdW1iZXIpO1xuICAgICAgICBjb25zdCByYW5nZSA9IG5ldyBSYW5nZShzdGFydExpbmVOdW1iZXIsIDEsIGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbik7XG4gICAgICAgIGNvbnN0IGRlY29yYXRpb25zID0gdGhpcy5fZ2V0RGVjb3JhdGlvbnNJblJhbmdlKHJhbmdlLCBvd25lcklkLCBmaWx0ZXJPdXRWYWxpZGF0aW9uLCBvbmx5TWFyZ2luRGVjb3JhdGlvbnMpO1xuICAgICAgICBwdXNoTWFueShkZWNvcmF0aW9ucywgdGhpcy5fZGVjb3JhdGlvblByb3ZpZGVyLmdldERlY29yYXRpb25zSW5SYW5nZShyYW5nZSwgb3duZXJJZCwgZmlsdGVyT3V0VmFsaWRhdGlvbikpO1xuICAgICAgICByZXR1cm4gZGVjb3JhdGlvbnM7XG4gICAgfVxuICAgIGdldERlY29yYXRpb25zSW5SYW5nZShyYW5nZSwgb3duZXJJZCA9IDAsIGZpbHRlck91dFZhbGlkYXRpb24gPSBmYWxzZSwgb25seU1pbmltYXBEZWNvcmF0aW9ucyA9IGZhbHNlLCBvbmx5TWFyZ2luRGVjb3JhdGlvbnMgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRSYW5nZSA9IHRoaXMudmFsaWRhdGVSYW5nZShyYW5nZSk7XG4gICAgICAgIGNvbnN0IGRlY29yYXRpb25zID0gdGhpcy5fZ2V0RGVjb3JhdGlvbnNJblJhbmdlKHZhbGlkYXRlZFJhbmdlLCBvd25lcklkLCBmaWx0ZXJPdXRWYWxpZGF0aW9uLCBvbmx5TWFyZ2luRGVjb3JhdGlvbnMpO1xuICAgICAgICBwdXNoTWFueShkZWNvcmF0aW9ucywgdGhpcy5fZGVjb3JhdGlvblByb3ZpZGVyLmdldERlY29yYXRpb25zSW5SYW5nZSh2YWxpZGF0ZWRSYW5nZSwgb3duZXJJZCwgZmlsdGVyT3V0VmFsaWRhdGlvbiwgb25seU1pbmltYXBEZWNvcmF0aW9ucykpO1xuICAgICAgICByZXR1cm4gZGVjb3JhdGlvbnM7XG4gICAgfVxuICAgIGdldE92ZXJ2aWV3UnVsZXJEZWNvcmF0aW9ucyhvd25lcklkID0gMCwgZmlsdGVyT3V0VmFsaWRhdGlvbiA9IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWNvcmF0aW9uc1RyZWUuZ2V0QWxsKHRoaXMsIG93bmVySWQsIGZpbHRlck91dFZhbGlkYXRpb24sIHRydWUsIGZhbHNlKTtcbiAgICB9XG4gICAgZ2V0SW5qZWN0ZWRUZXh0RGVjb3JhdGlvbnMob3duZXJJZCA9IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlY29yYXRpb25zVHJlZS5nZXRBbGxJbmplY3RlZFRleHQodGhpcywgb3duZXJJZCk7XG4gICAgfVxuICAgIF9nZXRJbmplY3RlZFRleHRJbkxpbmUobGluZU51bWJlcikge1xuICAgICAgICBjb25zdCBzdGFydE9mZnNldCA9IHRoaXMuX2J1ZmZlci5nZXRPZmZzZXRBdChsaW5lTnVtYmVyLCAxKTtcbiAgICAgICAgY29uc3QgZW5kT2Zmc2V0ID0gc3RhcnRPZmZzZXQgKyB0aGlzLl9idWZmZXIuZ2V0TGluZUxlbmd0aChsaW5lTnVtYmVyKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVjb3JhdGlvbnNUcmVlLmdldEluamVjdGVkVGV4dEluSW50ZXJ2YWwodGhpcywgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgMCk7XG4gICAgICAgIHJldHVybiBMaW5lSW5qZWN0ZWRUZXh0LmZyb21EZWNvcmF0aW9ucyhyZXN1bHQpLmZpbHRlcih0ID0+IHQubGluZU51bWJlciA9PT0gbGluZU51bWJlcik7XG4gICAgfVxuICAgIGdldEFsbERlY29yYXRpb25zKG93bmVySWQgPSAwLCBmaWx0ZXJPdXRWYWxpZGF0aW9uID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuX2RlY29yYXRpb25zVHJlZS5nZXRBbGwodGhpcywgb3duZXJJZCwgZmlsdGVyT3V0VmFsaWRhdGlvbiwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdCh0aGlzLl9kZWNvcmF0aW9uUHJvdmlkZXIuZ2V0QWxsRGVjb3JhdGlvbnMob3duZXJJZCwgZmlsdGVyT3V0VmFsaWRhdGlvbikpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBnZXRBbGxNYXJnaW5EZWNvcmF0aW9ucyhvd25lcklkID0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVjb3JhdGlvbnNUcmVlLmdldEFsbCh0aGlzLCBvd25lcklkLCBmYWxzZSwgZmFsc2UsIHRydWUpO1xuICAgIH1cbiAgICBfZ2V0RGVjb3JhdGlvbnNJblJhbmdlKGZpbHRlclJhbmdlLCBmaWx0ZXJPd25lcklkLCBmaWx0ZXJPdXRWYWxpZGF0aW9uLCBvbmx5TWFyZ2luRGVjb3JhdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSB0aGlzLl9idWZmZXIuZ2V0T2Zmc2V0QXQoZmlsdGVyUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLCBmaWx0ZXJSYW5nZS5zdGFydENvbHVtbik7XG4gICAgICAgIGNvbnN0IGVuZE9mZnNldCA9IHRoaXMuX2J1ZmZlci5nZXRPZmZzZXRBdChmaWx0ZXJSYW5nZS5lbmRMaW5lTnVtYmVyLCBmaWx0ZXJSYW5nZS5lbmRDb2x1bW4pO1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVjb3JhdGlvbnNUcmVlLmdldEFsbEluSW50ZXJ2YWwodGhpcywgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgZmlsdGVyT3duZXJJZCwgZmlsdGVyT3V0VmFsaWRhdGlvbiwgb25seU1hcmdpbkRlY29yYXRpb25zKTtcbiAgICB9XG4gICAgZ2V0UmFuZ2VBdChzdGFydCwgZW5kKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuZ2V0UmFuZ2VBdChzdGFydCwgZW5kIC0gc3RhcnQpO1xuICAgIH1cbiAgICBfY2hhbmdlRGVjb3JhdGlvbkltcGwoZGVjb3JhdGlvbklkLCBfcmFuZ2UpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuX2RlY29yYXRpb25zW2RlY29yYXRpb25JZF07XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLm9wdGlvbnMuYWZ0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZFJhbmdlID0gdGhpcy5nZXREZWNvcmF0aW9uUmFuZ2UoZGVjb3JhdGlvbklkKTtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlRGVjb3JhdGlvbnMucmVjb3JkTGluZUFmZmVjdGVkQnlJbmplY3RlZFRleHQob2xkUmFuZ2UuZW5kTGluZU51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUub3B0aW9ucy5iZWZvcmUpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZFJhbmdlID0gdGhpcy5nZXREZWNvcmF0aW9uUmFuZ2UoZGVjb3JhdGlvbklkKTtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlRGVjb3JhdGlvbnMucmVjb3JkTGluZUFmZmVjdGVkQnlJbmplY3RlZFRleHQob2xkUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMuX3ZhbGlkYXRlUmFuZ2VSZWxheGVkTm9BbGxvY2F0aW9ucyhfcmFuZ2UpO1xuICAgICAgICBjb25zdCBzdGFydE9mZnNldCA9IHRoaXMuX2J1ZmZlci5nZXRPZmZzZXRBdChyYW5nZS5zdGFydExpbmVOdW1iZXIsIHJhbmdlLnN0YXJ0Q29sdW1uKTtcbiAgICAgICAgY29uc3QgZW5kT2Zmc2V0ID0gdGhpcy5fYnVmZmVyLmdldE9mZnNldEF0KHJhbmdlLmVuZExpbmVOdW1iZXIsIHJhbmdlLmVuZENvbHVtbik7XG4gICAgICAgIHRoaXMuX2RlY29yYXRpb25zVHJlZS5kZWxldGUobm9kZSk7XG4gICAgICAgIG5vZGUucmVzZXQodGhpcy5nZXRWZXJzaW9uSWQoKSwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgcmFuZ2UpO1xuICAgICAgICB0aGlzLl9kZWNvcmF0aW9uc1RyZWUuaW5zZXJ0KG5vZGUpO1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZURlY29yYXRpb25zLmNoZWNrQWZmZWN0ZWRBbmRGaXJlKG5vZGUub3B0aW9ucyk7XG4gICAgICAgIGlmIChub2RlLm9wdGlvbnMuYWZ0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlRGVjb3JhdGlvbnMucmVjb3JkTGluZUFmZmVjdGVkQnlJbmplY3RlZFRleHQocmFuZ2UuZW5kTGluZU51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUub3B0aW9ucy5iZWZvcmUpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlRGVjb3JhdGlvbnMucmVjb3JkTGluZUFmZmVjdGVkQnlJbmplY3RlZFRleHQocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY2hhbmdlRGVjb3JhdGlvbk9wdGlvbnNJbXBsKGRlY29yYXRpb25JZCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5fZGVjb3JhdGlvbnNbZGVjb3JhdGlvbklkXTtcbiAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgbm9kZVdhc0luT3ZlcnZpZXdSdWxlciA9IChub2RlLm9wdGlvbnMub3ZlcnZpZXdSdWxlciAmJiBub2RlLm9wdGlvbnMub3ZlcnZpZXdSdWxlci5jb2xvciA/IHRydWUgOiBmYWxzZSk7XG4gICAgICAgIGNvbnN0IG5vZGVJc0luT3ZlcnZpZXdSdWxlciA9IChvcHRpb25zLm92ZXJ2aWV3UnVsZXIgJiYgb3B0aW9ucy5vdmVydmlld1J1bGVyLmNvbG9yID8gdHJ1ZSA6IGZhbHNlKTtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VEZWNvcmF0aW9ucy5jaGVja0FmZmVjdGVkQW5kRmlyZShub2RlLm9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZURlY29yYXRpb25zLmNoZWNrQWZmZWN0ZWRBbmRGaXJlKG9wdGlvbnMpO1xuICAgICAgICBpZiAobm9kZS5vcHRpb25zLmFmdGVyIHx8IG9wdGlvbnMuYWZ0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGVSYW5nZSA9IHRoaXMuX2RlY29yYXRpb25zVHJlZS5nZXROb2RlUmFuZ2UodGhpcywgbm9kZSk7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZURlY29yYXRpb25zLnJlY29yZExpbmVBZmZlY3RlZEJ5SW5qZWN0ZWRUZXh0KG5vZGVSYW5nZS5lbmRMaW5lTnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5vcHRpb25zLmJlZm9yZSB8fCBvcHRpb25zLmJlZm9yZSkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZVJhbmdlID0gdGhpcy5fZGVjb3JhdGlvbnNUcmVlLmdldE5vZGVSYW5nZSh0aGlzLCBub2RlKTtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlRGVjb3JhdGlvbnMucmVjb3JkTGluZUFmZmVjdGVkQnlJbmplY3RlZFRleHQobm9kZVJhbmdlLnN0YXJ0TGluZU51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW92ZWRJbk92ZXJ2aWV3UnVsZXIgPSBub2RlV2FzSW5PdmVydmlld1J1bGVyICE9PSBub2RlSXNJbk92ZXJ2aWV3UnVsZXI7XG4gICAgICAgIGNvbnN0IGNoYW5nZWRXaGV0aGVySW5qZWN0ZWRUZXh0ID0gaXNPcHRpb25zSW5qZWN0ZWRUZXh0KG9wdGlvbnMpICE9PSBpc05vZGVJbmplY3RlZFRleHQobm9kZSk7XG4gICAgICAgIGlmIChtb3ZlZEluT3ZlcnZpZXdSdWxlciB8fCBjaGFuZ2VkV2hldGhlckluamVjdGVkVGV4dCkge1xuICAgICAgICAgICAgdGhpcy5fZGVjb3JhdGlvbnNUcmVlLmRlbGV0ZShub2RlKTtcbiAgICAgICAgICAgIG5vZGUuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuX2RlY29yYXRpb25zVHJlZS5pbnNlcnQobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBub2RlLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2RlbHRhRGVjb3JhdGlvbnNJbXBsKG93bmVySWQsIG9sZERlY29yYXRpb25zSWRzLCBuZXdEZWNvcmF0aW9ucywgc3VwcHJlc3NFdmVudHMgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCB2ZXJzaW9uSWQgPSB0aGlzLmdldFZlcnNpb25JZCgpO1xuICAgICAgICBjb25zdCBvbGREZWNvcmF0aW9uc0xlbiA9IG9sZERlY29yYXRpb25zSWRzLmxlbmd0aDtcbiAgICAgICAgbGV0IG9sZERlY29yYXRpb25JbmRleCA9IDA7XG4gICAgICAgIGNvbnN0IG5ld0RlY29yYXRpb25zTGVuID0gbmV3RGVjb3JhdGlvbnMubGVuZ3RoO1xuICAgICAgICBsZXQgbmV3RGVjb3JhdGlvbkluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VEZWNvcmF0aW9ucy5iZWdpbkRlZmVycmVkRW1pdCgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5KG5ld0RlY29yYXRpb25zTGVuKTtcbiAgICAgICAgICAgIHdoaWxlIChvbGREZWNvcmF0aW9uSW5kZXggPCBvbGREZWNvcmF0aW9uc0xlbiB8fCBuZXdEZWNvcmF0aW9uSW5kZXggPCBuZXdEZWNvcmF0aW9uc0xlbikge1xuICAgICAgICAgICAgICAgIGxldCBub2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAob2xkRGVjb3JhdGlvbkluZGV4IDwgb2xkRGVjb3JhdGlvbnNMZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gKDEpIGdldCBvdXJzZWx2ZXMgYW4gb2xkIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHRoaXMuX2RlY29yYXRpb25zW29sZERlY29yYXRpb25zSWRzW29sZERlY29yYXRpb25JbmRleCsrXV07XG4gICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKCFub2RlICYmIG9sZERlY29yYXRpb25JbmRleCA8IG9sZERlY29yYXRpb25zTGVuKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gKDIpIHJlbW92ZSB0aGUgbm9kZSBmcm9tIHRoZSB0cmVlIChpZiBpdCBleGlzdHMpXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5vcHRpb25zLmFmdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZVJhbmdlID0gdGhpcy5fZGVjb3JhdGlvbnNUcmVlLmdldE5vZGVSYW5nZSh0aGlzLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZURlY29yYXRpb25zLnJlY29yZExpbmVBZmZlY3RlZEJ5SW5qZWN0ZWRUZXh0KG5vZGVSYW5nZS5lbmRMaW5lTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm9wdGlvbnMuYmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZVJhbmdlID0gdGhpcy5fZGVjb3JhdGlvbnNUcmVlLmdldE5vZGVSYW5nZSh0aGlzLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZURlY29yYXRpb25zLnJlY29yZExpbmVBZmZlY3RlZEJ5SW5qZWN0ZWRUZXh0KG5vZGVSYW5nZS5zdGFydExpbmVOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVjb3JhdGlvbnNUcmVlLmRlbGV0ZShub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3VwcHJlc3NFdmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZURlY29yYXRpb25zLmNoZWNrQWZmZWN0ZWRBbmRGaXJlKG5vZGUub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5ld0RlY29yYXRpb25JbmRleCA8IG5ld0RlY29yYXRpb25zTGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICgzKSBjcmVhdGUgYSBuZXcgbm9kZSBpZiBuZWNlc3NhcnlcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnRlcm5hbERlY29yYXRpb25JZCA9ICgrK3RoaXMuX2xhc3REZWNvcmF0aW9uSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVjb3JhdGlvbklkID0gYCR7dGhpcy5faW5zdGFuY2VJZH07JHtpbnRlcm5hbERlY29yYXRpb25JZH1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5ldyBJbnRlcnZhbE5vZGUoZGVjb3JhdGlvbklkLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RlY29yYXRpb25zW2RlY29yYXRpb25JZF0gPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vICg0KSBpbml0aWFsaXplIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RGVjb3JhdGlvbiA9IG5ld0RlY29yYXRpb25zW25ld0RlY29yYXRpb25JbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5fdmFsaWRhdGVSYW5nZVJlbGF4ZWROb0FsbG9jYXRpb25zKG5ld0RlY29yYXRpb24ucmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0gX25vcm1hbGl6ZU9wdGlvbnMobmV3RGVjb3JhdGlvbi5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSB0aGlzLl9idWZmZXIuZ2V0T2Zmc2V0QXQocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLCByYW5nZS5zdGFydENvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZE9mZnNldCA9IHRoaXMuX2J1ZmZlci5nZXRPZmZzZXRBdChyYW5nZS5lbmRMaW5lTnVtYmVyLCByYW5nZS5lbmRDb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICBub2RlLm93bmVySWQgPSBvd25lcklkO1xuICAgICAgICAgICAgICAgICAgICBub2RlLnJlc2V0KHZlcnNpb25JZCwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgcmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICBub2RlLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm9wdGlvbnMuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlRGVjb3JhdGlvbnMucmVjb3JkTGluZUFmZmVjdGVkQnlJbmplY3RlZFRleHQocmFuZ2UuZW5kTGluZU51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUub3B0aW9ucy5iZWZvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlRGVjb3JhdGlvbnMucmVjb3JkTGluZUFmZmVjdGVkQnlJbmplY3RlZFRleHQocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXN1cHByZXNzRXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZURlY29yYXRpb25zLmNoZWNrQWZmZWN0ZWRBbmRGaXJlKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RlY29yYXRpb25zVHJlZS5pbnNlcnQobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtuZXdEZWNvcmF0aW9uSW5kZXhdID0gbm9kZS5pZDtcbiAgICAgICAgICAgICAgICAgICAgbmV3RGVjb3JhdGlvbkluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2RlY29yYXRpb25zW25vZGUuaWRdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlRGVjb3JhdGlvbnMuZW5kRGVmZXJyZWRFbWl0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIFRva2VuaXphdGlvblxuICAgIC8vIFRPRE8gbW92ZSB0aGVtIHRvIHRoZSB0b2tlbml6YXRpb24gcGFydC5cbiAgICBnZXRMYW5ndWFnZUlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbml6YXRpb24uZ2V0TGFuZ3VhZ2VJZCgpO1xuICAgIH1cbiAgICBzZXRMYW5ndWFnZShsYW5ndWFnZUlkT3JTZWxlY3Rpb24sIHNvdXJjZSkge1xuICAgICAgICBpZiAodHlwZW9mIGxhbmd1YWdlSWRPclNlbGVjdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhbmd1YWdlU2VsZWN0aW9uTGlzdGVuZXIuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMuX3NldExhbmd1YWdlKGxhbmd1YWdlSWRPclNlbGVjdGlvbiwgc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2xhbmd1YWdlU2VsZWN0aW9uTGlzdGVuZXIudmFsdWUgPSBsYW5ndWFnZUlkT3JTZWxlY3Rpb24ub25EaWRDaGFuZ2UoKCkgPT4gdGhpcy5fc2V0TGFuZ3VhZ2UobGFuZ3VhZ2VJZE9yU2VsZWN0aW9uLmxhbmd1YWdlSWQsIHNvdXJjZSkpO1xuICAgICAgICAgICAgdGhpcy5fc2V0TGFuZ3VhZ2UobGFuZ3VhZ2VJZE9yU2VsZWN0aW9uLmxhbmd1YWdlSWQsIHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3NldExhbmd1YWdlKGxhbmd1YWdlSWQsIHNvdXJjZSkge1xuICAgICAgICB0aGlzLnRva2VuaXphdGlvbi5zZXRMYW5ndWFnZUlkKGxhbmd1YWdlSWQsIHNvdXJjZSk7XG4gICAgICAgIHRoaXMuX2xhbmd1YWdlU2VydmljZS5yZXF1ZXN0UmljaExhbmd1YWdlRmVhdHVyZXMobGFuZ3VhZ2VJZCk7XG4gICAgfVxuICAgIGdldExhbmd1YWdlSWRBdFBvc2l0aW9uKGxpbmVOdW1iZXIsIGNvbHVtbikge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbml6YXRpb24uZ2V0TGFuZ3VhZ2VJZEF0UG9zaXRpb24obGluZU51bWJlciwgY29sdW1uKTtcbiAgICB9XG4gICAgZ2V0V29yZEF0UG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rva2VuaXphdGlvblRleHRNb2RlbFBhcnQuZ2V0V29yZEF0UG9zaXRpb24ocG9zaXRpb24pO1xuICAgIH1cbiAgICBnZXRXb3JkVW50aWxQb3NpdGlvbihwb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9rZW5pemF0aW9uVGV4dE1vZGVsUGFydC5nZXRXb3JkVW50aWxQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIG5vcm1hbGl6ZVBvc2l0aW9uKHBvc2l0aW9uLCBhZmZpbml0eSkge1xuICAgICAgICByZXR1cm4gcG9zaXRpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGNvbHVtbiBhdCB3aGljaCBpbmRlbnRhdGlvbiBzdG9wcyBhdCBhIGdpdmVuIGxpbmUuXG4gICAgICogQGludGVybmFsXG4gICAgKi9cbiAgICBnZXRMaW5lSW5kZW50Q29sdW1uKGxpbmVOdW1iZXIpIHtcbiAgICAgICAgLy8gQ29sdW1ucyBzdGFydCB3aXRoIDEuXG4gICAgICAgIHJldHVybiBpbmRlbnRPZkxpbmUodGhpcy5nZXRMaW5lQ29udGVudChsaW5lTnVtYmVyKSkgKyAxO1xuICAgIH1cbn07XG5UZXh0TW9kZWwgPSBUZXh0TW9kZWxfMSA9IF9fZGVjb3JhdGUoW1xuICAgIF9fcGFyYW0oNCwgSVVuZG9SZWRvU2VydmljZSksXG4gICAgX19wYXJhbSg1LCBJTGFuZ3VhZ2VTZXJ2aWNlKSxcbiAgICBfX3BhcmFtKDYsIElMYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlKSxcbiAgICBfX3BhcmFtKDcsIElJbnN0YW50aWF0aW9uU2VydmljZSlcbl0sIFRleHRNb2RlbCk7XG5leHBvcnQgeyBUZXh0TW9kZWwgfTtcbmV4cG9ydCBmdW5jdGlvbiBpbmRlbnRPZkxpbmUobGluZSkge1xuICAgIGxldCBpbmRlbnQgPSAwO1xuICAgIGZvciAoY29uc3QgYyBvZiBsaW5lKSB7XG4gICAgICAgIGlmIChjID09PSAnICcgfHwgYyA9PT0gJ1xcdCcpIHtcbiAgICAgICAgICAgIGluZGVudCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGVudDtcbn1cbi8vI3JlZ2lvbiBEZWNvcmF0aW9uc1xuZnVuY3Rpb24gaXNOb2RlSW5PdmVydmlld1J1bGVyKG5vZGUpIHtcbiAgICByZXR1cm4gKG5vZGUub3B0aW9ucy5vdmVydmlld1J1bGVyICYmIG5vZGUub3B0aW9ucy5vdmVydmlld1J1bGVyLmNvbG9yID8gdHJ1ZSA6IGZhbHNlKTtcbn1cbmZ1bmN0aW9uIGlzT3B0aW9uc0luamVjdGVkVGV4dChvcHRpb25zKSB7XG4gICAgcmV0dXJuICEhb3B0aW9ucy5hZnRlciB8fCAhIW9wdGlvbnMuYmVmb3JlO1xufVxuZnVuY3Rpb24gaXNOb2RlSW5qZWN0ZWRUZXh0KG5vZGUpIHtcbiAgICByZXR1cm4gISFub2RlLm9wdGlvbnMuYWZ0ZXIgfHwgISFub2RlLm9wdGlvbnMuYmVmb3JlO1xufVxuY2xhc3MgRGVjb3JhdGlvbnNUcmVlcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2RlY29yYXRpb25zVHJlZTAgPSBuZXcgSW50ZXJ2YWxUcmVlKCk7XG4gICAgICAgIHRoaXMuX2RlY29yYXRpb25zVHJlZTEgPSBuZXcgSW50ZXJ2YWxUcmVlKCk7XG4gICAgICAgIHRoaXMuX2luamVjdGVkVGV4dERlY29yYXRpb25zVHJlZSA9IG5ldyBJbnRlcnZhbFRyZWUoKTtcbiAgICB9XG4gICAgZW5zdXJlQWxsTm9kZXNIYXZlUmFuZ2VzKGhvc3QpIHtcbiAgICAgICAgdGhpcy5nZXRBbGwoaG9zdCwgMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgfVxuICAgIF9lbnN1cmVOb2Rlc0hhdmVSYW5nZXMoaG9zdCwgbm9kZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG5vZGVzKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5yYW5nZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG5vZGUucmFuZ2UgPSBob3N0LmdldFJhbmdlQXQobm9kZS5jYWNoZWRBYnNvbHV0ZVN0YXJ0LCBub2RlLmNhY2hlZEFic29sdXRlRW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZXM7XG4gICAgfVxuICAgIGdldEFsbEluSW50ZXJ2YWwoaG9zdCwgc3RhcnQsIGVuZCwgZmlsdGVyT3duZXJJZCwgZmlsdGVyT3V0VmFsaWRhdGlvbiwgb25seU1hcmdpbkRlY29yYXRpb25zKSB7XG4gICAgICAgIGNvbnN0IHZlcnNpb25JZCA9IGhvc3QuZ2V0VmVyc2lvbklkKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2ludGVydmFsU2VhcmNoKHN0YXJ0LCBlbmQsIGZpbHRlck93bmVySWQsIGZpbHRlck91dFZhbGlkYXRpb24sIHZlcnNpb25JZCwgb25seU1hcmdpbkRlY29yYXRpb25zKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vuc3VyZU5vZGVzSGF2ZVJhbmdlcyhob3N0LCByZXN1bHQpO1xuICAgIH1cbiAgICBfaW50ZXJ2YWxTZWFyY2goc3RhcnQsIGVuZCwgZmlsdGVyT3duZXJJZCwgZmlsdGVyT3V0VmFsaWRhdGlvbiwgY2FjaGVkVmVyc2lvbklkLCBvbmx5TWFyZ2luRGVjb3JhdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcjAgPSB0aGlzLl9kZWNvcmF0aW9uc1RyZWUwLmludGVydmFsU2VhcmNoKHN0YXJ0LCBlbmQsIGZpbHRlck93bmVySWQsIGZpbHRlck91dFZhbGlkYXRpb24sIGNhY2hlZFZlcnNpb25JZCwgb25seU1hcmdpbkRlY29yYXRpb25zKTtcbiAgICAgICAgY29uc3QgcjEgPSB0aGlzLl9kZWNvcmF0aW9uc1RyZWUxLmludGVydmFsU2VhcmNoKHN0YXJ0LCBlbmQsIGZpbHRlck93bmVySWQsIGZpbHRlck91dFZhbGlkYXRpb24sIGNhY2hlZFZlcnNpb25JZCwgb25seU1hcmdpbkRlY29yYXRpb25zKTtcbiAgICAgICAgY29uc3QgcjIgPSB0aGlzLl9pbmplY3RlZFRleHREZWNvcmF0aW9uc1RyZWUuaW50ZXJ2YWxTZWFyY2goc3RhcnQsIGVuZCwgZmlsdGVyT3duZXJJZCwgZmlsdGVyT3V0VmFsaWRhdGlvbiwgY2FjaGVkVmVyc2lvbklkLCBvbmx5TWFyZ2luRGVjb3JhdGlvbnMpO1xuICAgICAgICByZXR1cm4gcjAuY29uY2F0KHIxKS5jb25jYXQocjIpO1xuICAgIH1cbiAgICBnZXRJbmplY3RlZFRleHRJbkludGVydmFsKGhvc3QsIHN0YXJ0LCBlbmQsIGZpbHRlck93bmVySWQpIHtcbiAgICAgICAgY29uc3QgdmVyc2lvbklkID0gaG9zdC5nZXRWZXJzaW9uSWQoKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5faW5qZWN0ZWRUZXh0RGVjb3JhdGlvbnNUcmVlLmludGVydmFsU2VhcmNoKHN0YXJ0LCBlbmQsIGZpbHRlck93bmVySWQsIGZhbHNlLCB2ZXJzaW9uSWQsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vuc3VyZU5vZGVzSGF2ZVJhbmdlcyhob3N0LCByZXN1bHQpLmZpbHRlcigoaSkgPT4gaS5vcHRpb25zLnNob3dJZkNvbGxhcHNlZCB8fCAhaS5yYW5nZS5pc0VtcHR5KCkpO1xuICAgIH1cbiAgICBnZXRBbGxJbmplY3RlZFRleHQoaG9zdCwgZmlsdGVyT3duZXJJZCkge1xuICAgICAgICBjb25zdCB2ZXJzaW9uSWQgPSBob3N0LmdldFZlcnNpb25JZCgpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9pbmplY3RlZFRleHREZWNvcmF0aW9uc1RyZWUuc2VhcmNoKGZpbHRlck93bmVySWQsIGZhbHNlLCB2ZXJzaW9uSWQsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vuc3VyZU5vZGVzSGF2ZVJhbmdlcyhob3N0LCByZXN1bHQpLmZpbHRlcigoaSkgPT4gaS5vcHRpb25zLnNob3dJZkNvbGxhcHNlZCB8fCAhaS5yYW5nZS5pc0VtcHR5KCkpO1xuICAgIH1cbiAgICBnZXRBbGwoaG9zdCwgZmlsdGVyT3duZXJJZCwgZmlsdGVyT3V0VmFsaWRhdGlvbiwgb3ZlcnZpZXdSdWxlck9ubHksIG9ubHlNYXJnaW5EZWNvcmF0aW9ucykge1xuICAgICAgICBjb25zdCB2ZXJzaW9uSWQgPSBob3N0LmdldFZlcnNpb25JZCgpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9zZWFyY2goZmlsdGVyT3duZXJJZCwgZmlsdGVyT3V0VmFsaWRhdGlvbiwgb3ZlcnZpZXdSdWxlck9ubHksIHZlcnNpb25JZCwgb25seU1hcmdpbkRlY29yYXRpb25zKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vuc3VyZU5vZGVzSGF2ZVJhbmdlcyhob3N0LCByZXN1bHQpO1xuICAgIH1cbiAgICBfc2VhcmNoKGZpbHRlck93bmVySWQsIGZpbHRlck91dFZhbGlkYXRpb24sIG92ZXJ2aWV3UnVsZXJPbmx5LCBjYWNoZWRWZXJzaW9uSWQsIG9ubHlNYXJnaW5EZWNvcmF0aW9ucykge1xuICAgICAgICBpZiAob3ZlcnZpZXdSdWxlck9ubHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWNvcmF0aW9uc1RyZWUxLnNlYXJjaChmaWx0ZXJPd25lcklkLCBmaWx0ZXJPdXRWYWxpZGF0aW9uLCBjYWNoZWRWZXJzaW9uSWQsIG9ubHlNYXJnaW5EZWNvcmF0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByMCA9IHRoaXMuX2RlY29yYXRpb25zVHJlZTAuc2VhcmNoKGZpbHRlck93bmVySWQsIGZpbHRlck91dFZhbGlkYXRpb24sIGNhY2hlZFZlcnNpb25JZCwgb25seU1hcmdpbkRlY29yYXRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IHIxID0gdGhpcy5fZGVjb3JhdGlvbnNUcmVlMS5zZWFyY2goZmlsdGVyT3duZXJJZCwgZmlsdGVyT3V0VmFsaWRhdGlvbiwgY2FjaGVkVmVyc2lvbklkLCBvbmx5TWFyZ2luRGVjb3JhdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgcjIgPSB0aGlzLl9pbmplY3RlZFRleHREZWNvcmF0aW9uc1RyZWUuc2VhcmNoKGZpbHRlck93bmVySWQsIGZpbHRlck91dFZhbGlkYXRpb24sIGNhY2hlZFZlcnNpb25JZCwgb25seU1hcmdpbkRlY29yYXRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiByMC5jb25jYXQocjEpLmNvbmNhdChyMik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29sbGVjdE5vZGVzRnJvbU93bmVyKG93bmVySWQpIHtcbiAgICAgICAgY29uc3QgcjAgPSB0aGlzLl9kZWNvcmF0aW9uc1RyZWUwLmNvbGxlY3ROb2Rlc0Zyb21Pd25lcihvd25lcklkKTtcbiAgICAgICAgY29uc3QgcjEgPSB0aGlzLl9kZWNvcmF0aW9uc1RyZWUxLmNvbGxlY3ROb2Rlc0Zyb21Pd25lcihvd25lcklkKTtcbiAgICAgICAgY29uc3QgcjIgPSB0aGlzLl9pbmplY3RlZFRleHREZWNvcmF0aW9uc1RyZWUuY29sbGVjdE5vZGVzRnJvbU93bmVyKG93bmVySWQpO1xuICAgICAgICByZXR1cm4gcjAuY29uY2F0KHIxKS5jb25jYXQocjIpO1xuICAgIH1cbiAgICBjb2xsZWN0Tm9kZXNQb3N0T3JkZXIoKSB7XG4gICAgICAgIGNvbnN0IHIwID0gdGhpcy5fZGVjb3JhdGlvbnNUcmVlMC5jb2xsZWN0Tm9kZXNQb3N0T3JkZXIoKTtcbiAgICAgICAgY29uc3QgcjEgPSB0aGlzLl9kZWNvcmF0aW9uc1RyZWUxLmNvbGxlY3ROb2Rlc1Bvc3RPcmRlcigpO1xuICAgICAgICBjb25zdCByMiA9IHRoaXMuX2luamVjdGVkVGV4dERlY29yYXRpb25zVHJlZS5jb2xsZWN0Tm9kZXNQb3N0T3JkZXIoKTtcbiAgICAgICAgcmV0dXJuIHIwLmNvbmNhdChyMSkuY29uY2F0KHIyKTtcbiAgICB9XG4gICAgaW5zZXJ0KG5vZGUpIHtcbiAgICAgICAgaWYgKGlzTm9kZUluamVjdGVkVGV4dChub2RlKSkge1xuICAgICAgICAgICAgdGhpcy5faW5qZWN0ZWRUZXh0RGVjb3JhdGlvbnNUcmVlLmluc2VydChub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc05vZGVJbk92ZXJ2aWV3UnVsZXIobm9kZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlY29yYXRpb25zVHJlZTEuaW5zZXJ0KG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZGVjb3JhdGlvbnNUcmVlMC5pbnNlcnQobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVsZXRlKG5vZGUpIHtcbiAgICAgICAgaWYgKGlzTm9kZUluamVjdGVkVGV4dChub2RlKSkge1xuICAgICAgICAgICAgdGhpcy5faW5qZWN0ZWRUZXh0RGVjb3JhdGlvbnNUcmVlLmRlbGV0ZShub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc05vZGVJbk92ZXJ2aWV3UnVsZXIobm9kZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlY29yYXRpb25zVHJlZTEuZGVsZXRlKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZGVjb3JhdGlvbnNUcmVlMC5kZWxldGUobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Tm9kZVJhbmdlKGhvc3QsIG5vZGUpIHtcbiAgICAgICAgY29uc3QgdmVyc2lvbklkID0gaG9zdC5nZXRWZXJzaW9uSWQoKTtcbiAgICAgICAgaWYgKG5vZGUuY2FjaGVkVmVyc2lvbklkICE9PSB2ZXJzaW9uSWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVOb2RlKG5vZGUsIHZlcnNpb25JZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUucmFuZ2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIG5vZGUucmFuZ2UgPSBob3N0LmdldFJhbmdlQXQobm9kZS5jYWNoZWRBYnNvbHV0ZVN0YXJ0LCBub2RlLmNhY2hlZEFic29sdXRlRW5kKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZS5yYW5nZTtcbiAgICB9XG4gICAgX3Jlc29sdmVOb2RlKG5vZGUsIGNhY2hlZFZlcnNpb25JZCkge1xuICAgICAgICBpZiAoaXNOb2RlSW5qZWN0ZWRUZXh0KG5vZGUpKSB7XG4gICAgICAgICAgICB0aGlzLl9pbmplY3RlZFRleHREZWNvcmF0aW9uc1RyZWUucmVzb2x2ZU5vZGUobm9kZSwgY2FjaGVkVmVyc2lvbklkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc05vZGVJbk92ZXJ2aWV3UnVsZXIobm9kZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlY29yYXRpb25zVHJlZTEucmVzb2x2ZU5vZGUobm9kZSwgY2FjaGVkVmVyc2lvbklkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2RlY29yYXRpb25zVHJlZTAucmVzb2x2ZU5vZGUobm9kZSwgY2FjaGVkVmVyc2lvbklkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhY2NlcHRSZXBsYWNlKG9mZnNldCwgbGVuZ3RoLCB0ZXh0TGVuZ3RoLCBmb3JjZU1vdmVNYXJrZXJzKSB7XG4gICAgICAgIHRoaXMuX2RlY29yYXRpb25zVHJlZTAuYWNjZXB0UmVwbGFjZShvZmZzZXQsIGxlbmd0aCwgdGV4dExlbmd0aCwgZm9yY2VNb3ZlTWFya2Vycyk7XG4gICAgICAgIHRoaXMuX2RlY29yYXRpb25zVHJlZTEuYWNjZXB0UmVwbGFjZShvZmZzZXQsIGxlbmd0aCwgdGV4dExlbmd0aCwgZm9yY2VNb3ZlTWFya2Vycyk7XG4gICAgICAgIHRoaXMuX2luamVjdGVkVGV4dERlY29yYXRpb25zVHJlZS5hY2NlcHRSZXBsYWNlKG9mZnNldCwgbGVuZ3RoLCB0ZXh0TGVuZ3RoLCBmb3JjZU1vdmVNYXJrZXJzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbGVhbkNsYXNzTmFtZShjbGFzc05hbWUpIHtcbiAgICByZXR1cm4gY2xhc3NOYW1lLnJlcGxhY2UoL1teYS16MC05XFwtX10vZ2ksICcgJyk7XG59XG5jbGFzcyBEZWNvcmF0aW9uT3B0aW9ucyB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLmNvbG9yID0gb3B0aW9ucy5jb2xvciB8fCAnJztcbiAgICAgICAgdGhpcy5kYXJrQ29sb3IgPSBvcHRpb25zLmRhcmtDb2xvciB8fCAnJztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTW9kZWxEZWNvcmF0aW9uT3ZlcnZpZXdSdWxlck9wdGlvbnMgZXh0ZW5kcyBEZWNvcmF0aW9uT3B0aW9ucyB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZWRDb2xvciA9IG51bGw7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSAodHlwZW9mIG9wdGlvbnMucG9zaXRpb24gPT09ICdudW1iZXInID8gb3B0aW9ucy5wb3NpdGlvbiA6IG1vZGVsLk92ZXJ2aWV3UnVsZXJMYW5lLkNlbnRlcik7XG4gICAgfVxuICAgIGdldENvbG9yKHRoZW1lKSB7XG4gICAgICAgIGlmICghdGhpcy5fcmVzb2x2ZWRDb2xvcikge1xuICAgICAgICAgICAgaWYgKHRoZW1lLnR5cGUgIT09ICdsaWdodCcgJiYgdGhpcy5kYXJrQ29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvbHZlZENvbG9yID0gdGhpcy5fcmVzb2x2ZUNvbG9yKHRoaXMuZGFya0NvbG9yLCB0aGVtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvbHZlZENvbG9yID0gdGhpcy5fcmVzb2x2ZUNvbG9yKHRoaXMuY29sb3IsIHRoZW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVzb2x2ZWRDb2xvcjtcbiAgICB9XG4gICAgaW52YWxpZGF0ZUNhY2hlZENvbG9yKCkge1xuICAgICAgICB0aGlzLl9yZXNvbHZlZENvbG9yID0gbnVsbDtcbiAgICB9XG4gICAgX3Jlc29sdmVDb2xvcihjb2xvciwgdGhlbWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjID0gY29sb3IgPyB0aGVtZS5nZXRDb2xvcihjb2xvci5pZCkgOiBudWxsO1xuICAgICAgICBpZiAoIWMpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYy50b1N0cmluZygpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNb2RlbERlY29yYXRpb25HbHlwaE1hcmdpbk9wdGlvbnMge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG9wdGlvbnM/LnBvc2l0aW9uID8/IG1vZGVsLkdseXBoTWFyZ2luTGFuZS5DZW50ZXI7XG4gICAgICAgIHRoaXMucGVyc2lzdExhbmUgPSBvcHRpb25zPy5wZXJzaXN0TGFuZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTW9kZWxEZWNvcmF0aW9uTWluaW1hcE9wdGlvbnMgZXh0ZW5kcyBEZWNvcmF0aW9uT3B0aW9ucyB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG9wdGlvbnMucG9zaXRpb247XG4gICAgICAgIHRoaXMuc2VjdGlvbkhlYWRlclN0eWxlID0gb3B0aW9ucy5zZWN0aW9uSGVhZGVyU3R5bGUgPz8gbnVsbDtcbiAgICAgICAgdGhpcy5zZWN0aW9uSGVhZGVyVGV4dCA9IG9wdGlvbnMuc2VjdGlvbkhlYWRlclRleHQgPz8gbnVsbDtcbiAgICB9XG4gICAgZ2V0Q29sb3IodGhlbWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9yZXNvbHZlZENvbG9yKSB7XG4gICAgICAgICAgICBpZiAodGhlbWUudHlwZSAhPT0gJ2xpZ2h0JyAmJiB0aGlzLmRhcmtDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVkQ29sb3IgPSB0aGlzLl9yZXNvbHZlQ29sb3IodGhpcy5kYXJrQ29sb3IsIHRoZW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVkQ29sb3IgPSB0aGlzLl9yZXNvbHZlQ29sb3IodGhpcy5jb2xvciwgdGhlbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHZlZENvbG9yO1xuICAgIH1cbiAgICBpbnZhbGlkYXRlQ2FjaGVkQ29sb3IoKSB7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVkQ29sb3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIF9yZXNvbHZlQ29sb3IoY29sb3IsIHRoZW1lKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29sb3IuZnJvbUhleChjb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoZW1lLmdldENvbG9yKGNvbG9yLmlkKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTW9kZWxEZWNvcmF0aW9uSW5qZWN0ZWRUZXh0T3B0aW9ucyB7XG4gICAgc3RhdGljIGZyb20ob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyBpbnN0YW5jZW9mIE1vZGVsRGVjb3JhdGlvbkluamVjdGVkVGV4dE9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgTW9kZWxEZWNvcmF0aW9uSW5qZWN0ZWRUZXh0T3B0aW9ucyhvcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSBvcHRpb25zLmNvbnRlbnQgfHwgJyc7XG4gICAgICAgIHRoaXMuaW5saW5lQ2xhc3NOYW1lID0gb3B0aW9ucy5pbmxpbmVDbGFzc05hbWUgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5pbmxpbmVDbGFzc05hbWVBZmZlY3RzTGV0dGVyU3BhY2luZyA9IG9wdGlvbnMuaW5saW5lQ2xhc3NOYW1lQWZmZWN0c0xldHRlclNwYWNpbmcgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuYXR0YWNoZWREYXRhID0gb3B0aW9ucy5hdHRhY2hlZERhdGEgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5jdXJzb3JTdG9wcyA9IG9wdGlvbnMuY3Vyc29yU3RvcHMgfHwgbnVsbDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTW9kZWxEZWNvcmF0aW9uT3B0aW9ucyB7XG4gICAgc3RhdGljIHJlZ2lzdGVyKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNb2RlbERlY29yYXRpb25PcHRpb25zKG9wdGlvbnMpO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlRHluYW1pYyhvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgTW9kZWxEZWNvcmF0aW9uT3B0aW9ucyhvcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gb3B0aW9ucy5kZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5ibG9ja0NsYXNzTmFtZSA9IG9wdGlvbnMuYmxvY2tDbGFzc05hbWUgPyBjbGVhbkNsYXNzTmFtZShvcHRpb25zLmJsb2NrQ2xhc3NOYW1lKSA6IG51bGw7XG4gICAgICAgIHRoaXMuYmxvY2tEb2VzTm90Q29sbGFwc2UgPSBvcHRpb25zLmJsb2NrRG9lc05vdENvbGxhcHNlID8/IG51bGw7XG4gICAgICAgIHRoaXMuYmxvY2tJc0FmdGVyRW5kID0gb3B0aW9ucy5ibG9ja0lzQWZ0ZXJFbmQgPz8gbnVsbDtcbiAgICAgICAgdGhpcy5ibG9ja1BhZGRpbmcgPSBvcHRpb25zLmJsb2NrUGFkZGluZyA/PyBudWxsO1xuICAgICAgICB0aGlzLnN0aWNraW5lc3MgPSBvcHRpb25zLnN0aWNraW5lc3MgfHwgMCAvKiBtb2RlbC5UcmFja2VkUmFuZ2VTdGlja2luZXNzLkFsd2F5c0dyb3dzV2hlblR5cGluZ0F0RWRnZXMgKi87XG4gICAgICAgIHRoaXMuekluZGV4ID0gb3B0aW9ucy56SW5kZXggfHwgMDtcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBvcHRpb25zLmNsYXNzTmFtZSA/IGNsZWFuQ2xhc3NOYW1lKG9wdGlvbnMuY2xhc3NOYW1lKSA6IG51bGw7XG4gICAgICAgIHRoaXMuc2hvdWxkRmlsbExpbmVPbkxpbmVCcmVhayA9IG9wdGlvbnMuc2hvdWxkRmlsbExpbmVPbkxpbmVCcmVhayA/PyBudWxsO1xuICAgICAgICB0aGlzLmhvdmVyTWVzc2FnZSA9IG9wdGlvbnMuaG92ZXJNZXNzYWdlIHx8IG51bGw7XG4gICAgICAgIHRoaXMuZ2x5cGhNYXJnaW5Ib3Zlck1lc3NhZ2UgPSBvcHRpb25zLmdseXBoTWFyZ2luSG92ZXJNZXNzYWdlIHx8IG51bGw7XG4gICAgICAgIHRoaXMubGluZU51bWJlckhvdmVyTWVzc2FnZSA9IG9wdGlvbnMubGluZU51bWJlckhvdmVyTWVzc2FnZSB8fCBudWxsO1xuICAgICAgICB0aGlzLmlzV2hvbGVMaW5lID0gb3B0aW9ucy5pc1dob2xlTGluZSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5zaG93SWZDb2xsYXBzZWQgPSBvcHRpb25zLnNob3dJZkNvbGxhcHNlZCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5jb2xsYXBzZU9uUmVwbGFjZUVkaXQgPSBvcHRpb25zLmNvbGxhcHNlT25SZXBsYWNlRWRpdCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5vdmVydmlld1J1bGVyID0gb3B0aW9ucy5vdmVydmlld1J1bGVyID8gbmV3IE1vZGVsRGVjb3JhdGlvbk92ZXJ2aWV3UnVsZXJPcHRpb25zKG9wdGlvbnMub3ZlcnZpZXdSdWxlcikgOiBudWxsO1xuICAgICAgICB0aGlzLm1pbmltYXAgPSBvcHRpb25zLm1pbmltYXAgPyBuZXcgTW9kZWxEZWNvcmF0aW9uTWluaW1hcE9wdGlvbnMob3B0aW9ucy5taW5pbWFwKSA6IG51bGw7XG4gICAgICAgIHRoaXMuZ2x5cGhNYXJnaW4gPSBvcHRpb25zLmdseXBoTWFyZ2luQ2xhc3NOYW1lID8gbmV3IE1vZGVsRGVjb3JhdGlvbkdseXBoTWFyZ2luT3B0aW9ucyhvcHRpb25zLmdseXBoTWFyZ2luKSA6IG51bGw7XG4gICAgICAgIHRoaXMuZ2x5cGhNYXJnaW5DbGFzc05hbWUgPSBvcHRpb25zLmdseXBoTWFyZ2luQ2xhc3NOYW1lID8gY2xlYW5DbGFzc05hbWUob3B0aW9ucy5nbHlwaE1hcmdpbkNsYXNzTmFtZSkgOiBudWxsO1xuICAgICAgICB0aGlzLmxpbmVzRGVjb3JhdGlvbnNDbGFzc05hbWUgPSBvcHRpb25zLmxpbmVzRGVjb3JhdGlvbnNDbGFzc05hbWUgPyBjbGVhbkNsYXNzTmFtZShvcHRpb25zLmxpbmVzRGVjb3JhdGlvbnNDbGFzc05hbWUpIDogbnVsbDtcbiAgICAgICAgdGhpcy5saW5lTnVtYmVyQ2xhc3NOYW1lID0gb3B0aW9ucy5saW5lTnVtYmVyQ2xhc3NOYW1lID8gY2xlYW5DbGFzc05hbWUob3B0aW9ucy5saW5lTnVtYmVyQ2xhc3NOYW1lKSA6IG51bGw7XG4gICAgICAgIHRoaXMubGluZXNEZWNvcmF0aW9uc1Rvb2x0aXAgPSBvcHRpb25zLmxpbmVzRGVjb3JhdGlvbnNUb29sdGlwID8gc3RyaW5ncy5odG1sQXR0cmlidXRlRW5jb2RlVmFsdWUob3B0aW9ucy5saW5lc0RlY29yYXRpb25zVG9vbHRpcCkgOiBudWxsO1xuICAgICAgICB0aGlzLmZpcnN0TGluZURlY29yYXRpb25DbGFzc05hbWUgPSBvcHRpb25zLmZpcnN0TGluZURlY29yYXRpb25DbGFzc05hbWUgPyBjbGVhbkNsYXNzTmFtZShvcHRpb25zLmZpcnN0TGluZURlY29yYXRpb25DbGFzc05hbWUpIDogbnVsbDtcbiAgICAgICAgdGhpcy5tYXJnaW5DbGFzc05hbWUgPSBvcHRpb25zLm1hcmdpbkNsYXNzTmFtZSA/IGNsZWFuQ2xhc3NOYW1lKG9wdGlvbnMubWFyZ2luQ2xhc3NOYW1lKSA6IG51bGw7XG4gICAgICAgIHRoaXMuaW5saW5lQ2xhc3NOYW1lID0gb3B0aW9ucy5pbmxpbmVDbGFzc05hbWUgPyBjbGVhbkNsYXNzTmFtZShvcHRpb25zLmlubGluZUNsYXNzTmFtZSkgOiBudWxsO1xuICAgICAgICB0aGlzLmlubGluZUNsYXNzTmFtZUFmZmVjdHNMZXR0ZXJTcGFjaW5nID0gb3B0aW9ucy5pbmxpbmVDbGFzc05hbWVBZmZlY3RzTGV0dGVyU3BhY2luZyB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5iZWZvcmVDb250ZW50Q2xhc3NOYW1lID0gb3B0aW9ucy5iZWZvcmVDb250ZW50Q2xhc3NOYW1lID8gY2xlYW5DbGFzc05hbWUob3B0aW9ucy5iZWZvcmVDb250ZW50Q2xhc3NOYW1lKSA6IG51bGw7XG4gICAgICAgIHRoaXMuYWZ0ZXJDb250ZW50Q2xhc3NOYW1lID0gb3B0aW9ucy5hZnRlckNvbnRlbnRDbGFzc05hbWUgPyBjbGVhbkNsYXNzTmFtZShvcHRpb25zLmFmdGVyQ29udGVudENsYXNzTmFtZSkgOiBudWxsO1xuICAgICAgICB0aGlzLmFmdGVyID0gb3B0aW9ucy5hZnRlciA/IE1vZGVsRGVjb3JhdGlvbkluamVjdGVkVGV4dE9wdGlvbnMuZnJvbShvcHRpb25zLmFmdGVyKSA6IG51bGw7XG4gICAgICAgIHRoaXMuYmVmb3JlID0gb3B0aW9ucy5iZWZvcmUgPyBNb2RlbERlY29yYXRpb25JbmplY3RlZFRleHRPcHRpb25zLmZyb20ob3B0aW9ucy5iZWZvcmUpIDogbnVsbDtcbiAgICAgICAgdGhpcy5oaWRlSW5Db21tZW50VG9rZW5zID0gb3B0aW9ucy5oaWRlSW5Db21tZW50VG9rZW5zID8/IGZhbHNlO1xuICAgICAgICB0aGlzLmhpZGVJblN0cmluZ1Rva2VucyA9IG9wdGlvbnMuaGlkZUluU3RyaW5nVG9rZW5zID8/IGZhbHNlO1xuICAgIH1cbn1cbk1vZGVsRGVjb3JhdGlvbk9wdGlvbnMuRU1QVFkgPSBNb2RlbERlY29yYXRpb25PcHRpb25zLnJlZ2lzdGVyKHsgZGVzY3JpcHRpb246ICdlbXB0eScgfSk7XG4vKipcbiAqIFRoZSBvcmRlciBjYXJlZnVsbHkgbWF0Y2hlcyB0aGUgdmFsdWVzIG9mIHRoZSBlbnVtLlxuICovXG5jb25zdCBUUkFDS0VEX1JBTkdFX09QVElPTlMgPSBbXG4gICAgTW9kZWxEZWNvcmF0aW9uT3B0aW9ucy5yZWdpc3Rlcih7IGRlc2NyaXB0aW9uOiAndHJhY2tlZC1yYW5nZS1hbHdheXMtZ3Jvd3Mtd2hlbi10eXBpbmctYXQtZWRnZXMnLCBzdGlja2luZXNzOiAwIC8qIG1vZGVsLlRyYWNrZWRSYW5nZVN0aWNraW5lc3MuQWx3YXlzR3Jvd3NXaGVuVHlwaW5nQXRFZGdlcyAqLyB9KSxcbiAgICBNb2RlbERlY29yYXRpb25PcHRpb25zLnJlZ2lzdGVyKHsgZGVzY3JpcHRpb246ICd0cmFja2VkLXJhbmdlLW5ldmVyLWdyb3dzLXdoZW4tdHlwaW5nLWF0LWVkZ2VzJywgc3RpY2tpbmVzczogMSAvKiBtb2RlbC5UcmFja2VkUmFuZ2VTdGlja2luZXNzLk5ldmVyR3Jvd3NXaGVuVHlwaW5nQXRFZGdlcyAqLyB9KSxcbiAgICBNb2RlbERlY29yYXRpb25PcHRpb25zLnJlZ2lzdGVyKHsgZGVzY3JpcHRpb246ICd0cmFja2VkLXJhbmdlLWdyb3dzLW9ubHktd2hlbi10eXBpbmctYmVmb3JlJywgc3RpY2tpbmVzczogMiAvKiBtb2RlbC5UcmFja2VkUmFuZ2VTdGlja2luZXNzLkdyb3dzT25seVdoZW5UeXBpbmdCZWZvcmUgKi8gfSksXG4gICAgTW9kZWxEZWNvcmF0aW9uT3B0aW9ucy5yZWdpc3Rlcih7IGRlc2NyaXB0aW9uOiAndHJhY2tlZC1yYW5nZS1ncm93cy1vbmx5LXdoZW4tdHlwaW5nLWFmdGVyJywgc3RpY2tpbmVzczogMyAvKiBtb2RlbC5UcmFja2VkUmFuZ2VTdGlja2luZXNzLkdyb3dzT25seVdoZW5UeXBpbmdBZnRlciAqLyB9KSxcbl07XG5mdW5jdGlvbiBfbm9ybWFsaXplT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBNb2RlbERlY29yYXRpb25PcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cbiAgICByZXR1cm4gTW9kZWxEZWNvcmF0aW9uT3B0aW9ucy5jcmVhdGVEeW5hbWljKG9wdGlvbnMpO1xufVxuY2xhc3MgRGlkQ2hhbmdlRGVjb3JhdGlvbnNFbWl0dGVyIGV4dGVuZHMgRGlzcG9zYWJsZSB7XG4gICAgY29uc3RydWN0b3IoaGFuZGxlQmVmb3JlRmlyZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmhhbmRsZUJlZm9yZUZpcmUgPSBoYW5kbGVCZWZvcmVGaXJlO1xuICAgICAgICB0aGlzLl9hY3R1YWwgPSB0aGlzLl9yZWdpc3RlcihuZXcgRW1pdHRlcigpKTtcbiAgICAgICAgdGhpcy5ldmVudCA9IHRoaXMuX2FjdHVhbC5ldmVudDtcbiAgICAgICAgdGhpcy5fYWZmZWN0ZWRJbmplY3RlZFRleHRMaW5lcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2RlZmVycmVkQ250ID0gMDtcbiAgICAgICAgdGhpcy5fc2hvdWxkRmlyZURlZmVycmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2FmZmVjdHNNaW5pbWFwID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2FmZmVjdHNPdmVydmlld1J1bGVyID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2FmZmVjdHNHbHlwaE1hcmdpbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9hZmZlY3RzTGluZU51bWJlciA9IGZhbHNlO1xuICAgIH1cbiAgICBiZWdpbkRlZmVycmVkRW1pdCgpIHtcbiAgICAgICAgdGhpcy5fZGVmZXJyZWRDbnQrKztcbiAgICB9XG4gICAgZW5kRGVmZXJyZWRFbWl0KCkge1xuICAgICAgICB0aGlzLl9kZWZlcnJlZENudC0tO1xuICAgICAgICBpZiAodGhpcy5fZGVmZXJyZWRDbnQgPT09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaG91bGRGaXJlRGVmZXJyZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvRmlyZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYWZmZWN0ZWRJbmplY3RlZFRleHRMaW5lcz8uY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2FmZmVjdGVkSW5qZWN0ZWRUZXh0TGluZXMgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlY29yZExpbmVBZmZlY3RlZEJ5SW5qZWN0ZWRUZXh0KGxpbmVOdW1iZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hZmZlY3RlZEluamVjdGVkVGV4dExpbmVzKSB7XG4gICAgICAgICAgICB0aGlzLl9hZmZlY3RlZEluamVjdGVkVGV4dExpbmVzID0gbmV3IFNldCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FmZmVjdGVkSW5qZWN0ZWRUZXh0TGluZXMuYWRkKGxpbmVOdW1iZXIpO1xuICAgIH1cbiAgICBjaGVja0FmZmVjdGVkQW5kRmlyZShvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2FmZmVjdHNNaW5pbWFwIHx8PSAhIW9wdGlvbnMubWluaW1hcD8ucG9zaXRpb247XG4gICAgICAgIHRoaXMuX2FmZmVjdHNPdmVydmlld1J1bGVyIHx8PSAhIW9wdGlvbnMub3ZlcnZpZXdSdWxlcj8uY29sb3I7XG4gICAgICAgIHRoaXMuX2FmZmVjdHNHbHlwaE1hcmdpbiB8fD0gISFvcHRpb25zLmdseXBoTWFyZ2luQ2xhc3NOYW1lO1xuICAgICAgICB0aGlzLl9hZmZlY3RzTGluZU51bWJlciB8fD0gISFvcHRpb25zLmxpbmVOdW1iZXJDbGFzc05hbWU7XG4gICAgICAgIHRoaXMudHJ5RmlyZSgpO1xuICAgIH1cbiAgICBmaXJlKCkge1xuICAgICAgICB0aGlzLl9hZmZlY3RzTWluaW1hcCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2FmZmVjdHNPdmVydmlld1J1bGVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fYWZmZWN0c0dseXBoTWFyZ2luID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50cnlGaXJlKCk7XG4gICAgfVxuICAgIHRyeUZpcmUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWZlcnJlZENudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kb0ZpcmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Nob3VsZEZpcmVEZWZlcnJlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZG9GaXJlKCkge1xuICAgICAgICB0aGlzLmhhbmRsZUJlZm9yZUZpcmUodGhpcy5fYWZmZWN0ZWRJbmplY3RlZFRleHRMaW5lcyk7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0ge1xuICAgICAgICAgICAgYWZmZWN0c01pbmltYXA6IHRoaXMuX2FmZmVjdHNNaW5pbWFwLFxuICAgICAgICAgICAgYWZmZWN0c092ZXJ2aWV3UnVsZXI6IHRoaXMuX2FmZmVjdHNPdmVydmlld1J1bGVyLFxuICAgICAgICAgICAgYWZmZWN0c0dseXBoTWFyZ2luOiB0aGlzLl9hZmZlY3RzR2x5cGhNYXJnaW4sXG4gICAgICAgICAgICBhZmZlY3RzTGluZU51bWJlcjogdGhpcy5fYWZmZWN0c0xpbmVOdW1iZXIsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3Nob3VsZEZpcmVEZWZlcnJlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9hZmZlY3RzTWluaW1hcCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9hZmZlY3RzT3ZlcnZpZXdSdWxlciA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9hZmZlY3RzR2x5cGhNYXJnaW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYWN0dWFsLmZpcmUoZXZlbnQpO1xuICAgIH1cbn1cbi8vI2VuZHJlZ2lvblxuY2xhc3MgRGlkQ2hhbmdlQ29udGVudEVtaXR0ZXIgZXh0ZW5kcyBEaXNwb3NhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvdGggYGZhc3RFdmVudGAgYW5kIGBzbG93RXZlbnRgIHdvcmsgdGhlIHNhbWUgd2F5IGFuZCBjb250YWluIHRoZSBzYW1lIGV2ZW50cywgYnV0IGZpcnN0IHdlIGludm9rZSBgZmFzdEV2ZW50YCBhbmQgdGhlbiBgc2xvd0V2ZW50YC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2Zhc3RFbWl0dGVyID0gdGhpcy5fcmVnaXN0ZXIobmV3IEVtaXR0ZXIoKSk7XG4gICAgICAgIHRoaXMuZmFzdEV2ZW50ID0gdGhpcy5fZmFzdEVtaXR0ZXIuZXZlbnQ7XG4gICAgICAgIHRoaXMuX3Nsb3dFbWl0dGVyID0gdGhpcy5fcmVnaXN0ZXIobmV3IEVtaXR0ZXIoKSk7XG4gICAgICAgIHRoaXMuc2xvd0V2ZW50ID0gdGhpcy5fc2xvd0VtaXR0ZXIuZXZlbnQ7XG4gICAgICAgIHRoaXMuX2RlZmVycmVkQ250ID0gMDtcbiAgICAgICAgdGhpcy5fZGVmZXJyZWRFdmVudCA9IG51bGw7XG4gICAgfVxuICAgIGJlZ2luRGVmZXJyZWRFbWl0KCkge1xuICAgICAgICB0aGlzLl9kZWZlcnJlZENudCsrO1xuICAgIH1cbiAgICBlbmREZWZlcnJlZEVtaXQocmVzdWx0aW5nU2VsZWN0aW9uID0gbnVsbCkge1xuICAgICAgICB0aGlzLl9kZWZlcnJlZENudC0tO1xuICAgICAgICBpZiAodGhpcy5fZGVmZXJyZWRDbnQgPT09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZWZlcnJlZEV2ZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmZXJyZWRFdmVudC5yYXdDb250ZW50Q2hhbmdlZEV2ZW50LnJlc3VsdGluZ1NlbGVjdGlvbiA9IHJlc3VsdGluZ1NlbGVjdGlvbjtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gdGhpcy5fZGVmZXJyZWRFdmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWZlcnJlZEV2ZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9mYXN0RW1pdHRlci5maXJlKGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nsb3dFbWl0dGVyLmZpcmUoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmlyZShlKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWZlcnJlZENudCA+IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZWZlcnJlZEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmZXJyZWRFdmVudCA9IHRoaXMuX2RlZmVycmVkRXZlbnQubWVyZ2UoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWZlcnJlZEV2ZW50ID0gZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mYXN0RW1pdHRlci5maXJlKGUpO1xuICAgICAgICB0aGlzLl9zbG93RW1pdHRlci5maXJlKGUpO1xuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgRGlzcG9zYWJsZSB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2xpZmVjeWNsZS5qcyc7XG5leHBvcnQgY2xhc3MgVGV4dE1vZGVsUGFydCBleHRlbmRzIERpc3Bvc2FibGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IHRydWU7XG4gICAgfVxuICAgIGFzc2VydE5vdERpc3Bvc2VkKCkge1xuICAgICAgICBpZiAodGhpcy5faXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZXh0TW9kZWxQYXJ0IGlzIGRpc3Bvc2VkIScpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vKipcbiAqIFJldHVybnM6XG4gKiAgLSAtMSA9PiB0aGUgbGluZSBjb25zaXN0cyBvZiB3aGl0ZXNwYWNlXG4gKiAgLSBvdGhlcndpc2UgPT4gdGhlIGluZGVudCBsZXZlbCBpcyByZXR1cm5lZCB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUluZGVudExldmVsKGxpbmUsIHRhYlNpemUpIHtcbiAgICBsZXQgaW5kZW50ID0gMDtcbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3QgbGVuID0gbGluZS5sZW5ndGg7XG4gICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgICAgY29uc3QgY2hDb2RlID0gbGluZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoY2hDb2RlID09PSAzMiAvKiBDaGFyQ29kZS5TcGFjZSAqLykge1xuICAgICAgICAgICAgaW5kZW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hDb2RlID09PSA5IC8qIENoYXJDb2RlLlRhYiAqLykge1xuICAgICAgICAgICAgaW5kZW50ID0gaW5kZW50IC0gaW5kZW50ICUgdGFiU2l6ZSArIHRhYlNpemU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIGlmIChpID09PSBsZW4pIHtcbiAgICAgICAgcmV0dXJuIC0xOyAvLyBsaW5lIG9ubHkgY29uc2lzdHMgb2Ygd2hpdGVzcGFjZVxuICAgIH1cbiAgICByZXR1cm4gaW5kZW50O1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG52YXIgX19wYXJhbSA9ICh0aGlzICYmIHRoaXMuX19wYXJhbSkgfHwgZnVuY3Rpb24gKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufTtcbnZhciBNb2RlbFNlcnZpY2VfMTtcbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9ldmVudC5qcyc7XG5pbXBvcnQgeyBEaXNwb3NhYmxlLCBEaXNwb3NhYmxlU3RvcmUgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9saWZlY3ljbGUuanMnO1xuaW1wb3J0ICogYXMgcGxhdGZvcm0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vcGxhdGZvcm0uanMnO1xuaW1wb3J0IHsgVGV4dE1vZGVsIH0gZnJvbSAnLi4vbW9kZWwvdGV4dE1vZGVsLmpzJztcbmltcG9ydCB7IEVESVRPUl9NT0RFTF9ERUZBVUxUUyB9IGZyb20gJy4uL2NvcmUvdGV4dE1vZGVsRGVmYXVsdHMuanMnO1xuaW1wb3J0IHsgUExBSU5URVhUX0xBTkdVQUdFX0lEIH0gZnJvbSAnLi4vbGFuZ3VhZ2VzL21vZGVzUmVnaXN0cnkuanMnO1xuaW1wb3J0IHsgSVRleHRSZXNvdXJjZVByb3BlcnRpZXNTZXJ2aWNlIH0gZnJvbSAnLi90ZXh0UmVzb3VyY2VDb25maWd1cmF0aW9uLmpzJztcbmltcG9ydCB7IElDb25maWd1cmF0aW9uU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3BsYXRmb3JtL2NvbmZpZ3VyYXRpb24vY29tbW9uL2NvbmZpZ3VyYXRpb24uanMnO1xuaW1wb3J0IHsgSVVuZG9SZWRvU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3BsYXRmb3JtL3VuZG9SZWRvL2NvbW1vbi91bmRvUmVkby5qcyc7XG5pbXBvcnQgeyBTdHJpbmdTSEExIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vaGFzaC5qcyc7XG5pbXBvcnQgeyBpc0VkaXRTdGFja0VsZW1lbnQgfSBmcm9tICcuLi9tb2RlbC9lZGl0U3RhY2suanMnO1xuaW1wb3J0IHsgU2NoZW1hcyB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL25ldHdvcmsuanMnO1xuaW1wb3J0IHsgZXF1YWxzIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vb2JqZWN0cy5qcyc7XG5pbXBvcnQgeyBJSW5zdGFudGlhdGlvblNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9pbnN0YW50aWF0aW9uL2NvbW1vbi9pbnN0YW50aWF0aW9uLmpzJztcbmZ1bmN0aW9uIE1PREVMX0lEKHJlc291cmNlKSB7XG4gICAgcmV0dXJuIHJlc291cmNlLnRvU3RyaW5nKCk7XG59XG5jbGFzcyBNb2RlbERhdGEge1xuICAgIGNvbnN0cnVjdG9yKG1vZGVsLCBvbldpbGxEaXNwb3NlLCBvbkRpZENoYW5nZUxhbmd1YWdlKSB7XG4gICAgICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICAgICAgdGhpcy5fbW9kZWxFdmVudExpc3RlbmVycyA9IG5ldyBEaXNwb3NhYmxlU3RvcmUoKTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICAgICAgICB0aGlzLl9tb2RlbEV2ZW50TGlzdGVuZXJzLmFkZChtb2RlbC5vbldpbGxEaXNwb3NlKCgpID0+IG9uV2lsbERpc3Bvc2UobW9kZWwpKSk7XG4gICAgICAgIHRoaXMuX21vZGVsRXZlbnRMaXN0ZW5lcnMuYWRkKG1vZGVsLm9uRGlkQ2hhbmdlTGFuZ3VhZ2UoKGUpID0+IG9uRGlkQ2hhbmdlTGFuZ3VhZ2UobW9kZWwsIGUpKSk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuX21vZGVsRXZlbnRMaXN0ZW5lcnMuZGlzcG9zZSgpO1xuICAgIH1cbn1cbmNvbnN0IERFRkFVTFRfRU9MID0gKHBsYXRmb3JtLmlzTGludXggfHwgcGxhdGZvcm0uaXNNYWNpbnRvc2gpID8gMSAvKiBEZWZhdWx0RW5kT2ZMaW5lLkxGICovIDogMiAvKiBEZWZhdWx0RW5kT2ZMaW5lLkNSTEYgKi87XG5jbGFzcyBEaXNwb3NlZE1vZGVsSW5mbyB7XG4gICAgY29uc3RydWN0b3IodXJpLCBpbml0aWFsVW5kb1JlZG9TbmFwc2hvdCwgdGltZSwgc2hhcmVzVW5kb1JlZG9TdGFjaywgaGVhcFNpemUsIHNoYTEsIHZlcnNpb25JZCwgYWx0ZXJuYXRpdmVWZXJzaW9uSWQpIHtcbiAgICAgICAgdGhpcy51cmkgPSB1cmk7XG4gICAgICAgIHRoaXMuaW5pdGlhbFVuZG9SZWRvU25hcHNob3QgPSBpbml0aWFsVW5kb1JlZG9TbmFwc2hvdDtcbiAgICAgICAgdGhpcy50aW1lID0gdGltZTtcbiAgICAgICAgdGhpcy5zaGFyZXNVbmRvUmVkb1N0YWNrID0gc2hhcmVzVW5kb1JlZG9TdGFjaztcbiAgICAgICAgdGhpcy5oZWFwU2l6ZSA9IGhlYXBTaXplO1xuICAgICAgICB0aGlzLnNoYTEgPSBzaGExO1xuICAgICAgICB0aGlzLnZlcnNpb25JZCA9IHZlcnNpb25JZDtcbiAgICAgICAgdGhpcy5hbHRlcm5hdGl2ZVZlcnNpb25JZCA9IGFsdGVybmF0aXZlVmVyc2lvbklkO1xuICAgIH1cbn1cbmxldCBNb2RlbFNlcnZpY2UgPSBjbGFzcyBNb2RlbFNlcnZpY2UgZXh0ZW5kcyBEaXNwb3NhYmxlIHtcbiAgICBzdGF0aWMgeyBNb2RlbFNlcnZpY2VfMSA9IHRoaXM7IH1cbiAgICBzdGF0aWMgeyB0aGlzLk1BWF9NRU1PUllfRk9SX0NMT1NFRF9GSUxFU19VTkRPX1NUQUNLID0gMjAgKiAxMDI0ICogMTAyNDsgfVxuICAgIGNvbnN0cnVjdG9yKF9jb25maWd1cmF0aW9uU2VydmljZSwgX3Jlc291cmNlUHJvcGVydGllc1NlcnZpY2UsIF91bmRvUmVkb1NlcnZpY2UsIF9pbnN0YW50aWF0aW9uU2VydmljZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9jb25maWd1cmF0aW9uU2VydmljZSA9IF9jb25maWd1cmF0aW9uU2VydmljZTtcbiAgICAgICAgdGhpcy5fcmVzb3VyY2VQcm9wZXJ0aWVzU2VydmljZSA9IF9yZXNvdXJjZVByb3BlcnRpZXNTZXJ2aWNlO1xuICAgICAgICB0aGlzLl91bmRvUmVkb1NlcnZpY2UgPSBfdW5kb1JlZG9TZXJ2aWNlO1xuICAgICAgICB0aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZSA9IF9pbnN0YW50aWF0aW9uU2VydmljZTtcbiAgICAgICAgdGhpcy5fb25Nb2RlbEFkZGVkID0gdGhpcy5fcmVnaXN0ZXIobmV3IEVtaXR0ZXIoKSk7XG4gICAgICAgIHRoaXMub25Nb2RlbEFkZGVkID0gdGhpcy5fb25Nb2RlbEFkZGVkLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbk1vZGVsUmVtb3ZlZCA9IHRoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyKCkpO1xuICAgICAgICB0aGlzLm9uTW9kZWxSZW1vdmVkID0gdGhpcy5fb25Nb2RlbFJlbW92ZWQuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uTW9kZWxNb2RlQ2hhbmdlZCA9IHRoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyKCkpO1xuICAgICAgICB0aGlzLm9uTW9kZWxMYW5ndWFnZUNoYW5nZWQgPSB0aGlzLl9vbk1vZGVsTW9kZUNoYW5nZWQuZXZlbnQ7XG4gICAgICAgIHRoaXMuX21vZGVsQ3JlYXRpb25PcHRpb25zQnlMYW5ndWFnZUFuZFJlc291cmNlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fbW9kZWxzID0ge307XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VkTW9kZWxzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9kaXNwb3NlZE1vZGVsc0hlYXBTaXplID0gMDtcbiAgICAgICAgdGhpcy5fcmVnaXN0ZXIodGhpcy5fY29uZmlndXJhdGlvblNlcnZpY2Uub25EaWRDaGFuZ2VDb25maWd1cmF0aW9uKGUgPT4gdGhpcy5fdXBkYXRlTW9kZWxPcHRpb25zKGUpKSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1vZGVsT3B0aW9ucyh1bmRlZmluZWQpO1xuICAgIH1cbiAgICBzdGF0aWMgX3JlYWRNb2RlbE9wdGlvbnMoY29uZmlnLCBpc0ZvclNpbXBsZVdpZGdldCkge1xuICAgICAgICBsZXQgdGFiU2l6ZSA9IEVESVRPUl9NT0RFTF9ERUZBVUxUUy50YWJTaXplO1xuICAgICAgICBpZiAoY29uZmlnLmVkaXRvciAmJiB0eXBlb2YgY29uZmlnLmVkaXRvci50YWJTaXplICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkVGFiU2l6ZSA9IHBhcnNlSW50KGNvbmZpZy5lZGl0b3IudGFiU2l6ZSwgMTApO1xuICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZWRUYWJTaXplKSkge1xuICAgICAgICAgICAgICAgIHRhYlNpemUgPSBwYXJzZWRUYWJTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRhYlNpemUgPCAxKSB7XG4gICAgICAgICAgICAgICAgdGFiU2l6ZSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluZGVudFNpemUgPSAndGFiU2l6ZSc7XG4gICAgICAgIGlmIChjb25maWcuZWRpdG9yICYmIHR5cGVvZiBjb25maWcuZWRpdG9yLmluZGVudFNpemUgIT09ICd1bmRlZmluZWQnICYmIGNvbmZpZy5lZGl0b3IuaW5kZW50U2l6ZSAhPT0gJ3RhYlNpemUnKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRJbmRlbnRTaXplID0gcGFyc2VJbnQoY29uZmlnLmVkaXRvci5pbmRlbnRTaXplLCAxMCk7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZEluZGVudFNpemUpKSB7XG4gICAgICAgICAgICAgICAgaW5kZW50U2l6ZSA9IE1hdGgubWF4KHBhcnNlZEluZGVudFNpemUsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBpbnNlcnRTcGFjZXMgPSBFRElUT1JfTU9ERUxfREVGQVVMVFMuaW5zZXJ0U3BhY2VzO1xuICAgICAgICBpZiAoY29uZmlnLmVkaXRvciAmJiB0eXBlb2YgY29uZmlnLmVkaXRvci5pbnNlcnRTcGFjZXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpbnNlcnRTcGFjZXMgPSAoY29uZmlnLmVkaXRvci5pbnNlcnRTcGFjZXMgPT09ICdmYWxzZScgPyBmYWxzZSA6IEJvb2xlYW4oY29uZmlnLmVkaXRvci5pbnNlcnRTcGFjZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmV3RGVmYXVsdEVPTCA9IERFRkFVTFRfRU9MO1xuICAgICAgICBjb25zdCBlb2wgPSBjb25maWcuZW9sO1xuICAgICAgICBpZiAoZW9sID09PSAnXFxyXFxuJykge1xuICAgICAgICAgICAgbmV3RGVmYXVsdEVPTCA9IDIgLyogRGVmYXVsdEVuZE9mTGluZS5DUkxGICovO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVvbCA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgIG5ld0RlZmF1bHRFT0wgPSAxIC8qIERlZmF1bHRFbmRPZkxpbmUuTEYgKi87XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRyaW1BdXRvV2hpdGVzcGFjZSA9IEVESVRPUl9NT0RFTF9ERUZBVUxUUy50cmltQXV0b1doaXRlc3BhY2U7XG4gICAgICAgIGlmIChjb25maWcuZWRpdG9yICYmIHR5cGVvZiBjb25maWcuZWRpdG9yLnRyaW1BdXRvV2hpdGVzcGFjZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRyaW1BdXRvV2hpdGVzcGFjZSA9IChjb25maWcuZWRpdG9yLnRyaW1BdXRvV2hpdGVzcGFjZSA9PT0gJ2ZhbHNlJyA/IGZhbHNlIDogQm9vbGVhbihjb25maWcuZWRpdG9yLnRyaW1BdXRvV2hpdGVzcGFjZSkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkZXRlY3RJbmRlbnRhdGlvbiA9IEVESVRPUl9NT0RFTF9ERUZBVUxUUy5kZXRlY3RJbmRlbnRhdGlvbjtcbiAgICAgICAgaWYgKGNvbmZpZy5lZGl0b3IgJiYgdHlwZW9mIGNvbmZpZy5lZGl0b3IuZGV0ZWN0SW5kZW50YXRpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBkZXRlY3RJbmRlbnRhdGlvbiA9IChjb25maWcuZWRpdG9yLmRldGVjdEluZGVudGF0aW9uID09PSAnZmFsc2UnID8gZmFsc2UgOiBCb29sZWFuKGNvbmZpZy5lZGl0b3IuZGV0ZWN0SW5kZW50YXRpb24pKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGFyZ2VGaWxlT3B0aW1pemF0aW9ucyA9IEVESVRPUl9NT0RFTF9ERUZBVUxUUy5sYXJnZUZpbGVPcHRpbWl6YXRpb25zO1xuICAgICAgICBpZiAoY29uZmlnLmVkaXRvciAmJiB0eXBlb2YgY29uZmlnLmVkaXRvci5sYXJnZUZpbGVPcHRpbWl6YXRpb25zICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgbGFyZ2VGaWxlT3B0aW1pemF0aW9ucyA9IChjb25maWcuZWRpdG9yLmxhcmdlRmlsZU9wdGltaXphdGlvbnMgPT09ICdmYWxzZScgPyBmYWxzZSA6IEJvb2xlYW4oY29uZmlnLmVkaXRvci5sYXJnZUZpbGVPcHRpbWl6YXRpb25zKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJyYWNrZXRQYWlyQ29sb3JpemF0aW9uT3B0aW9ucyA9IEVESVRPUl9NT0RFTF9ERUZBVUxUUy5icmFja2V0UGFpckNvbG9yaXphdGlvbk9wdGlvbnM7XG4gICAgICAgIGlmIChjb25maWcuZWRpdG9yPy5icmFja2V0UGFpckNvbG9yaXphdGlvbiAmJiB0eXBlb2YgY29uZmlnLmVkaXRvci5icmFja2V0UGFpckNvbG9yaXphdGlvbiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGJyYWNrZXRQYWlyQ29sb3JpemF0aW9uT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBlbmFibGVkOiAhIWNvbmZpZy5lZGl0b3IuYnJhY2tldFBhaXJDb2xvcml6YXRpb24uZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBpbmRlcGVuZGVudENvbG9yUG9vbFBlckJyYWNrZXRUeXBlOiAhIWNvbmZpZy5lZGl0b3IuYnJhY2tldFBhaXJDb2xvcml6YXRpb24uaW5kZXBlbmRlbnRDb2xvclBvb2xQZXJCcmFja2V0VHlwZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNGb3JTaW1wbGVXaWRnZXQ6IGlzRm9yU2ltcGxlV2lkZ2V0LFxuICAgICAgICAgICAgdGFiU2l6ZTogdGFiU2l6ZSxcbiAgICAgICAgICAgIGluZGVudFNpemU6IGluZGVudFNpemUsXG4gICAgICAgICAgICBpbnNlcnRTcGFjZXM6IGluc2VydFNwYWNlcyxcbiAgICAgICAgICAgIGRldGVjdEluZGVudGF0aW9uOiBkZXRlY3RJbmRlbnRhdGlvbixcbiAgICAgICAgICAgIGRlZmF1bHRFT0w6IG5ld0RlZmF1bHRFT0wsXG4gICAgICAgICAgICB0cmltQXV0b1doaXRlc3BhY2U6IHRyaW1BdXRvV2hpdGVzcGFjZSxcbiAgICAgICAgICAgIGxhcmdlRmlsZU9wdGltaXphdGlvbnM6IGxhcmdlRmlsZU9wdGltaXphdGlvbnMsXG4gICAgICAgICAgICBicmFja2V0UGFpckNvbG9yaXphdGlvbk9wdGlvbnNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2dldEVPTChyZXNvdXJjZSwgbGFuZ3VhZ2UpIHtcbiAgICAgICAgaWYgKHJlc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzb3VyY2VQcm9wZXJ0aWVzU2VydmljZS5nZXRFT0wocmVzb3VyY2UsIGxhbmd1YWdlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlb2wgPSB0aGlzLl9jb25maWd1cmF0aW9uU2VydmljZS5nZXRWYWx1ZSgnZmlsZXMuZW9sJywgeyBvdmVycmlkZUlkZW50aWZpZXI6IGxhbmd1YWdlIH0pO1xuICAgICAgICBpZiAoZW9sICYmIHR5cGVvZiBlb2wgPT09ICdzdHJpbmcnICYmIGVvbCAhPT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICByZXR1cm4gZW9sO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwbGF0Zm9ybS5PUyA9PT0gMyAvKiBwbGF0Zm9ybS5PcGVyYXRpbmdTeXN0ZW0uTGludXggKi8gfHwgcGxhdGZvcm0uT1MgPT09IDIgLyogcGxhdGZvcm0uT3BlcmF0aW5nU3lzdGVtLk1hY2ludG9zaCAqLyA/ICdcXG4nIDogJ1xcclxcbic7XG4gICAgfVxuICAgIF9zaG91bGRSZXN0b3JlVW5kb1N0YWNrKCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9jb25maWd1cmF0aW9uU2VydmljZS5nZXRWYWx1ZSgnZmlsZXMucmVzdG9yZVVuZG9TdGFjaycpO1xuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBnZXRDcmVhdGlvbk9wdGlvbnMobGFuZ3VhZ2VJZE9yU2VsZWN0aW9uLCByZXNvdXJjZSwgaXNGb3JTaW1wbGVXaWRnZXQpIHtcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2UgPSAodHlwZW9mIGxhbmd1YWdlSWRPclNlbGVjdGlvbiA9PT0gJ3N0cmluZycgPyBsYW5ndWFnZUlkT3JTZWxlY3Rpb24gOiBsYW5ndWFnZUlkT3JTZWxlY3Rpb24ubGFuZ3VhZ2VJZCk7XG4gICAgICAgIGxldCBjcmVhdGlvbk9wdGlvbnMgPSB0aGlzLl9tb2RlbENyZWF0aW9uT3B0aW9uc0J5TGFuZ3VhZ2VBbmRSZXNvdXJjZVtsYW5ndWFnZSArIHJlc291cmNlXTtcbiAgICAgICAgaWYgKCFjcmVhdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGVkaXRvciA9IHRoaXMuX2NvbmZpZ3VyYXRpb25TZXJ2aWNlLmdldFZhbHVlKCdlZGl0b3InLCB7IG92ZXJyaWRlSWRlbnRpZmllcjogbGFuZ3VhZ2UsIHJlc291cmNlIH0pO1xuICAgICAgICAgICAgY29uc3QgZW9sID0gdGhpcy5fZ2V0RU9MKHJlc291cmNlLCBsYW5ndWFnZSk7XG4gICAgICAgICAgICBjcmVhdGlvbk9wdGlvbnMgPSBNb2RlbFNlcnZpY2VfMS5fcmVhZE1vZGVsT3B0aW9ucyh7IGVkaXRvciwgZW9sIH0sIGlzRm9yU2ltcGxlV2lkZ2V0KTtcbiAgICAgICAgICAgIHRoaXMuX21vZGVsQ3JlYXRpb25PcHRpb25zQnlMYW5ndWFnZUFuZFJlc291cmNlW2xhbmd1YWdlICsgcmVzb3VyY2VdID0gY3JlYXRpb25PcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjcmVhdGlvbk9wdGlvbnM7XG4gICAgfVxuICAgIF91cGRhdGVNb2RlbE9wdGlvbnMoZSkge1xuICAgICAgICBjb25zdCBvbGRPcHRpb25zQnlMYW5ndWFnZUFuZFJlc291cmNlID0gdGhpcy5fbW9kZWxDcmVhdGlvbk9wdGlvbnNCeUxhbmd1YWdlQW5kUmVzb3VyY2U7XG4gICAgICAgIHRoaXMuX21vZGVsQ3JlYXRpb25PcHRpb25zQnlMYW5ndWFnZUFuZFJlc291cmNlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgLy8gVXBkYXRlIG9wdGlvbnMgb24gYWxsIG1vZGVsc1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5fbW9kZWxzKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGtleXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1vZGVsSWQgPSBrZXlzW2ldO1xuICAgICAgICAgICAgY29uc3QgbW9kZWxEYXRhID0gdGhpcy5fbW9kZWxzW21vZGVsSWRdO1xuICAgICAgICAgICAgY29uc3QgbGFuZ3VhZ2UgPSBtb2RlbERhdGEubW9kZWwuZ2V0TGFuZ3VhZ2VJZCgpO1xuICAgICAgICAgICAgY29uc3QgdXJpID0gbW9kZWxEYXRhLm1vZGVsLnVyaTtcbiAgICAgICAgICAgIGlmIChlICYmICFlLmFmZmVjdHNDb25maWd1cmF0aW9uKCdlZGl0b3InLCB7IG92ZXJyaWRlSWRlbnRpZmllcjogbGFuZ3VhZ2UsIHJlc291cmNlOiB1cmkgfSkgJiYgIWUuYWZmZWN0c0NvbmZpZ3VyYXRpb24oJ2ZpbGVzLmVvbCcsIHsgb3ZlcnJpZGVJZGVudGlmaWVyOiBsYW5ndWFnZSwgcmVzb3VyY2U6IHVyaSB9KSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBwZXJmOiBza2lwIGlmIHRoaXMgbW9kZWwgaXMgbm90IGFmZmVjdGVkIGJ5IGNvbmZpZ3VyYXRpb24gY2hhbmdlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvbGRPcHRpb25zID0gb2xkT3B0aW9uc0J5TGFuZ3VhZ2VBbmRSZXNvdXJjZVtsYW5ndWFnZSArIHVyaV07XG4gICAgICAgICAgICBjb25zdCBuZXdPcHRpb25zID0gdGhpcy5nZXRDcmVhdGlvbk9wdGlvbnMobGFuZ3VhZ2UsIHVyaSwgbW9kZWxEYXRhLm1vZGVsLmlzRm9yU2ltcGxlV2lkZ2V0KTtcbiAgICAgICAgICAgIE1vZGVsU2VydmljZV8xLl9zZXRNb2RlbE9wdGlvbnNGb3JNb2RlbChtb2RlbERhdGEubW9kZWwsIG5ld09wdGlvbnMsIG9sZE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBfc2V0TW9kZWxPcHRpb25zRm9yTW9kZWwobW9kZWwsIG5ld09wdGlvbnMsIGN1cnJlbnRPcHRpb25zKSB7XG4gICAgICAgIGlmIChjdXJyZW50T3B0aW9ucyAmJiBjdXJyZW50T3B0aW9ucy5kZWZhdWx0RU9MICE9PSBuZXdPcHRpb25zLmRlZmF1bHRFT0wgJiYgbW9kZWwuZ2V0TGluZUNvdW50KCkgPT09IDEpIHtcbiAgICAgICAgICAgIG1vZGVsLnNldEVPTChuZXdPcHRpb25zLmRlZmF1bHRFT0wgPT09IDEgLyogRGVmYXVsdEVuZE9mTGluZS5MRiAqLyA/IDAgLyogRW5kT2ZMaW5lU2VxdWVuY2UuTEYgKi8gOiAxIC8qIEVuZE9mTGluZVNlcXVlbmNlLkNSTEYgKi8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50T3B0aW9uc1xuICAgICAgICAgICAgJiYgKGN1cnJlbnRPcHRpb25zLmRldGVjdEluZGVudGF0aW9uID09PSBuZXdPcHRpb25zLmRldGVjdEluZGVudGF0aW9uKVxuICAgICAgICAgICAgJiYgKGN1cnJlbnRPcHRpb25zLmluc2VydFNwYWNlcyA9PT0gbmV3T3B0aW9ucy5pbnNlcnRTcGFjZXMpXG4gICAgICAgICAgICAmJiAoY3VycmVudE9wdGlvbnMudGFiU2l6ZSA9PT0gbmV3T3B0aW9ucy50YWJTaXplKVxuICAgICAgICAgICAgJiYgKGN1cnJlbnRPcHRpb25zLmluZGVudFNpemUgPT09IG5ld09wdGlvbnMuaW5kZW50U2l6ZSlcbiAgICAgICAgICAgICYmIChjdXJyZW50T3B0aW9ucy50cmltQXV0b1doaXRlc3BhY2UgPT09IG5ld09wdGlvbnMudHJpbUF1dG9XaGl0ZXNwYWNlKVxuICAgICAgICAgICAgJiYgZXF1YWxzKGN1cnJlbnRPcHRpb25zLmJyYWNrZXRQYWlyQ29sb3JpemF0aW9uT3B0aW9ucywgbmV3T3B0aW9ucy5icmFja2V0UGFpckNvbG9yaXphdGlvbk9wdGlvbnMpKSB7XG4gICAgICAgICAgICAvLyBTYW1lIGluZGVudCBvcHRzLCBubyBuZWVkIHRvIHRvdWNoIHRoZSBtb2RlbFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdPcHRpb25zLmRldGVjdEluZGVudGF0aW9uKSB7XG4gICAgICAgICAgICBtb2RlbC5kZXRlY3RJbmRlbnRhdGlvbihuZXdPcHRpb25zLmluc2VydFNwYWNlcywgbmV3T3B0aW9ucy50YWJTaXplKTtcbiAgICAgICAgICAgIG1vZGVsLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICAgICAgICAgIHRyaW1BdXRvV2hpdGVzcGFjZTogbmV3T3B0aW9ucy50cmltQXV0b1doaXRlc3BhY2UsXG4gICAgICAgICAgICAgICAgYnJhY2tldENvbG9yaXphdGlvbk9wdGlvbnM6IG5ld09wdGlvbnMuYnJhY2tldFBhaXJDb2xvcml6YXRpb25PcHRpb25zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1vZGVsLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICAgICAgICAgIGluc2VydFNwYWNlczogbmV3T3B0aW9ucy5pbnNlcnRTcGFjZXMsXG4gICAgICAgICAgICAgICAgdGFiU2l6ZTogbmV3T3B0aW9ucy50YWJTaXplLFxuICAgICAgICAgICAgICAgIGluZGVudFNpemU6IG5ld09wdGlvbnMuaW5kZW50U2l6ZSxcbiAgICAgICAgICAgICAgICB0cmltQXV0b1doaXRlc3BhY2U6IG5ld09wdGlvbnMudHJpbUF1dG9XaGl0ZXNwYWNlLFxuICAgICAgICAgICAgICAgIGJyYWNrZXRDb2xvcml6YXRpb25PcHRpb25zOiBuZXdPcHRpb25zLmJyYWNrZXRQYWlyQ29sb3JpemF0aW9uT3B0aW9uc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gLS0tIGJlZ2luIElNb2RlbFNlcnZpY2VcbiAgICBfaW5zZXJ0RGlzcG9zZWRNb2RlbChkaXNwb3NlZE1vZGVsRGF0YSkge1xuICAgICAgICB0aGlzLl9kaXNwb3NlZE1vZGVscy5zZXQoTU9ERUxfSUQoZGlzcG9zZWRNb2RlbERhdGEudXJpKSwgZGlzcG9zZWRNb2RlbERhdGEpO1xuICAgICAgICB0aGlzLl9kaXNwb3NlZE1vZGVsc0hlYXBTaXplICs9IGRpc3Bvc2VkTW9kZWxEYXRhLmhlYXBTaXplO1xuICAgIH1cbiAgICBfcmVtb3ZlRGlzcG9zZWRNb2RlbChyZXNvdXJjZSkge1xuICAgICAgICBjb25zdCBkaXNwb3NlZE1vZGVsRGF0YSA9IHRoaXMuX2Rpc3Bvc2VkTW9kZWxzLmdldChNT0RFTF9JRChyZXNvdXJjZSkpO1xuICAgICAgICBpZiAoZGlzcG9zZWRNb2RlbERhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VkTW9kZWxzSGVhcFNpemUgLT0gZGlzcG9zZWRNb2RlbERhdGEuaGVhcFNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGlzcG9zZWRNb2RlbHMuZGVsZXRlKE1PREVMX0lEKHJlc291cmNlKSk7XG4gICAgICAgIHJldHVybiBkaXNwb3NlZE1vZGVsRGF0YTtcbiAgICB9XG4gICAgX2Vuc3VyZURpc3Bvc2VkTW9kZWxzSGVhcFNpemUobWF4TW9kZWxzSGVhcFNpemUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rpc3Bvc2VkTW9kZWxzSGVhcFNpemUgPiBtYXhNb2RlbHNIZWFwU2l6ZSkge1xuICAgICAgICAgICAgLy8gd2UgbXVzdCByZW1vdmUgc29tZSBvbGQgdW5kbyBzdGFjayBlbGVtZW50cyB0byBmcmVlIHVwIHNvbWUgbWVtb3J5XG4gICAgICAgICAgICBjb25zdCBkaXNwb3NlZE1vZGVscyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZWRNb2RlbHMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbnRyeS5zaGFyZXNVbmRvUmVkb1N0YWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3Bvc2VkTW9kZWxzLnB1c2goZW50cnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGlzcG9zZWRNb2RlbHMuc29ydCgoYSwgYikgPT4gYS50aW1lIC0gYi50aW1lKTtcbiAgICAgICAgICAgIHdoaWxlIChkaXNwb3NlZE1vZGVscy5sZW5ndGggPiAwICYmIHRoaXMuX2Rpc3Bvc2VkTW9kZWxzSGVhcFNpemUgPiBtYXhNb2RlbHNIZWFwU2l6ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3Bvc2VkTW9kZWwgPSBkaXNwb3NlZE1vZGVscy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZURpc3Bvc2VkTW9kZWwoZGlzcG9zZWRNb2RlbC51cmkpO1xuICAgICAgICAgICAgICAgIGlmIChkaXNwb3NlZE1vZGVsLmluaXRpYWxVbmRvUmVkb1NuYXBzaG90ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VuZG9SZWRvU2VydmljZS5yZXN0b3JlU25hcHNob3QoZGlzcG9zZWRNb2RlbC5pbml0aWFsVW5kb1JlZG9TbmFwc2hvdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9jcmVhdGVNb2RlbERhdGEodmFsdWUsIGxhbmd1YWdlSWRPclNlbGVjdGlvbiwgcmVzb3VyY2UsIGlzRm9yU2ltcGxlV2lkZ2V0KSB7XG4gICAgICAgIC8vIGNyZWF0ZSAmIHNhdmUgdGhlIG1vZGVsXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLmdldENyZWF0aW9uT3B0aW9ucyhsYW5ndWFnZUlkT3JTZWxlY3Rpb24sIHJlc291cmNlLCBpc0ZvclNpbXBsZVdpZGdldCk7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5faW5zdGFudGlhdGlvblNlcnZpY2UuY3JlYXRlSW5zdGFuY2UoVGV4dE1vZGVsLCB2YWx1ZSwgbGFuZ3VhZ2VJZE9yU2VsZWN0aW9uLCBvcHRpb25zLCByZXNvdXJjZSk7XG4gICAgICAgIGlmIChyZXNvdXJjZSAmJiB0aGlzLl9kaXNwb3NlZE1vZGVscy5oYXMoTU9ERUxfSUQocmVzb3VyY2UpKSkge1xuICAgICAgICAgICAgY29uc3QgZGlzcG9zZWRNb2RlbERhdGEgPSB0aGlzLl9yZW1vdmVEaXNwb3NlZE1vZGVsKHJlc291cmNlKTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5fdW5kb1JlZG9TZXJ2aWNlLmdldEVsZW1lbnRzKHJlc291cmNlKTtcbiAgICAgICAgICAgIGNvbnN0IHNoYTFDb21wdXRlciA9IHRoaXMuX2dldFNIQTFDb21wdXRlcigpO1xuICAgICAgICAgICAgY29uc3Qgc2hhMUlzRXF1YWwgPSAoc2hhMUNvbXB1dGVyLmNhbkNvbXB1dGVTSEExKG1vZGVsKVxuICAgICAgICAgICAgICAgID8gc2hhMUNvbXB1dGVyLmNvbXB1dGVTSEExKG1vZGVsKSA9PT0gZGlzcG9zZWRNb2RlbERhdGEuc2hhMVxuICAgICAgICAgICAgICAgIDogZmFsc2UpO1xuICAgICAgICAgICAgaWYgKHNoYTFJc0VxdWFsIHx8IGRpc3Bvc2VkTW9kZWxEYXRhLnNoYXJlc1VuZG9SZWRvU3RhY2spIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMucGFzdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNFZGl0U3RhY2tFbGVtZW50KGVsZW1lbnQpICYmIGVsZW1lbnQubWF0Y2hlc1Jlc291cmNlKHJlc291cmNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRNb2RlbChtb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzLmZ1dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNFZGl0U3RhY2tFbGVtZW50KGVsZW1lbnQpICYmIGVsZW1lbnQubWF0Y2hlc1Jlc291cmNlKHJlc291cmNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRNb2RlbChtb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fdW5kb1JlZG9TZXJ2aWNlLnNldEVsZW1lbnRzVmFsaWRGbGFnKHJlc291cmNlLCB0cnVlLCAoZWxlbWVudCkgPT4gKGlzRWRpdFN0YWNrRWxlbWVudChlbGVtZW50KSAmJiBlbGVtZW50Lm1hdGNoZXNSZXNvdXJjZShyZXNvdXJjZSkpKTtcbiAgICAgICAgICAgICAgICBpZiAoc2hhMUlzRXF1YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuX292ZXJ3cml0ZVZlcnNpb25JZChkaXNwb3NlZE1vZGVsRGF0YS52ZXJzaW9uSWQpO1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5fb3ZlcndyaXRlQWx0ZXJuYXRpdmVWZXJzaW9uSWQoZGlzcG9zZWRNb2RlbERhdGEuYWx0ZXJuYXRpdmVWZXJzaW9uSWQpO1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5fb3ZlcndyaXRlSW5pdGlhbFVuZG9SZWRvU25hcHNob3QoZGlzcG9zZWRNb2RlbERhdGEuaW5pdGlhbFVuZG9SZWRvU25hcHNob3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChkaXNwb3NlZE1vZGVsRGF0YS5pbml0aWFsVW5kb1JlZG9TbmFwc2hvdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91bmRvUmVkb1NlcnZpY2UucmVzdG9yZVNuYXBzaG90KGRpc3Bvc2VkTW9kZWxEYXRhLmluaXRpYWxVbmRvUmVkb1NuYXBzaG90KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW9kZWxJZCA9IE1PREVMX0lEKG1vZGVsLnVyaSk7XG4gICAgICAgIGlmICh0aGlzLl9tb2RlbHNbbW9kZWxJZF0pIHtcbiAgICAgICAgICAgIC8vIFRoZXJlIGFscmVhZHkgZXhpc3RzIGEgbW9kZWwgd2l0aCB0aGlzIGlkID0+IHRoaXMgaXMgYSBwcm9ncmFtbWVyIGVycm9yXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vZGVsU2VydmljZTogQ2Fubm90IGFkZCBtb2RlbCBiZWNhdXNlIGl0IGFscmVhZHkgZXhpc3RzIScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZGVsRGF0YSA9IG5ldyBNb2RlbERhdGEobW9kZWwsIChtb2RlbCkgPT4gdGhpcy5fb25XaWxsRGlzcG9zZShtb2RlbCksIChtb2RlbCwgZSkgPT4gdGhpcy5fb25EaWRDaGFuZ2VMYW5ndWFnZShtb2RlbCwgZSkpO1xuICAgICAgICB0aGlzLl9tb2RlbHNbbW9kZWxJZF0gPSBtb2RlbERhdGE7XG4gICAgICAgIHJldHVybiBtb2RlbERhdGE7XG4gICAgfVxuICAgIGNyZWF0ZU1vZGVsKHZhbHVlLCBsYW5ndWFnZVNlbGVjdGlvbiwgcmVzb3VyY2UsIGlzRm9yU2ltcGxlV2lkZ2V0ID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IG1vZGVsRGF0YTtcbiAgICAgICAgaWYgKGxhbmd1YWdlU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBtb2RlbERhdGEgPSB0aGlzLl9jcmVhdGVNb2RlbERhdGEodmFsdWUsIGxhbmd1YWdlU2VsZWN0aW9uLCByZXNvdXJjZSwgaXNGb3JTaW1wbGVXaWRnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbW9kZWxEYXRhID0gdGhpcy5fY3JlYXRlTW9kZWxEYXRhKHZhbHVlLCBQTEFJTlRFWFRfTEFOR1VBR0VfSUQsIHJlc291cmNlLCBpc0ZvclNpbXBsZVdpZGdldCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb25Nb2RlbEFkZGVkLmZpcmUobW9kZWxEYXRhLm1vZGVsKTtcbiAgICAgICAgcmV0dXJuIG1vZGVsRGF0YS5tb2RlbDtcbiAgICB9XG4gICAgZ2V0TW9kZWxzKCkge1xuICAgICAgICBjb25zdCByZXQgPSBbXTtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX21vZGVscyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBrZXlzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBtb2RlbElkID0ga2V5c1tpXTtcbiAgICAgICAgICAgIHJldC5wdXNoKHRoaXMuX21vZGVsc1ttb2RlbElkXS5tb2RlbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZ2V0TW9kZWwocmVzb3VyY2UpIHtcbiAgICAgICAgY29uc3QgbW9kZWxJZCA9IE1PREVMX0lEKHJlc291cmNlKTtcbiAgICAgICAgY29uc3QgbW9kZWxEYXRhID0gdGhpcy5fbW9kZWxzW21vZGVsSWRdO1xuICAgICAgICBpZiAoIW1vZGVsRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1vZGVsRGF0YS5tb2RlbDtcbiAgICB9XG4gICAgLy8gLS0tIGVuZCBJTW9kZWxTZXJ2aWNlXG4gICAgX3NjaGVtYVNob3VsZE1haW50YWluVW5kb1JlZG9FbGVtZW50cyhyZXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gKHJlc291cmNlLnNjaGVtZSA9PT0gU2NoZW1hcy5maWxlXG4gICAgICAgICAgICB8fCByZXNvdXJjZS5zY2hlbWUgPT09IFNjaGVtYXMudnNjb2RlUmVtb3RlXG4gICAgICAgICAgICB8fCByZXNvdXJjZS5zY2hlbWUgPT09IFNjaGVtYXMudnNjb2RlVXNlckRhdGFcbiAgICAgICAgICAgIHx8IHJlc291cmNlLnNjaGVtZSA9PT0gU2NoZW1hcy52c2NvZGVOb3RlYm9va0NlbGxcbiAgICAgICAgICAgIHx8IHJlc291cmNlLnNjaGVtZSA9PT0gJ2Zha2UtZnMnIC8vIGZvciB0ZXN0c1xuICAgICAgICApO1xuICAgIH1cbiAgICBfb25XaWxsRGlzcG9zZShtb2RlbCkge1xuICAgICAgICBjb25zdCBtb2RlbElkID0gTU9ERUxfSUQobW9kZWwudXJpKTtcbiAgICAgICAgY29uc3QgbW9kZWxEYXRhID0gdGhpcy5fbW9kZWxzW21vZGVsSWRdO1xuICAgICAgICBjb25zdCBzaGFyZXNVbmRvUmVkb1N0YWNrID0gKHRoaXMuX3VuZG9SZWRvU2VydmljZS5nZXRVcmlDb21wYXJpc29uS2V5KG1vZGVsLnVyaSkgIT09IG1vZGVsLnVyaS50b1N0cmluZygpKTtcbiAgICAgICAgbGV0IG1haW50YWluVW5kb1JlZG9TdGFjayA9IGZhbHNlO1xuICAgICAgICBsZXQgaGVhcFNpemUgPSAwO1xuICAgICAgICBpZiAoc2hhcmVzVW5kb1JlZG9TdGFjayB8fCAodGhpcy5fc2hvdWxkUmVzdG9yZVVuZG9TdGFjaygpICYmIHRoaXMuX3NjaGVtYVNob3VsZE1haW50YWluVW5kb1JlZG9FbGVtZW50cyhtb2RlbC51cmkpKSkge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLl91bmRvUmVkb1NlcnZpY2UuZ2V0RWxlbWVudHMobW9kZWwudXJpKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50cy5wYXN0Lmxlbmd0aCA+IDAgfHwgZWxlbWVudHMuZnV0dXJlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMucGFzdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNFZGl0U3RhY2tFbGVtZW50KGVsZW1lbnQpICYmIGVsZW1lbnQubWF0Y2hlc1Jlc291cmNlKG1vZGVsLnVyaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1haW50YWluVW5kb1JlZG9TdGFjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFwU2l6ZSArPSBlbGVtZW50LmhlYXBTaXplKG1vZGVsLnVyaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldE1vZGVsKG1vZGVsLnVyaSk7IC8vIHJlbW92ZSByZWZlcmVuY2UgZnJvbSB0ZXh0IGJ1ZmZlciBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cy5mdXR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRWRpdFN0YWNrRWxlbWVudChlbGVtZW50KSAmJiBlbGVtZW50Lm1hdGNoZXNSZXNvdXJjZShtb2RlbC51cmkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWludGFpblVuZG9SZWRvU3RhY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhcFNpemUgKz0gZWxlbWVudC5oZWFwU2l6ZShtb2RlbC51cmkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRNb2RlbChtb2RlbC51cmkpOyAvLyByZW1vdmUgcmVmZXJlbmNlIGZyb20gdGV4dCBidWZmZXIgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtYXhNZW1vcnkgPSBNb2RlbFNlcnZpY2VfMS5NQVhfTUVNT1JZX0ZPUl9DTE9TRURfRklMRVNfVU5ET19TVEFDSztcbiAgICAgICAgY29uc3Qgc2hhMUNvbXB1dGVyID0gdGhpcy5fZ2V0U0hBMUNvbXB1dGVyKCk7XG4gICAgICAgIGlmICghbWFpbnRhaW5VbmRvUmVkb1N0YWNrKSB7XG4gICAgICAgICAgICBpZiAoIXNoYXJlc1VuZG9SZWRvU3RhY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbml0aWFsVW5kb1JlZG9TbmFwc2hvdCA9IG1vZGVsRGF0YS5tb2RlbC5nZXRJbml0aWFsVW5kb1JlZG9TbmFwc2hvdCgpO1xuICAgICAgICAgICAgICAgIGlmIChpbml0aWFsVW5kb1JlZG9TbmFwc2hvdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91bmRvUmVkb1NlcnZpY2UucmVzdG9yZVNuYXBzaG90KGluaXRpYWxVbmRvUmVkb1NuYXBzaG90KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXNoYXJlc1VuZG9SZWRvU3RhY2sgJiYgKGhlYXBTaXplID4gbWF4TWVtb3J5IHx8ICFzaGExQ29tcHV0ZXIuY2FuQ29tcHV0ZVNIQTEobW9kZWwpKSkge1xuICAgICAgICAgICAgLy8gdGhlIHVuZG8gc3RhY2sgZm9yIHRoaXMgZmlsZSB3b3VsZCBuZXZlciBmaXQgaW4gdGhlIGNvbmZpZ3VyZWQgbWVtb3J5IG9yIHRoZSBmaWxlIGlzIHZlcnkgbGFyZ2UsIHNvIGRvbid0IGJvdGhlciB3aXRoIGl0LlxuICAgICAgICAgICAgY29uc3QgaW5pdGlhbFVuZG9SZWRvU25hcHNob3QgPSBtb2RlbERhdGEubW9kZWwuZ2V0SW5pdGlhbFVuZG9SZWRvU25hcHNob3QoKTtcbiAgICAgICAgICAgIGlmIChpbml0aWFsVW5kb1JlZG9TbmFwc2hvdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VuZG9SZWRvU2VydmljZS5yZXN0b3JlU25hcHNob3QoaW5pdGlhbFVuZG9SZWRvU25hcHNob3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZW5zdXJlRGlzcG9zZWRNb2RlbHNIZWFwU2l6ZShtYXhNZW1vcnkgLSBoZWFwU2l6ZSk7XG4gICAgICAgICAgICAvLyBXZSBvbmx5IGludmFsaWRhdGUgdGhlIGVsZW1lbnRzLCBidXQgdGhleSByZW1haW4gaW4gdGhlIHVuZG8tcmVkbyBzZXJ2aWNlLlxuICAgICAgICAgICAgdGhpcy5fdW5kb1JlZG9TZXJ2aWNlLnNldEVsZW1lbnRzVmFsaWRGbGFnKG1vZGVsLnVyaSwgZmFsc2UsIChlbGVtZW50KSA9PiAoaXNFZGl0U3RhY2tFbGVtZW50KGVsZW1lbnQpICYmIGVsZW1lbnQubWF0Y2hlc1Jlc291cmNlKG1vZGVsLnVyaSkpKTtcbiAgICAgICAgICAgIHRoaXMuX2luc2VydERpc3Bvc2VkTW9kZWwobmV3IERpc3Bvc2VkTW9kZWxJbmZvKG1vZGVsLnVyaSwgbW9kZWxEYXRhLm1vZGVsLmdldEluaXRpYWxVbmRvUmVkb1NuYXBzaG90KCksIERhdGUubm93KCksIHNoYXJlc1VuZG9SZWRvU3RhY2ssIGhlYXBTaXplLCBzaGExQ29tcHV0ZXIuY29tcHV0ZVNIQTEobW9kZWwpLCBtb2RlbC5nZXRWZXJzaW9uSWQoKSwgbW9kZWwuZ2V0QWx0ZXJuYXRpdmVWZXJzaW9uSWQoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9tb2RlbHNbbW9kZWxJZF07XG4gICAgICAgIG1vZGVsRGF0YS5kaXNwb3NlKCk7XG4gICAgICAgIC8vIGNsZWFuIHVwIGNhY2hlXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9tb2RlbENyZWF0aW9uT3B0aW9uc0J5TGFuZ3VhZ2VBbmRSZXNvdXJjZVttb2RlbC5nZXRMYW5ndWFnZUlkKCkgKyBtb2RlbC51cmldO1xuICAgICAgICB0aGlzLl9vbk1vZGVsUmVtb3ZlZC5maXJlKG1vZGVsKTtcbiAgICB9XG4gICAgX29uRGlkQ2hhbmdlTGFuZ3VhZ2UobW9kZWwsIGUpIHtcbiAgICAgICAgY29uc3Qgb2xkTGFuZ3VhZ2VJZCA9IGUub2xkTGFuZ3VhZ2U7XG4gICAgICAgIGNvbnN0IG5ld0xhbmd1YWdlSWQgPSBtb2RlbC5nZXRMYW5ndWFnZUlkKCk7XG4gICAgICAgIGNvbnN0IG9sZE9wdGlvbnMgPSB0aGlzLmdldENyZWF0aW9uT3B0aW9ucyhvbGRMYW5ndWFnZUlkLCBtb2RlbC51cmksIG1vZGVsLmlzRm9yU2ltcGxlV2lkZ2V0KTtcbiAgICAgICAgY29uc3QgbmV3T3B0aW9ucyA9IHRoaXMuZ2V0Q3JlYXRpb25PcHRpb25zKG5ld0xhbmd1YWdlSWQsIG1vZGVsLnVyaSwgbW9kZWwuaXNGb3JTaW1wbGVXaWRnZXQpO1xuICAgICAgICBNb2RlbFNlcnZpY2VfMS5fc2V0TW9kZWxPcHRpb25zRm9yTW9kZWwobW9kZWwsIG5ld09wdGlvbnMsIG9sZE9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9vbk1vZGVsTW9kZUNoYW5nZWQuZmlyZSh7IG1vZGVsLCBvbGRMYW5ndWFnZUlkOiBvbGRMYW5ndWFnZUlkIH0pO1xuICAgIH1cbiAgICBfZ2V0U0hBMUNvbXB1dGVyKCkge1xuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRNb2RlbFNIQTFDb21wdXRlcigpO1xuICAgIH1cbn07XG5Nb2RlbFNlcnZpY2UgPSBNb2RlbFNlcnZpY2VfMSA9IF9fZGVjb3JhdGUoW1xuICAgIF9fcGFyYW0oMCwgSUNvbmZpZ3VyYXRpb25TZXJ2aWNlKSxcbiAgICBfX3BhcmFtKDEsIElUZXh0UmVzb3VyY2VQcm9wZXJ0aWVzU2VydmljZSksXG4gICAgX19wYXJhbSgyLCBJVW5kb1JlZG9TZXJ2aWNlKSxcbiAgICBfX3BhcmFtKDMsIElJbnN0YW50aWF0aW9uU2VydmljZSlcbl0sIE1vZGVsU2VydmljZSk7XG5leHBvcnQgeyBNb2RlbFNlcnZpY2UgfTtcbmV4cG9ydCBjbGFzcyBEZWZhdWx0TW9kZWxTSEExQ29tcHV0ZXIge1xuICAgIHN0YXRpYyB7IHRoaXMuTUFYX01PREVMX1NJWkUgPSAxMCAqIDEwMjQgKiAxMDI0OyB9IC8vIHRha2VzIDIwMG1zIHRvIGNvbXB1dGUgYSBzaGExIG9uIGEgMTBNQiBtb2RlbCBvbiBhIG5ldyBtYWNoaW5lXG4gICAgY2FuQ29tcHV0ZVNIQTEobW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIChtb2RlbC5nZXRWYWx1ZUxlbmd0aCgpIDw9IERlZmF1bHRNb2RlbFNIQTFDb21wdXRlci5NQVhfTU9ERUxfU0laRSk7XG4gICAgfVxuICAgIGNvbXB1dGVTSEExKG1vZGVsKSB7XG4gICAgICAgIC8vIGNvbXB1dGUgdGhlIHNoYTFcbiAgICAgICAgY29uc3Qgc2hhQ29tcHV0ZXIgPSBuZXcgU3RyaW5nU0hBMSgpO1xuICAgICAgICBjb25zdCBzbmFwc2hvdCA9IG1vZGVsLmNyZWF0ZVNuYXBzaG90KCk7XG4gICAgICAgIGxldCB0ZXh0O1xuICAgICAgICB3aGlsZSAoKHRleHQgPSBzbmFwc2hvdC5yZWFkKCkpKSB7XG4gICAgICAgICAgICBzaGFDb21wdXRlci51cGRhdGUodGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNoYUNvbXB1dGVyLmRpZ2VzdCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZURlY29yYXRvciB9IGZyb20gJy4uLy4uLy4uL3BsYXRmb3JtL2luc3RhbnRpYXRpb24vY29tbW9uL2luc3RhbnRpYXRpb24uanMnO1xuZXhwb3J0IGNvbnN0IElUZXh0UmVzb3VyY2VDb25maWd1cmF0aW9uU2VydmljZSA9IGNyZWF0ZURlY29yYXRvcigndGV4dFJlc291cmNlQ29uZmlndXJhdGlvblNlcnZpY2UnKTtcbmV4cG9ydCBjb25zdCBJVGV4dFJlc291cmNlUHJvcGVydGllc1NlcnZpY2UgPSBjcmVhdGVEZWNvcmF0b3IoJ3RleHRSZXNvdXJjZVByb3BlcnRpZXNTZXJ2aWNlJyk7XG4iLCJpbXBvcnQgeyBjcmVhdGVEZWNvcmF0b3IgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9pbnN0YW50aWF0aW9uL2NvbW1vbi9pbnN0YW50aWF0aW9uLmpzJztcbmV4cG9ydCBjb25zdCBJVHJlZVNpdHRlclBhcnNlclNlcnZpY2UgPSBjcmVhdGVEZWNvcmF0b3IoJ3RyZWVTaXR0ZXJQYXJzZXJTZXJ2aWNlJyk7XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8qKlxuICogQW4gZXZlbnQgZGVzY3JpYmluZyB0aGF0IGEgbW9kZWwgaGFzIGJlZW4gcmVzZXQgdG8gYSBuZXcgdmFsdWUuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGVsUmF3Rmx1c2gge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNoYW5nZVR5cGUgPSAxIC8qIFJhd0NvbnRlbnRDaGFuZ2VkVHlwZS5GbHVzaCAqLztcbiAgICB9XG59XG4vKipcbiAqIFJlcHJlc2VudHMgdGV4dCBpbmplY3RlZCBvbiBhIGxpbmVcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgTGluZUluamVjdGVkVGV4dCB7XG4gICAgc3RhdGljIGFwcGx5SW5qZWN0ZWRUZXh0KGxpbmVUZXh0LCBpbmplY3RlZFRleHRzKSB7XG4gICAgICAgIGlmICghaW5qZWN0ZWRUZXh0cyB8fCBpbmplY3RlZFRleHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGxpbmVUZXh0O1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHQgPSAnJztcbiAgICAgICAgbGV0IGxhc3RPcmlnaW5hbE9mZnNldCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgaW5qZWN0ZWRUZXh0IG9mIGluamVjdGVkVGV4dHMpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBsaW5lVGV4dC5zdWJzdHJpbmcobGFzdE9yaWdpbmFsT2Zmc2V0LCBpbmplY3RlZFRleHQuY29sdW1uIC0gMSk7XG4gICAgICAgICAgICBsYXN0T3JpZ2luYWxPZmZzZXQgPSBpbmplY3RlZFRleHQuY29sdW1uIC0gMTtcbiAgICAgICAgICAgIHJlc3VsdCArPSBpbmplY3RlZFRleHQub3B0aW9ucy5jb250ZW50O1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCArPSBsaW5lVGV4dC5zdWJzdHJpbmcobGFzdE9yaWdpbmFsT2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgc3RhdGljIGZyb21EZWNvcmF0aW9ucyhkZWNvcmF0aW9ucykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBkZWNvcmF0aW9uIG9mIGRlY29yYXRpb25zKSB7XG4gICAgICAgICAgICBpZiAoZGVjb3JhdGlvbi5vcHRpb25zLmJlZm9yZSAmJiBkZWNvcmF0aW9uLm9wdGlvbnMuYmVmb3JlLmNvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaW5lSW5qZWN0ZWRUZXh0KGRlY29yYXRpb24ub3duZXJJZCwgZGVjb3JhdGlvbi5yYW5nZS5zdGFydExpbmVOdW1iZXIsIGRlY29yYXRpb24ucmFuZ2Uuc3RhcnRDb2x1bW4sIGRlY29yYXRpb24ub3B0aW9ucy5iZWZvcmUsIDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWNvcmF0aW9uLm9wdGlvbnMuYWZ0ZXIgJiYgZGVjb3JhdGlvbi5vcHRpb25zLmFmdGVyLmNvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaW5lSW5qZWN0ZWRUZXh0KGRlY29yYXRpb24ub3duZXJJZCwgZGVjb3JhdGlvbi5yYW5nZS5lbmRMaW5lTnVtYmVyLCBkZWNvcmF0aW9uLnJhbmdlLmVuZENvbHVtbiwgZGVjb3JhdGlvbi5vcHRpb25zLmFmdGVyLCAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhLmxpbmVOdW1iZXIgPT09IGIubGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgIGlmIChhLmNvbHVtbiA9PT0gYi5jb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEub3JkZXIgLSBiLm9yZGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYS5jb2x1bW4gLSBiLmNvbHVtbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhLmxpbmVOdW1iZXIgLSBiLmxpbmVOdW1iZXI7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihvd25lcklkLCBsaW5lTnVtYmVyLCBjb2x1bW4sIG9wdGlvbnMsIG9yZGVyKSB7XG4gICAgICAgIHRoaXMub3duZXJJZCA9IG93bmVySWQ7XG4gICAgICAgIHRoaXMubGluZU51bWJlciA9IGxpbmVOdW1iZXI7XG4gICAgICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLm9yZGVyID0gb3JkZXI7XG4gICAgfVxufVxuLyoqXG4gKiBBbiBldmVudCBkZXNjcmliaW5nIHRoYXQgYSBsaW5lIGhhcyBjaGFuZ2VkIGluIGEgbW9kZWwuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGVsUmF3TGluZUNoYW5nZWQge1xuICAgIGNvbnN0cnVjdG9yKGxpbmVOdW1iZXIsIGRldGFpbCwgaW5qZWN0ZWRUZXh0KSB7XG4gICAgICAgIHRoaXMuY2hhbmdlVHlwZSA9IDIgLyogUmF3Q29udGVudENoYW5nZWRUeXBlLkxpbmVDaGFuZ2VkICovO1xuICAgICAgICB0aGlzLmxpbmVOdW1iZXIgPSBsaW5lTnVtYmVyO1xuICAgICAgICB0aGlzLmRldGFpbCA9IGRldGFpbDtcbiAgICAgICAgdGhpcy5pbmplY3RlZFRleHQgPSBpbmplY3RlZFRleHQ7XG4gICAgfVxufVxuLyoqXG4gKiBBbiBldmVudCBkZXNjcmliaW5nIHRoYXQgbGluZShzKSBoYXZlIGJlZW4gZGVsZXRlZCBpbiBhIG1vZGVsLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2RlbFJhd0xpbmVzRGVsZXRlZCB7XG4gICAgY29uc3RydWN0b3IoZnJvbUxpbmVOdW1iZXIsIHRvTGluZU51bWJlcikge1xuICAgICAgICB0aGlzLmNoYW5nZVR5cGUgPSAzIC8qIFJhd0NvbnRlbnRDaGFuZ2VkVHlwZS5MaW5lc0RlbGV0ZWQgKi87XG4gICAgICAgIHRoaXMuZnJvbUxpbmVOdW1iZXIgPSBmcm9tTGluZU51bWJlcjtcbiAgICAgICAgdGhpcy50b0xpbmVOdW1iZXIgPSB0b0xpbmVOdW1iZXI7XG4gICAgfVxufVxuLyoqXG4gKiBBbiBldmVudCBkZXNjcmliaW5nIHRoYXQgbGluZShzKSBoYXZlIGJlZW4gaW5zZXJ0ZWQgaW4gYSBtb2RlbC5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgTW9kZWxSYXdMaW5lc0luc2VydGVkIHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tTGluZU51bWJlciwgdG9MaW5lTnVtYmVyLCBkZXRhaWwsIGluamVjdGVkVGV4dHMpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VUeXBlID0gNCAvKiBSYXdDb250ZW50Q2hhbmdlZFR5cGUuTGluZXNJbnNlcnRlZCAqLztcbiAgICAgICAgdGhpcy5pbmplY3RlZFRleHRzID0gaW5qZWN0ZWRUZXh0cztcbiAgICAgICAgdGhpcy5mcm9tTGluZU51bWJlciA9IGZyb21MaW5lTnVtYmVyO1xuICAgICAgICB0aGlzLnRvTGluZU51bWJlciA9IHRvTGluZU51bWJlcjtcbiAgICAgICAgdGhpcy5kZXRhaWwgPSBkZXRhaWw7XG4gICAgfVxufVxuLyoqXG4gKiBBbiBldmVudCBkZXNjcmliaW5nIHRoYXQgYSBtb2RlbCBoYXMgaGFkIGl0cyBFT0wgY2hhbmdlZC5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgTW9kZWxSYXdFT0xDaGFuZ2VkIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VUeXBlID0gNSAvKiBSYXdDb250ZW50Q2hhbmdlZFR5cGUuRU9MQ2hhbmdlZCAqLztcbiAgICB9XG59XG4vKipcbiAqIEFuIGV2ZW50IGRlc2NyaWJpbmcgYSBjaGFuZ2UgaW4gdGhlIHRleHQgb2YgYSBtb2RlbC5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgTW9kZWxSYXdDb250ZW50Q2hhbmdlZEV2ZW50IHtcbiAgICBjb25zdHJ1Y3RvcihjaGFuZ2VzLCB2ZXJzaW9uSWQsIGlzVW5kb2luZywgaXNSZWRvaW5nKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgICAgIHRoaXMudmVyc2lvbklkID0gdmVyc2lvbklkO1xuICAgICAgICB0aGlzLmlzVW5kb2luZyA9IGlzVW5kb2luZztcbiAgICAgICAgdGhpcy5pc1JlZG9pbmcgPSBpc1JlZG9pbmc7XG4gICAgICAgIHRoaXMucmVzdWx0aW5nU2VsZWN0aW9uID0gbnVsbDtcbiAgICB9XG4gICAgY29udGFpbnNFdmVudCh0eXBlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmNoYW5nZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZSA9IHRoaXMuY2hhbmdlc1tpXTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2UuY2hhbmdlVHlwZSA9PT0gdHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3RhdGljIG1lcmdlKGEsIGIpIHtcbiAgICAgICAgY29uc3QgY2hhbmdlcyA9IFtdLmNvbmNhdChhLmNoYW5nZXMpLmNvbmNhdChiLmNoYW5nZXMpO1xuICAgICAgICBjb25zdCB2ZXJzaW9uSWQgPSBiLnZlcnNpb25JZDtcbiAgICAgICAgY29uc3QgaXNVbmRvaW5nID0gKGEuaXNVbmRvaW5nIHx8IGIuaXNVbmRvaW5nKTtcbiAgICAgICAgY29uc3QgaXNSZWRvaW5nID0gKGEuaXNSZWRvaW5nIHx8IGIuaXNSZWRvaW5nKTtcbiAgICAgICAgcmV0dXJuIG5ldyBNb2RlbFJhd0NvbnRlbnRDaGFuZ2VkRXZlbnQoY2hhbmdlcywgdmVyc2lvbklkLCBpc1VuZG9pbmcsIGlzUmVkb2luZyk7XG4gICAgfVxufVxuLyoqXG4gKiBBbiBldmVudCBkZXNjcmliaW5nIGEgY2hhbmdlIGluIGluamVjdGVkIHRleHQuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGVsSW5qZWN0ZWRUZXh0Q2hhbmdlZEV2ZW50IHtcbiAgICBjb25zdHJ1Y3RvcihjaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIEludGVybmFsTW9kZWxDb250ZW50Q2hhbmdlRXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKHJhd0NvbnRlbnRDaGFuZ2VkRXZlbnQsIGNvbnRlbnRDaGFuZ2VkRXZlbnQpIHtcbiAgICAgICAgdGhpcy5yYXdDb250ZW50Q2hhbmdlZEV2ZW50ID0gcmF3Q29udGVudENoYW5nZWRFdmVudDtcbiAgICAgICAgdGhpcy5jb250ZW50Q2hhbmdlZEV2ZW50ID0gY29udGVudENoYW5nZWRFdmVudDtcbiAgICB9XG4gICAgbWVyZ2Uob3RoZXIpIHtcbiAgICAgICAgY29uc3QgcmF3Q29udGVudENoYW5nZWRFdmVudCA9IE1vZGVsUmF3Q29udGVudENoYW5nZWRFdmVudC5tZXJnZSh0aGlzLnJhd0NvbnRlbnRDaGFuZ2VkRXZlbnQsIG90aGVyLnJhd0NvbnRlbnRDaGFuZ2VkRXZlbnQpO1xuICAgICAgICBjb25zdCBjb250ZW50Q2hhbmdlZEV2ZW50ID0gSW50ZXJuYWxNb2RlbENvbnRlbnRDaGFuZ2VFdmVudC5fbWVyZ2VDaGFuZ2VFdmVudHModGhpcy5jb250ZW50Q2hhbmdlZEV2ZW50LCBvdGhlci5jb250ZW50Q2hhbmdlZEV2ZW50KTtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcm5hbE1vZGVsQ29udGVudENoYW5nZUV2ZW50KHJhd0NvbnRlbnRDaGFuZ2VkRXZlbnQsIGNvbnRlbnRDaGFuZ2VkRXZlbnQpO1xuICAgIH1cbiAgICBzdGF0aWMgX21lcmdlQ2hhbmdlRXZlbnRzKGEsIGIpIHtcbiAgICAgICAgY29uc3QgY2hhbmdlcyA9IFtdLmNvbmNhdChhLmNoYW5nZXMpLmNvbmNhdChiLmNoYW5nZXMpO1xuICAgICAgICBjb25zdCBlb2wgPSBiLmVvbDtcbiAgICAgICAgY29uc3QgdmVyc2lvbklkID0gYi52ZXJzaW9uSWQ7XG4gICAgICAgIGNvbnN0IGlzVW5kb2luZyA9IChhLmlzVW5kb2luZyB8fCBiLmlzVW5kb2luZyk7XG4gICAgICAgIGNvbnN0IGlzUmVkb2luZyA9IChhLmlzUmVkb2luZyB8fCBiLmlzUmVkb2luZyk7XG4gICAgICAgIGNvbnN0IGlzRmx1c2ggPSAoYS5pc0ZsdXNoIHx8IGIuaXNGbHVzaCk7XG4gICAgICAgIGNvbnN0IGlzRW9sQ2hhbmdlID0gYS5pc0VvbENoYW5nZSAmJiBiLmlzRW9sQ2hhbmdlOyAvLyBib3RoIG11c3QgYmUgdHJ1ZSB0byBub3QgY29uZnVzZSBsaXN0ZW5lcnMgd2hvIHNraXAgc3VjaCBlZGl0c1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhbmdlczogY2hhbmdlcyxcbiAgICAgICAgICAgIGVvbDogZW9sLFxuICAgICAgICAgICAgaXNFb2xDaGFuZ2U6IGlzRW9sQ2hhbmdlLFxuICAgICAgICAgICAgdmVyc2lvbklkOiB2ZXJzaW9uSWQsXG4gICAgICAgICAgICBpc1VuZG9pbmc6IGlzVW5kb2luZyxcbiAgICAgICAgICAgIGlzUmVkb2luZzogaXNSZWRvaW5nLFxuICAgICAgICAgICAgaXNGbHVzaDogaXNGbHVzaCxcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydCB2YXIgSG9yaXpvbnRhbEd1aWRlc1N0YXRlO1xuKGZ1bmN0aW9uIChIb3Jpem9udGFsR3VpZGVzU3RhdGUpIHtcbiAgICBIb3Jpem9udGFsR3VpZGVzU3RhdGVbSG9yaXpvbnRhbEd1aWRlc1N0YXRlW1wiRGlzYWJsZWRcIl0gPSAwXSA9IFwiRGlzYWJsZWRcIjtcbiAgICBIb3Jpem9udGFsR3VpZGVzU3RhdGVbSG9yaXpvbnRhbEd1aWRlc1N0YXRlW1wiRW5hYmxlZEZvckFjdGl2ZVwiXSA9IDFdID0gXCJFbmFibGVkRm9yQWN0aXZlXCI7XG4gICAgSG9yaXpvbnRhbEd1aWRlc1N0YXRlW0hvcml6b250YWxHdWlkZXNTdGF0ZVtcIkVuYWJsZWRcIl0gPSAyXSA9IFwiRW5hYmxlZFwiO1xufSkoSG9yaXpvbnRhbEd1aWRlc1N0YXRlIHx8IChIb3Jpem9udGFsR3VpZGVzU3RhdGUgPSB7fSkpO1xuZXhwb3J0IGNsYXNzIEluZGVudEd1aWRlIHtcbiAgICBjb25zdHJ1Y3Rvcih2aXNpYmxlQ29sdW1uLCBjb2x1bW4sIGNsYXNzTmFtZSwgXG4gICAgLyoqXG4gICAgICogSWYgc2V0LCB0aGlzIGluZGVudCBndWlkZSBpcyBhIGhvcml6b250YWwgZ3VpZGUgKG5vIHZlcnRpY2FsIHBhcnQpLlxuICAgICAqIEl0IHN0YXJ0cyBhdCB2aXNpYmxlQ29sdW1uIGFuZCBjb250aW51ZXMgdW50aWwgZW5kQ29sdW1uLlxuICAgICovXG4gICAgaG9yaXpvbnRhbExpbmUsIFxuICAgIC8qKlxuICAgICAqIElmIHNldCAoIT0gLTEpLCBvbmx5IHNob3cgdGhpcyBndWlkZSBmb3Igd3JhcHBlZCBsaW5lcyB0aGF0IGRvbid0IGNvbnRhaW4gdGhpcyBtb2RlbCBjb2x1bW4sIGJ1dCBhcmUgYWZ0ZXIgaXQuXG4gICAgKi9cbiAgICBmb3JXcmFwcGVkTGluZXNBZnRlckNvbHVtbiwgZm9yV3JhcHBlZExpbmVzQmVmb3JlT3JBdENvbHVtbikge1xuICAgICAgICB0aGlzLnZpc2libGVDb2x1bW4gPSB2aXNpYmxlQ29sdW1uO1xuICAgICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbExpbmUgPSBob3Jpem9udGFsTGluZTtcbiAgICAgICAgdGhpcy5mb3JXcmFwcGVkTGluZXNBZnRlckNvbHVtbiA9IGZvcldyYXBwZWRMaW5lc0FmdGVyQ29sdW1uO1xuICAgICAgICB0aGlzLmZvcldyYXBwZWRMaW5lc0JlZm9yZU9yQXRDb2x1bW4gPSBmb3JXcmFwcGVkTGluZXNCZWZvcmVPckF0Q29sdW1uO1xuICAgICAgICBpZiAoKHZpc2libGVDb2x1bW4gIT09IC0xKSA9PT0gKGNvbHVtbiAhPT0gLTEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbmRlbnRHdWlkZUhvcml6b250YWxMaW5lIHtcbiAgICBjb25zdHJ1Y3Rvcih0b3AsIGVuZENvbHVtbikge1xuICAgICAgICB0aGlzLnRvcCA9IHRvcDtcbiAgICAgICAgdGhpcy5lbmRDb2x1bW4gPSBlbmRDb2x1bW47XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBUb2tlbk1ldGFkYXRhIH0gZnJvbSAnLi4vZW5jb2RlZFRva2VuQXR0cmlidXRlcy5qcyc7XG5leHBvcnQgY2xhc3MgTGluZVRva2VucyB7XG4gICAgc3RhdGljIHsgdGhpcy5kZWZhdWx0VG9rZW5NZXRhZGF0YSA9ICgoMCAvKiBGb250U3R5bGUuTm9uZSAqLyA8PCAxMSAvKiBNZXRhZGF0YUNvbnN0cy5GT05UX1NUWUxFX09GRlNFVCAqLylcbiAgICAgICAgfCAoMSAvKiBDb2xvcklkLkRlZmF1bHRGb3JlZ3JvdW5kICovIDw8IDE1IC8qIE1ldGFkYXRhQ29uc3RzLkZPUkVHUk9VTkRfT0ZGU0VUICovKVxuICAgICAgICB8ICgyIC8qIENvbG9ySWQuRGVmYXVsdEJhY2tncm91bmQgKi8gPDwgMjQgLyogTWV0YWRhdGFDb25zdHMuQkFDS0dST1VORF9PRkZTRVQgKi8pKSA+Pj4gMDsgfVxuICAgIHN0YXRpYyBjcmVhdGVFbXB0eShsaW5lQ29udGVudCwgZGVjb2Rlcikge1xuICAgICAgICBjb25zdCBkZWZhdWx0TWV0YWRhdGEgPSBMaW5lVG9rZW5zLmRlZmF1bHRUb2tlbk1ldGFkYXRhO1xuICAgICAgICBjb25zdCB0b2tlbnMgPSBuZXcgVWludDMyQXJyYXkoMik7XG4gICAgICAgIHRva2Vuc1swXSA9IGxpbmVDb250ZW50Lmxlbmd0aDtcbiAgICAgICAgdG9rZW5zWzFdID0gZGVmYXVsdE1ldGFkYXRhO1xuICAgICAgICByZXR1cm4gbmV3IExpbmVUb2tlbnModG9rZW5zLCBsaW5lQ29udGVudCwgZGVjb2Rlcik7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVGcm9tVGV4dEFuZE1ldGFkYXRhKGRhdGEsIGRlY29kZXIpIHtcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIGxldCBmdWxsVGV4dCA9ICcnO1xuICAgICAgICBjb25zdCB0b2tlbnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgZm9yIChjb25zdCB7IHRleHQsIG1ldGFkYXRhIH0gb2YgZGF0YSkge1xuICAgICAgICAgICAgdG9rZW5zLnB1c2gob2Zmc2V0ICsgdGV4dC5sZW5ndGgsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgIG9mZnNldCArPSB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgIGZ1bGxUZXh0ICs9IHRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lVG9rZW5zKG5ldyBVaW50MzJBcnJheSh0b2tlbnMpLCBmdWxsVGV4dCwgZGVjb2Rlcik7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHRva2VucywgdGV4dCwgZGVjb2Rlcikge1xuICAgICAgICB0aGlzLl9saW5lVG9rZW5zQnJhbmQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3Rva2VucyA9IHRva2VucztcbiAgICAgICAgdGhpcy5fdG9rZW5zQ291bnQgPSAodGhpcy5fdG9rZW5zLmxlbmd0aCA+Pj4gMSk7XG4gICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmxhbmd1YWdlSWRDb2RlYyA9IGRlY29kZXI7XG4gICAgfVxuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBMaW5lVG9rZW5zKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zbGljZWRFcXVhbHMob3RoZXIsIDAsIHRoaXMuX3Rva2Vuc0NvdW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHNsaWNlZEVxdWFscyhvdGhlciwgc2xpY2VGcm9tVG9rZW5JbmRleCwgc2xpY2VUb2tlbkNvdW50KSB7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0ICE9PSBvdGhlci5fdGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl90b2tlbnNDb3VudCAhPT0gb3RoZXIuX3Rva2Vuc0NvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZnJvbSA9IChzbGljZUZyb21Ub2tlbkluZGV4IDw8IDEpO1xuICAgICAgICBjb25zdCB0byA9IGZyb20gKyAoc2xpY2VUb2tlbkNvdW50IDw8IDEpO1xuICAgICAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8IHRvOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90b2tlbnNbaV0gIT09IG90aGVyLl90b2tlbnNbaV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGdldExpbmVDb250ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICB9XG4gICAgZ2V0Q291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbnNDb3VudDtcbiAgICB9XG4gICAgZ2V0U3RhcnRPZmZzZXQodG9rZW5JbmRleCkge1xuICAgICAgICBpZiAodG9rZW5JbmRleCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90b2tlbnNbKHRva2VuSW5kZXggLSAxKSA8PCAxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZ2V0TWV0YWRhdGEodG9rZW5JbmRleCkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXMuX3Rva2Vuc1sodG9rZW5JbmRleCA8PCAxKSArIDFdO1xuICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgfVxuICAgIGdldExhbmd1YWdlSWQodG9rZW5JbmRleCkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXMuX3Rva2Vuc1sodG9rZW5JbmRleCA8PCAxKSArIDFdO1xuICAgICAgICBjb25zdCBsYW5ndWFnZUlkID0gVG9rZW5NZXRhZGF0YS5nZXRMYW5ndWFnZUlkKG1ldGFkYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGFuZ3VhZ2VJZENvZGVjLmRlY29kZUxhbmd1YWdlSWQobGFuZ3VhZ2VJZCk7XG4gICAgfVxuICAgIGdldFN0YW5kYXJkVG9rZW5UeXBlKHRva2VuSW5kZXgpIHtcbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB0aGlzLl90b2tlbnNbKHRva2VuSW5kZXggPDwgMSkgKyAxXTtcbiAgICAgICAgcmV0dXJuIFRva2VuTWV0YWRhdGEuZ2V0VG9rZW5UeXBlKG1ldGFkYXRhKTtcbiAgICB9XG4gICAgZ2V0Rm9yZWdyb3VuZCh0b2tlbkluZGV4KSB7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0gdGhpcy5fdG9rZW5zWyh0b2tlbkluZGV4IDw8IDEpICsgMV07XG4gICAgICAgIHJldHVybiBUb2tlbk1ldGFkYXRhLmdldEZvcmVncm91bmQobWV0YWRhdGEpO1xuICAgIH1cbiAgICBnZXRDbGFzc05hbWUodG9rZW5JbmRleCkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXMuX3Rva2Vuc1sodG9rZW5JbmRleCA8PCAxKSArIDFdO1xuICAgICAgICByZXR1cm4gVG9rZW5NZXRhZGF0YS5nZXRDbGFzc05hbWVGcm9tTWV0YWRhdGEobWV0YWRhdGEpO1xuICAgIH1cbiAgICBnZXRJbmxpbmVTdHlsZSh0b2tlbkluZGV4LCBjb2xvck1hcCkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXMuX3Rva2Vuc1sodG9rZW5JbmRleCA8PCAxKSArIDFdO1xuICAgICAgICByZXR1cm4gVG9rZW5NZXRhZGF0YS5nZXRJbmxpbmVTdHlsZUZyb21NZXRhZGF0YShtZXRhZGF0YSwgY29sb3JNYXApO1xuICAgIH1cbiAgICBnZXRQcmVzZW50YXRpb24odG9rZW5JbmRleCkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXMuX3Rva2Vuc1sodG9rZW5JbmRleCA8PCAxKSArIDFdO1xuICAgICAgICByZXR1cm4gVG9rZW5NZXRhZGF0YS5nZXRQcmVzZW50YXRpb25Gcm9tTWV0YWRhdGEobWV0YWRhdGEpO1xuICAgIH1cbiAgICBnZXRFbmRPZmZzZXQodG9rZW5JbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9rZW5zW3Rva2VuSW5kZXggPDwgMV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIHRva2VuIGNvbnRhaW5pbmcgb2Zmc2V0IGBvZmZzZXRgLlxuICAgICAqIEBwYXJhbSBvZmZzZXQgVGhlIHNlYXJjaCBvZmZzZXRcbiAgICAgKiBAcmV0dXJuIFRoZSBpbmRleCBvZiB0aGUgdG9rZW4gY29udGFpbmluZyB0aGUgb2Zmc2V0LlxuICAgICAqL1xuICAgIGZpbmRUb2tlbkluZGV4QXRPZmZzZXQob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBMaW5lVG9rZW5zLmZpbmRJbmRleEluVG9rZW5zQXJyYXkodGhpcy5fdG9rZW5zLCBvZmZzZXQpO1xuICAgIH1cbiAgICBpbmZsYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2xpY2VBbmRJbmZsYXRlKHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQsIGRlbHRhT2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgU2xpY2VMaW5lVG9rZW5zKHRoaXMsIHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQsIGRlbHRhT2Zmc2V0KTtcbiAgICB9XG4gICAgc3RhdGljIGNvbnZlcnRUb0VuZE9mZnNldCh0b2tlbnMsIGxpbmVUZXh0TGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHRva2VuQ291bnQgPSAodG9rZW5zLmxlbmd0aCA+Pj4gMSk7XG4gICAgICAgIGNvbnN0IGxhc3RUb2tlbkluZGV4ID0gdG9rZW5Db3VudCAtIDE7XG4gICAgICAgIGZvciAobGV0IHRva2VuSW5kZXggPSAwOyB0b2tlbkluZGV4IDwgbGFzdFRva2VuSW5kZXg7IHRva2VuSW5kZXgrKykge1xuICAgICAgICAgICAgdG9rZW5zW3Rva2VuSW5kZXggPDwgMV0gPSB0b2tlbnNbKHRva2VuSW5kZXggKyAxKSA8PCAxXTtcbiAgICAgICAgfVxuICAgICAgICB0b2tlbnNbbGFzdFRva2VuSW5kZXggPDwgMV0gPSBsaW5lVGV4dExlbmd0aDtcbiAgICB9XG4gICAgc3RhdGljIGZpbmRJbmRleEluVG9rZW5zQXJyYXkodG9rZW5zLCBkZXNpcmVkSW5kZXgpIHtcbiAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPD0gMikge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxvdyA9IDA7XG4gICAgICAgIGxldCBoaWdoID0gKHRva2Vucy5sZW5ndGggPj4+IDEpIC0gMTtcbiAgICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pZCA9IGxvdyArIE1hdGguZmxvb3IoKGhpZ2ggLSBsb3cpIC8gMik7XG4gICAgICAgICAgICBjb25zdCBlbmRPZmZzZXQgPSB0b2tlbnNbKG1pZCA8PCAxKV07XG4gICAgICAgICAgICBpZiAoZW5kT2Zmc2V0ID09PSBkZXNpcmVkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWlkICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVuZE9mZnNldCA8IGRlc2lyZWRJbmRleCkge1xuICAgICAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbmRPZmZzZXQgPiBkZXNpcmVkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb3c7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwdXJlXG4gICAgICogQHBhcmFtIGluc2VydFRva2VucyBNdXN0IGJlIHNvcnRlZCBieSBvZmZzZXQuXG4gICAgKi9cbiAgICB3aXRoSW5zZXJ0ZWQoaW5zZXJ0VG9rZW5zKSB7XG4gICAgICAgIGlmIChpbnNlcnRUb2tlbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmV4dE9yaWdpbmFsVG9rZW5JZHggPSAwO1xuICAgICAgICBsZXQgbmV4dEluc2VydFRva2VuSWR4ID0gMDtcbiAgICAgICAgbGV0IHRleHQgPSAnJztcbiAgICAgICAgY29uc3QgbmV3VG9rZW5zID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGxldCBvcmlnaW5hbEVuZE9mZnNldCA9IDA7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0T3JpZ2luYWxUb2tlbkVuZE9mZnNldCA9IG5leHRPcmlnaW5hbFRva2VuSWR4IDwgdGhpcy5fdG9rZW5zQ291bnQgPyB0aGlzLl90b2tlbnNbbmV4dE9yaWdpbmFsVG9rZW5JZHggPDwgMV0gOiAtMTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRJbnNlcnRUb2tlbiA9IG5leHRJbnNlcnRUb2tlbklkeCA8IGluc2VydFRva2Vucy5sZW5ndGggPyBpbnNlcnRUb2tlbnNbbmV4dEluc2VydFRva2VuSWR4XSA6IG51bGw7XG4gICAgICAgICAgICBpZiAobmV4dE9yaWdpbmFsVG9rZW5FbmRPZmZzZXQgIT09IC0xICYmIChuZXh0SW5zZXJ0VG9rZW4gPT09IG51bGwgfHwgbmV4dE9yaWdpbmFsVG9rZW5FbmRPZmZzZXQgPD0gbmV4dEluc2VydFRva2VuLm9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICAvLyBvcmlnaW5hbCB0b2tlbiBlbmRzIGJlZm9yZSBuZXh0IGluc2VydCB0b2tlblxuICAgICAgICAgICAgICAgIHRleHQgKz0gdGhpcy5fdGV4dC5zdWJzdHJpbmcob3JpZ2luYWxFbmRPZmZzZXQsIG5leHRPcmlnaW5hbFRva2VuRW5kT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXMuX3Rva2Vuc1sobmV4dE9yaWdpbmFsVG9rZW5JZHggPDwgMSkgKyAxXTtcbiAgICAgICAgICAgICAgICBuZXdUb2tlbnMucHVzaCh0ZXh0Lmxlbmd0aCwgbWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgIG5leHRPcmlnaW5hbFRva2VuSWR4Kys7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFbmRPZmZzZXQgPSBuZXh0T3JpZ2luYWxUb2tlbkVuZE9mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5leHRJbnNlcnRUb2tlbikge1xuICAgICAgICAgICAgICAgIGlmIChuZXh0SW5zZXJ0VG9rZW4ub2Zmc2V0ID4gb3JpZ2luYWxFbmRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5zZXJ0IHRva2VuIGlzIGluIHRoZSBtaWRkbGUgb2YgdGhlIG5leHQgdG9rZW4uXG4gICAgICAgICAgICAgICAgICAgIHRleHQgKz0gdGhpcy5fdGV4dC5zdWJzdHJpbmcob3JpZ2luYWxFbmRPZmZzZXQsIG5leHRJbnNlcnRUb2tlbi5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXMuX3Rva2Vuc1sobmV4dE9yaWdpbmFsVG9rZW5JZHggPDwgMSkgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgbmV3VG9rZW5zLnB1c2godGV4dC5sZW5ndGgsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFbmRPZmZzZXQgPSBuZXh0SW5zZXJ0VG9rZW4ub2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZXh0ICs9IG5leHRJbnNlcnRUb2tlbi50ZXh0O1xuICAgICAgICAgICAgICAgIG5ld1Rva2Vucy5wdXNoKHRleHQubGVuZ3RoLCBuZXh0SW5zZXJ0VG9rZW4udG9rZW5NZXRhZGF0YSk7XG4gICAgICAgICAgICAgICAgbmV4dEluc2VydFRva2VuSWR4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IExpbmVUb2tlbnMobmV3IFVpbnQzMkFycmF5KG5ld1Rva2VucyksIHRleHQsIHRoaXMubGFuZ3VhZ2VJZENvZGVjKTtcbiAgICB9XG4gICAgZ2V0VG9rZW5UZXh0KHRva2VuSW5kZXgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSB0aGlzLmdldFN0YXJ0T2Zmc2V0KHRva2VuSW5kZXgpO1xuICAgICAgICBjb25zdCBlbmRPZmZzZXQgPSB0aGlzLmdldEVuZE9mZnNldCh0b2tlbkluZGV4KTtcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuX3RleHQuc3Vic3RyaW5nKHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQpO1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG4gICAgZm9yRWFjaChjYWxsYmFjaykge1xuICAgICAgICBjb25zdCB0b2tlbkNvdW50ID0gdGhpcy5nZXRDb3VudCgpO1xuICAgICAgICBmb3IgKGxldCB0b2tlbkluZGV4ID0gMDsgdG9rZW5JbmRleCA8IHRva2VuQ291bnQ7IHRva2VuSW5kZXgrKykge1xuICAgICAgICAgICAgY2FsbGJhY2sodG9rZW5JbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBTbGljZUxpbmVUb2tlbnMge1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgZGVsdGFPZmZzZXQpIHtcbiAgICAgICAgdGhpcy5fc291cmNlID0gc291cmNlO1xuICAgICAgICB0aGlzLl9zdGFydE9mZnNldCA9IHN0YXJ0T2Zmc2V0O1xuICAgICAgICB0aGlzLl9lbmRPZmZzZXQgPSBlbmRPZmZzZXQ7XG4gICAgICAgIHRoaXMuX2RlbHRhT2Zmc2V0ID0gZGVsdGFPZmZzZXQ7XG4gICAgICAgIHRoaXMuX2ZpcnN0VG9rZW5JbmRleCA9IHNvdXJjZS5maW5kVG9rZW5JbmRleEF0T2Zmc2V0KHN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgdGhpcy5sYW5ndWFnZUlkQ29kZWMgPSBzb3VyY2UubGFuZ3VhZ2VJZENvZGVjO1xuICAgICAgICB0aGlzLl90b2tlbnNDb3VudCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLl9maXJzdFRva2VuSW5kZXgsIGxlbiA9IHNvdXJjZS5nZXRDb3VudCgpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuU3RhcnRPZmZzZXQgPSBzb3VyY2UuZ2V0U3RhcnRPZmZzZXQoaSk7XG4gICAgICAgICAgICBpZiAodG9rZW5TdGFydE9mZnNldCA+PSBlbmRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3Rva2Vuc0NvdW50Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0TWV0YWRhdGEodG9rZW5JbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc291cmNlLmdldE1ldGFkYXRhKHRoaXMuX2ZpcnN0VG9rZW5JbmRleCArIHRva2VuSW5kZXgpO1xuICAgIH1cbiAgICBnZXRMYW5ndWFnZUlkKHRva2VuSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZS5nZXRMYW5ndWFnZUlkKHRoaXMuX2ZpcnN0VG9rZW5JbmRleCArIHRva2VuSW5kZXgpO1xuICAgIH1cbiAgICBnZXRMaW5lQ29udGVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZS5nZXRMaW5lQ29udGVudCgpLnN1YnN0cmluZyh0aGlzLl9zdGFydE9mZnNldCwgdGhpcy5fZW5kT2Zmc2V0KTtcbiAgICB9XG4gICAgZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIFNsaWNlTGluZVRva2Vucykge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9zdGFydE9mZnNldCA9PT0gb3RoZXIuX3N0YXJ0T2Zmc2V0XG4gICAgICAgICAgICAgICAgJiYgdGhpcy5fZW5kT2Zmc2V0ID09PSBvdGhlci5fZW5kT2Zmc2V0XG4gICAgICAgICAgICAgICAgJiYgdGhpcy5fZGVsdGFPZmZzZXQgPT09IG90aGVyLl9kZWx0YU9mZnNldFxuICAgICAgICAgICAgICAgICYmIHRoaXMuX3NvdXJjZS5zbGljZWRFcXVhbHMob3RoZXIuX3NvdXJjZSwgdGhpcy5fZmlyc3RUb2tlbkluZGV4LCB0aGlzLl90b2tlbnNDb3VudCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZ2V0Q291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbnNDb3VudDtcbiAgICB9XG4gICAgZ2V0U3RhbmRhcmRUb2tlblR5cGUodG9rZW5JbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc291cmNlLmdldFN0YW5kYXJkVG9rZW5UeXBlKHRoaXMuX2ZpcnN0VG9rZW5JbmRleCArIHRva2VuSW5kZXgpO1xuICAgIH1cbiAgICBnZXRGb3JlZ3JvdW5kKHRva2VuSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZS5nZXRGb3JlZ3JvdW5kKHRoaXMuX2ZpcnN0VG9rZW5JbmRleCArIHRva2VuSW5kZXgpO1xuICAgIH1cbiAgICBnZXRFbmRPZmZzZXQodG9rZW5JbmRleCkge1xuICAgICAgICBjb25zdCB0b2tlbkVuZE9mZnNldCA9IHRoaXMuX3NvdXJjZS5nZXRFbmRPZmZzZXQodGhpcy5fZmlyc3RUb2tlbkluZGV4ICsgdG9rZW5JbmRleCk7XG4gICAgICAgIHJldHVybiBNYXRoLm1pbih0aGlzLl9lbmRPZmZzZXQsIHRva2VuRW5kT2Zmc2V0KSAtIHRoaXMuX3N0YXJ0T2Zmc2V0ICsgdGhpcy5fZGVsdGFPZmZzZXQ7XG4gICAgfVxuICAgIGdldENsYXNzTmFtZSh0b2tlbkluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zb3VyY2UuZ2V0Q2xhc3NOYW1lKHRoaXMuX2ZpcnN0VG9rZW5JbmRleCArIHRva2VuSW5kZXgpO1xuICAgIH1cbiAgICBnZXRJbmxpbmVTdHlsZSh0b2tlbkluZGV4LCBjb2xvck1hcCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc291cmNlLmdldElubGluZVN0eWxlKHRoaXMuX2ZpcnN0VG9rZW5JbmRleCArIHRva2VuSW5kZXgsIGNvbG9yTWFwKTtcbiAgICB9XG4gICAgZ2V0UHJlc2VudGF0aW9uKHRva2VuSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZS5nZXRQcmVzZW50YXRpb24odGhpcy5fZmlyc3RUb2tlbkluZGV4ICsgdG9rZW5JbmRleCk7XG4gICAgfVxuICAgIGZpbmRUb2tlbkluZGV4QXRPZmZzZXQob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zb3VyY2UuZmluZFRva2VuSW5kZXhBdE9mZnNldChvZmZzZXQgKyB0aGlzLl9zdGFydE9mZnNldCAtIHRoaXMuX2RlbHRhT2Zmc2V0KSAtIHRoaXMuX2ZpcnN0VG9rZW5JbmRleDtcbiAgICB9XG4gICAgZ2V0VG9rZW5UZXh0KHRva2VuSW5kZXgpIHtcbiAgICAgICAgY29uc3QgYWRqdXN0ZWRUb2tlbkluZGV4ID0gdGhpcy5fZmlyc3RUb2tlbkluZGV4ICsgdG9rZW5JbmRleDtcbiAgICAgICAgY29uc3QgdG9rZW5TdGFydE9mZnNldCA9IHRoaXMuX3NvdXJjZS5nZXRTdGFydE9mZnNldChhZGp1c3RlZFRva2VuSW5kZXgpO1xuICAgICAgICBjb25zdCB0b2tlbkVuZE9mZnNldCA9IHRoaXMuX3NvdXJjZS5nZXRFbmRPZmZzZXQoYWRqdXN0ZWRUb2tlbkluZGV4KTtcbiAgICAgICAgbGV0IHRleHQgPSB0aGlzLl9zb3VyY2UuZ2V0VG9rZW5UZXh0KGFkanVzdGVkVG9rZW5JbmRleCk7XG4gICAgICAgIGlmICh0b2tlblN0YXJ0T2Zmc2V0IDwgdGhpcy5fc3RhcnRPZmZzZXQpIHtcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZyh0aGlzLl9zdGFydE9mZnNldCAtIHRva2VuU3RhcnRPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b2tlbkVuZE9mZnNldCA+IHRoaXMuX2VuZE9mZnNldCkge1xuICAgICAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKDAsIHRleHQubGVuZ3RoIC0gKHRva2VuRW5kT2Zmc2V0IC0gdGhpcy5fZW5kT2Zmc2V0KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICAgIGZvckVhY2goY2FsbGJhY2spIHtcbiAgICAgICAgZm9yIChsZXQgdG9rZW5JbmRleCA9IDA7IHRva2VuSW5kZXggPCB0aGlzLmdldENvdW50KCk7IHRva2VuSW5kZXgrKykge1xuICAgICAgICAgICAgY2FsbGJhY2sodG9rZW5JbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhbmRhcmRUb2tlblR5cGVBdFBvc2l0aW9uKG1vZGVsLCBwb3NpdGlvbikge1xuICAgIGNvbnN0IGxpbmVOdW1iZXIgPSBwb3NpdGlvbi5saW5lTnVtYmVyO1xuICAgIGlmICghbW9kZWwudG9rZW5pemF0aW9uLmlzQ2hlYXBUb1Rva2VuaXplKGxpbmVOdW1iZXIpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIG1vZGVsLnRva2VuaXphdGlvbi5mb3JjZVRva2VuaXphdGlvbihsaW5lTnVtYmVyKTtcbiAgICBjb25zdCBsaW5lVG9rZW5zID0gbW9kZWwudG9rZW5pemF0aW9uLmdldExpbmVUb2tlbnMobGluZU51bWJlcik7XG4gICAgY29uc3QgdG9rZW5JbmRleCA9IGxpbmVUb2tlbnMuZmluZFRva2VuSW5kZXhBdE9mZnNldChwb3NpdGlvbi5jb2x1bW4gLSAxKTtcbiAgICBjb25zdCB0b2tlblR5cGUgPSBsaW5lVG9rZW5zLmdldFN0YW5kYXJkVG9rZW5UeXBlKHRva2VuSW5kZXgpO1xuICAgIHJldHVybiB0b2tlblR5cGU7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydCBjbGFzcyBTeW5jRGVzY3JpcHRvciB7XG4gICAgY29uc3RydWN0b3IoY3Rvciwgc3RhdGljQXJndW1lbnRzID0gW10sIHN1cHBvcnRzRGVsYXllZEluc3RhbnRpYXRpb24gPSBmYWxzZSkge1xuICAgICAgICB0aGlzLmN0b3IgPSBjdG9yO1xuICAgICAgICB0aGlzLnN0YXRpY0FyZ3VtZW50cyA9IHN0YXRpY0FyZ3VtZW50cztcbiAgICAgICAgdGhpcy5zdXBwb3J0c0RlbGF5ZWRJbnN0YW50aWF0aW9uID0gc3VwcG9ydHNEZWxheWVkSW5zdGFudGlhdGlvbjtcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IFN5bmNEZXNjcmlwdG9yIH0gZnJvbSAnLi9kZXNjcmlwdG9ycy5qcyc7XG5jb25zdCBfcmVnaXN0cnkgPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclNpbmdsZXRvbihpZCwgY3Rvck9yRGVzY3JpcHRvciwgc3VwcG9ydHNEZWxheWVkSW5zdGFudGlhdGlvbikge1xuICAgIGlmICghKGN0b3JPckRlc2NyaXB0b3IgaW5zdGFuY2VvZiBTeW5jRGVzY3JpcHRvcikpIHtcbiAgICAgICAgY3Rvck9yRGVzY3JpcHRvciA9IG5ldyBTeW5jRGVzY3JpcHRvcihjdG9yT3JEZXNjcmlwdG9yLCBbXSwgQm9vbGVhbihzdXBwb3J0c0RlbGF5ZWRJbnN0YW50aWF0aW9uKSk7XG4gICAgfVxuICAgIF9yZWdpc3RyeS5wdXNoKFtpZCwgY3Rvck9yRGVzY3JpcHRvcl0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFNpbmdsZXRvblNlcnZpY2VEZXNjcmlwdG9ycygpIHtcbiAgICByZXR1cm4gX3JlZ2lzdHJ5O1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBjcmVhdGVEZWNvcmF0b3IgfSBmcm9tICcuLi8uLi9pbnN0YW50aWF0aW9uL2NvbW1vbi9pbnN0YW50aWF0aW9uLmpzJztcbmV4cG9ydCBjb25zdCBJVW5kb1JlZG9TZXJ2aWNlID0gY3JlYXRlRGVjb3JhdG9yKCd1bmRvUmVkb1NlcnZpY2UnKTtcbmV4cG9ydCBjbGFzcyBSZXNvdXJjZUVkaXRTdGFja1NuYXBzaG90IHtcbiAgICBjb25zdHJ1Y3RvcihyZXNvdXJjZSwgZWxlbWVudHMpIHtcbiAgICAgICAgdGhpcy5yZXNvdXJjZSA9IHJlc291cmNlO1xuICAgICAgICB0aGlzLmVsZW1lbnRzID0gZWxlbWVudHM7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFVuZG9SZWRvR3JvdXAge1xuICAgIHN0YXRpYyB7IHRoaXMuX0lEID0gMDsgfVxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmlkID0gVW5kb1JlZG9Hcm91cC5fSUQrKztcbiAgICAgICAgdGhpcy5vcmRlciA9IDE7XG4gICAgfVxuICAgIG5leHRPcmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuaWQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm9yZGVyKys7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuTm9uZSA9IG5ldyBVbmRvUmVkb0dyb3VwKCk7IH1cbn1cbmV4cG9ydCBjbGFzcyBVbmRvUmVkb1NvdXJjZSB7XG4gICAgc3RhdGljIHsgdGhpcy5fSUQgPSAwOyB9XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaWQgPSBVbmRvUmVkb1NvdXJjZS5fSUQrKztcbiAgICAgICAgdGhpcy5vcmRlciA9IDE7XG4gICAgfVxuICAgIG5leHRPcmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuaWQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm9yZGVyKys7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuTm9uZSA9IG5ldyBVbmRvUmVkb1NvdXJjZSgpOyB9XG59XG4iXSwibmFtZXMiOlsiaGFzQnVmZmVyIiwiQnVmZmVyIiwidGV4dERlY29kZXIiLCJVaW50OEFycmF5IiwiVlNCdWZmZXIiLCJ3cmFwIiwiYWN0dWFsIiwiaXNCdWZmZXIiLCJmcm9tIiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJ0b1N0cmluZyIsIlRleHREZWNvZGVyIiwiZGVjb2RlIiwicmVhZFVJbnQxNkxFIiwic291cmNlIiwib2Zmc2V0Iiwid3JpdGVVSW50MTZMRSIsImRlc3RpbmF0aW9uIiwidmFsdWUiLCJyZWFkVUludDMyQkUiLCJ3cml0ZVVJbnQzMkJFIiwicmVhZFVJbnQ4Iiwid3JpdGVVSW50OCIsIkN1cnNvckNvbHVtbnMiLCJfbmV4dFZpc2libGVDb2x1bW4iLCJjb2RlUG9pbnQiLCJ2aXNpYmxlQ29sdW1uIiwidGFiU2l6ZSIsIm5leHRSZW5kZXJUYWJTdG9wIiwidmlzaWJsZUNvbHVtbkZyb21Db2x1bW4iLCJsaW5lQ29udGVudCIsImNvbHVtbiIsInRleHRMZW4iLCJNYXRoIiwibWluIiwibGVuZ3RoIiwidGV4dCIsInN1YnN0cmluZyIsIml0ZXJhdG9yIiwicmVzdWx0IiwiZW9sIiwibmV4dEdyYXBoZW1lTGVuZ3RoIiwiY29sdW1uRnJvbVZpc2libGVDb2x1bW4iLCJsaW5lQ29udGVudExlbmd0aCIsImJlZm9yZVZpc2libGVDb2x1bW4iLCJiZWZvcmVDb2x1bW4iLCJhZnRlclZpc2libGVDb2x1bW4iLCJhZnRlckNvbHVtbiIsIm5leHRJbmRlbnRUYWJTdG9wIiwiaW5kZW50U2l6ZSIsInByZXZSZW5kZXJUYWJTdG9wIiwibWF4IiwicHJldkluZGVudFRhYlN0b3AiLCJub3JtYWxpemVJbmRlbnRhdGlvbiIsInN0ciIsImluc2VydFNwYWNlcyIsImZpcnN0Tm9uV2hpdGVzcGFjZUluZGV4Iiwic3BhY2VzQ250IiwiaSIsImNoYXJBdCIsInRhYnNDbnQiLCJmbG9vciIsIl9ub3JtYWxpemVJbmRlbnRhdGlvbkZyb21XaGl0ZXNwYWNlIiwiX3V0ZjE2TEVfVGV4dERlY29kZXIiLCJfdXRmMTZCRV9UZXh0RGVjb2RlciIsIl9wbGF0Zm9ybVRleHREZWNvZGVyIiwiZ2V0VVRGMTZMRV9UZXh0RGVjb2RlciIsImdldFBsYXRmb3JtVGV4dERlY29kZXIiLCJkZWNvZGVVVEYxNkxFIiwibGVuIiwidmlldyIsIlVpbnQxNkFycmF5IiwicmVzdWx0TGVuIiwiY2hhckNvZGUiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJqb2luIiwiY29tcGF0RGVjb2RlVVRGMTZMRSIsIlN0cmluZ0J1aWxkZXIiLCJjYXBhY2l0eSIsIl9jYXBhY2l0eSIsIl9idWZmZXIiLCJfY29tcGxldGVkU3RyaW5ncyIsIl9idWZmZXJMZW5ndGgiLCJyZXNldCIsImJ1aWxkIiwiX2ZsdXNoQnVmZmVyIiwiX2J1aWxkQnVmZmVyIiwiYnVmZmVyU3RyaW5nIiwiYXBwZW5kQ2hhckNvZGUiLCJyZW1haW5pbmdTcGFjZSIsImFwcGVuZEFTQ0lJQ2hhckNvZGUiLCJhcHBlbmRTdHJpbmciLCJzdHJMZW4iLCJjaGFyQ29kZUF0IiwiZXNjYXBlTmV3TGluZSIsInJlcGxhY2UiLCJUZXh0Q2hhbmdlIiwib2xkTGVuZ3RoIiwib2xkVGV4dCIsIm9sZEVuZCIsIm9sZFBvc2l0aW9uIiwibmV3TGVuZ3RoIiwibmV3VGV4dCIsIm5ld0VuZCIsIm5ld1Bvc2l0aW9uIiwiX3dyaXRlU3RyaW5nU2l6ZSIsIl93cml0ZVN0cmluZyIsImIiLCJfcmVhZFN0cmluZyIsIndyaXRlU2l6ZSIsIndyaXRlIiwicmVhZCIsImRlc3QiLCJwdXNoIiwiY29tcHJlc3NDb25zZWN1dGl2ZVRleHRDaGFuZ2VzIiwicHJldkVkaXRzIiwiY3VyckVkaXRzIiwiVGV4dENoYW5nZUNvbXByZXNzb3IiLCJjb21wcmVzcyIsIl9wcmV2RWRpdHMiLCJfY3VyckVkaXRzIiwiX3Jlc3VsdCIsIl9yZXN1bHRMZW4iLCJfcHJldkxlbiIsIl9wcmV2RGVsdGFPZmZzZXQiLCJfY3VyckxlbiIsIl9jdXJyRGVsdGFPZmZzZXQiLCJwcmV2SW5kZXgiLCJjdXJySW5kZXgiLCJwcmV2RWRpdCIsIl9nZXRQcmV2IiwiY3VyckVkaXQiLCJfZ2V0Q3VyciIsIl9hY2NlcHRDdXJyIiwiX2FjY2VwdFByZXYiLCJlMSIsImUyIiwiX3NwbGl0Q3VyciIsIl9zcGxpdFByZXYiLCJtZXJnZVByZXYiLCJtZXJnZUN1cnIiLCJtZXJnZWQiLCJfbWVyZ2UiLCJfcmVtb3ZlTm9PcHMiLCJfcmViYXNlQ3VyciIsIl9yZWJhc2VQcmV2IiwicHJldkRlbHRhT2Zmc2V0IiwiY3VyckRlbHRhT2Zmc2V0IiwiZWRpdCIsInByZVRleHQiLCJzdWJzdHIiLCJwb3N0VGV4dCIsImVkaXRzIiwicHJldiIsImN1cnIiLCJFRElUT1JfTU9ERUxfREVGQVVMVFMiLCJkZXRlY3RJbmRlbnRhdGlvbiIsInRyaW1BdXRvV2hpdGVzcGFjZSIsImxhcmdlRmlsZU9wdGltaXphdGlvbnMiLCJicmFja2V0UGFpckNvbG9yaXphdGlvbk9wdGlvbnMiLCJlbmFibGVkIiwiaW5kZXBlbmRlbnRDb2xvclBvb2xQZXJCcmFja2V0VHlwZSIsIkluZGVudEFjdGlvbiIsIlN0YW5kYXJkQXV0b0Nsb3NpbmdQYWlyQ29uZGl0aW9uYWwiLCJfbmV1dHJhbENoYXJhY3RlciIsIl9uZXV0cmFsQ2hhcmFjdGVyU2VhcmNoZWQiLCJvcGVuIiwiY2xvc2UiLCJfaW5TdHJpbmciLCJfaW5Db21tZW50IiwiX2luUmVnRXgiLCJBcnJheSIsImlzQXJyYXkiLCJub3RJbiIsImlzT0siLCJzdGFuZGFyZFRva2VuIiwic2hvdWxkQXV0b0Nsb3NlIiwiY29udGV4dCIsImdldFRva2VuQ291bnQiLCJ0b2tlbkluZGV4IiwiZmluZFRva2VuSW5kZXhBdE9mZnNldCIsInN0YW5kYXJkVG9rZW5UeXBlIiwiZ2V0U3RhbmRhcmRUb2tlblR5cGUiLCJfZmluZE5ldXRyYWxDaGFyYWN0ZXJJblJhbmdlIiwidG9DaGFyQ29kZSIsImNoYXJhY3RlciIsImluY2x1ZGVzIiwiZmluZE5ldXRyYWxDaGFyYWN0ZXIiLCJBdXRvQ2xvc2luZ1BhaXJzIiwiYXV0b0Nsb3NpbmdQYWlycyIsImF1dG9DbG9zaW5nUGFpcnNPcGVuQnlTdGFydCIsIk1hcCIsImF1dG9DbG9zaW5nUGFpcnNPcGVuQnlFbmQiLCJhdXRvQ2xvc2luZ1BhaXJzQ2xvc2VCeVN0YXJ0IiwiYXV0b0Nsb3NpbmdQYWlyc0Nsb3NlQnlFbmQiLCJhdXRvQ2xvc2luZ1BhaXJzQ2xvc2VTaW5nbGVDaGFyIiwicGFpciIsImFwcGVuZEVudHJ5IiwidGFyZ2V0Iiwia2V5IiwiaGFzIiwiZ2V0Iiwic2V0IiwiQ2hhcmFjdGVyUGFpclN1cHBvcnQiLCJERUZBVUxUX0FVVE9DTE9TRV9CRUZPUkVfTEFOR1VBR0VfREVGSU5FRF9RVU9URVMiLCJERUZBVUxUX0FVVE9DTE9TRV9CRUZPUkVfTEFOR1VBR0VfREVGSU5FRF9CUkFDS0VUUyIsImNvbmZpZyIsIl9hdXRvQ2xvc2luZ1BhaXJzIiwibWFwIiwiZWwiLCJicmFja2V0cyIsIl9fZWxlY3RyaWNDaGFyYWN0ZXJTdXBwb3J0IiwiZG9jQ29tbWVudCIsIl9hdXRvQ2xvc2VCZWZvcmVGb3JRdW90ZXMiLCJhdXRvQ2xvc2VCZWZvcmUiLCJfYXV0b0Nsb3NlQmVmb3JlRm9yQnJhY2tldHMiLCJfc3Vycm91bmRpbmdQYWlycyIsInN1cnJvdW5kaW5nUGFpcnMiLCJnZXRBdXRvQ2xvc2luZ1BhaXJzIiwiZ2V0QXV0b0Nsb3NlQmVmb3JlU2V0IiwiZm9yUXVvdGVzIiwiZ2V0U3Vycm91bmRpbmdQYWlycyIsIkJyYWNrZXRFbGVjdHJpY0NoYXJhY3RlclN1cHBvcnQiLCJyaWNoRWRpdEJyYWNrZXRzIiwiX3JpY2hFZGl0QnJhY2tldHMiLCJnZXRFbGVjdHJpY0NoYXJhY3RlcnMiLCJicmFja2V0IiwibGFzdENoYXIiLCJvbkVsZWN0cmljQ2hhcmFjdGVyIiwicmV2ZXJzZWRCcmFja2V0UmVnZXgiLCJyZXZlcnNlZFJlZ2V4IiwiZ2V0TGluZUNvbnRlbnQiLCJyIiwiZmluZFByZXZCcmFja2V0SW5SYW5nZSIsImJyYWNrZXRUZXh0Iiwic3RhcnRDb2x1bW4iLCJlbmRDb2x1bW4iLCJ0b0xvd2VyQ2FzZSIsInRleHRJc09wZW5CcmFja2V0IiwidGV4dEJlZm9yZUJyYWNrZXQiLCJnZXRBY3R1YWxMaW5lQ29udGVudEJlZm9yZSIsInRlc3QiLCJtYXRjaE9wZW5CcmFja2V0IiwicmVzZXRHbG9iYWxSZWdleCIsInJlZyIsImdsb2JhbCIsImxhc3RJbmRleCIsIkluZGVudFJ1bGVzU3VwcG9ydCIsImluZGVudGF0aW9uUnVsZXMiLCJfaW5kZW50YXRpb25SdWxlcyIsInNob3VsZEluY3JlYXNlIiwiaW5jcmVhc2VJbmRlbnRQYXR0ZXJuIiwic2hvdWxkRGVjcmVhc2UiLCJkZWNyZWFzZUluZGVudFBhdHRlcm4iLCJzaG91bGRJbmRlbnROZXh0TGluZSIsImluZGVudE5leHRMaW5lUGF0dGVybiIsInNob3VsZElnbm9yZSIsInVuSW5kZW50ZWRMaW5lUGF0dGVybiIsImdldEluZGVudE1ldGFkYXRhIiwicmV0IiwiT25FbnRlclN1cHBvcnQiLCJvcHRzIiwiX2JyYWNrZXRzIiwiZm9yRWFjaCIsIm9wZW5SZWdFeHAiLCJfY3JlYXRlT3BlbkJyYWNrZXRSZWdFeHAiLCJjbG9zZVJlZ0V4cCIsIl9jcmVhdGVDbG9zZUJyYWNrZXRSZWdFeHAiLCJfcmVnRXhwUnVsZXMiLCJvbkVudGVyUnVsZXMiLCJvbkVudGVyIiwiYXV0b0luZGVudCIsInByZXZpb3VzTGluZVRleHQiLCJiZWZvcmVFbnRlclRleHQiLCJhZnRlckVudGVyVGV4dCIsInJ1bGUiLCJiZWZvcmVUZXh0IiwiYWZ0ZXJUZXh0IiwiZXZlcnkiLCJvYmoiLCJhY3Rpb24iLCJpbmRlbnRBY3Rpb24iLCJJbmRlbnRPdXRkZW50IiwiSW5kZW50Iiwic3RyaW5ncyIsIl9zYWZlUmVnRXhwIiwiZGVmIiwiUmVnRXhwIiwiZXJyIiwiTGFuZ3VhZ2VCcmFja2V0c0NvbmZpZ3VyYXRpb24iLCJsYW5ndWFnZUlkIiwiYnJhY2tldFBhaXJzIiwiZmlsdGVyVmFsaWRCcmFja2V0cyIsIm9wZW5pbmdCcmFja2V0SW5mb3MiLCJjbG9zaW5nIiwiU2V0IiwiaW5mbyIsIk9wZW5pbmdCcmFja2V0S2luZCIsImNsb3NpbmdCcmFja2V0SW5mb3MiLCJvcGVuaW5nIiwib3BlbmluZ0NvbG9yaXplZCIsIkNsb3NpbmdCcmFja2V0S2luZCIsImFkZCIsImNvbG9yaXplZEJyYWNrZXRQYWlycyIsImZpbHRlciIsInAiLCJfb3BlbmluZ0JyYWNrZXRzIiwiY2FjaGVkVmFsdWVzIiwiayIsInYiLCJfY2xvc2luZ0JyYWNrZXRzIiwib3BlbmluZ0JyYWNrZXRzIiwidmFsdWVzIiwiY2xvc2luZ0JyYWNrZXRzIiwiZ2V0T3BlbmluZ0JyYWNrZXRJbmZvIiwiZ2V0Q2xvc2luZ0JyYWNrZXRJbmZvIiwiZ2V0QnJhY2tldEluZm8iLCJnZXRCcmFja2V0UmVnRXhwIiwib3B0aW9ucyIsImtleXMiLCJCcmFja2V0S2luZEJhc2UiLCJvcGVuZWRCcmFja2V0cyIsInN1cGVyIiwiaXNPcGVuaW5nQnJhY2tldCIsIm9wZW5pbmdDb2xvcml6ZWRCcmFja2V0cyIsImNsb3NlcyIsIm90aGVyIiwiY2xvc2VzQ29sb3JpemVkIiwiZ2V0T3BlbmluZ0JyYWNrZXRzIiwiX19wYXJhbSIsInBhcmFtSW5kZXgiLCJkZWNvcmF0b3IiLCJMYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlQ2hhbmdlRXZlbnQiLCJhZmZlY3RzIiwiSUxhbmd1YWdlQ29uZmlndXJhdGlvblNlcnZpY2UiLCJMYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlIiwiY29uZmlndXJhdGlvblNlcnZpY2UiLCJsYW5ndWFnZVNlcnZpY2UiLCJfcmVnaXN0cnkiLCJfcmVnaXN0ZXIiLCJMYW5ndWFnZUNvbmZpZ3VyYXRpb25SZWdpc3RyeSIsIm9uRGlkQ2hhbmdlRW1pdHRlciIsIm9uRGlkQ2hhbmdlIiwiZXZlbnQiLCJjb25maWd1cmF0aW9ucyIsImxhbmd1YWdlQ29uZmlnS2V5cyIsIk9iamVjdCIsImN1c3RvbWl6ZWRMYW5ndWFnZUNvbmZpZ0tleXMiLCJvbkRpZENoYW5nZUNvbmZpZ3VyYXRpb24iLCJlIiwiZ2xvYmFsQ29uZmlnQ2hhbmdlZCIsImNoYW5nZSIsInNvbWUiLCJsb2NhbENvbmZpZ0NoYW5nZWQiLCJvdmVycmlkZXMiLCJvdmVycmlkZUxhbmdOYW1lIiwiY2xlYXIiLCJmaXJlIiwidW5kZWZpbmVkIiwiaXNSZWdpc3RlcmVkTGFuZ3VhZ2VJZCIsImRlbGV0ZSIsInJlZ2lzdGVyIiwiY29uZmlndXJhdGlvbiIsInByaW9yaXR5IiwiZ2V0TGFuZ3VhZ2VDb25maWd1cmF0aW9uIiwicmVnaXN0cnkiLCJsYW5ndWFnZUNvbmZpZyIsIlJlc29sdmVkTGFuZ3VhZ2VDb25maWd1cmF0aW9uIiwiY3VzdG9taXplZENvbmZpZyIsImdldFZhbHVlIiwib3ZlcnJpZGVJZGVudGlmaWVyIiwidmFsaWRhdGVCcmFja2V0UGFpcnMiLCJnZXRDdXN0b21pemVkTGFuZ3VhZ2VDb25maWciLCJkYXRhIiwiY29tYmluZUxhbmd1YWdlQ29uZmlndXJhdGlvbnMiLCJ1bmRlcmx5aW5nQ29uZmlnIiwiY29tcHV0ZUNvbmZpZyIsImRlY29yYXRvcnMiLCJkZXNjIiwiZCIsImMiLCJhcmd1bWVudHMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVjb3JhdGUiLCJnZXRJbmRlbnRhdGlvbkF0UG9zaXRpb24iLCJtb2RlbCIsImxpbmVOdW1iZXIiLCJsaW5lVGV4dCIsImluZGVudGF0aW9uIiwiQ29tcG9zZWRMYW5ndWFnZUNvbmZpZ3VyYXRpb24iLCJfcmVzb2x2ZWQiLCJfZW50cmllcyIsIl9vcmRlciIsImVudHJ5IiwiTGFuZ3VhZ2VDb25maWd1cmF0aW9uQ29udHJpYnV0aW9uIiwic3BsaWNlIiwiZ2V0UmVzb2x2ZWRDb25maWd1cmF0aW9uIiwiX3Jlc29sdmUiLCJzb3J0IiwiY21wIiwiY29uZmlncyIsImNvbW1lbnRzIiwid29yZFBhdHRlcm4iLCJmb2xkaW5nIiwib3JkZXIiLCJhIiwiTGFuZ3VhZ2VDb25maWd1cmF0aW9uQ2hhbmdlRXZlbnQiLCJfb25EaWRDaGFuZ2UiLCJvZmZTaWRlIiwiZW50cmllcyIsImRpc3Bvc2FibGUiLCJkaXNwb3NlIiwiX2VsZWN0cmljQ2hhcmFjdGVyIiwiX29uRW50ZXJTdXBwb3J0IiwiX2hhbmRsZUNvbW1lbnRzIiwiY2hhcmFjdGVyUGFpciIsIndvcmREZWZpbml0aW9uIiwiaW5kZW50UnVsZXNTdXBwb3J0IiwiZm9sZGluZ1J1bGVzIiwiYnJhY2tldHNOZXciLCJnZXRXb3JkRGVmaW5pdGlvbiIsImVsZWN0cmljQ2hhcmFjdGVyIiwiY29uZiIsImNvbW1lbnRSdWxlIiwibGluZUNvbW1lbnQiLCJsaW5lQ29tbWVudFRva2VuIiwiYmxvY2tDb21tZW50IiwiYmxvY2tTdGFydCIsImJsb2NrRW5kIiwiYmxvY2tDb21tZW50U3RhcnRUb2tlbiIsImJsb2NrQ29tbWVudEVuZFRva2VuIiwiTnVsbFN0YXRlIiwiY2xvbmUiLCJlcXVhbHMiLCJudWxsVG9rZW5pemUiLCJzdGF0ZSIsIm51bGxUb2tlbml6ZUVuY29kZWQiLCJ0b2tlbnMiLCJVaW50MzJBcnJheSIsImNyZWF0ZVNjb3BlZExpbmVUb2tlbnMiLCJ0b2tlbkNvdW50IiwiZ2V0Q291bnQiLCJkZXNpcmVkTGFuZ3VhZ2VJZCIsImdldExhbmd1YWdlSWQiLCJsYXN0VG9rZW5JbmRleCIsImZpcnN0VG9rZW5JbmRleCIsIlNjb3BlZExpbmVUb2tlbnMiLCJnZXRTdGFydE9mZnNldCIsImdldEVuZE9mZnNldCIsImZpcnN0Q2hhck9mZnNldCIsImxhc3RDaGFyT2Zmc2V0IiwiX3Njb3BlZExpbmVUb2tlbnNCcmFuZCIsIl9hY3R1YWwiLCJfZmlyc3RUb2tlbkluZGV4IiwiX2xhc3RUb2tlbkluZGV4IiwiX2xhc3RDaGFyT2Zmc2V0IiwibGFuZ3VhZ2VJZENvZGVjIiwiZ2V0TGluZUxlbmd0aCIsInRvSVZpZXdMaW5lVG9rZW5zIiwic2xpY2VBbmRJbmZsYXRlIiwiaWdub3JlQnJhY2tldHNJblRva2VuIiwiUmljaEVkaXRCcmFja2V0IiwiaW5kZXgiLCJmb3J3YXJkUmVnZXgiLCJfcmljaEVkaXRCcmFja2V0QnJhbmQiLCJfb3BlblNldCIsIl90b1NldCIsIl9jbG9zZVNldCIsImlzT3BlbiIsImlzQ2xvc2UiLCJhcnIiLCJlbGVtZW50IiwiUmljaEVkaXRCcmFja2V0cyIsIl9yaWNoRWRpdEJyYWNrZXRzQnJhbmQiLCJOIiwiZ3JvdXAiLCJhcmVPdmVybGFwcGluZyIsImFPcGVuIiwiYUNsb3NlIiwiYk9wZW4iLCJiQ2xvc2UiLCJtZXJnZUdyb3VwcyIsImcxIiwiZzIiLCJuZXdHIiwib2xkRyIsImoiLCJnIiwiY3VycmVudE9wZW4iLCJjdXJyZW50Q2xvc2UiLCJncm91cEZ1enp5QnJhY2tldHMiLCJjdXJyZW50SW5kZXgiLCJwaWVjZXMiLCJjb25jYXQiLCJjb2xsZWN0U3VwZXJzdHJpbmdzIiwidW5pcXVlIiwibGVuZ3RoY21wIiwicmV2ZXJzZSIsImNyZWF0ZUJyYWNrZXRPclJlZ0V4cCIsImdldFJlZ2V4Rm9yQnJhY2tldFBhaXIiLCJ0b1JldmVyc2VkU3RyaW5nIiwiZ2V0UmV2ZXJzZWRSZWdleEZvckJyYWNrZXRQYWlyIiwiZ2V0UmVnZXhGb3JCcmFja2V0cyIsImdldFJldmVyc2VkUmVnZXhGb3JCcmFja2V0cyIsInRleHRJc0JyYWNrZXQiLCJtYXhCcmFja2V0TGVuZ3RoIiwiaW5kZXhPZiIsInNlZW4iLCJwcmVwYXJlQnJhY2tldEZvclJlZ0V4cCIsImluc2VydFdvcmRCb3VuZGFyaWVzIiwicmVnZXhTdHIiLCJsYXN0SW5wdXQiLCJsYXN0T3V0cHV0IiwiQnJhY2tldHNVdGlscyIsIl9maW5kUHJldkJyYWNrZXRJblRleHQiLCJyZXZlcnNlZFRleHQiLCJtIiwibWF0Y2giLCJtYXRjaE9mZnNldCIsIm1hdGNoTGVuZ3RoIiwiYWJzb2x1dGVNYXRjaE9mZnNldCIsInN0YXJ0T2Zmc2V0IiwiZW5kT2Zmc2V0IiwicmV2ZXJzZWRTdWJzdHIiLCJmaW5kTmV4dEJyYWNrZXRJblRleHQiLCJicmFja2V0UmVnZXgiLCJmaW5kTmV4dEJyYWNrZXRJblJhbmdlIiwiQmFzZUFzdE5vZGUiLCJfbGVuZ3RoIiwiUGFpckFzdE5vZGUiLCJjcmVhdGUiLCJvcGVuaW5nQnJhY2tldCIsImNoaWxkIiwiY2xvc2luZ0JyYWNrZXQiLCJtaXNzaW5nT3BlbmluZ0JyYWNrZXRJZHMiLCJnZXRFbXB0eSIsImtpbmQiLCJsaXN0SGVpZ2h0IiwiY2hpbGRyZW5MZW5ndGgiLCJnZXRDaGlsZCIsImlkeCIsIkVycm9yIiwiY2hpbGRyZW4iLCJjYW5CZVJldXNlZCIsIm9wZW5CcmFja2V0SWRzIiwiaW50ZXJzZWN0cyIsImRlZXBDbG9uZSIsImNvbXB1dGVNaW5JbmRlbnRhdGlvbiIsInRleHRNb2RlbCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJMaXN0QXN0Tm9kZSIsImNyZWF0ZTIzIiwiaXRlbTEiLCJpdGVtMiIsIml0ZW0zIiwiaW1tdXRhYmxlIiwibWlzc2luZ0JyYWNrZXRJZHMiLCJtZXJnZSIsIkltbXV0YWJsZTIzTGlzdEFzdE5vZGUiLCJUd29UaHJlZUxpc3RBc3ROb2RlIiwiSW1tdXRhYmxlQXJyYXlMaXN0QXN0Tm9kZSIsIl9taXNzaW5nT3BlbmluZ0JyYWNrZXRJZHMiLCJjYWNoZWRNaW5JbmRlbnRhdGlvbiIsInRocm93SWZJbW11dGFibGUiLCJtYWtlTGFzdEVsZW1lbnRNdXRhYmxlIiwiY2hpbGRDb3VudCIsImxhc3RDaGlsZCIsIm11dGFibGUiLCJ0b011dGFibGUiLCJzZXRDaGlsZCIsIm1ha2VGaXJzdEVsZW1lbnRNdXRhYmxlIiwiZmlyc3RDaGlsZCIsImxhc3RMZW5ndGgiLCJoYW5kbGVDaGlsZHJlbkNoYW5nZWQiLCJjb3VudCIsInVub3BlbmVkQnJhY2tldHMiLCJtaW5JbmRlbnRhdGlvbiIsImNoaWxkT2Zmc2V0IiwiX2l0ZW0zIiwiX2l0ZW0xIiwiX2l0ZW0yIiwibm9kZSIsImFwcGVuZENoaWxkT2ZTYW1lSGVpZ2h0IiwidW5hcHBlbmRDaGlsZCIsInByZXBlbmRDaGlsZE9mU2FtZUhlaWdodCIsInVucHJlcGVuZENoaWxkIiwiQXJyYXlMaXN0QXN0Tm9kZSIsIl9jaGlsZHJlbiIsIml0ZW0iLCJwb3AiLCJ1bnNoaWZ0Iiwic2hpZnQiLCJlbXB0eUFycmF5IiwiSW1tdXRhYmxlTGVhZkFzdE5vZGUiLCJUZXh0QXN0Tm9kZSIsIl9vcGVuZWRCcmFja2V0SWRzIiwic3RhcnQiLCJzdGFydExpbmVOdW1iZXIiLCJjb2x1bW5Db3VudCIsImxpbmVDb3VudCIsImVuZExpbmVOdW1iZXIiLCJmaXJzdE5vbldzQ29sdW1uIiwiZ2V0TGluZUZpcnN0Tm9uV2hpdGVzcGFjZUNvbHVtbiIsImdldE9wdGlvbnMiLCJCcmFja2V0QXN0Tm9kZSIsImJyYWNrZXRJbmZvIiwiYnJhY2tldElkcyIsIkludmFsaWRCcmFja2V0QXN0Tm9kZSIsIm9wZW5lZEJyYWNrZXRJZHMiLCJUZXh0RWRpdEluZm8iLCJmcm9tTW9kZWxDb250ZW50Q2hhbmdlcyIsImNoYW5nZXMiLCJyYW5nZSIsImxpZnQiLCJnZXRTdGFydFBvc2l0aW9uIiwiZ2V0RW5kUG9zaXRpb24iLCJCZWZvcmVFZGl0UG9zaXRpb25NYXBwZXIiLCJuZXh0RWRpdElkeCIsImRlbHRhT2xkVG9OZXdMaW5lQ291bnQiLCJkZWx0YU9sZFRvTmV3Q29sdW1uQ291bnQiLCJkZWx0YUxpbmVJZHhJbk9sZCIsIlRleHRFZGl0SW5mb0NhY2hlIiwiZ2V0T2Zmc2V0QmVmb3JlQ2hhbmdlIiwiYWRqdXN0TmV4dEVkaXQiLCJ0cmFuc2xhdGVDdXJUb09sZCIsImdldERpc3RhbmNlVG9OZXh0Q2hhbmdlIiwibmV4dEVkaXQiLCJuZXh0Q2hhbmdlT2Zmc2V0IiwidHJhbnNsYXRlT2xkVG9DdXIiLCJvZmZzZXRPYmoiLCJvbGRPZmZzZXRPYmoiLCJuZXdPZmZzZXQiLCJuZXh0RWRpdEVuZE9mZnNldEluQ3VyIiwiZW5kT2Zmc2V0QWZ0ZXJPYmoiLCJuZXh0RWRpdEVuZE9mZnNldEluQ3VyT2JqIiwibmV4dEVkaXRFbmRPZmZzZXRCZWZvcmVJbkN1ck9iaiIsImVuZE9mZnNldEJlZm9yZU9iaiIsImxpbmVEZWx0YSIsInByZXZpb3VzQ29sdW1uRGVsdGEiLCJjb2x1bW5EZWx0YSIsInRleHRMZW5ndGgiLCJCcmFja2V0VG9rZW5zIiwiY3JlYXRlRnJvbUxhbmd1YWdlIiwiZGVuc2VLZXlQcm92aWRlciIsImdldElkIiwiZ2V0S2V5Iiwib3BlbmluZ1RleHRJZCIsImhhc1JlZ0V4cCIsIl9yZWdFeHBHbG9iYWwiLCJnZXRSZWdFeHBTdHIiLCJpc0VtcHR5IiwiZXNjYXBlZCIsInJlZ0V4cEdsb2JhbCIsInJlZ0V4cFN0ciIsImdldFRva2VuIiwiZmluZENsb3NpbmdUb2tlblRleHQiLCJvcGVuaW5nQnJhY2tldElkcyIsImNsb3NpbmdUZXh0Iiwic2l6ZSIsIkxhbmd1YWdlQWdub3N0aWNCcmFja2V0VG9rZW5zIiwibGFuZ3VhZ2VJZFRvQnJhY2tldFRva2VucyIsImRpZExhbmd1YWdlQ2hhbmdlIiwiZ2V0U2luZ2xlTGFuZ3VhZ2VCcmFja2V0VG9rZW5zIiwic2luZ2xlTGFuZ3VhZ2VCcmFja2V0VG9rZW5zIiwiY29tYmluZVRleHRFZGl0SW5mb3MiLCJ0ZXh0RWRpdEluZm9GaXJzdCIsInRleHRFZGl0SW5mb1NlY29uZCIsInMwVG9TMU1hcCIsInRvTGVuZ3RoTWFwcGluZyIsInMxVG9TMk1hcCIsIm1vZGlmaWVkIiwibGVuZ3RoQmVmb3JlIiwibGVuZ3RoQWZ0ZXIiLCJjdXJJdGVtIiwiZGVxdWV1ZSIsIm5leHRTMFRvUzFNYXBXaXRoUzFMZW5ndGhPZiIsInMxTGVuZ3RoIiwidGFrZVdoaWxlIiwicmVtYWluaW5nSXRlbSIsInNwbGl0QXQiLCJMZW5ndGhNYXBwaW5nIiwicHVzaEVkaXQiLCJsYXN0UmVzdWx0IiwiczBvZmZzZXQiLCJzMVRvUzIiLCJzMExlbmd0aCIsInMiLCJzMEVuZE9mZnNldCIsInMxIiwiczBzdGFydE9mZnNldCIsInJlbWFpbmluZ0xlbmd0aEFmdGVyIiwidGV4dEVkaXRJbmZvcyIsImxhc3RPZmZzZXQiLCJ0ZXh0RWRpdEluZm8iLCJzcGFjZUxlbmd0aCIsImxlbmd0aERpZmYiLCJzdGFydExpbmVDb3VudCIsInN0YXJ0Q29sdW1uQ291bnQiLCJlbmRMaW5lQ291bnQiLCJlbmRDb2x1bW5Db3VudCIsInRvTGVuZ3RoIiwibGVuZ3RoWmVybyIsImxlbmd0aElzWmVybyIsImZhY3RvciIsImxlbmd0aFRvT2JqIiwibCIsImxlbmd0aEdldExpbmVDb3VudCIsImxlbmd0aEdldENvbHVtbkNvdW50SWZaZXJvTGluZUNvdW50IiwibGVuZ3RoQWRkIiwibDEiLCJsMiIsInN1bUxlbmd0aHMiLCJpdGVtcyIsImxlbmd0aEZuIiwicmVkdWNlIiwibGVuZ3RoRXF1YWxzIiwibGVuZ3RoMSIsImxlbmd0aDIiLCJsZW5ndGhEaWZmTm9uTmVnYXRpdmUiLCJsaW5lQ291bnQxIiwibGluZUNvdW50MiIsImNvbENvdW50MiIsImxlbmd0aExlc3NUaGFuIiwibGVuZ3RoTGVzc1RoYW5FcXVhbCIsImxlbmd0aEdyZWF0ZXJUaGFuRXF1YWwiLCJwb3NpdGlvblRvTGVuZ3RoIiwicG9zaXRpb24iLCJsZW5ndGhzVG9SYW5nZSIsImxlbmd0aFN0YXJ0IiwibGVuZ3RoRW5kIiwiY29sQ291bnQiLCJsZW5ndGhPZlN0cmluZyIsImxpbmVzIiwiY29uY2F0MjNUcmVlc09mU2FtZUhlaWdodCIsImNyZWF0ZUltbXV0YWJsZUxpc3RzIiwiaGVpZ2h0RGlmZiIsIm5vZGUxIiwibm9kZTIiLCJhYnMiLCJsaXN0Iiwibm9kZVRvQXBwZW5kIiwiY3VyTm9kZSIsInBhcmVudHMiLCJub2RlVG9BcHBlbmRPZkNvcnJlY3RIZWlnaHQiLCJwYXJlbnQiLCJhcHBlbmQiLCJub2RlVG9QcmVwZW5kT2ZDb3JyZWN0SGVpZ2h0IiwicHJlcGVuZCIsIk5vZGVSZWFkZXIiLCJuZXh0Tm9kZXMiLCJvZmZzZXRzIiwiaWR4cyIsInJlYWRMb25nZXN0Tm9kZUF0IiwicHJlZGljYXRlIiwibGFzdE9yVW5kZWZpbmVkIiwiY3VyTm9kZU9mZnNldCIsIm5leHROb2RlQWZ0ZXJDdXJyZW50IiwibmV4dENoaWxkSWR4IiwiZ2V0TmV4dENoaWxkSWR4IiwiY3VycmVudE9mZnNldCIsImN1cnJlbnROb2RlIiwiY3VySWR4IiwicGFyc2VEb2N1bWVudCIsInRva2VuaXplciIsIm9sZE5vZGUiLCJQYXJzZXIiLCJfaXRlbXNDb25zdHJ1Y3RlZCIsIl9pdGVtc0Zyb21DYWNoZSIsIm9sZE5vZGVSZWFkZXIiLCJwb3NpdGlvbk1hcHBlciIsInBhcnNlTGlzdCIsImxldmVsIiwidHJ5UmVhZENoaWxkRnJvbUNhY2hlIiwidG9rZW4iLCJwZWVrIiwicGFyc2VDaGlsZCIsInJlYWROb2RlIiwiaGVpZ2h0Iiwic2xpY2UiLCJmaXJzdCIsInNlY29uZCIsImNvbmNhdDIzVHJlZXMiLCJtYXhDYWNoZWFibGVMZW5ndGgiLCJjYWNoZWROb2RlIiwic2tpcCIsImFzdE5vZGUiLCJuZXh0VG9rZW4iLCJicmFja2V0SWQiLCJlbXB0eUFyciIsIlNtYWxsSW1tdXRhYmxlU2V0IiwiY2FjaGUiLCJhZGRpdGlvbmFsSXRlbXMiLCJjYWNoZWQiLCJlbXB0eSIsImtleVByb3ZpZGVyIiwibmV3SXRlbSIsIm5ld0l0ZW1zIiwiaWRlbnRpdHlLZXlQcm92aWRlciIsIkRlbnNlS2V5UHJvdmlkZXIiLCJleGlzdGluZyIsIlRva2VuIiwiVGV4dEJ1ZmZlclRva2VuaXplciIsImJyYWNrZXRUb2tlbnMiLCJyZWFkZXIiLCJOb25QZWVrYWJsZVRleHRCdWZmZXJUb2tlbml6ZXIiLCJfb2Zmc2V0IiwiZGlkUGVlayIsInBlZWtlZCIsInRleHRCdWZmZXJMaW5lQ291bnQiLCJnZXRMaW5lQ291bnQiLCJ0ZXh0QnVmZmVyTGFzdExpbmVMZW5ndGgiLCJzZXRQb3NpdGlvbiIsImxpbmVJZHgiLCJsaW5lIiwibGluZUNoYXJPZmZzZXQiLCJsaW5lVG9rZW5zIiwibGluZVRva2VuT2Zmc2V0IiwicGVla2VkVG9rZW4iLCJ0b2tlbml6YXRpb24iLCJnZXRMaW5lVG9rZW5zIiwic3RhcnRMaW5lSWR4Iiwic3RhcnRMaW5lQ2hhck9mZnNldCIsImxlbmd0aEhldXJpc3RpYyIsInBlZWtlZEJyYWNrZXRUb2tlbiIsInRva2VuTWV0YWRhdGEiLCJnZXRNZXRhZGF0YSIsImlzT3RoZXIiLCJnZXRUb2tlblR5cGUiLCJjb250YWluc0JyYWNrZXRUeXBlIiwiY29udGFpbnNCYWxhbmNlZEJyYWNrZXRzIiwicmVnZXhwIiwiZXhlYyIsIkZhc3RUb2tlbml6ZXIiLCJjdXJMaW5lQ291bnQiLCJsYXN0TGluZUJyZWFrT2Zmc2V0IiwibGFzdFRva2VuRW5kT2Zmc2V0IiwibGFzdFRva2VuRW5kTGluZSIsInNtYWxsVGV4dFRva2VuczBMaW5lIiwic21hbGxUZXh0VG9rZW5zMUxpbmUiLCJjdXJPZmZzZXQiLCJ1cmlHZXRDb21wYXJpc29uS2V5IiwicmVzb3VyY2UiLCJTaW5nbGVNb2RlbEVkaXRTdGFja0RhdGEiLCJiZWZvcmVDdXJzb3JTdGF0ZSIsImFsdGVybmF0aXZlVmVyc2lvbklkIiwiZ2V0QWx0ZXJuYXRpdmVWZXJzaW9uSWQiLCJnZXRNb2RlbEVPTCIsImJlZm9yZVZlcnNpb25JZCIsImFmdGVyVmVyc2lvbklkIiwiYmVmb3JlRU9MIiwiYWZ0ZXJFT0wiLCJhZnRlckN1cnNvclN0YXRlIiwidGV4dENoYW5nZXMiLCJfd3JpdGVTZWxlY3Rpb25zU2l6ZSIsInNlbGVjdGlvbnMiLCJfd3JpdGVTZWxlY3Rpb25zIiwic2VsZWN0aW9uIiwic2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyIiwic2VsZWN0aW9uU3RhcnRDb2x1bW4iLCJwb3NpdGlvbkxpbmVOdW1iZXIiLCJwb3NpdGlvbkNvbHVtbiIsIl9yZWFkU2VsZWN0aW9ucyIsInNlcmlhbGl6ZSIsIm5lY2Vzc2FyeVNpemUiLCJkZXNlcmlhbGl6ZSIsImNoYW5nZUNvdW50IiwiU2luZ2xlTW9kZWxFZGl0U3RhY2tFbGVtZW50IiwidHlwZSIsImlzVXJpIiwidXJpIiwibGFiZWwiLCJjb2RlIiwiX2RhdGEiLCJtYXRjaGVzUmVzb3VyY2UiLCJzZXRNb2RlbCIsImNhbkFwcGVuZCIsInVuZG8iLCJfYXBwbHlVbmRvIiwicmVkbyIsIl9hcHBseVJlZG8iLCJoZWFwU2l6ZSIsIk11bHRpTW9kZWxFZGl0U3RhY2tFbGVtZW50IiwicmVzb3VyY2VzIiwiX2VkaXRTdGFja0VsZW1lbnRzQXJyIiwiZWRpdFN0YWNrRWxlbWVudCIsImVkaXRTdGFja0VsZW1lbnRzIiwiX2lzT3BlbiIsIl9lZGl0U3RhY2tFbGVtZW50c01hcCIsIl9kZWxlZ2F0ZSIsInByZXBhcmVVbmRvUmVkbyIsInNwbGl0IiwiZ2V0RU9MIiwiaXNFZGl0U3RhY2tFbGVtZW50IiwiRWRpdFN0YWNrIiwidW5kb1JlZG9TZXJ2aWNlIiwiX21vZGVsIiwiX3VuZG9SZWRvU2VydmljZSIsInB1c2hTdGFja0VsZW1lbnQiLCJsYXN0RWxlbWVudCIsImdldExhc3RFbGVtZW50IiwicG9wU3RhY2tFbGVtZW50IiwicmVtb3ZlRWxlbWVudHMiLCJfZ2V0T3JDcmVhdGVFZGl0U3RhY2tFbGVtZW50IiwibmV3RWxlbWVudCIsInB1c2hFbGVtZW50IiwicHVzaEVPTCIsInNldEVPTCIsInB1c2hFZGl0T3BlcmF0aW9uIiwiZWRpdE9wZXJhdGlvbnMiLCJjdXJzb3JTdGF0ZUNvbXB1dGVyIiwiaW52ZXJzZUVkaXRPcGVyYXRpb25zIiwiYXBwbHlFZGl0cyIsIl9jb21wdXRlQ3Vyc29yU3RhdGUiLCJvcCIsInRleHRDaGFuZ2UiLCJHdWlkZXNUZXh0TW9kZWxQYXJ0IiwibGFuZ3VhZ2VDb25maWd1cmF0aW9uU2VydmljZSIsIl9jb21wdXRlSW5kZW50TGV2ZWwiLCJsaW5lSW5kZXgiLCJnZXRBY3RpdmVJbmRlbnRHdWlkZSIsIm1pbkxpbmVOdW1iZXIiLCJtYXhMaW5lTnVtYmVyIiwiYXNzZXJ0Tm90RGlzcG9zZWQiLCJCb29sZWFuIiwidXBfYWJvdmVDb250ZW50TGluZUluZGV4IiwidXBfYWJvdmVDb250ZW50TGluZUluZGVudCIsInVwX2JlbG93Q29udGVudExpbmVJbmRleCIsInVwX2JlbG93Q29udGVudExpbmVJbmRlbnQiLCJ1cF9yZXNvbHZlSW5kZW50cyIsImluZGVudCIsImRvd25fYWJvdmVDb250ZW50TGluZUluZGV4IiwiZG93bl9hYm92ZUNvbnRlbnRMaW5lSW5kZW50IiwiZG93bl9iZWxvd0NvbnRlbnRMaW5lSW5kZXgiLCJkb3duX2JlbG93Q29udGVudExpbmVJbmRlbnQiLCJkb3duX3Jlc29sdmVJbmRlbnRzIiwiZ29VcCIsImdvRG93biIsImluaXRpYWxJbmRlbnQiLCJkaXN0YW5jZSIsInVwTGluZU51bWJlciIsImRvd25MaW5lTnVtYmVyIiwidXBMaW5lSW5kZW50TGV2ZWwiLCJjdXJyZW50SW5kZW50IiwiY2VpbCIsIl9nZXRJbmRlbnRMZXZlbEZvcldoaXRlc3BhY2VMaW5lIiwiZG93bkxpbmVJbmRlbnRMZXZlbCIsImdldExpbmVzQnJhY2tldEd1aWRlcyIsImFjdGl2ZVBvc2l0aW9uIiwiZ2V0QnJhY2tldFBhaXJzSW5SYW5nZVdpdGhNaW5JbmRlbnRhdGlvbiIsImdldExpbmVNYXhDb2x1bW4iLCJ0b0FycmF5IiwiYWN0aXZlQnJhY2tldFBhaXJSYW5nZSIsImJyYWNrZXRzQ29udGFpbmluZ0FjdGl2ZVBvc2l0aW9uIiwiZ2V0QnJhY2tldFBhaXJzSW5SYW5nZSIsImZyb21Qb3NpdGlvbnMiLCJicCIsInN0cmljdENvbnRhaW5zUG9zaXRpb24iLCJjb2xvclByb3ZpZGVyIiwiQnJhY2tldFBhaXJHdWlkZXNDbGFzc05hbWVzIiwiY2xvc2luZ0JyYWNrZXRSYW5nZSIsImlzQWN0aXZlIiwiZXF1YWxzUmFuZ2UiLCJpbmNsdWRlSW5hY3RpdmUiLCJjbGFzc05hbWUiLCJnZXRJbmxpbmVDbGFzc05hbWUiLCJuZXN0aW5nTGV2ZWwiLCJuZXN0aW5nTGV2ZWxPZkVxdWFsQnJhY2tldFR5cGUiLCJoaWdobGlnaHRBY3RpdmUiLCJhY3RpdmVDbGFzc05hbWUiLCJvcGVuaW5nQnJhY2tldFJhbmdlIiwiZW5kIiwiaG9yaXpvbnRhbEd1aWRlcyIsIkVuYWJsZWQiLCJFbmFibGVkRm9yQWN0aXZlIiwiZW5kVmlzaWJsZUNvbHVtbiIsImdldFZpc2libGVDb2x1bW5Gcm9tUG9zaXRpb24iLCJzdGFydFZpc2libGVDb2x1bW4iLCJndWlkZVZpc2libGVDb2x1bW4iLCJtaW5WaXNpYmxlQ29sdW1uSW5kZW50YXRpb24iLCJyZW5kZXJIb3Jpem9udGFsRW5kTGluZUF0VGhlQm90dG9tIiwidmlzaWJsZUd1aWRlU3RhcnRMaW5lTnVtYmVyIiwidmlzaWJsZUd1aWRlRW5kTGluZU51bWJlciIsImd1aWRlcyIsImdldExpbmVzSW5kZW50R3VpZGVzIiwiYWJvdmVDb250ZW50TGluZUluZGV4IiwiYWJvdmVDb250ZW50TGluZUluZGVudCIsImJlbG93Q29udGVudExpbmVJbmRleCIsImJlbG93Q29udGVudExpbmVJbmRlbnQiLCJyZXN1bHRJbmRleCIsImdldElubGluZUNsYXNzTmFtZU9mTGV2ZWwiLCJCcmFja2V0SW5mbyIsImlzSW52YWxpZCIsIkJyYWNrZXRQYWlySW5mbyIsImJyYWNrZXRQYWlyTm9kZSIsIm9wZW5pbmdCcmFja2V0SW5mbyIsIkJyYWNrZXRQYWlyV2l0aE1pbkluZGVudGF0aW9uSW5mbyIsIkJyYWNrZXRQYWlyc1RyZWUiLCJkaWRDaGFuZ2VFbWl0dGVyIiwicXVldWVkVGV4dEVkaXRzRm9ySW5pdGlhbEFzdFdpdGhvdXRUb2tlbnMiLCJxdWV1ZWRUZXh0RWRpdHMiLCJoYXNUb2tlbnMiLCJiYWNrZ3JvdW5kVG9rZW5pemF0aW9uU3RhdGUiLCJpbml0aWFsQXN0V2l0aG91dFRva2VucyIsImFzdFdpdGhUb2tlbnMiLCJwYXJzZURvY3VtZW50RnJvbVRleHRCdWZmZXIiLCJoYW5kbGVEaWRDaGFuZ2VCYWNrZ3JvdW5kVG9rZW5pemF0aW9uU3RhdGUiLCJ3YXNVbmRlZmluZWQiLCJoYW5kbGVEaWRDaGFuZ2VUb2tlbnMiLCJyYW5nZXMiLCJmcm9tTGluZU51bWJlciIsInRvTGluZU51bWJlciIsImhhbmRsZUVkaXRzIiwiaGFuZGxlQ29udGVudENoYW5nZWQiLCJ0b2tlbkNoYW5nZSIsImZsdXNoUXVldWUiLCJwcmV2aW91c0FzdCIsInByZXZpb3VzQXN0Q2xvbmUiLCJnZXRCcmFja2V0c0luUmFuZ2UiLCJvbmx5Q29sb3JpemVkQnJhY2tldHMiLCJjYiIsImNvbGxlY3RCcmFja2V0cyIsImluY2x1ZGVNaW5JbmRlbnRhdGlvbiIsInN0YXJ0TGVuZ3RoIiwiZW5kTGVuZ3RoIiwiQ29sbGVjdEJyYWNrZXRQYWlyc0NvbnRleHQiLCJjb2xsZWN0QnJhY2tldFBhaXJzIiwiZ2V0Rmlyc3RCcmFja2V0QWZ0ZXIiLCJnZXRGaXJzdEJyYWNrZXRCZWZvcmUiLCJub2RlT2Zmc2V0U3RhcnQiLCJub2RlT2Zmc2V0RW5kIiwibGVuZ3RocyIsImxldmVsUGVyQnJhY2tldFR5cGUiLCJwYXJlbnRQYWlySXNJbmNvbXBsZXRlIiwid2hpbGVMb29wIiwiY29sb3JpemUiLCJsZXZlbFBlckJyYWNrZXQiLCJzaG91bGRDb250aW51ZSIsIm9wZW5pbmdCcmFja2V0RW5kIiwiQnJhY2tldFBhaXJzVGV4dE1vZGVsUGFydCIsImNhbkJ1aWxkQVNUIiwiZ2V0VmFsdWVMZW5ndGgiLCJicmFja2V0UGFpcnNUcmVlIiwiYnJhY2tldHNSZXF1ZXN0ZWQiLCJoYW5kbGVMYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlQ2hhbmdlIiwib2JqZWN0IiwidXBkYXRlQnJhY2tldFBhaXJzVHJlZSIsImhhbmRsZURpZENoYW5nZU9wdGlvbnMiLCJoYW5kbGVEaWRDaGFuZ2VMYW5ndWFnZSIsImhhbmRsZURpZENoYW5nZUNvbnRlbnQiLCJzdG9yZSIsImZpbmRNYXRjaGluZ0JyYWNrZXRVcCIsIl9icmFja2V0IiwiX3Bvc2l0aW9uIiwibWF4RHVyYXRpb24iLCJ2YWxpZGF0ZVBvc2l0aW9uIiwiZ2V0TGFuZ3VhZ2VJZEF0UG9zaXRpb24iLCJjbG9zaW5nQnJhY2tldEluZm8iLCJicmFja2V0UGFpciIsImZpbmRMYXN0IiwiYnJhY2tldHNTdXBwb3J0Iiwic3RyaXBCcmFja2V0U2VhcmNoQ2FuY2VsZWQiLCJfZmluZE1hdGNoaW5nQnJhY2tldFVwIiwiY3JlYXRlVGltZUJhc2VkQ29udGludWVCcmFja2V0U2VhcmNoUHJlZGljYXRlIiwibWF0Y2hCcmFja2V0IiwiY29udGFpbnNQb3NpdGlvbiIsImZpbmRMYXN0TWF4QnkiLCJjb21wYXJlUmFuZ2VzVXNpbmdTdGFydHMiLCJjb250aW51ZVNlYXJjaFByZWRpY2F0ZSIsIl9tYXRjaEJyYWNrZXQiLCJfZXN0YWJsaXNoQnJhY2tldFNlYXJjaE9mZnNldHMiLCJtb2RlQnJhY2tldHMiLCJjdXJyZW50TGFuZ3VhZ2VJZCIsInNlYXJjaFN0YXJ0T2Zmc2V0IiwidG9rZW5FbmRPZmZzZXQiLCJzZWFyY2hFbmRPZmZzZXQiLCJ0b2tlblN0YXJ0T2Zmc2V0IiwiY3VycmVudE1vZGVCcmFja2V0cyIsImJlc3RSZXN1bHQiLCJmb3VuZEJyYWNrZXQiLCJmb3VuZEJyYWNrZXRUZXh0IiwiX21hdGNoRm91bmRCcmFja2V0IiwiQnJhY2tldFNlYXJjaENhbmNlbGVkIiwicHJldlRva2VuSW5kZXgiLCJwcmV2TW9kZUJyYWNrZXRzIiwibWF0Y2hlZCIsIl9maW5kTWF0Y2hpbmdCcmFja2V0RG93biIsInRvdGFsQ2FsbENvdW50Iiwic2VhcmNoUHJldk1hdGNoaW5nQnJhY2tldEluUmFuZ2UiLCJJTlNUQU5DRSIsImhpdFRleHQiLCJwcmV2U2VhcmNoSW5Ub2tlbiIsInNlYXJjaEluVG9rZW4iLCJzZWFyY2hOZXh0TWF0Y2hpbmdCcmFja2V0SW5SYW5nZSIsImZpbmRQcmV2QnJhY2tldCIsImJyYWNrZXRDb25maWciLCJ0b2tlbkxhbmd1YWdlSWQiLCJfdG9Gb3VuZEJyYWNrZXQiLCJmaW5kTmV4dEJyYWNrZXQiLCJmaW5kRW5jbG9zaW5nQnJhY2tldHMiLCJzdHJpY3RDb250YWluc1JhbmdlIiwic2F2ZWRDb3VudHMiLCJjb3VudHMiLCJyZXNldENvdW50cyIsInRtcCIsInNlYXJjaEluUmFuZ2UiLCJnZXRWYWx1ZUluUmFuZ2UiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwiX3NlYXJjaENhbmNlbGVkQnJhbmQiLCJDb2xvcml6ZWRCcmFja2V0UGFpcnNEZWNvcmF0aW9uUHJvdmlkZXIiLCJDb2xvclByb3ZpZGVyIiwiY29sb3JpemF0aW9uT3B0aW9ucyIsImdldERlY29yYXRpb25zSW5SYW5nZSIsIm93bmVySWQiLCJmaWx0ZXJPdXRWYWxpZGF0aW9uIiwib25seU1pbmltYXBEZWNvcmF0aW9ucyIsImlkIiwiZGVzY3JpcHRpb24iLCJpbmxpbmVDbGFzc05hbWUiLCJnZXRBbGxEZWNvcmF0aW9ucyIsInVuZXhwZWN0ZWRDbG9zaW5nQnJhY2tldENsYXNzTmFtZSIsInRoZW1lIiwiY29sbGVjdG9yIiwiY29sb3JzIiwiYWRkUnVsZSIsImdldENvbG9yIiwiY29sb3JWYWx1ZXMiLCJpc1RyYW5zcGFyZW50IiwiY29sb3IiLCJTcGFjZXNEaWZmUmVzdWx0Iiwic3BhY2VzRGlmZiIsImxvb2tzTGlrZUFsaWdubWVudCIsImFMZW5ndGgiLCJiTGVuZ3RoIiwiYVNwYWNlc0NudCIsImFUYWJzQ291bnQiLCJiU3BhY2VzQ250IiwiYlRhYnNDb3VudCIsInRhYnNEaWZmIiwiZ3Vlc3NJbmRlbnRhdGlvbiIsImRlZmF1bHRUYWJTaXplIiwiZGVmYXVsdEluc2VydFNwYWNlcyIsImxpbmVzQ291bnQiLCJsaW5lc0luZGVudGVkV2l0aFRhYnNDb3VudCIsImxpbmVzSW5kZW50ZWRXaXRoU3BhY2VzQ291bnQiLCJwcmV2aW91c0xpbmVJbmRlbnRhdGlvbiIsIkFMTE9XRURfVEFCX1NJWkVfR1VFU1NFUyIsInNwYWNlc0RpZmZDb3VudCIsImN1cnJlbnRMaW5lTGVuZ3RoIiwiY3VycmVudExpbmVUZXh0IiwidXNlQ3VycmVudExpbmVUZXh0IiwiY3VycmVudExpbmVIYXNDb250ZW50IiwiY3VycmVudExpbmVJbmRlbnRhdGlvbiIsImN1cnJlbnRMaW5lU3BhY2VzQ291bnQiLCJjdXJyZW50TGluZVRhYnNDb3VudCIsImxlbkoiLCJnZXRMaW5lQ2hhckNvZGUiLCJjdXJyZW50U3BhY2VzRGlmZiIsInRhYlNpemVTY29yZSIsInBvc3NpYmxlVGFiU2l6ZSIsInBvc3NpYmxlVGFiU2l6ZVNjb3JlIiwiZ2V0Tm9kZUNvbG9yIiwibWV0YWRhdGEiLCJzZXROb2RlQ29sb3IiLCJnZXROb2RlSXNWaXNpdGVkIiwic2V0Tm9kZUlzVmlzaXRlZCIsImdldE5vZGVJc0ZvclZhbGlkYXRpb24iLCJzZXROb2RlSXNGb3JWYWxpZGF0aW9uIiwiZ2V0Tm9kZUlzSW5HbHlwaE1hcmdpbiIsInNldE5vZGVJc0luR2x5cGhNYXJnaW4iLCJfc2V0Tm9kZVN0aWNraW5lc3MiLCJzdGlja2luZXNzIiwic2V0Q29sbGFwc2VPblJlcGxhY2VFZGl0IiwiSW50ZXJ2YWxOb2RlIiwibGVmdCIsInJpZ2h0IiwiZGVsdGEiLCJtYXhFbmQiLCJjYWNoZWRWZXJzaW9uSWQiLCJjYWNoZWRBYnNvbHV0ZVN0YXJ0IiwiY2FjaGVkQWJzb2x1dGVFbmQiLCJ2ZXJzaW9uSWQiLCJzZXRPcHRpb25zIiwiZ2x5cGhNYXJnaW5DbGFzc05hbWUiLCJjb2xsYXBzZU9uUmVwbGFjZUVkaXQiLCJzZXRDYWNoZWRPZmZzZXRzIiwiYWJzb2x1dGVTdGFydCIsImFic29sdXRlRW5kIiwiZGV0YWNoIiwiU0VOVElORUwiLCJJbnRlcnZhbFRyZWUiLCJyb290IiwicmVxdWVzdE5vcm1hbGl6ZURlbHRhIiwiaW50ZXJ2YWxTZWFyY2giLCJmaWx0ZXJPd25lcklkIiwib25seU1hcmdpbkRlY29yYXRpb25zIiwiVCIsImludGVydmFsU3RhcnQiLCJpbnRlcnZhbEVuZCIsIm5vZGVNYXhFbmQiLCJub2RlU3RhcnQiLCJub2RlRW5kIiwiaW5jbHVkZSIsInNlYXJjaCIsImNvbGxlY3ROb2Rlc0Zyb21Pd25lciIsImNvbGxlY3ROb2Rlc1Bvc3RPcmRlciIsImluc2VydCIsInJiVHJlZUluc2VydCIsIl9ub3JtYWxpemVEZWx0YUlmTmVjZXNzYXJ5IiwicmJUcmVlRGVsZXRlIiwicmVzb2x2ZU5vZGUiLCJpbml0aWFsTm9kZSIsImFjY2VwdFJlcGxhY2UiLCJmb3JjZU1vdmVNYXJrZXJzIiwibm9kZXNPZkludGVyZXN0Iiwic2VhcmNoRm9yRWRpdGluZyIsImVkaXREZWx0YSIsInJlY29tcHV0ZU1heEVuZCIsIm5vT3ZlcmxhcFJlcGxhY2UiLCJub2RlQWNjZXB0RWRpdCIsIm5vcm1hbGl6ZURlbHRhIiwiYWRqdXN0TWFya2VyQmVmb3JlQ29sdW1uIiwibWFya2VyT2Zmc2V0IiwibWFya2VyU3RpY2tUb1ByZXZpb3VzQ2hhcmFjdGVyIiwiY2hlY2tPZmZzZXQiLCJtb3ZlU2VtYW50aWNzIiwibm9kZVN0aWNraW5lc3MiLCJnZXROb2RlU3RpY2tpbmVzcyIsInN0YXJ0U3RpY2tUb1ByZXZpb3VzQ2hhcmFjdGVyIiwiZW5kU3RpY2tUb1ByZXZpb3VzQ2hhcmFjdGVyIiwiZGVsZXRpbmdDbnQiLCJpbnNlcnRpbmdDbnQiLCJjb21tb25MZW5ndGgiLCJzdGFydERvbmUiLCJlbmREb25lIiwiZ2V0Q29sbGFwc2VPblJlcGxhY2VFZGl0IiwiZGVsdGFDb2x1bW4iLCJuZXdOb2RlIiwieiIsIngiLCJ6QWJzb2x1dGVTdGFydCIsInpBYnNvbHV0ZUVuZCIsImFTdGFydCIsImFFbmQiLCJiU3RhcnQiLCJiRW5kIiwidHJlZUluc2VydCIsInJlY29tcHV0ZU1heEVuZFdhbGtUb1Jvb3QiLCJ5IiwibGVmdFJvdGF0ZSIsInJpZ2h0Um90YXRlIiwibGVmdGVzdCIsInJlc2V0U2VudGluZWwiLCJ5V2FzUmVkIiwidyIsImNvbXB1dGVNYXhFbmQiLCJsZWZ0TWF4RW5kIiwicmlnaHRNYXhFbmQiLCJUcmVlTm9kZSIsInBpZWNlIiwic2l6ZV9sZWZ0IiwibGZfbGVmdCIsIm5leHQiLCJyaWdodHRlc3QiLCJjYWxjdWxhdGVTaXplIiwiY2FsY3VsYXRlTEYiLCJsaW5lRmVlZENudCIsInRyZWUiLCJyYkRlbGV0ZSIsInJlY29tcHV0ZVRyZWVNZXRhZGF0YSIsIm5ld1NpemVMZWZ0IiwibmV3TEZMZWZ0IiwibGZfZGVsdGEiLCJ1cGRhdGVUcmVlTWV0YWRhdGEiLCJmaXhJbnNlcnQiLCJsaW5lRmVlZENudERlbHRhIiwiQXZlcmFnZUJ1ZmZlclNpemUiLCJjcmVhdGVVaW50QXJyYXkiLCJMaW5lU3RhcnRzIiwibGluZVN0YXJ0cyIsImNyIiwibGYiLCJjcmxmIiwiaXNCYXNpY0FTQ0lJIiwiY3JlYXRlTGluZVN0YXJ0c0Zhc3QiLCJyZWFkb25seSIsInJMZW5ndGgiLCJjaHIiLCJQaWVjZSIsImJ1ZmZlckluZGV4IiwiU3RyaW5nQnVmZmVyIiwiUGllY2VUcmVlU25hcHNob3QiLCJCT00iLCJfcGllY2VzIiwiX3RyZWUiLCJfQk9NIiwiX2luZGV4IiwiaXRlcmF0ZSIsImdldFBpZWNlQ29udGVudCIsIlBpZWNlVHJlZVNlYXJjaENhY2hlIiwibGltaXQiLCJfbGltaXQiLCJfY2FjaGUiLCJub2RlUG9zIiwibm9kZVN0YXJ0T2Zmc2V0IiwiZ2V0MiIsIm5vZGVTdGFydExpbmVOdW1iZXIiLCJub2RlUG9zaXRpb24iLCJ2YWxpZGF0ZSIsImhhc0ludmFsaWRWYWwiLCJuZXdBcnIiLCJQaWVjZVRyZWVCYXNlIiwiY2h1bmtzIiwiZW9sTm9ybWFsaXplZCIsIl9idWZmZXJzIiwiX2xhc3RDaGFuZ2VCdWZmZXJQb3MiLCJfbGluZUNudCIsIl9FT0wiLCJfRU9MTGVuZ3RoIiwiX0VPTE5vcm1hbGl6ZWQiLCJsYXN0Tm9kZSIsInJiSW5zZXJ0UmlnaHQiLCJfc2VhcmNoQ2FjaGUiLCJfbGFzdFZpc2l0ZWRMaW5lIiwiY29tcHV0ZUJ1ZmZlck1ldGFkYXRhIiwibm9ybWFsaXplRU9MIiwiYXZlcmFnZUJ1ZmZlclNpemUiLCJ0ZW1wQ2h1bmsiLCJ0ZW1wQ2h1bmtMZW4iLCJnZXROb2RlQ29udGVudCIsIm5ld0VPTCIsImNyZWF0ZVNuYXBzaG90IiwiZ2V0T2Zmc2V0QXQiLCJsZWZ0TGVuIiwiZ2V0QWNjdW11bGF0ZWRWYWx1ZSIsImdldFBvc2l0aW9uQXQiLCJsZkNudCIsIm9yaWdpbmFsT2Zmc2V0Iiwib3V0IiwiZ2V0SW5kZXhPZiIsInJlbWFpbmRlciIsInN0YXJ0UG9zaXRpb24iLCJub2RlQXQyIiwiZW5kUG9zaXRpb24iLCJnZXRWYWx1ZUluUmFuZ2UyIiwib2Zmc2V0SW5CdWZmZXIiLCJnZXRMaW5lc0NvbnRlbnQiLCJsaW5lc0xlbmd0aCIsImN1cnJlbnRMaW5lIiwiZGFuZ2xpbmdDUiIsInBpZWNlTGVuZ3RoIiwicGllY2VTdGFydExpbmUiLCJwaWVjZUVuZExpbmUiLCJwaWVjZVN0YXJ0T2Zmc2V0IiwiZ2V0TGVuZ3RoIiwiZ2V0TGluZVJhd0NvbnRlbnQiLCJfZ2V0Q2hhckNvZGUiLCJtYXRjaGluZ05vZGUiLCJ0YXJnZXRPZmZzZXQiLCJmaW5kTWF0Y2hlc0luTm9kZSIsInNlYXJjaGVyIiwic3RhcnRDdXJzb3IiLCJlbmRDdXJzb3IiLCJzZWFyY2hEYXRhIiwiY2FwdHVyZU1hdGNoZXMiLCJsaW1pdFJlc3VsdENvdW50Iiwic3RhcnRPZmZzZXRJbkJ1ZmZlciIsInNlYXJjaFRleHQiLCJfd29yZFNlcGFyYXRvcnMiLCJwb3NpdGlvbkluQnVmZmVyIiwiZ2V0TGluZUZlZWRDbnQiLCJyZXRTdGFydENvbHVtbiIsInJldEVuZENvbHVtbiIsImZpbmRNYXRjaGVzTGluZUJ5TGluZSIsInNlYXJjaFJhbmdlIiwid29yZFNlcGFyYXRvcnMiLCJyZWdleCIsImxpbmVCcmVha0NudCIsIm5leHRMaW5lU3RhcnRPZmZzZXQiLCJfZmluZE1hdGNoZXNJbkxpbmUiLCJkZWx0YU9mZnNldCIsInNpbXBsZVNlYXJjaCIsInNlYXJjaFN0cmluZyIsInNlYXJjaFN0cmluZ0xlbiIsImxhc3RNYXRjaEluZGV4Iiwibm9kZUF0IiwiaW5zZXJ0UG9zSW5CdWZmZXIiLCJhcHBlbmRUb05vZGUiLCJpbnNlcnRDb250ZW50VG9Ob2RlTGVmdCIsIm5vZGVzVG9EZWwiLCJuZXdSaWdodFBpZWNlIiwic2hvdWxkQ2hlY2tDUkxGIiwiZW5kV2l0aENSIiwibm9kZUNoYXJDb2RlQXQiLCJuZXdTdGFydCIsInN0YXJ0V2l0aExGIiwicHJldmlvdXNQb3MiLCJkZWxldGVOb2RlVGFpbCIsIm5ld1BpZWNlcyIsImNyZWF0ZU5ld1BpZWNlcyIsInRtcE5vZGUiLCJkZWxldGVOb2RlcyIsImluc2VydENvbnRlbnRUb05vZGVSaWdodCIsInJiSW5zZXJ0TGVmdCIsImNudCIsInN0YXJ0Tm9kZSIsImVuZE5vZGUiLCJzdGFydFNwbGl0UG9zSW5CdWZmZXIiLCJlbmRTcGxpdFBvc0luQnVmZmVyIiwidmFsaWRhdGVDUkxGV2l0aFByZXZOb2RlIiwiZGVsZXRlTm9kZUhlYWQiLCJ2YWxpZGF0ZUNSTEZXaXRoTmV4dE5vZGUiLCJzaHJpbmtOb2RlIiwiblBpZWNlIiwiYWRqdXN0Q2FycmlhZ2VSZXR1cm5Gcm9tTmV4dCIsImxvdyIsImhpZ2giLCJtaWQiLCJtaWRTdG9wIiwibWlkU3RhcnQiLCJwcmV2aW91c0NoYXJPZmZzZXQiLCJjdXJzb3IiLCJub2RlcyIsInNwbGl0VGV4dCIsImVuZEluZGV4IiwiZW5kUG9zIiwibmV3UGllY2UiLCJwcmV2QWNjdW11bGF0ZWRWYWx1ZSIsImFjY3VtdWxhdGVkVmFsdWUiLCJvcmlnaW5hbExpbmVOdW1iZXIiLCJwb3MiLCJsaW5lQ250IiwicmVhbExpbmVDbnQiLCJleHBlY3RlZExpbmVTdGFydEluZGV4Iiwib3JpZ2luYWxMRkNudCIsIm9yaWdpbmFsRW5kT2Zmc2V0IiwibmV3RW5kT2Zmc2V0IiwibmV3TGluZUZlZWRDbnQiLCJzaXplX2RlbHRhIiwib3JpZ2luYWxTdGFydE9mZnNldCIsIm9yaWdpbmFsU3RhcnRQb3MiLCJvcmlnaW5hbEVuZFBvcyIsIm9sZExGQ250IiwiaGl0Q1JMRiIsInByZXZTdGFydE9mZnNldCIsIm9sZExpbmVGZWVkQ250IiwicHJldkFjY3VtdWFsdGVkVmFsdWUiLCJvZmZzZXRPZk5vZGUiLCJ2YWwiLCJuZXh0Tm9kZSIsImZpeENSTEYiLCJwcmV2TmV3TGVuZ3RoIiwicHJldk5ld0xGQ250IiwiY2FsbGJhY2siLCJsZWZ0UmV0IiwicHJldk5vZGUiLCJQaWVjZVRyZWVUZXh0QnVmZmVyIiwiY29udGFpbnNSVEwiLCJjb250YWluc1VudXN1YWxMaW5lVGVybWluYXRvcnMiLCJfb25EaWRDaGFuZ2VDb250ZW50IiwiX21pZ2h0Q29udGFpbk5vbkJhc2ljQVNDSUkiLCJfbWlnaHRDb250YWluUlRMIiwiX21pZ2h0Q29udGFpblVudXN1YWxMaW5lVGVybWluYXRvcnMiLCJfcGllY2VUcmVlIiwibWlnaHRDb250YWluUlRMIiwibWlnaHRDb250YWluVW51c3VhbExpbmVUZXJtaW5hdG9ycyIsInJlc2V0TWlnaHRDb250YWluVW51c3VhbExpbmVUZXJtaW5hdG9ycyIsIm1pZ2h0Q29udGFpbk5vbkJhc2ljQVNDSUkiLCJnZXRCT00iLCJwcmVzZXJ2ZUJPTSIsImdldFJhbmdlQXQiLCJsaW5lRW5kaW5nIiwiX2dldEVuZE9mTGluZSIsImdldFZhbHVlTGVuZ3RoSW5SYW5nZSIsImVvbE9mZnNldENvbXBlbnNhdGlvbiIsImRlc2lyZWRFT0wiLCJhY3R1YWxFT0wiLCJnZXRDaGFyYWN0ZXJDb3VudEluUmFuZ2UiLCJmcm9tT2Zmc2V0IiwidG9PZmZzZXQiLCJnZXRMaW5lTGFzdE5vbldoaXRlc3BhY2VDb2x1bW4iLCJyYXdPcGVyYXRpb25zIiwicmVjb3JkVHJpbUF1dG9XaGl0ZXNwYWNlIiwiY29tcHV0ZVVuZG9FZGl0cyIsImNhblJlZHVjZU9wZXJhdGlvbnMiLCJvcGVyYXRpb25zIiwiX2lzVHJhY2tlZCIsInZhbGlkYXRlZFJhbmdlIiwidGV4dE1pZ2h0Q29udGFpbk5vbkJhc2ljQVNDSUkiLCJ2YWxpZFRleHQiLCJlb2xDb3VudCIsImZpcnN0TGluZUxlbmd0aCIsImxhc3RMaW5lTGVuZ3RoIiwic3RyRU9MIiwiYnVmZmVyRU9MIiwic29ydEluZGV4IiwiaWRlbnRpZmllciIsInJhbmdlT2Zmc2V0IiwicmFuZ2VMZW5ndGgiLCJpc0F1dG9XaGl0ZXNwYWNlRWRpdCIsIl9zb3J0T3BzQXNjZW5kaW5nIiwiaGFzVG91Y2hpbmdSYW5nZXMiLCJyYW5nZUVuZCIsIm5leHRSYW5nZVN0YXJ0IiwiaXNCZWZvcmVPckVxdWFsIiwiaXNCZWZvcmUiLCJfcmVkdWNlT3BlcmF0aW9ucyIsInJldmVyc2VSYW5nZXMiLCJfZ2V0SW52ZXJzZUVkaXRSYW5nZXMiLCJuZXdUcmltQXV0b1doaXRlc3BhY2VDYW5kaWRhdGVzIiwicmV2ZXJzZVJhbmdlIiwiY3VycmVudExpbmVDb250ZW50Iiwib2xkQ29udGVudCIsInJldmVyc2VPcGVyYXRpb25zIiwicmV2ZXJzZVJhbmdlRGVsdGFPZmZzZXQiLCJidWZmZXJUZXh0IiwicmV2ZXJzZVJhbmdlT2Zmc2V0IiwiY29udGVudENoYW5nZXMiLCJfZG9BcHBseUVkaXRzIiwidHJpbUF1dG9XaGl0ZXNwYWNlTGluZU51bWJlcnMiLCJwcmV2Q29udGVudCIsIl90b1NpbmdsZUVkaXRPcGVyYXRpb24iLCJmaXJzdEVkaXRSYW5nZSIsImxhc3RFZGl0UmFuZ2UiLCJlbnRpcmVFZGl0UmFuZ2UiLCJsYXN0RW5kTGluZU51bWJlciIsImxhc3RFbmRDb2x1bW4iLCJvcGVyYXRpb24iLCJfc29ydE9wc0Rlc2NlbmRpbmciLCJjb250ZW50Q2hhbmdlUmFuZ2UiLCJwcmV2T3BFbmRMaW5lTnVtYmVyIiwicHJldk9wRW5kQ29sdW1uIiwicHJldk9wIiwicmVzdWx0UmFuZ2UiLCJjb21wYXJlUmFuZ2VzVXNpbmdFbmRzIiwiUGllY2VUcmVlVGV4dEJ1ZmZlckZhY3RvcnkiLCJfY2h1bmtzIiwiX2JvbSIsIl9jciIsIl9sZiIsIl9jcmxmIiwiX2NvbnRhaW5zUlRMIiwiX2NvbnRhaW5zVW51c3VhbExpbmVUZXJtaW5hdG9ycyIsIl9pc0Jhc2ljQVNDSUkiLCJfbm9ybWFsaXplRU9MIiwiX2dldEVPTCIsImRlZmF1bHRFT0wiLCJ0b3RhbEVPTENvdW50IiwidG90YWxDUkNvdW50IiwibmV3TGluZVN0YXJ0IiwidGV4dEJ1ZmZlciIsIlBpZWNlVHJlZVRleHRCdWZmZXJCdWlsZGVyIiwiX2hhc1ByZXZpb3VzQ2hhciIsIl9wcmV2aW91c0NoYXIiLCJfdG1wTGluZVN0YXJ0cyIsImFjY2VwdENodW5rIiwiY2h1bmsiLCJfYWNjZXB0Q2h1bmsxIiwiYWxsb3dFbXB0eVN0cmluZ3MiLCJfYWNjZXB0Q2h1bmsyIiwiY3JlYXRlTGluZVN0YXJ0cyIsImZpbmlzaCIsIl9maW5pc2giLCJsYXN0Q2h1bmsiLCJuZXdMaW5lU3RhcnRzIiwiRml4ZWRBcnJheSIsIl9kZWZhdWx0IiwiX3N0b3JlIiwiYmVmb3JlIiwiYWZ0ZXIiLCJpbnNlcnRBcnIiLCJhcnJheUZpbGwiLCJkZWxldGVJbmRleCIsImRlbGV0ZUNvdW50IiwiaW5zZXJ0SW5kZXgiLCJpbnNlcnRDb3VudCIsIkNvbnRpZ3VvdXNNdWx0aWxpbmVUb2tlbnMiLCJfc3RhcnRMaW5lTnVtYmVyIiwiX3Rva2VucyIsImFwcGVuZExpbmVUb2tlbnMiLCJDb250aWd1b3VzTXVsdGlsaW5lVG9rZW5zQnVpbGRlciIsImxhc3QiLCJmaW5hbGl6ZSIsIlRva2VuaXplcldpdGhTdGF0ZVN0b3JlIiwidG9rZW5pemF0aW9uU3VwcG9ydCIsImluaXRpYWxTdGF0ZSIsImdldEluaXRpYWxTdGF0ZSIsIlRyYWNraW5nVG9rZW5pemF0aW9uU3RhdGVTdG9yZSIsImdldFN0YXJ0U3RhdGUiLCJnZXRGaXJzdEludmFsaWRMaW5lIiwiVG9rZW5pemVyV2l0aFN0YXRlU3RvcmVBbmRUZXh0TW9kZWwiLCJfdGV4dE1vZGVsIiwiX2xhbmd1YWdlSWRDb2RlYyIsInVwZGF0ZVRva2Vuc1VudGlsTGluZSIsImJ1aWxkZXIiLCJsaW5lVG9Ub2tlbml6ZSIsInNhZmVUb2tlbml6ZSIsInN0YXJ0U3RhdGUiLCJzZXRFbmRTdGF0ZSIsImVuZFN0YXRlIiwiZ2V0VG9rZW5UeXBlSWZJbnNlcnRpbmdDaGFyYWN0ZXIiLCJsaW5lU3RhcnRTdGF0ZSIsInRva2VuaXplTGluZVdpdGhFZGl0IiwiY3VyTGluZUNvbnRlbnQiLCJuZXdMaW5lQ29udGVudCIsImhhc0FjY3VyYXRlVG9rZW5zRm9yTGluZSIsImdldEZpcnN0SW52YWxpZEVuZFN0YXRlTGluZU51bWJlck9yTWF4IiwiaXNDaGVhcFRvVG9rZW5pemUiLCJmaXJzdEludmFsaWRMaW5lTnVtYmVyIiwidG9rZW5pemVIZXVyaXN0aWNhbGx5IiwiaGV1cmlzdGljVG9rZW5zIiwiZ3Vlc3NTdGFydFN0YXRlIiwibm9uV2hpdGVzcGFjZUNvbHVtbiIsImxpa2VseVJlbGV2YW50TGluZXMiLCJuZXdOb25XaGl0ZXNwYWNlSW5kZXgiLCJfdG9rZW5pemF0aW9uU3RhdGVTdG9yZSIsIlRva2VuaXphdGlvblN0YXRlU3RvcmUiLCJfaW52YWxpZEVuZFN0YXRlc0xpbmVOdW1iZXJzIiwiUmFuZ2VQcmlvcml0eVF1ZXVlSW1wbCIsImFkZFJhbmdlIiwiZ2V0RW5kU3RhdGUiLCJhY2NlcHRDaGFuZ2UiLCJuZXdMaW5lQ291bnQiLCJhZGRSYW5nZUFuZFJlc2l6ZSIsImVuZExpbmVOdW1iZXJFeGNsdXNpdmUiLCJhY2NlcHRDaGFuZ2VzIiwiaW52YWxpZGF0ZUVuZFN0YXRlUmFuZ2UiLCJnZXRGaXJzdEludmFsaWRFbmRTdGF0ZUxpbmVOdW1iZXIiLCJhbGxTdGF0ZXNWYWxpZCIsIl9saW5lRW5kU3RhdGVzIiwib2xkU3RhdGUiLCJfcmFuZ2VzIiwiZmluZEluZGV4IiwiY29udGFpbnMiLCJlbmRFeGNsdXNpdmUiLCJpZHhGaXJzdE1pZ2h0QmVJbnRlcnNlY3RpbmciLCJpZHhGaXJzdElzQWZ0ZXIiLCJuZXdSYW5nZSIsImVuZEV4IiwiaGFzRU9MIiwidG9rZW5pemVFbmNvZGVkIiwiZW5jb2RlTGFuZ3VhZ2VJZCIsImNvbnZlcnRUb0VuZE9mZnNldCIsIkRlZmF1bHRCYWNrZ3JvdW5kVG9rZW5pemVyIiwiX3Rva2VuaXplcldpdGhTdGF0ZVN0b3JlIiwiX2JhY2tncm91bmRUb2tlblN0b3JlIiwiX2lzRGlzcG9zZWQiLCJfaXNTY2hlZHVsZWQiLCJoYW5kbGVDaGFuZ2VzIiwiX2JlZ2luQmFja2dyb3VuZFRva2VuaXphdGlvbiIsImlzQXR0YWNoZWRUb0VkaXRvciIsIl9oYXNMaW5lc1RvVG9rZW5pemUiLCJkZWFkbGluZSIsIl9iYWNrZ3JvdW5kVG9rZW5pemVXaXRoRGVhZGxpbmUiLCJlbmRUaW1lIiwidGltZVJlbWFpbmluZyIsImV4ZWN1dGUiLCJfYmFja2dyb3VuZFRva2VuaXplRm9yQXRMZWFzdDFtcyIsInN3IiwiZWxhcHNlZCIsIl90b2tlbml6ZU9uZUludmFsaWRMaW5lIiwic2V0VG9rZW5zIiwiY2hlY2tGaW5pc2hlZCIsImZpcnN0SW52YWxpZExpbmUiLCJiYWNrZ3JvdW5kVG9rZW5pemF0aW9uRmluaXNoZWQiLCJyZXF1ZXN0VG9rZW5zIiwiQXR0YWNoZWRWaWV3cyIsIl9vbkRpZENoYW5nZVZpc2libGVSYW5nZXMiLCJvbkRpZENoYW5nZVZpc2libGVSYW5nZXMiLCJfdmlld3MiLCJhdHRhY2hWaWV3IiwiQXR0YWNoZWRWaWV3SW1wbCIsImRldGFjaFZpZXciLCJoYW5kbGVTdGF0ZUNoYW5nZSIsInNldFZpc2libGVMaW5lcyIsInZpc2libGVMaW5lcyIsInN0YWJpbGl6ZWQiLCJ2aXNpYmxlTGluZVJhbmdlcyIsIkF0dGFjaGVkVmlld0hhbmRsZXIiLCJsaW5lUmFuZ2VzIiwiX2xpbmVSYW5nZXMiLCJfcmVmcmVzaFRva2VucyIsInJ1bm5lciIsInVwZGF0ZSIsIl9jb21wdXRlZExpbmVSYW5nZXMiLCJjYW5jZWwiLCJzY2hlZHVsZSIsIkFic3RyYWN0VG9rZW5zIiwiX2JhY2tncm91bmRUb2tlbml6YXRpb25TdGF0ZSIsIl9vbkRpZENoYW5nZUJhY2tncm91bmRUb2tlbml6YXRpb25TdGF0ZSIsIm9uRGlkQ2hhbmdlQmFja2dyb3VuZFRva2VuaXphdGlvblN0YXRlIiwiX29uRGlkQ2hhbmdlVG9rZW5zIiwib25EaWRDaGFuZ2VUb2tlbnMiLCJ0b2tlbml6ZUlmQ2hlYXAiLCJmb3JjZVRva2VuaXphdGlvbiIsIlRyZWVTaXR0ZXJUb2tlbnMiLCJfdHJlZVNpdHRlclNlcnZpY2UiLCJfdG9rZW5pemF0aW9uU3VwcG9ydCIsIl9pbml0aWFsaXplIiwibmV3TGFuZ3VhZ2UiLCJfbGFzdExhbmd1YWdlSWQiLCJjb250ZW50IiwicmF3VG9rZW5zIiwiY3JlYXRlRW1wdHkiLCJyZXNldFRva2VuaXphdGlvbiIsImZpcmVUb2tlbkNoYW5nZUV2ZW50Iiwic2VtYW50aWNUb2tlbnNBcHBsaWVkIiwiaGFuZGxlRGlkQ2hhbmdlQXR0YWNoZWQiLCJpc0ZsdXNoIiwiZ2V0UGFyc2VSZXN1bHQiLCJFTVBUWV9MSU5FX1RPS0VOUyIsIkNvbnRpZ3VvdXNUb2tlbnNFZGl0aW5nIiwiZGVsZXRlQmVnaW5uaW5nIiwidG9DaEluZGV4IiwiZGVsZXRlRW5kaW5nIiwiZnJvbUNoSW5kZXgiLCJ0b1VpbnQzMkFycmF5IiwibGluZVRleHRMZW5ndGgiLCJ0b2tlbnNDb3VudCIsImZyb21Ub2tlbkluZGV4IiwiZmluZEluZGV4SW5Ub2tlbnNBcnJheSIsImZyb21Ub2tlblN0YXJ0T2Zmc2V0IiwibGFzdEVuZCIsInN1YmFycmF5IiwiX290aGVyVG9rZW5zIiwibXlUb2tlbnMiLCJvdGhlclRva2VucyIsIm90aGVyVG9rZW5zQ291bnQiLCJjaEluZGV4IiwiQ29udGlndW91c1Rva2Vuc1N0b3JlIiwiX2xpbmVUb2tlbnMiLCJfbGVuIiwiZmx1c2giLCJnZXRUb2tlbnMiLCJ0b3BMZXZlbExhbmd1YWdlSWQiLCJyYXdMaW5lVG9rZW5zIiwiZ2V0RGVmYXVsdE1ldGFkYXRhIiwiX21hc3NhZ2VUb2tlbnMiLCJoYXNEaWZmZXJlbnRMYW5ndWFnZUlkIiwiX2Vuc3VyZUxpbmUiLCJfZGVsZXRlTGluZXMiLCJfaW5zZXJ0TGluZXMiLCJhcnJheXMiLCJjaGVja0VxdWFsaXR5Iiwib2xkVG9rZW5zIiwiX2VxdWFscyIsIl9hIiwiX2IiLCJhY2NlcHRFZGl0IiwiX2FjY2VwdERlbGV0ZVJhbmdlIiwiX2FjY2VwdEluc2VydFRleHQiLCJmaXJzdExpbmVJbmRleCIsImxhc3RMaW5lSW5kZXgiLCJsYXN0TGluZVRva2VucyIsInNldE11bHRpbGluZVRva2VucyIsIm1pbkNoYW5nZWRMaW5lTnVtYmVyIiwibWF4Q2hhbmdlZExpbmVOdW1iZXIiLCJoYXNDaGFuZ2UiLCJTcGFyc2VUb2tlbnNTdG9yZSIsIl9pc0NvbXBsZXRlIiwiaXNDb21wbGV0ZSIsInNldFBhcnRpYWwiLCJfcmFuZ2UiLCJfZmlyc3RSYW5nZSIsImdldFJhbmdlIiwiX2xhc3RSYW5nZSIsInBsdXNSYW5nZSIsImluc2VydFBvc2l0aW9uIiwicmVtb3ZlVG9rZW5zIiwiYWRkU3BhcnNlVG9rZW5zIiwiYVRva2VucyIsImJUb2tlbnMiLCJfZmluZEZpcnN0UGllY2VXaXRoTGluZSIsImFMZW4iLCJiTGVuIiwiYUluZGV4IiwibGFzdEVuZE9mZnNldCIsImVtaXRUb2tlbiIsImJJbmRleCIsImJTdGFydENoYXJhY3RlciIsImdldFN0YXJ0Q2hhcmFjdGVyIiwiYkVuZENoYXJhY3RlciIsImdldEVuZENoYXJhY3RlciIsImJNZXRhZGF0YSIsImJNYXNrIiwiYU1hc2siLCJhTWVyZ2VJbmRleCIsImZpcnN0Q2hhckNvZGUiLCJUb2tlbml6YXRpb25UZXh0TW9kZWxQYXJ0XzEiLCJUb2tlbml6YXRpb25UZXh0TW9kZWxQYXJ0IiwiX2JyYWNrZXRQYWlyc1RleHRNb2RlbFBhcnQiLCJfbGFuZ3VhZ2VJZCIsIl9hdHRhY2hlZFZpZXdzIiwiX2xhbmd1YWdlU2VydmljZSIsIl9sYW5ndWFnZUNvbmZpZ3VyYXRpb25TZXJ2aWNlIiwiX3NlbWFudGljVG9rZW5zIiwiX29uRGlkQ2hhbmdlTGFuZ3VhZ2UiLCJvbkRpZENoYW5nZUxhbmd1YWdlIiwiX29uRGlkQ2hhbmdlTGFuZ3VhZ2VDb25maWd1cmF0aW9uIiwib25EaWRDaGFuZ2VMYW5ndWFnZUNvbmZpZ3VyYXRpb24iLCJfdG9rZW5zRGlzcG9zYWJsZXMiLCJjaGFuZ2VkTGFuZ3VhZ2VzIiwiY3JlYXRlUHJlZmVycmVkVG9rZW5Qcm92aWRlciIsImNyZWF0ZUdyYW1tYXJUb2tlbnMiLCJHcmFtbWFyVG9rZW5zIiwiY3JlYXRlVHJlZVNpdHRlclRva2VucyIsImNyZWF0ZVRva2VucyIsInVzZVRyZWVTaXR0ZXIiLCJuZWVkc1Jlc2V0IiwiX2VtaXRNb2RlbFRva2Vuc0NoYW5nZWRFdmVudCIsImlzRW9sQ2hhbmdlIiwidmFsaWRhdGVMaW5lTnVtYmVyIiwic3ludGFjdGljVG9rZW5zIiwiX2lzRGlzcG9zaW5nIiwic2V0U2VtYW50aWNUb2tlbnMiLCJoYXNDb21wbGV0ZVNlbWFudGljVG9rZW5zIiwiaGFzU29tZVNlbWFudGljVG9rZW5zIiwic2V0UGFydGlhbFNlbWFudGljVG9rZW5zIiwiY2hhbmdlZFJhbmdlIiwidmFsaWRhdGVSYW5nZSIsImdldFdvcmRBdFBvc2l0aW9uIiwicmJTdGFydE9mZnNldCIsInJiRW5kT2Zmc2V0IiwiX2ZpbmRMYW5ndWFnZUJvdW5kYXJpZXMiLCJyaWdodEJpYXNlZFdvcmQiLCJsYlN0YXJ0T2Zmc2V0IiwibGJFbmRPZmZzZXQiLCJsZWZ0Qmlhc2VkV29yZCIsImdldFdvcmRVbnRpbFBvc2l0aW9uIiwid29yZEF0UG9zaXRpb24iLCJ3b3JkIiwic2V0TGFuZ3VhZ2VJZCIsIm9sZExhbmd1YWdlIiwiSVRyZWVTaXR0ZXJQYXJzZXJTZXJ2aWNlIiwiYXR0YWNoZWRWaWV3cyIsIl90b2tlbml6ZXIiLCJfZGVmYXVsdEJhY2tncm91bmRUb2tlbml6ZXIiLCJfYmFja2dyb3VuZFRva2VuaXplciIsIl9kZWJ1Z0JhY2tncm91bmRUb2tlbml6ZXIiLCJfYXR0YWNoZWRWaWV3U3RhdGVzIiwicmVmcmVzaFJhbmdlcyIsImRlbGV0ZUFuZERpc3Bvc2UiLCJfZGVidWdCYWNrZ3JvdW5kVG9rZW5zIiwiX2RlYnVnQmFja2dyb3VuZFN0YXRlcyIsImlzVG9vTGFyZ2VGb3JUb2tlbml6YXRpb24iLCJpbml0aWFsaXplVG9rZW5pemF0aW9uIiwiZmlyc3RJbnZhbGlkRW5kU3RhdGVMaW5lTnVtYmVyIiwiY3JlYXRlQmFja2dyb3VuZFRva2VuaXplciIsImJhY2tncm91bmRUb2tlbml6ZXJTaG91bGRPbmx5VmVyaWZ5VG9rZW5zIiwicmVmcmVzaEFsbFZpc2libGVMaW5lVG9rZW5zIiwiam9pbk1hbnkiLCJfIiwicmVmcmVzaFJhbmdlIiwiY2hhbmdlZFRva2VucyIsImJhY2tncm91bmRSZXN1bHQiLCJyZXBvcnRNaXNtYXRjaGluZ1Rva2VucyIsInZhbGlkYXRlZFBvc2l0aW9uIiwiVGV4dE1vZGVsXzEiLCJjcmVhdGVUZXh0QnVmZmVyIiwiZmFjdG9yeSIsImNyZWF0ZVRleHRCdWZmZXJGYWN0b3J5Iiwic25hcHNob3QiLCJjcmVhdGVUZXh0QnVmZmVyRmFjdG9yeUZyb21TbmFwc2hvdCIsIk1PREVMX0lEIiwiVGV4dE1vZGVsU25hcHNob3QiLCJfc291cmNlIiwiX2VvcyIsInJlc3VsdENudCIsInJlc3VsdExlbmd0aCIsImludmFsaWRGdW5jIiwiVGV4dE1vZGVsIiwiX01PREVMX1NZTkNfTElNSVQiLCJMQVJHRV9GSUxFX1NJWkVfVEhSRVNIT0xEIiwiTEFSR0VfRklMRV9MSU5FX0NPVU5UX1RIUkVTSE9MRCIsIkxBUkdFX0ZJTEVfSEVBUF9PUEVSQVRJT05fVEhSRVNIT0xEIiwiREVGQVVMVF9DUkVBVElPTl9PUFRJT05TIiwiaXNGb3JTaW1wbGVXaWRnZXQiLCJyZXNvbHZlT3B0aW9ucyIsImd1ZXNzZWRJbmRlbnRhdGlvbiIsIl90b2tlbml6YXRpb25UZXh0TW9kZWxQYXJ0Iiwib25EaWRDaGFuZ2VDb250ZW50IiwibGlzdGVuZXIiLCJfZXZlbnRFbWl0dGVyIiwic2xvd0V2ZW50IiwiY29udGVudENoYW5nZWRFdmVudCIsIm9uRGlkQ2hhbmdlQ29udGVudE9ySW5qZWN0ZWRUZXh0IiwiZmFzdEV2ZW50IiwiX29uRGlkQ2hhbmdlSW5qZWN0ZWRUZXh0IiwiX19pc0Rpc3Bvc2luZyIsIl9icmFja2V0UGFpcnMiLCJfZ3VpZGVzVGV4dE1vZGVsUGFydCIsImxhbmd1YWdlSWRPclNlbGVjdGlvbiIsImNyZWF0aW9uT3B0aW9ucyIsImFzc29jaWF0ZWRSZXNvdXJjZSIsImluc3RhbnRpYXRpb25TZXJ2aWNlIiwiX29uV2lsbERpc3Bvc2UiLCJvbldpbGxEaXNwb3NlIiwiX29uRGlkQ2hhbmdlRGVjb3JhdGlvbnMiLCJEaWRDaGFuZ2VEZWNvcmF0aW9uc0VtaXR0ZXIiLCJhZmZlY3RlZEluamVjdGVkVGV4dExpbmVzIiwiaGFuZGxlQmVmb3JlRmlyZURlY29yYXRpb25zQ2hhbmdlZEV2ZW50Iiwib25EaWRDaGFuZ2VEZWNvcmF0aW9ucyIsIl9vbkRpZENoYW5nZU9wdGlvbnMiLCJvbkRpZENoYW5nZU9wdGlvbnMiLCJfb25EaWRDaGFuZ2VBdHRhY2hlZCIsIm9uRGlkQ2hhbmdlQXR0YWNoZWQiLCJEaWRDaGFuZ2VDb250ZW50RW1pdHRlciIsIl9sYW5ndWFnZVNlbGVjdGlvbkxpc3RlbmVyIiwiX2RlbHRhRGVjb3JhdGlvbkNhbGxDbnQiLCJfYXNzb2NpYXRlZFJlc291cmNlIiwicGFyc2UiLCJfYXR0YWNoZWRFZGl0b3JDb3VudCIsIl9idWZmZXJEaXNwb3NhYmxlIiwiX29wdGlvbnMiLCJfc2V0TGFuZ3VhZ2UiLCJfZGVjb3JhdGlvblByb3ZpZGVyIiwiY3JlYXRlSW5zdGFuY2UiLCJidWZmZXJMaW5lQ291bnQiLCJidWZmZXJUZXh0TGVuZ3RoIiwiX2lzVG9vTGFyZ2VGb3JUb2tlbml6YXRpb24iLCJfaXNUb29MYXJnZUZvckhlYXBPcGVyYXRpb24iLCJfaXNUb29MYXJnZUZvclN5bmNpbmciLCJfdmVyc2lvbklkIiwiX2FsdGVybmF0aXZlVmVyc2lvbklkIiwiX2luaXRpYWxVbmRvUmVkb1NuYXBzaG90IiwiX2luc3RhbmNlSWQiLCJfbGFzdERlY29yYXRpb25JZCIsIl9kZWNvcmF0aW9ucyIsIl9kZWNvcmF0aW9uc1RyZWUiLCJEZWNvcmF0aW9uc1RyZWVzIiwiX2NvbW1hbmRNYW5hZ2VyIiwiX2lzVW5kb2luZyIsIl9pc1JlZG9pbmciLCJfdHJpbUF1dG9XaGl0ZXNwYWNlTGluZXMiLCJiZWdpbkRlZmVycmVkRW1pdCIsImVuZERlZmVycmVkRW1pdCIsInJlcXVlc3RSaWNoTGFuZ3VhZ2VGZWF0dXJlcyIsImVtcHR5RGlzcG9zZWRUZXh0QnVmZmVyIiwiTm9uZSIsIl9hc3NlcnROb3REaXNwb3NlZCIsIl9lbWl0Q29udGVudENoYW5nZWRFdmVudCIsInJhd0NoYW5nZSIsInNldFZhbHVlIiwiX3NldFZhbHVlRnJvbVRleHRCdWZmZXIiLCJfY3JlYXRlQ29udGVudENoYW5nZWQyIiwiaXNVbmRvaW5nIiwiaXNSZWRvaW5nIiwiZ2V0VmVyc2lvbklkIiwidGV4dEJ1ZmZlckRpc3Bvc2FibGUiLCJvbGRGdWxsTW9kZWxSYW5nZSIsImdldEZ1bGxNb2RlbFJhbmdlIiwib2xkTW9kZWxWYWx1ZUxlbmd0aCIsIl9pbmNyZWFzZVZlcnNpb25JZCIsIl9vbkJlZm9yZUVPTENoYW5nZSIsIl9vbkFmdGVyRU9MQ2hhbmdlIiwiZW5zdXJlQWxsTm9kZXNIYXZlUmFuZ2VzIiwiYWxsRGVjb3JhdGlvbnMiLCJvbkJlZm9yZUF0dGFjaGVkIiwib25CZWZvcmVEZXRhY2hlZCIsImdldEF0dGFjaGVkRWRpdG9yQ291bnQiLCJpc1Rvb0xhcmdlRm9yU3luY2luZyIsImlzVG9vTGFyZ2VGb3JIZWFwT3BlcmF0aW9uIiwiaXNEaXNwb3NlZCIsImlzRG9taW5hdGVkQnlMb25nTGluZXMiLCJzbWFsbExpbmVDaGFyQ291bnQiLCJsb25nTGluZUNoYXJDb3VudCIsImxpbmVMZW5ndGgiLCJnZXRGb3JtYXR0aW5nT3B0aW9ucyIsInVwZGF0ZU9wdGlvbnMiLCJfbmV3T3B0cyIsIm9yaWdpbmFsSW5kZW50U2l6ZSIsImJyYWNrZXRDb2xvcml6YXRpb25PcHRpb25zIiwibmV3T3B0cyIsImNyZWF0ZUNoYW5nZUV2ZW50IiwicmVtb3ZlVW51c3VhbExpbmVUZXJtaW5hdG9ycyIsIm1hdGNoZXMiLCJmaW5kTWF0Y2hlcyIsInB1c2hFZGl0T3BlcmF0aW9ucyIsImdldEluaXRpYWxVbmRvUmVkb1NuYXBzaG90IiwicmF3UG9zaXRpb24iLCJfdmFsaWRhdGVQb3NpdGlvbiIsInJhd09mZnNldCIsIl9vdmVyd3JpdGVWZXJzaW9uSWQiLCJfb3ZlcndyaXRlQWx0ZXJuYXRpdmVWZXJzaW9uSWQiLCJuZXdBbHRlcm5hdGl2ZVZlcnNpb25JZCIsIl9vdmVyd3JpdGVJbml0aWFsVW5kb1JlZG9TbmFwc2hvdCIsIm5ld0luaXRpYWxVbmRvUmVkb1NuYXBzaG90IiwiZnVsbE1vZGVsUmFuZ2UiLCJmdWxsTW9kZWxWYWx1ZSIsInJhd1JhbmdlIiwiZ2V0RW5kT2ZMaW5lU2VxdWVuY2UiLCJnZXRMaW5lTWluQ29sdW1uIiwiX3ZhbGlkYXRlUmFuZ2VSZWxheGVkTm9BbGxvY2F0aW9ucyIsImluaXRpYWxTdGFydExpbmVOdW1iZXIiLCJpbml0aWFsU3RhcnRDb2x1bW4iLCJpc05hTiIsIm1heENvbHVtbiIsImluaXRpYWxFbmRMaW5lTnVtYmVyIiwiaW5pdGlhbEVuZENvbHVtbiIsIl9pc1ZhbGlkUG9zaXRpb24iLCJ2YWxpZGF0aW9uVHlwZSIsImNoYXJDb2RlQmVmb3JlIiwiX2xpbmVOdW1iZXIiLCJfY29sdW1uIiwiX2lzVmFsaWRSYW5nZSIsImNoYXJDb2RlQmVmb3JlU3RhcnQiLCJjaGFyQ29kZUJlZm9yZUVuZCIsInN0YXJ0SW5zaWRlU3Vycm9nYXRlUGFpciIsImVuZEluc2lkZVN1cnJvZ2F0ZVBhaXIiLCJtb2RpZnlQb3NpdGlvbiIsImNhbmRpZGF0ZSIsInJhd1NlYXJjaFNjb3BlIiwiaXNSZWdleCIsIm1hdGNoQ2FzZSIsInNlYXJjaFJhbmdlcyIsInNlYXJjaFNjb3BlIiwiaXNJUmFuZ2UiLCJkMSIsImQyIiwidW5pcXVlU2VhcmNoUmFuZ2VzIiwibWF0Y2hNYXBwZXIiLCJhcmVJbnRlcnNlY3RpbmciLCJwYXJzZVNlYXJjaFJlcXVlc3QiLCJmaW5kTmV4dE1hdGNoIiwicmF3U2VhcmNoU3RhcnQiLCJzZWFyY2hTdGFydCIsImZpbmRQcmV2aW91c01hdGNoIiwiX3ZhbGlkYXRlRWRpdE9wZXJhdGlvbiIsInJhd09wZXJhdGlvbiIsIl92YWxpZGF0ZUVkaXRPcGVyYXRpb25zIiwiX3B1c2hFZGl0T3BlcmF0aW9ucyIsImluY29taW5nRWRpdHMiLCJlZGl0c0FyZU5lYXJDdXJzb3JzIiwic2VsIiwiZm91bmRFZGl0TmVhclNlbCIsImVkaXRSYW5nZSIsInNlbElzQWJvdmUiLCJzZWxJc0JlbG93IiwidHJpbUxpbmVOdW1iZXIiLCJtYXhMaW5lQ29sdW1uIiwiYWxsb3dUcmltTGluZSIsImVkaXRUZXh0IiwidHJpbVJhbmdlIiwicmVzdWx0aW5nQWx0ZXJuYXRpdmVWZXJzaW9uSWQiLCJyZXN1bHRpbmdTZWxlY3Rpb24iLCJyYW5nZVN0YXJ0IiwiX2FwcGx5VW5kb1JlZG9FZGl0cyIsIm9sZExpbmVDb3VudCIsInJhd0NvbnRlbnRDaGFuZ2VzIiwiZGVsZXRpbmdMaW5lc0NudCIsImluc2VydGluZ0xpbmVzQ250IiwiZWRpdGluZ0xpbmVzQ250IiwiY2hhbmdlTGluZUNvdW50RGVsdGEiLCJjdXJyZW50RWRpdFN0YXJ0TGluZU51bWJlciIsImZpcnN0RWRpdExpbmVOdW1iZXIiLCJsYXN0SW5zZXJ0ZWRMaW5lTnVtYmVyIiwiZGVjb3JhdGlvbnNXaXRoSW5qZWN0ZWRUZXh0SW5FZGl0ZWRSYW5nZSIsImdldEluamVjdGVkVGV4dEluSW50ZXJ2YWwiLCJpbmplY3RlZFRleHRJbkVkaXRlZFJhbmdlIiwiZnJvbURlY29yYXRpb25zIiwiaW5qZWN0ZWRUZXh0SW5FZGl0ZWRSYW5nZVF1ZXVlIiwiZWRpdExpbmVOdW1iZXIiLCJjdXJyZW50RWRpdExpbmVOdW1iZXIiLCJ0YWtlRnJvbUVuZFdoaWxlIiwiZGVjb3JhdGlvbnNJbkN1cnJlbnRMaW5lIiwic3BsaWNlU3RhcnRMaW5lTnVtYmVyIiwic3BsaWNlTGluZU51bWJlciIsImluamVjdGVkVGV4dHMiLCJuZXdMaW5lcyIsInJldmVyc2VFZGl0cyIsImNhblVuZG8iLCJjYW5SZWRvIiwibGluZUNoYW5nZUV2ZW50cyIsIl9nZXRJbmplY3RlZFRleHRJbkxpbmUiLCJjaGFuZ2VEZWNvcmF0aW9ucyIsIl9jaGFuZ2VEZWNvcmF0aW9ucyIsImNoYW5nZUFjY2Vzc29yIiwiYWRkRGVjb3JhdGlvbiIsIl9kZWx0YURlY29yYXRpb25zSW1wbCIsImNoYW5nZURlY29yYXRpb24iLCJfY2hhbmdlRGVjb3JhdGlvbkltcGwiLCJjaGFuZ2VEZWNvcmF0aW9uT3B0aW9ucyIsIl9jaGFuZ2VEZWNvcmF0aW9uT3B0aW9uc0ltcGwiLCJfbm9ybWFsaXplT3B0aW9ucyIsInJlbW92ZURlY29yYXRpb24iLCJkZWx0YURlY29yYXRpb25zIiwib2xkRGVjb3JhdGlvbnMiLCJuZXdEZWNvcmF0aW9ucyIsImNvbnNvbGUiLCJ3YXJuIiwiX2dldFRyYWNrZWRSYW5nZSIsImdldERlY29yYXRpb25SYW5nZSIsIl9zZXRUcmFja2VkUmFuZ2UiLCJuZXdTdGlja2luZXNzIiwiVFJBQ0tFRF9SQU5HRV9PUFRJT05TIiwicmVtb3ZlQWxsRGVjb3JhdGlvbnNXaXRoT3duZXJJZCIsImdldERlY29yYXRpb25PcHRpb25zIiwiZGVjb3JhdGlvbklkIiwiZ2V0Tm9kZVJhbmdlIiwiZ2V0TGluZURlY29yYXRpb25zIiwiZ2V0TGluZXNEZWNvcmF0aW9ucyIsIl9lbmRMaW5lTnVtYmVyIiwiZGVjb3JhdGlvbnMiLCJfZ2V0RGVjb3JhdGlvbnNJblJhbmdlIiwiZ2V0T3ZlcnZpZXdSdWxlckRlY29yYXRpb25zIiwiZ2V0QWxsIiwiZ2V0SW5qZWN0ZWRUZXh0RGVjb3JhdGlvbnMiLCJnZXRBbGxJbmplY3RlZFRleHQiLCJ0IiwiZ2V0QWxsTWFyZ2luRGVjb3JhdGlvbnMiLCJmaWx0ZXJSYW5nZSIsImdldEFsbEluSW50ZXJ2YWwiLCJvbGRSYW5nZSIsInJlY29yZExpbmVBZmZlY3RlZEJ5SW5qZWN0ZWRUZXh0IiwiY2hlY2tBZmZlY3RlZEFuZEZpcmUiLCJub2RlV2FzSW5PdmVydmlld1J1bGVyIiwib3ZlcnZpZXdSdWxlciIsIm5vZGVJc0luT3ZlcnZpZXdSdWxlciIsIm5vZGVSYW5nZSIsIm1vdmVkSW5PdmVydmlld1J1bGVyIiwiY2hhbmdlZFdoZXRoZXJJbmplY3RlZFRleHQiLCJpc09wdGlvbnNJbmplY3RlZFRleHQiLCJpc05vZGVJbmplY3RlZFRleHQiLCJvbGREZWNvcmF0aW9uc0lkcyIsInN1cHByZXNzRXZlbnRzIiwib2xkRGVjb3JhdGlvbnNMZW4iLCJvbGREZWNvcmF0aW9uSW5kZXgiLCJuZXdEZWNvcmF0aW9uc0xlbiIsIm5ld0RlY29yYXRpb25JbmRleCIsImludGVybmFsRGVjb3JhdGlvbklkIiwibmV3RGVjb3JhdGlvbiIsInNldExhbmd1YWdlIiwibm9ybWFsaXplUG9zaXRpb24iLCJhZmZpbml0eSIsImdldExpbmVJbmRlbnRDb2x1bW4iLCJpbmRlbnRPZkxpbmUiLCJpc05vZGVJbk92ZXJ2aWV3UnVsZXIiLCJfZGVjb3JhdGlvbnNUcmVlMCIsIl9kZWNvcmF0aW9uc1RyZWUxIiwiX2luamVjdGVkVGV4dERlY29yYXRpb25zVHJlZSIsImhvc3QiLCJfZW5zdXJlTm9kZXNIYXZlUmFuZ2VzIiwiX2ludGVydmFsU2VhcmNoIiwicjAiLCJyMSIsInIyIiwic2hvd0lmQ29sbGFwc2VkIiwib3ZlcnZpZXdSdWxlck9ubHkiLCJfc2VhcmNoIiwiX3Jlc29sdmVOb2RlIiwiY2xlYW5DbGFzc05hbWUiLCJEZWNvcmF0aW9uT3B0aW9ucyIsImRhcmtDb2xvciIsIk1vZGVsRGVjb3JhdGlvbk92ZXJ2aWV3UnVsZXJPcHRpb25zIiwiX3Jlc29sdmVkQ29sb3IiLCJDZW50ZXIiLCJfcmVzb2x2ZUNvbG9yIiwiaW52YWxpZGF0ZUNhY2hlZENvbG9yIiwiTW9kZWxEZWNvcmF0aW9uR2x5cGhNYXJnaW5PcHRpb25zIiwicGVyc2lzdExhbmUiLCJNb2RlbERlY29yYXRpb25NaW5pbWFwT3B0aW9ucyIsInNlY3Rpb25IZWFkZXJTdHlsZSIsInNlY3Rpb25IZWFkZXJUZXh0IiwiZnJvbUhleCIsIk1vZGVsRGVjb3JhdGlvbkluamVjdGVkVGV4dE9wdGlvbnMiLCJpbmxpbmVDbGFzc05hbWVBZmZlY3RzTGV0dGVyU3BhY2luZyIsImF0dGFjaGVkRGF0YSIsImN1cnNvclN0b3BzIiwiTW9kZWxEZWNvcmF0aW9uT3B0aW9ucyIsImNyZWF0ZUR5bmFtaWMiLCJibG9ja0NsYXNzTmFtZSIsImJsb2NrRG9lc05vdENvbGxhcHNlIiwiYmxvY2tJc0FmdGVyRW5kIiwiYmxvY2tQYWRkaW5nIiwiekluZGV4Iiwic2hvdWxkRmlsbExpbmVPbkxpbmVCcmVhayIsImhvdmVyTWVzc2FnZSIsImdseXBoTWFyZ2luSG92ZXJNZXNzYWdlIiwibGluZU51bWJlckhvdmVyTWVzc2FnZSIsImlzV2hvbGVMaW5lIiwibWluaW1hcCIsImdseXBoTWFyZ2luIiwibGluZXNEZWNvcmF0aW9uc0NsYXNzTmFtZSIsImxpbmVOdW1iZXJDbGFzc05hbWUiLCJsaW5lc0RlY29yYXRpb25zVG9vbHRpcCIsImZpcnN0TGluZURlY29yYXRpb25DbGFzc05hbWUiLCJtYXJnaW5DbGFzc05hbWUiLCJiZWZvcmVDb250ZW50Q2xhc3NOYW1lIiwiYWZ0ZXJDb250ZW50Q2xhc3NOYW1lIiwiaGlkZUluQ29tbWVudFRva2VucyIsImhpZGVJblN0cmluZ1Rva2VucyIsIkVNUFRZIiwiaGFuZGxlQmVmb3JlRmlyZSIsIl9hZmZlY3RlZEluamVjdGVkVGV4dExpbmVzIiwiX2RlZmVycmVkQ250IiwiX3Nob3VsZEZpcmVEZWZlcnJlZCIsIl9hZmZlY3RzTWluaW1hcCIsIl9hZmZlY3RzT3ZlcnZpZXdSdWxlciIsIl9hZmZlY3RzR2x5cGhNYXJnaW4iLCJfYWZmZWN0c0xpbmVOdW1iZXIiLCJkb0ZpcmUiLCJ0cnlGaXJlIiwiYWZmZWN0c01pbmltYXAiLCJhZmZlY3RzT3ZlcnZpZXdSdWxlciIsImFmZmVjdHNHbHlwaE1hcmdpbiIsImFmZmVjdHNMaW5lTnVtYmVyIiwiX2Zhc3RFbWl0dGVyIiwiX3Nsb3dFbWl0dGVyIiwiX2RlZmVycmVkRXZlbnQiLCJyYXdDb250ZW50Q2hhbmdlZEV2ZW50IiwiVGV4dE1vZGVsUGFydCIsImNvbXB1dGVJbmRlbnRMZXZlbCIsImNoQ29kZSIsIk1vZGVsU2VydmljZV8xIiwiTW9kZWxEYXRhIiwiX21vZGVsRXZlbnRMaXN0ZW5lcnMiLCJERUZBVUxUX0VPTCIsIkRpc3Bvc2VkTW9kZWxJbmZvIiwiaW5pdGlhbFVuZG9SZWRvU25hcHNob3QiLCJ0aW1lIiwic2hhcmVzVW5kb1JlZG9TdGFjayIsInNoYTEiLCJNb2RlbFNlcnZpY2UiLCJNQVhfTUVNT1JZX0ZPUl9DTE9TRURfRklMRVNfVU5ET19TVEFDSyIsIl9jb25maWd1cmF0aW9uU2VydmljZSIsIl9yZXNvdXJjZVByb3BlcnRpZXNTZXJ2aWNlIiwiX2luc3RhbnRpYXRpb25TZXJ2aWNlIiwiX29uTW9kZWxBZGRlZCIsIm9uTW9kZWxBZGRlZCIsIl9vbk1vZGVsUmVtb3ZlZCIsIm9uTW9kZWxSZW1vdmVkIiwiX29uTW9kZWxNb2RlQ2hhbmdlZCIsIm9uTW9kZWxMYW5ndWFnZUNoYW5nZWQiLCJfbW9kZWxDcmVhdGlvbk9wdGlvbnNCeUxhbmd1YWdlQW5kUmVzb3VyY2UiLCJfbW9kZWxzIiwiX2Rpc3Bvc2VkTW9kZWxzIiwiX2Rpc3Bvc2VkTW9kZWxzSGVhcFNpemUiLCJfdXBkYXRlTW9kZWxPcHRpb25zIiwiX3JlYWRNb2RlbE9wdGlvbnMiLCJlZGl0b3IiLCJwYXJzZWRUYWJTaXplIiwicGFyc2VJbnQiLCJwYXJzZWRJbmRlbnRTaXplIiwibmV3RGVmYXVsdEVPTCIsImJyYWNrZXRQYWlyQ29sb3JpemF0aW9uIiwibGFuZ3VhZ2UiLCJfc2hvdWxkUmVzdG9yZVVuZG9TdGFjayIsImdldENyZWF0aW9uT3B0aW9ucyIsIm9sZE9wdGlvbnNCeUxhbmd1YWdlQW5kUmVzb3VyY2UiLCJtb2RlbElkIiwibW9kZWxEYXRhIiwiYWZmZWN0c0NvbmZpZ3VyYXRpb24iLCJvbGRPcHRpb25zIiwibmV3T3B0aW9ucyIsIl9zZXRNb2RlbE9wdGlvbnNGb3JNb2RlbCIsImN1cnJlbnRPcHRpb25zIiwiX2luc2VydERpc3Bvc2VkTW9kZWwiLCJkaXNwb3NlZE1vZGVsRGF0YSIsIl9yZW1vdmVEaXNwb3NlZE1vZGVsIiwiX2Vuc3VyZURpc3Bvc2VkTW9kZWxzSGVhcFNpemUiLCJtYXhNb2RlbHNIZWFwU2l6ZSIsImRpc3Bvc2VkTW9kZWxzIiwiZGlzcG9zZWRNb2RlbCIsInJlc3RvcmVTbmFwc2hvdCIsIl9jcmVhdGVNb2RlbERhdGEiLCJlbGVtZW50cyIsImdldEVsZW1lbnRzIiwic2hhMUNvbXB1dGVyIiwiX2dldFNIQTFDb21wdXRlciIsInNoYTFJc0VxdWFsIiwiY2FuQ29tcHV0ZVNIQTEiLCJjb21wdXRlU0hBMSIsInBhc3QiLCJmdXR1cmUiLCJzZXRFbGVtZW50c1ZhbGlkRmxhZyIsImNyZWF0ZU1vZGVsIiwibGFuZ3VhZ2VTZWxlY3Rpb24iLCJnZXRNb2RlbHMiLCJnZXRNb2RlbCIsIl9zY2hlbWFTaG91bGRNYWludGFpblVuZG9SZWRvRWxlbWVudHMiLCJzY2hlbWUiLCJmaWxlIiwidnNjb2RlUmVtb3RlIiwidnNjb2RlVXNlckRhdGEiLCJ2c2NvZGVOb3RlYm9va0NlbGwiLCJnZXRVcmlDb21wYXJpc29uS2V5IiwibWFpbnRhaW5VbmRvUmVkb1N0YWNrIiwibWF4TWVtb3J5Iiwib2xkTGFuZ3VhZ2VJZCIsIm5ld0xhbmd1YWdlSWQiLCJEZWZhdWx0TW9kZWxTSEExQ29tcHV0ZXIiLCJJVGV4dFJlc291cmNlUHJvcGVydGllc1NlcnZpY2UiLCJNQVhfTU9ERUxfU0laRSIsInNoYUNvbXB1dGVyIiwiZGlnZXN0IiwiSVRleHRSZXNvdXJjZUNvbmZpZ3VyYXRpb25TZXJ2aWNlIiwiTW9kZWxSYXdGbHVzaCIsImNoYW5nZVR5cGUiLCJMaW5lSW5qZWN0ZWRUZXh0IiwiYXBwbHlJbmplY3RlZFRleHQiLCJsYXN0T3JpZ2luYWxPZmZzZXQiLCJpbmplY3RlZFRleHQiLCJkZWNvcmF0aW9uIiwiTW9kZWxSYXdMaW5lQ2hhbmdlZCIsImRldGFpbCIsIk1vZGVsUmF3TGluZXNEZWxldGVkIiwiTW9kZWxSYXdMaW5lc0luc2VydGVkIiwiTW9kZWxSYXdFT0xDaGFuZ2VkIiwiTW9kZWxSYXdDb250ZW50Q2hhbmdlZEV2ZW50IiwiY29udGFpbnNFdmVudCIsIk1vZGVsSW5qZWN0ZWRUZXh0Q2hhbmdlZEV2ZW50IiwiSW50ZXJuYWxNb2RlbENvbnRlbnRDaGFuZ2VFdmVudCIsIl9tZXJnZUNoYW5nZUV2ZW50cyIsIkhvcml6b250YWxHdWlkZXNTdGF0ZSIsIkluZGVudEd1aWRlIiwiaG9yaXpvbnRhbExpbmUiLCJmb3JXcmFwcGVkTGluZXNBZnRlckNvbHVtbiIsImZvcldyYXBwZWRMaW5lc0JlZm9yZU9yQXRDb2x1bW4iLCJJbmRlbnRHdWlkZUhvcml6b250YWxMaW5lIiwidG9wIiwiTGluZVRva2VucyIsImRlZmF1bHRUb2tlbk1ldGFkYXRhIiwiZGVjb2RlciIsImRlZmF1bHRNZXRhZGF0YSIsImNyZWF0ZUZyb21UZXh0QW5kTWV0YWRhdGEiLCJmdWxsVGV4dCIsIl9saW5lVG9rZW5zQnJhbmQiLCJfdG9rZW5zQ291bnQiLCJfdGV4dCIsInNsaWNlZEVxdWFscyIsInNsaWNlRnJvbVRva2VuSW5kZXgiLCJzbGljZVRva2VuQ291bnQiLCJ0byIsImRlY29kZUxhbmd1YWdlSWQiLCJnZXRGb3JlZ3JvdW5kIiwiZ2V0Q2xhc3NOYW1lIiwiZ2V0Q2xhc3NOYW1lRnJvbU1ldGFkYXRhIiwiZ2V0SW5saW5lU3R5bGUiLCJjb2xvck1hcCIsImdldElubGluZVN0eWxlRnJvbU1ldGFkYXRhIiwiZ2V0UHJlc2VudGF0aW9uIiwiZ2V0UHJlc2VudGF0aW9uRnJvbU1ldGFkYXRhIiwiaW5mbGF0ZSIsIlNsaWNlTGluZVRva2VucyIsImRlc2lyZWRJbmRleCIsIndpdGhJbnNlcnRlZCIsImluc2VydFRva2VucyIsIm5leHRPcmlnaW5hbFRva2VuSWR4IiwibmV4dEluc2VydFRva2VuSWR4IiwibmV3VG9rZW5zIiwibmV4dE9yaWdpbmFsVG9rZW5FbmRPZmZzZXQiLCJuZXh0SW5zZXJ0VG9rZW4iLCJnZXRUb2tlblRleHQiLCJfc3RhcnRPZmZzZXQiLCJfZW5kT2Zmc2V0IiwiX2RlbHRhT2Zmc2V0IiwiYWRqdXN0ZWRUb2tlbkluZGV4IiwiZ2V0U3RhbmRhcmRUb2tlblR5cGVBdFBvc2l0aW9uIiwiU3luY0Rlc2NyaXB0b3IiLCJjdG9yIiwic3RhdGljQXJndW1lbnRzIiwic3VwcG9ydHNEZWxheWVkSW5zdGFudGlhdGlvbiIsInJlZ2lzdGVyU2luZ2xldG9uIiwiY3Rvck9yRGVzY3JpcHRvciIsImdldFNpbmdsZXRvblNlcnZpY2VEZXNjcmlwdG9ycyIsIklVbmRvUmVkb1NlcnZpY2UiLCJSZXNvdXJjZUVkaXRTdGFja1NuYXBzaG90IiwiVW5kb1JlZG9Hcm91cCIsIl9JRCIsIm5leHRPcmRlciIsIlVuZG9SZWRvU291cmNlIl0sInNvdXJjZVJvb3QiOiIifQ==