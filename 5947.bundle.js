"use strict";(self.webpackChunkpylinac_yaml_editor=self.webpackChunkpylinac_yaml_editor||[]).push([[5947],{8518:(e,t,r)=>{r.d(t,{No:()=>l,TH:()=>s,Zn:()=>c,_1:()=>g,kb:()=>u});var i=r(8019),n=r(3339),o=r(6844);function a(e){return 47===e||92===e}function s(e){return e.replace(/[\\/]/g,i.SA.sep)}function u(e){return-1===e.indexOf("/")&&(e=s(e)),/^[a-zA-Z]:(\/|$)/.test(e)&&(e="/"+e),e}function c(e,t=i.SA.sep){if(!e)return"";const r=e.length,n=e.charCodeAt(0);if(a(n)){if(a(e.charCodeAt(1))&&!a(e.charCodeAt(2))){let i=3;const n=i;for(;i<r&&!a(e.charCodeAt(i));i++);if(n!==i&&!a(e.charCodeAt(i+1)))for(i+=1;i<r;i++)if(a(e.charCodeAt(i)))return e.slice(0,i+1).replace(/[\\/]/g,t)}return t}if(h(n)&&58===e.charCodeAt(1))return a(e.charCodeAt(2))?e.slice(0,2)+t:e.slice(0,2);let o=e.indexOf("://");if(-1!==o)for(o+=3;o<r;o++)if(a(e.charCodeAt(o)))return e.slice(0,o+1);return""}function g(e,t,r,n=i.Vn){if(e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(r){if(!(0,o.ns)(e,t))return!1;if(t.length===e.length)return!0;let r=t.length;return t.charAt(t.length-1)===n&&r--,e.charAt(r)===n}return t.charAt(t.length-1)!==n&&(t+=n),0===e.indexOf(t)}function h(e){return e>=65&&e<=90||e>=97&&e<=122}function l(e,t=n.uF){return!!t&&h(e.charCodeAt(0))&&58===e.charCodeAt(1)}},3720:(e,t,r)=>{r.d(t,{K:()=>i});const i=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},2467:(e,t,r)=>{r.d(t,{B6:()=>S,Fd:()=>y,LC:()=>p,P8:()=>f,Pi:()=>d,er:()=>h,iZ:()=>m,n4:()=>l,o1:()=>b,pD:()=>v,su:()=>c,uJ:()=>C});var i=r(8518),n=r(3072),o=r(8019),a=r(3339),s=r(6844),u=r(7264);function c(e){return(0,u.I)(e,!0)}class g{constructor(e){this._ignorePathCasing=e}compare(e,t,r=!1){return e===t?0:(0,s.UD)(this.getComparisonKey(e,r),this.getComparisonKey(t,r))}isEqual(e,t,r=!1){return e===t||!(!e||!t)&&this.getComparisonKey(e,r)===this.getComparisonKey(t,r)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t,r=!1){if(e.scheme===t.scheme){if(e.scheme===n.ny.file)return i._1(c(e),c(t),this._ignorePathCasing(e))&&e.query===t.query&&(r||e.fragment===t.fragment);if(D(e.authority,t.authority))return i._1(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(r||e.fragment===t.fragment)}return!1}joinPath(e,...t){return u.r.joinPath(e,...t)}basenameOrAuthority(e){return f(e)||e.authority}basename(e){return o.SA.basename(e.path)}extname(e){return o.SA.extname(e.path)}dirname(e){if(0===e.path.length)return e;let t;return e.scheme===n.ny.file?t=u.r.file(o.pD(c(e))).path:(t=o.SA.dirname(e.path),e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return t=e.scheme===n.ny.file?u.r.file(o.S8(c(e))).path:o.SA.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!D(e.authority,t.authority))return;if(e.scheme===n.ny.file){const r=o.V8(c(e),c(t));return a.uF?i.TH(r):r}let r=e.path||"/";const s=t.path||"/";if(this._ignorePathCasing(e)){let e=0;for(const t=Math.min(r.length,s.length);e<t&&(r.charCodeAt(e)===s.charCodeAt(e)||r.charAt(e).toLowerCase()===s.charAt(e).toLowerCase());e++);r=s.substr(0,e)+r.substr(e)}return o.SA.relative(r,s)}resolvePath(e,t){if(e.scheme===n.ny.file){const r=u.r.file(o.hd(c(e),t));return e.with({authority:r.authority,path:r.path})}return t=i.kb(t),e.with({path:o.SA.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&"/"===e.path[0]}isEqualAuthority(e,t){return e===t||void 0!==e&&void 0!==t&&(0,s.Q_)(e,t)}hasTrailingPathSeparator(e,t=o.Vn){if(e.scheme===n.ny.file){const r=c(e);return r.length>i.Zn(r).length&&r[r.length-1]===t}{const t=e.path;return t.length>1&&47===t.charCodeAt(t.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=o.Vn){return P(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=o.Vn){let r=!1;if(e.scheme===n.ny.file){const n=c(e);r=void 0!==n&&n.length===i.Zn(n).length&&n[n.length-1]===t}else{t="/";const i=e.path;r=1===i.length&&47===i.charCodeAt(i.length-1)}return r||P(e,t)?e:e.with({path:e.path+"/"})}}const h=new g((()=>!1)),l=(new g((e=>e.scheme!==n.ny.file||!a.j9)),new g((e=>!0)),h.isEqual.bind(h)),d=(h.isEqualOrParent.bind(h),h.getComparisonKey.bind(h),h.basenameOrAuthority.bind(h)),f=h.basename.bind(h),p=h.extname.bind(h),v=h.dirname.bind(h),C=h.joinPath.bind(h),y=h.normalizePath.bind(h),m=h.relativePath.bind(h),b=h.resolvePath.bind(h),D=(h.isAbsolutePath.bind(h),h.isEqualAuthority.bind(h)),P=h.hasTrailingPathSeparator.bind(h);var S;h.removeTrailingPathSeparator.bind(h),h.addTrailingPathSeparator.bind(h),function(e){e.META_DATA_LABEL="label",e.META_DATA_DESCRIPTION="description",e.META_DATA_SIZE="size",e.META_DATA_MIME="mime",e.parseMetaData=function(t){const r=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach((e=>{const[t,i]=e.split(":");t&&i&&r.set(t,i)}));const i=t.path.substring(0,t.path.indexOf(";"));return i&&r.set(e.META_DATA_MIME,i),r}}(S||(S={}))},4957:(e,t,r)=>{r.d(t,{W6:()=>u,vH:()=>c});var i=r(9746),n=r(2106),o=r(7167),a=r(3720),s=r(7142);const u=new class{constructor(){this._onDidChangeLanguages=new n.vl,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,r=this._languages.length;t<r;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return this._languages}};o.O.add("editor.modesRegistry",u);const c="plaintext";u.registerLanguage({id:c,extensions:[".txt"],aliases:[i.kg("plainText.alias","Plain Text"),"text"],mimetypes:[a.K.text]}),o.O.as(s.Fd.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},5753:(e,t,r)=>{r.d(t,{Mo:()=>c,ad:()=>n,gD:()=>u,iB:()=>a,kW:()=>o,pG:()=>i});const i=(0,r(2399).u1)("configurationService");function n(e,t){const r=Object.create(null);for(const i in e)o(r,i,e[i],t);return r}function o(e,t,r,i){const n=t.split("."),o=n.pop();let a=e;for(let e=0;e<n.length;e++){const r=n[e];let o=a[r];switch(typeof o){case"undefined":o=a[r]=Object.create(null);break;case"object":if(null===o)return void i(`Ignoring ${t} as ${n.slice(0,e+1).join(".")} is null`);break;default:return void i(`Ignoring ${t} as ${n.slice(0,e+1).join(".")} is ${JSON.stringify(o)}`)}a=o}if("object"==typeof a&&null!==a)try{a[o]=r}catch(e){i(`Ignoring ${t} as ${n.join(".")} is ${JSON.stringify(a)}`)}else i(`Ignoring ${t} as ${n.join(".")} is ${JSON.stringify(a)}`)}function a(e,t){s(e,t.split("."))}function s(e,t){const r=t.shift();if(0!==t.length){if(-1!==Object.keys(e).indexOf(r)){const i=e[r];"object"!=typeof i||Array.isArray(i)||(s(i,t),0===Object.keys(i).length&&delete e[r])}}else delete e[r]}function u(e,t,r){const i=function(e,t){let r=e;for(const e of t){if("object"!=typeof r||null===r)return;r=r[e]}return r}(e,t.split("."));return void 0===i?r:i}function c(e){return e.replace(/[\[\]]/g,"")}},7142:(e,t,r)=>{r.d(t,{Fd:()=>g,Gv:()=>S,rC:()=>P});var i=r(3338),n=r(2106),o=r(9359),a=r(9746),s=r(5753),u=r(1460),c=r(7167);const g={Configuration:"base.contributions.configuration"},h={properties:{},patternProperties:{}},l={properties:{},patternProperties:{}},d={properties:{},patternProperties:{}},f={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},v={properties:{},patternProperties:{}},C="vscode://schemas/settings/resourceLanguage",y=c.O.as(u.F.JSONContribution),m="\\[([^\\]]+)\\]",b=new RegExp(m,"g"),D=`^(${m})+$`,P=new RegExp(D);function S(e){const t=[];if(P.test(e)){let r=b.exec(e);for(;r?.length;){const i=r[1].trim();i&&t.push(i),r=b.exec(e)}}return(0,i.dM)(t)}const O=new class{constructor(){this.registeredConfigurationDefaults=[],this.overrideIdentifiers=new Set,this._onDidSchemaChange=new n.vl,this._onDidUpdateConfiguration=new n.vl,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:a.kg("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},y.registerSchema(C,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const r=new Set;this.doRegisterConfigurations(e,t,r),y.registerSchema(C,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r})}registerDefaultConfigurations(e){const t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);const r=[];for(const{overrides:i,source:n}of e)for(const e in i){t.add(e);const o=this.configurationDefaultsOverrides.get(e)??this.configurationDefaultsOverrides.set(e,{configurationDefaultOverrides:[]}).get(e),a=i[e];if(o.configurationDefaultOverrides.push({value:a,source:n}),P.test(e)){const t=this.mergeDefaultConfigurationsForOverrideIdentifier(e,a,n,o.configurationDefaultOverrideValue);if(!t)continue;o.configurationDefaultOverrideValue=t,this.updateDefaultOverrideProperty(e,t,n),r.push(...S(e))}else{const t=this.mergeDefaultConfigurationsForConfigurationProperty(e,a,n,o.configurationDefaultOverrideValue);if(!t)continue;o.configurationDefaultOverrideValue=t;const r=this.configurationProperties[e];r&&(this.updatePropertyDefaultValue(e,r),this.updateSchema(e,r))}}this.doRegisterOverrideIdentifiers(r)}updateDefaultOverrideProperty(e,t,r){const i={type:"object",default:t.value,description:a.kg("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",(0,s.Mo)(e)),$ref:C,defaultDefaultValue:t.value,source:r,defaultValueSource:r};this.configurationProperties[e]=i,this.defaultLanguageConfigurationOverridesNode.properties[e]=i}mergeDefaultConfigurationsForOverrideIdentifier(e,t,r,i){const n=i?.value||{},a=i?.source??new Map;if(a instanceof Map){for(const e of Object.keys(t)){const i=t[e];if(o.Gv(i)&&(o.b0(n[e])||o.Gv(n[e]))){if(n[e]={...n[e]??{},...i},r)for(const t in i)a.set(`${e}.${t}`,r)}else n[e]=i,r?a.set(e,r):a.delete(e)}return{value:n,source:a}}console.error("objectConfigurationSources is not a Map")}mergeDefaultConfigurationsForConfigurationProperty(e,t,r,i){const n=this.configurationProperties[e],a=i?.value??n?.defaultDefaultValue;let s=r;if(o.Gv(t)&&(void 0!==n&&"object"===n.type||void 0===n&&(o.b0(a)||o.Gv(a)))){if(s=i?.source??new Map,!(s instanceof Map))return void console.error("defaultValueSource is not a Map");for(const i in t)r&&s.set(`${e}.${i}`,r);t={...o.Gv(a)?a:{},...t}}return{value:t,source:s}}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,r){e.forEach((e=>{this.validateAndRegisterProperties(e,t,e.extensionInfo,e.restrictedProperties,void 0,r),this.configurationContributors.push(e),this.registerJSONConfiguration(e)}))}validateAndRegisterProperties(e,t=!0,r,i,n=3,a){n=o.z(e.scope)?n:e.scope;const s=e.properties;if(s)for(const e in s){const u=s[e];t&&A(e,u)?delete s[e]:(u.source=r,u.defaultDefaultValue=s[e].default,this.updatePropertyDefaultValue(e,u),P.test(e)?u.scope=void 0:(u.scope=o.z(u.scope)?n:u.scope,u.restricted=o.z(u.restricted)?!!i?.includes(e):u.restricted),!s[e].hasOwnProperty("included")||s[e].included?(this.configurationProperties[e]=s[e],s[e].policy?.name&&this.policyConfigurations.set(s[e].policy.name,e),!s[e].deprecationMessage&&s[e].markdownDeprecationMessage&&(s[e].deprecationMessage=s[e].markdownDeprecationMessage),a.add(e)):(this.excludedConfigurationProperties[e]=s[e],delete s[e]))}const u=e.allOf;if(u)for(const e of u)this.validateAndRegisterProperties(e,t,r,i,n,a)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){const t=e=>{const r=e.properties;if(r)for(const e in r)this.updateSchema(e,r[e]);const i=e.allOf;i?.forEach(t)};t(e)}updateSchema(e,t){switch(h.properties[e]=t,t.scope){case 1:l.properties[e]=t;break;case 2:d.properties[e]=t;break;case 6:f.properties[e]=t;break;case 3:p.properties[e]=t;break;case 4:v.properties[e]=t;break;case 5:v.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,r={type:"object",description:a.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:a.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:C};this.updatePropertyDefaultValue(t,r),h.properties[t]=r,l.properties[t]=r,d.properties[t]=r,f.properties[t]=r,p.properties[t]=r,v.properties[t]=r}}registerOverridePropertyPatternKey(){const e={type:"object",description:a.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:a.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:C};h.patternProperties[D]=e,l.patternProperties[D]=e,d.patternProperties[D]=e,f.patternProperties[D]=e,p.patternProperties[D]=e,v.patternProperties[D]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const r=this.configurationDefaultsOverrides.get(e)?.configurationDefaultOverrideValue;let i,n;!r||t.disallowConfigurationDefault&&r.source||(i=r.value,n=r.source),o.b0(i)&&(i=t.defaultDefaultValue,n=void 0),o.b0(i)&&(i=function(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=i,t.defaultValueSource=n}};function A(e,t){return e.trim()?P.test(e)?a.kg("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==O.getConfigurationProperties()[e]?a.kg("config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):t.policy?.name&&void 0!==O.getPolicyConfigurations().get(t.policy?.name)?a.kg("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",e,t.policy?.name,O.getPolicyConfigurations().get(t.policy?.name)):null:a.kg("config.property.empty","Cannot register an empty property")}c.O.add(g.Configuration,O)},2399:(e,t,r)=>{var i;r.d(t,{_$:()=>i,_Y:()=>n,u1:()=>o}),function(e){e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=function(t){return t[e.DI_DEPENDENCIES]||[]}}(i||(i={}));const n=o("instantiationService");function o(e){if(i.serviceIds.has(e))return i.serviceIds.get(e);const t=function(e,r,n){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function(e,t,r){t[i.DI_TARGET]===t?t[i.DI_DEPENDENCIES].push({id:e,index:r}):(t[i.DI_DEPENDENCIES]=[{id:e,index:r}],t[i.DI_TARGET]=t)}(t,e,n)};return t.toString=()=>e,i.serviceIds.set(e,t),t}},1460:(e,t,r)=>{r.d(t,{F:()=>o});var i=r(2106),n=r(7167);const o={JSONContribution:"base.contributions.json"},a=new class{constructor(){this._onDidChangeSchema=new i.vl,this.schemasById={}}registerSchema(e,t){var r;this.schemasById[(r=e,r.length>0&&"#"===r.charAt(r.length-1)?r.substring(0,r.length-1):r)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}};n.O.add(o.JSONContribution,a)},7167:(e,t,r)=>{r.d(t,{O:()=>o});var i=r(7110),n=r(9359);const o=new class{constructor(){this.data=new Map}add(e,t){i.ok(n.Kg(e)),i.ok(n.Gv(t)),i.ok(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVLEtBQWUrSyxJQUN6QixNQUFXdFEsS0FBS3NRLEtBQUtaLElBQUluSyxHQUFLLDhDQUM5QnZGLEtBQUtzUSxLQUFLL0wsSUFBSWdCLEVBQUkrSyxFQUN0QixDQUNBLEVBQUEzSyxDQUFHSixHQUNDLE9BQU92RixLQUFLc1EsS0FBSzlFLElBQUlqRyxJQUFPLElBQ2hDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL2V4dHBhdGguanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9taW1lLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vcmVzb3VyY2VzLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9sYW5ndWFnZXMvbW9kZXNSZWdpc3RyeS5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL3BsYXRmb3JtL2NvbmZpZ3VyYXRpb24vY29tbW9uL2NvbmZpZ3VyYXRpb24uanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9wbGF0Zm9ybS9jb25maWd1cmF0aW9uL2NvbW1vbi9jb25maWd1cmF0aW9uUmVnaXN0cnkuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9wbGF0Zm9ybS9pbnN0YW50aWF0aW9uL2NvbW1vbi9pbnN0YW50aWF0aW9uLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvcGxhdGZvcm0vanNvbnNjaGVtYXMvY29tbW9uL2pzb25Db250cmlidXRpb25SZWdpc3RyeS5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL3BsYXRmb3JtL3JlZ2lzdHJ5L2NvbW1vbi9wbGF0Zm9ybS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IHBvc2l4LCBzZXAgfSBmcm9tICcuL3BhdGguanMnO1xuaW1wb3J0IHsgaXNXaW5kb3dzIH0gZnJvbSAnLi9wbGF0Zm9ybS5qcyc7XG5pbXBvcnQgeyBzdGFydHNXaXRoSWdub3JlQ2FzZSB9IGZyb20gJy4vc3RyaW5ncy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gaXNQYXRoU2VwYXJhdG9yKGNvZGUpIHtcbiAgICByZXR1cm4gY29kZSA9PT0gNDcgLyogQ2hhckNvZGUuU2xhc2ggKi8gfHwgY29kZSA9PT0gOTIgLyogQ2hhckNvZGUuQmFja3NsYXNoICovO1xufVxuLyoqXG4gKiBUYWtlcyBhIFdpbmRvd3MgT1MgcGF0aCBhbmQgY2hhbmdlcyBiYWNrd2FyZCBzbGFzaGVzIHRvIGZvcndhcmQgc2xhc2hlcy5cbiAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgZG9uZSBmb3IgT1MgcGF0aHMgZnJvbSBXaW5kb3dzIChvciB1c2VyIHByb3ZpZGVkIHBhdGhzIHBvdGVudGlhbGx5IGZyb20gV2luZG93cykuXG4gKiBVc2luZyBpdCBvbiBhIExpbnV4IG9yIE1heE9TIHBhdGggbWlnaHQgY2hhbmdlIGl0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TbGFzaGVzKG9zUGF0aCkge1xuICAgIHJldHVybiBvc1BhdGgucmVwbGFjZSgvW1xcXFwvXS9nLCBwb3NpeC5zZXApO1xufVxuLyoqXG4gKiBUYWtlcyBhIFdpbmRvd3MgT1MgcGF0aCAodXNpbmcgYmFja3dhcmQgb3IgZm9yd2FyZCBzbGFzaGVzKSBhbmQgdHVybnMgaXQgaW50byBhIHBvc2l4IHBhdGg6XG4gKiAtIHR1cm5zIGJhY2t3YXJkIHNsYXNoZXMgaW50byBmb3J3YXJkIHNsYXNoZXNcbiAqIC0gbWFrZXMgaXQgYWJzb2x1dGUgaWYgaXQgc3RhcnRzIHdpdGggYSBkcml2ZSBsZXR0ZXJcbiAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgZG9uZSBmb3IgT1MgcGF0aHMgZnJvbSBXaW5kb3dzIChvciB1c2VyIHByb3ZpZGVkIHBhdGhzIHBvdGVudGlhbGx5IGZyb20gV2luZG93cykuXG4gKiBVc2luZyBpdCBvbiBhIExpbnV4IG9yIE1heE9TIHBhdGggbWlnaHQgY2hhbmdlIGl0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Qb3NpeFBhdGgob3NQYXRoKSB7XG4gICAgaWYgKG9zUGF0aC5pbmRleE9mKCcvJykgPT09IC0xKSB7XG4gICAgICAgIG9zUGF0aCA9IHRvU2xhc2hlcyhvc1BhdGgpO1xuICAgIH1cbiAgICBpZiAoL15bYS16QS1aXTooXFwvfCQpLy50ZXN0KG9zUGF0aCkpIHsgLy8gc3RhcnRzIHdpdGggYSBkcml2ZSBsZXR0ZXJcbiAgICAgICAgb3NQYXRoID0gJy8nICsgb3NQYXRoO1xuICAgIH1cbiAgICByZXR1cm4gb3NQYXRoO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgX3Jvb3RfIHRoaXMgcGF0aCwgbGlrZSBgZ2V0Um9vdCgnYzpcXGZpbGVzJykgPT09IGM6XFxgLFxuICogYGdldFJvb3QoJ2ZpbGVzOi8vL2ZpbGVzL3BhdGgnKSA9PT0gZmlsZXM6Ly8vYCxcbiAqIG9yIGBnZXRSb290KCdcXFxcc2VydmVyXFxzaGFyZXNcXHBhdGgnKSA9PT0gXFxcXHNlcnZlclxcc2hhcmVzXFxgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSb290KHBhdGgsIHNlcCA9IHBvc2l4LnNlcCkge1xuICAgIGlmICghcGF0aCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGNvbnN0IGxlbiA9IHBhdGgubGVuZ3RoO1xuICAgIGNvbnN0IGZpcnN0TGV0dGVyID0gcGF0aC5jaGFyQ29kZUF0KDApO1xuICAgIGlmIChpc1BhdGhTZXBhcmF0b3IoZmlyc3RMZXR0ZXIpKSB7XG4gICAgICAgIGlmIChpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KDEpKSkge1xuICAgICAgICAgICAgLy8gVU5DIGNhbmRpZGF0ZSBcXFxcbG9jYWxob3N0XFxzaGFyZXNcXGRkZFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICBeXl5eXl5eXl5eXl5eXl5eXl5eXG4gICAgICAgICAgICBpZiAoIWlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoMikpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBvcyA9IDM7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBwb3M7XG4gICAgICAgICAgICAgICAgZm9yICg7IHBvcyA8IGxlbjsgcG9zKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQocG9zKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdGFydCAhPT0gcG9zICYmICFpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KHBvcyArIDEpKSkge1xuICAgICAgICAgICAgICAgICAgICBwb3MgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IHBvcyA8IGxlbjsgcG9zKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KHBvcykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhdGguc2xpY2UoMCwgcG9zICsgMSkgLy8gY29uc3VtZSB0aGlzIHNlcGFyYXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xcXFwvXS9nLCBzZXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIC91c2VyL2ZhclxuICAgICAgICAvLyBeXG4gICAgICAgIHJldHVybiBzZXA7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzV2luZG93c0RyaXZlTGV0dGVyKGZpcnN0TGV0dGVyKSkge1xuICAgICAgICAvLyBjaGVjayBmb3Igd2luZG93cyBkcml2ZSBsZXR0ZXIgYzpcXCBvciBjOlxuICAgICAgICBpZiAocGF0aC5jaGFyQ29kZUF0KDEpID09PSA1OCAvKiBDaGFyQ29kZS5Db2xvbiAqLykge1xuICAgICAgICAgICAgaWYgKGlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoMikpKSB7XG4gICAgICAgICAgICAgICAgLy8gQzpcXGZmZlxuICAgICAgICAgICAgICAgIC8vIF5eXlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoLnNsaWNlKDAsIDIpICsgc2VwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQzpcbiAgICAgICAgICAgICAgICAvLyBeXlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoLnNsaWNlKDAsIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGNoZWNrIGZvciBVUklcbiAgICAvLyBzY2hlbWU6Ly9hdXRob3JpdHkvcGF0aFxuICAgIC8vIF5eXl5eXl5eXl5eXl5eXl5eXl5cbiAgICBsZXQgcG9zID0gcGF0aC5pbmRleE9mKCc6Ly8nKTtcbiAgICBpZiAocG9zICE9PSAtMSkge1xuICAgICAgICBwb3MgKz0gMzsgLy8gMyAtPiBcIjovL1wiLmxlbmd0aFxuICAgICAgICBmb3IgKDsgcG9zIDwgbGVuOyBwb3MrKykge1xuICAgICAgICAgICAgaWYgKGlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQocG9zKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF0aC5zbGljZSgwLCBwb3MgKyAxKTsgLy8gY29uc3VtZSB0aGlzIHNlcGFyYXRvclxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cbi8qKlxuICogQGRlcHJlY2F0ZWQgcGxlYXNlIHVzZSBgSVVyaUlkZW50aXR5U2VydmljZS5leHRVcmkuaXNFcXVhbE9yUGFyZW50YCBpbnN0ZWFkLiBJZlxuICogeW91IGFyZSBpbiBhIGNvbnRleHQgd2l0aG91dCBzZXJ2aWNlcywgY29uc2lkZXIgdG8gcGFzcyBkb3duIHRoZSBgZXh0VXJpYCBmcm9tIHRoZVxuICogb3V0c2lkZSwgb3IgdXNlIGBleHRVcmlCaWFzZWRJZ25vcmVQYXRoQ2FzZWAgaWYgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFcXVhbE9yUGFyZW50KGJhc2UsIHBhcmVudENhbmRpZGF0ZSwgaWdub3JlQ2FzZSwgc2VwYXJhdG9yID0gc2VwKSB7XG4gICAgaWYgKGJhc2UgPT09IHBhcmVudENhbmRpZGF0ZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFiYXNlIHx8ICFwYXJlbnRDYW5kaWRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAocGFyZW50Q2FuZGlkYXRlLmxlbmd0aCA+IGJhc2UubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGlnbm9yZUNhc2UpIHtcbiAgICAgICAgY29uc3QgYmVnaW5zV2l0aCA9IHN0YXJ0c1dpdGhJZ25vcmVDYXNlKGJhc2UsIHBhcmVudENhbmRpZGF0ZSk7XG4gICAgICAgIGlmICghYmVnaW5zV2l0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnRDYW5kaWRhdGUubGVuZ3RoID09PSBiYXNlLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIHNhbWUgcGF0aCwgZGlmZmVyZW50IGNhc2luZ1xuICAgICAgICB9XG4gICAgICAgIGxldCBzZXBPZmZzZXQgPSBwYXJlbnRDYW5kaWRhdGUubGVuZ3RoO1xuICAgICAgICBpZiAocGFyZW50Q2FuZGlkYXRlLmNoYXJBdChwYXJlbnRDYW5kaWRhdGUubGVuZ3RoIC0gMSkgPT09IHNlcGFyYXRvcikge1xuICAgICAgICAgICAgc2VwT2Zmc2V0LS07IC8vIGFkanVzdCB0aGUgZXhwZWN0ZWQgc2VwIG9mZnNldCBpbiBjYXNlIG91ciBjYW5kaWRhdGUgYWxyZWFkeSBlbmRzIGluIHNlcGFyYXRvciBjaGFyYWN0ZXJcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzZS5jaGFyQXQoc2VwT2Zmc2V0KSA9PT0gc2VwYXJhdG9yO1xuICAgIH1cbiAgICBpZiAocGFyZW50Q2FuZGlkYXRlLmNoYXJBdChwYXJlbnRDYW5kaWRhdGUubGVuZ3RoIC0gMSkgIT09IHNlcGFyYXRvcikge1xuICAgICAgICBwYXJlbnRDYW5kaWRhdGUgKz0gc2VwYXJhdG9yO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZS5pbmRleE9mKHBhcmVudENhbmRpZGF0ZSkgPT09IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNXaW5kb3dzRHJpdmVMZXR0ZXIoY2hhcjApIHtcbiAgICByZXR1cm4gY2hhcjAgPj0gNjUgLyogQ2hhckNvZGUuQSAqLyAmJiBjaGFyMCA8PSA5MCAvKiBDaGFyQ29kZS5aICovIHx8IGNoYXIwID49IDk3IC8qIENoYXJDb2RlLmEgKi8gJiYgY2hhcjAgPD0gMTIyIC8qIENoYXJDb2RlLnogKi87XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzRHJpdmVMZXR0ZXIocGF0aCwgaXNXaW5kb3dzT1MgPSBpc1dpbmRvd3MpIHtcbiAgICBpZiAoaXNXaW5kb3dzT1MpIHtcbiAgICAgICAgcmV0dXJuIGlzV2luZG93c0RyaXZlTGV0dGVyKHBhdGguY2hhckNvZGVBdCgwKSkgJiYgcGF0aC5jaGFyQ29kZUF0KDEpID09PSA1OCAvKiBDaGFyQ29kZS5Db2xvbiAqLztcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuIiwiZXhwb3J0IGNvbnN0IE1pbWVzID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgdGV4dDogJ3RleHQvcGxhaW4nLFxuICAgIGJpbmFyeTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgdW5rbm93bjogJ2FwcGxpY2F0aW9uL3Vua25vd24nLFxuICAgIG1hcmtkb3duOiAndGV4dC9tYXJrZG93bicsXG4gICAgbGF0ZXg6ICd0ZXh0L2xhdGV4JyxcbiAgICB1cmlMaXN0OiAndGV4dC91cmktbGlzdCcsXG59KTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0ICogYXMgZXh0cGF0aCBmcm9tICcuL2V4dHBhdGguanMnO1xuaW1wb3J0IHsgU2NoZW1hcyB9IGZyb20gJy4vbmV0d29yay5qcyc7XG5pbXBvcnQgKiBhcyBwYXRocyBmcm9tICcuL3BhdGguanMnO1xuaW1wb3J0IHsgaXNMaW51eCwgaXNXaW5kb3dzIH0gZnJvbSAnLi9wbGF0Zm9ybS5qcyc7XG5pbXBvcnQgeyBjb21wYXJlIGFzIHN0ckNvbXBhcmUsIGVxdWFsc0lnbm9yZUNhc2UgfSBmcm9tICcuL3N0cmluZ3MuanMnO1xuaW1wb3J0IHsgVVJJLCB1cmlUb0ZzUGF0aCB9IGZyb20gJy4vdXJpLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBvcmlnaW5hbEZTUGF0aCh1cmkpIHtcbiAgICByZXR1cm4gdXJpVG9Gc1BhdGgodXJpLCB0cnVlKTtcbn1cbmV4cG9ydCBjbGFzcyBFeHRVcmkge1xuICAgIGNvbnN0cnVjdG9yKF9pZ25vcmVQYXRoQ2FzaW5nKSB7XG4gICAgICAgIHRoaXMuX2lnbm9yZVBhdGhDYXNpbmcgPSBfaWdub3JlUGF0aENhc2luZztcbiAgICB9XG4gICAgY29tcGFyZSh1cmkxLCB1cmkyLCBpZ25vcmVGcmFnbWVudCA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh1cmkxID09PSB1cmkyKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyQ29tcGFyZSh0aGlzLmdldENvbXBhcmlzb25LZXkodXJpMSwgaWdub3JlRnJhZ21lbnQpLCB0aGlzLmdldENvbXBhcmlzb25LZXkodXJpMiwgaWdub3JlRnJhZ21lbnQpKTtcbiAgICB9XG4gICAgaXNFcXVhbCh1cmkxLCB1cmkyLCBpZ25vcmVGcmFnbWVudCA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh1cmkxID09PSB1cmkyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXVyaTEgfHwgIXVyaTIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb21wYXJpc29uS2V5KHVyaTEsIGlnbm9yZUZyYWdtZW50KSA9PT0gdGhpcy5nZXRDb21wYXJpc29uS2V5KHVyaTIsIGlnbm9yZUZyYWdtZW50KTtcbiAgICB9XG4gICAgZ2V0Q29tcGFyaXNvbktleSh1cmksIGlnbm9yZUZyYWdtZW50ID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHVyaS53aXRoKHtcbiAgICAgICAgICAgIHBhdGg6IHRoaXMuX2lnbm9yZVBhdGhDYXNpbmcodXJpKSA/IHVyaS5wYXRoLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBmcmFnbWVudDogaWdub3JlRnJhZ21lbnQgPyBudWxsIDogdW5kZWZpbmVkXG4gICAgICAgIH0pLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGlzRXF1YWxPclBhcmVudChiYXNlLCBwYXJlbnRDYW5kaWRhdGUsIGlnbm9yZUZyYWdtZW50ID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKGJhc2Uuc2NoZW1lID09PSBwYXJlbnRDYW5kaWRhdGUuc2NoZW1lKSB7XG4gICAgICAgICAgICBpZiAoYmFzZS5zY2hlbWUgPT09IFNjaGVtYXMuZmlsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHRwYXRoLmlzRXF1YWxPclBhcmVudChvcmlnaW5hbEZTUGF0aChiYXNlKSwgb3JpZ2luYWxGU1BhdGgocGFyZW50Q2FuZGlkYXRlKSwgdGhpcy5faWdub3JlUGF0aENhc2luZyhiYXNlKSkgJiYgYmFzZS5xdWVyeSA9PT0gcGFyZW50Q2FuZGlkYXRlLnF1ZXJ5ICYmIChpZ25vcmVGcmFnbWVudCB8fCBiYXNlLmZyYWdtZW50ID09PSBwYXJlbnRDYW5kaWRhdGUuZnJhZ21lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzRXF1YWxBdXRob3JpdHkoYmFzZS5hdXRob3JpdHksIHBhcmVudENhbmRpZGF0ZS5hdXRob3JpdHkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4dHBhdGguaXNFcXVhbE9yUGFyZW50KGJhc2UucGF0aCwgcGFyZW50Q2FuZGlkYXRlLnBhdGgsIHRoaXMuX2lnbm9yZVBhdGhDYXNpbmcoYmFzZSksICcvJykgJiYgYmFzZS5xdWVyeSA9PT0gcGFyZW50Q2FuZGlkYXRlLnF1ZXJ5ICYmIChpZ25vcmVGcmFnbWVudCB8fCBiYXNlLmZyYWdtZW50ID09PSBwYXJlbnRDYW5kaWRhdGUuZnJhZ21lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gLS0tIHBhdGggbWF0aFxuICAgIGpvaW5QYXRoKHJlc291cmNlLCAuLi5wYXRoRnJhZ21lbnQpIHtcbiAgICAgICAgcmV0dXJuIFVSSS5qb2luUGF0aChyZXNvdXJjZSwgLi4ucGF0aEZyYWdtZW50KTtcbiAgICB9XG4gICAgYmFzZW5hbWVPckF1dGhvcml0eShyZXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gYmFzZW5hbWUocmVzb3VyY2UpIHx8IHJlc291cmNlLmF1dGhvcml0eTtcbiAgICB9XG4gICAgYmFzZW5hbWUocmVzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHBhdGhzLnBvc2l4LmJhc2VuYW1lKHJlc291cmNlLnBhdGgpO1xuICAgIH1cbiAgICBleHRuYW1lKHJlc291cmNlKSB7XG4gICAgICAgIHJldHVybiBwYXRocy5wb3NpeC5leHRuYW1lKHJlc291cmNlLnBhdGgpO1xuICAgIH1cbiAgICBkaXJuYW1lKHJlc291cmNlKSB7XG4gICAgICAgIGlmIChyZXNvdXJjZS5wYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkaXJuYW1lO1xuICAgICAgICBpZiAocmVzb3VyY2Uuc2NoZW1lID09PSBTY2hlbWFzLmZpbGUpIHtcbiAgICAgICAgICAgIGRpcm5hbWUgPSBVUkkuZmlsZShwYXRocy5kaXJuYW1lKG9yaWdpbmFsRlNQYXRoKHJlc291cmNlKSkpLnBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkaXJuYW1lID0gcGF0aHMucG9zaXguZGlybmFtZShyZXNvdXJjZS5wYXRoKTtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZS5hdXRob3JpdHkgJiYgZGlybmFtZS5sZW5ndGggJiYgZGlybmFtZS5jaGFyQ29kZUF0KDApICE9PSA0NyAvKiBDaGFyQ29kZS5TbGFzaCAqLykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYGRpcm5hbWUoXCIke3Jlc291cmNlLnRvU3RyaW5nfSkpIHJlc3VsdGVkIGluIGEgcmVsYXRpdmUgcGF0aGApO1xuICAgICAgICAgICAgICAgIGRpcm5hbWUgPSAnLyc7IC8vIElmIGEgVVJJIGNvbnRhaW5zIGFuIGF1dGhvcml0eSBjb21wb25lbnQsIHRoZW4gdGhlIHBhdGggY29tcG9uZW50IG11c3QgZWl0aGVyIGJlIGVtcHR5IG9yIGJlZ2luIHdpdGggYSBDaGFyQ29kZS5TbGFzaCAoXCIvXCIpIGNoYXJhY3RlclxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvdXJjZS53aXRoKHtcbiAgICAgICAgICAgIHBhdGg6IGRpcm5hbWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vcm1hbGl6ZVBhdGgocmVzb3VyY2UpIHtcbiAgICAgICAgaWYgKCFyZXNvdXJjZS5wYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBub3JtYWxpemVkUGF0aDtcbiAgICAgICAgaWYgKHJlc291cmNlLnNjaGVtZSA9PT0gU2NoZW1hcy5maWxlKSB7XG4gICAgICAgICAgICBub3JtYWxpemVkUGF0aCA9IFVSSS5maWxlKHBhdGhzLm5vcm1hbGl6ZShvcmlnaW5hbEZTUGF0aChyZXNvdXJjZSkpKS5wYXRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9ybWFsaXplZFBhdGggPSBwYXRocy5wb3NpeC5ub3JtYWxpemUocmVzb3VyY2UucGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc291cmNlLndpdGgoe1xuICAgICAgICAgICAgcGF0aDogbm9ybWFsaXplZFBhdGhcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbGF0aXZlUGF0aChmcm9tLCB0bykge1xuICAgICAgICBpZiAoZnJvbS5zY2hlbWUgIT09IHRvLnNjaGVtZSB8fCAhaXNFcXVhbEF1dGhvcml0eShmcm9tLmF1dGhvcml0eSwgdG8uYXV0aG9yaXR5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJvbS5zY2hlbWUgPT09IFNjaGVtYXMuZmlsZSkge1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gcGF0aHMucmVsYXRpdmUob3JpZ2luYWxGU1BhdGgoZnJvbSksIG9yaWdpbmFsRlNQYXRoKHRvKSk7XG4gICAgICAgICAgICByZXR1cm4gaXNXaW5kb3dzID8gZXh0cGF0aC50b1NsYXNoZXMocmVsYXRpdmVQYXRoKSA6IHJlbGF0aXZlUGF0aDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZnJvbVBhdGggPSBmcm9tLnBhdGggfHwgJy8nO1xuICAgICAgICBjb25zdCB0b1BhdGggPSB0by5wYXRoIHx8ICcvJztcbiAgICAgICAgaWYgKHRoaXMuX2lnbm9yZVBhdGhDYXNpbmcoZnJvbSkpIHtcbiAgICAgICAgICAgIC8vIG1ha2UgY2FzaW5nIG9mIGZyb21QYXRoIG1hdGNoIHRvUGF0aFxuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgZm9yIChjb25zdCBsZW4gPSBNYXRoLm1pbihmcm9tUGF0aC5sZW5ndGgsIHRvUGF0aC5sZW5ndGgpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbVBhdGguY2hhckNvZGVBdChpKSAhPT0gdG9QYXRoLmNoYXJDb2RlQXQoaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyb21QYXRoLmNoYXJBdChpKS50b0xvd2VyQ2FzZSgpICE9PSB0b1BhdGguY2hhckF0KGkpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJvbVBhdGggPSB0b1BhdGguc3Vic3RyKDAsIGkpICsgZnJvbVBhdGguc3Vic3RyKGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXRocy5wb3NpeC5yZWxhdGl2ZShmcm9tUGF0aCwgdG9QYXRoKTtcbiAgICB9XG4gICAgcmVzb2x2ZVBhdGgoYmFzZSwgcGF0aCkge1xuICAgICAgICBpZiAoYmFzZS5zY2hlbWUgPT09IFNjaGVtYXMuZmlsZSkge1xuICAgICAgICAgICAgY29uc3QgbmV3VVJJID0gVVJJLmZpbGUocGF0aHMucmVzb2x2ZShvcmlnaW5hbEZTUGF0aChiYXNlKSwgcGF0aCkpO1xuICAgICAgICAgICAgcmV0dXJuIGJhc2Uud2l0aCh7XG4gICAgICAgICAgICAgICAgYXV0aG9yaXR5OiBuZXdVUkkuYXV0aG9yaXR5LFxuICAgICAgICAgICAgICAgIHBhdGg6IG5ld1VSSS5wYXRoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBwYXRoID0gZXh0cGF0aC50b1Bvc2l4UGF0aChwYXRoKTsgLy8gd2UgYWxsb3cgcGF0aCB0byBiZSBhIHdpbmRvd3MgcGF0aFxuICAgICAgICByZXR1cm4gYmFzZS53aXRoKHtcbiAgICAgICAgICAgIHBhdGg6IHBhdGhzLnBvc2l4LnJlc29sdmUoYmFzZS5wYXRoLCBwYXRoKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gLS0tIG1pc2NcbiAgICBpc0Fic29sdXRlUGF0aChyZXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gISFyZXNvdXJjZS5wYXRoICYmIHJlc291cmNlLnBhdGhbMF0gPT09ICcvJztcbiAgICB9XG4gICAgaXNFcXVhbEF1dGhvcml0eShhMSwgYTIpIHtcbiAgICAgICAgcmV0dXJuIGExID09PSBhMiB8fCAoYTEgIT09IHVuZGVmaW5lZCAmJiBhMiAhPT0gdW5kZWZpbmVkICYmIGVxdWFsc0lnbm9yZUNhc2UoYTEsIGEyKSk7XG4gICAgfVxuICAgIGhhc1RyYWlsaW5nUGF0aFNlcGFyYXRvcihyZXNvdXJjZSwgc2VwID0gcGF0aHMuc2VwKSB7XG4gICAgICAgIGlmIChyZXNvdXJjZS5zY2hlbWUgPT09IFNjaGVtYXMuZmlsZSkge1xuICAgICAgICAgICAgY29uc3QgZnNwID0gb3JpZ2luYWxGU1BhdGgocmVzb3VyY2UpO1xuICAgICAgICAgICAgcmV0dXJuIGZzcC5sZW5ndGggPiBleHRwYXRoLmdldFJvb3QoZnNwKS5sZW5ndGggJiYgZnNwW2ZzcC5sZW5ndGggLSAxXSA9PT0gc2VwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcCA9IHJlc291cmNlLnBhdGg7XG4gICAgICAgICAgICByZXR1cm4gKHAubGVuZ3RoID4gMSAmJiBwLmNoYXJDb2RlQXQocC5sZW5ndGggLSAxKSA9PT0gNDcgLyogQ2hhckNvZGUuU2xhc2ggKi8pICYmICEoL15bYS16QS1aXTooXFwvJHxcXFxcJCkvLnRlc3QocmVzb3VyY2UuZnNQYXRoKSk7IC8vIGlnbm9yZSB0aGUgc2xhc2ggYXQgb2Zmc2V0IDBcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVUcmFpbGluZ1BhdGhTZXBhcmF0b3IocmVzb3VyY2UsIHNlcCA9IHBhdGhzLnNlcCkge1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgcGF0aCBpc24ndCBhIGRyaXZlIGxldHRlci4gQSB0cmFpbGluZyBzZXBhcmF0b3IgdGhlcmUgaXMgbm90IHJlbW92YWJsZS5cbiAgICAgICAgaWYgKGhhc1RyYWlsaW5nUGF0aFNlcGFyYXRvcihyZXNvdXJjZSwgc2VwKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLndpdGgoeyBwYXRoOiByZXNvdXJjZS5wYXRoLnN1YnN0cigwLCByZXNvdXJjZS5wYXRoLmxlbmd0aCAtIDEpIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvdXJjZTtcbiAgICB9XG4gICAgYWRkVHJhaWxpbmdQYXRoU2VwYXJhdG9yKHJlc291cmNlLCBzZXAgPSBwYXRocy5zZXApIHtcbiAgICAgICAgbGV0IGlzUm9vdFNlcCA9IGZhbHNlO1xuICAgICAgICBpZiAocmVzb3VyY2Uuc2NoZW1lID09PSBTY2hlbWFzLmZpbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZzcCA9IG9yaWdpbmFsRlNQYXRoKHJlc291cmNlKTtcbiAgICAgICAgICAgIGlzUm9vdFNlcCA9ICgoZnNwICE9PSB1bmRlZmluZWQpICYmIChmc3AubGVuZ3RoID09PSBleHRwYXRoLmdldFJvb3QoZnNwKS5sZW5ndGgpICYmIChmc3BbZnNwLmxlbmd0aCAtIDFdID09PSBzZXApKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNlcCA9ICcvJztcbiAgICAgICAgICAgIGNvbnN0IHAgPSByZXNvdXJjZS5wYXRoO1xuICAgICAgICAgICAgaXNSb290U2VwID0gcC5sZW5ndGggPT09IDEgJiYgcC5jaGFyQ29kZUF0KHAubGVuZ3RoIC0gMSkgPT09IDQ3IC8qIENoYXJDb2RlLlNsYXNoICovO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNSb290U2VwICYmICFoYXNUcmFpbGluZ1BhdGhTZXBhcmF0b3IocmVzb3VyY2UsIHNlcCkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS53aXRoKHsgcGF0aDogcmVzb3VyY2UucGF0aCArICcvJyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb3VyY2U7XG4gICAgfVxufVxuLyoqXG4gKiBVbmJpYXNlZCB1dGlsaXR5IHRoYXQgdGFrZXMgdXJpcyBcImFzIHRoZXkgYXJlXCIuIFRoaXMgbWVhbnMgaXQgY2FuIGJlIGludGVyY2hhbmdlZCB3aXRoXG4gKiB1cmkjdG9TdHJpbmcoKSB1c2FnZXMuIFRoZSBmb2xsb3dpbmcgaXMgdHJ1ZVxuICogYGBgXG4gKiBhc3NlcnRFcXVhbChhVXJpLnRvU3RyaW5nKCkgPT09IGJVcmkudG9TdHJpbmcoKSwgZXh0dXJpLmlzRXF1YWwoYVVyaSwgYlVyaSkpXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IGV4dFVyaSA9IG5ldyBFeHRVcmkoKCkgPT4gZmFsc2UpO1xuLyoqXG4gKiBCSUFTRUQgdXRpbGl0eSB0aGF0IF9tb3N0bHlfIGlnbm9yZWQgdGhlIGNhc2Ugb2YgdXJzIHBhdGhzLiBPTkxZIHVzZSB0aGlzIHV0aWwgaWYgeW91XG4gKiB1bmRlcnN0YW5kIHdoYXQgeW91IGFyZSBkb2luZy5cbiAqXG4gKiBUaGlzIHV0aWxpdHkgaXMgSU5DT01QQVRJQkxFIHdpdGggYHVyaS50b1N0cmluZygpYC11c2FnZXMgYW5kIGJvdGggQ0FOTk9UIGJlIHVzZWQgaW50ZXJjaGFuZ2VkLlxuICpcbiAqIFdoZW4gZGVhbGluZyB3aXRoIHVyaXMgZnJvbSBmaWxlcyBvciBkb2N1bWVudHMsIGBleHRVcmlgICh0aGUgdW5iaWFzZWQgZnJpZW5kKWlzIHN1ZmZpY2llbnRcbiAqIGJlY2F1c2UgdGhvc2UgdXJpcyBjb21lIGZyb20gYSBcInRydXN0d29ydGh5IHNvdXJjZVwiLiBXaGVuIGNyZWF0aW5nIHVua25vd24gdXJpcyBpdCdzIGFsd2F5c1xuICogYmV0dGVyIHRvIHVzZSBgSVVyaUlkZW50aXR5U2VydmljZWAgd2hpY2ggZXhwb3NlcyBhbiBgSUV4dFVyaWAtaW5zdGFuY2Ugd2hpY2gga25vd3Mgd2hlbiBwYXRoXG4gKiBjYXNpbmcgbWF0dGVycy5cbiAqL1xuZXhwb3J0IGNvbnN0IGV4dFVyaUJpYXNlZElnbm9yZVBhdGhDYXNlID0gbmV3IEV4dFVyaSh1cmkgPT4ge1xuICAgIC8vIEEgZmlsZSBzY2hlbWUgcmVzb3VyY2UgaXMgaW4gdGhlIHNhbWUgcGxhdGZvcm0gYXMgY29kZSwgc28gaWdub3JlIGNhc2UgZm9yIG5vbiBsaW51eCBwbGF0Zm9ybXNcbiAgICAvLyBSZXNvdXJjZSBjYW4gYmUgZnJvbSBhbm90aGVyIHBsYXRmb3JtLiBMb3dlcmluZyB0aGUgY2FzZSBhcyBhbiBoYWNrLiBTaG91bGQgY29tZSBmcm9tIEZpbGUgc3lzdGVtIHByb3ZpZGVyXG4gICAgcmV0dXJuIHVyaS5zY2hlbWUgPT09IFNjaGVtYXMuZmlsZSA/ICFpc0xpbnV4IDogdHJ1ZTtcbn0pO1xuLyoqXG4gKiBCSUFTRUQgdXRpbGl0eSB0aGF0IGFsd2F5cyBpZ25vcmVzIHRoZSBjYXNpbmcgb2YgdXJpcyBwYXRocy4gT05MWSB1c2UgdGhpcyB1dGlsIGlmIHlvdVxuICogdW5kZXJzdGFuZCB3aGF0IHlvdSBhcmUgZG9pbmcuXG4gKlxuICogVGhpcyB1dGlsaXR5IGlzIElOQ09NUEFUSUJMRSB3aXRoIGB1cmkudG9TdHJpbmcoKWAtdXNhZ2VzIGFuZCBib3RoIENBTk5PVCBiZSB1c2VkIGludGVyY2hhbmdlZC5cbiAqXG4gKiBXaGVuIGRlYWxpbmcgd2l0aCB1cmlzIGZyb20gZmlsZXMgb3IgZG9jdW1lbnRzLCBgZXh0VXJpYCAodGhlIHVuYmlhc2VkIGZyaWVuZClpcyBzdWZmaWNpZW50XG4gKiBiZWNhdXNlIHRob3NlIHVyaXMgY29tZSBmcm9tIGEgXCJ0cnVzdHdvcnRoeSBzb3VyY2VcIi4gV2hlbiBjcmVhdGluZyB1bmtub3duIHVyaXMgaXQncyBhbHdheXNcbiAqIGJldHRlciB0byB1c2UgYElVcmlJZGVudGl0eVNlcnZpY2VgIHdoaWNoIGV4cG9zZXMgYW4gYElFeHRVcmlgLWluc3RhbmNlIHdoaWNoIGtub3dzIHdoZW4gcGF0aFxuICogY2FzaW5nIG1hdHRlcnMuXG4gKi9cbmV4cG9ydCBjb25zdCBleHRVcmlJZ25vcmVQYXRoQ2FzZSA9IG5ldyBFeHRVcmkoXyA9PiB0cnVlKTtcbmV4cG9ydCBjb25zdCBpc0VxdWFsID0gZXh0VXJpLmlzRXF1YWwuYmluZChleHRVcmkpO1xuZXhwb3J0IGNvbnN0IGlzRXF1YWxPclBhcmVudCA9IGV4dFVyaS5pc0VxdWFsT3JQYXJlbnQuYmluZChleHRVcmkpO1xuZXhwb3J0IGNvbnN0IGdldENvbXBhcmlzb25LZXkgPSBleHRVcmkuZ2V0Q29tcGFyaXNvbktleS5iaW5kKGV4dFVyaSk7XG5leHBvcnQgY29uc3QgYmFzZW5hbWVPckF1dGhvcml0eSA9IGV4dFVyaS5iYXNlbmFtZU9yQXV0aG9yaXR5LmJpbmQoZXh0VXJpKTtcbmV4cG9ydCBjb25zdCBiYXNlbmFtZSA9IGV4dFVyaS5iYXNlbmFtZS5iaW5kKGV4dFVyaSk7XG5leHBvcnQgY29uc3QgZXh0bmFtZSA9IGV4dFVyaS5leHRuYW1lLmJpbmQoZXh0VXJpKTtcbmV4cG9ydCBjb25zdCBkaXJuYW1lID0gZXh0VXJpLmRpcm5hbWUuYmluZChleHRVcmkpO1xuZXhwb3J0IGNvbnN0IGpvaW5QYXRoID0gZXh0VXJpLmpvaW5QYXRoLmJpbmQoZXh0VXJpKTtcbmV4cG9ydCBjb25zdCBub3JtYWxpemVQYXRoID0gZXh0VXJpLm5vcm1hbGl6ZVBhdGguYmluZChleHRVcmkpO1xuZXhwb3J0IGNvbnN0IHJlbGF0aXZlUGF0aCA9IGV4dFVyaS5yZWxhdGl2ZVBhdGguYmluZChleHRVcmkpO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVQYXRoID0gZXh0VXJpLnJlc29sdmVQYXRoLmJpbmQoZXh0VXJpKTtcbmV4cG9ydCBjb25zdCBpc0Fic29sdXRlUGF0aCA9IGV4dFVyaS5pc0Fic29sdXRlUGF0aC5iaW5kKGV4dFVyaSk7XG5leHBvcnQgY29uc3QgaXNFcXVhbEF1dGhvcml0eSA9IGV4dFVyaS5pc0VxdWFsQXV0aG9yaXR5LmJpbmQoZXh0VXJpKTtcbmV4cG9ydCBjb25zdCBoYXNUcmFpbGluZ1BhdGhTZXBhcmF0b3IgPSBleHRVcmkuaGFzVHJhaWxpbmdQYXRoU2VwYXJhdG9yLmJpbmQoZXh0VXJpKTtcbmV4cG9ydCBjb25zdCByZW1vdmVUcmFpbGluZ1BhdGhTZXBhcmF0b3IgPSBleHRVcmkucmVtb3ZlVHJhaWxpbmdQYXRoU2VwYXJhdG9yLmJpbmQoZXh0VXJpKTtcbmV4cG9ydCBjb25zdCBhZGRUcmFpbGluZ1BhdGhTZXBhcmF0b3IgPSBleHRVcmkuYWRkVHJhaWxpbmdQYXRoU2VwYXJhdG9yLmJpbmQoZXh0VXJpKTtcbi8qKlxuICogRGF0YSBVUkkgcmVsYXRlZCBoZWxwZXJzLlxuICovXG5leHBvcnQgdmFyIERhdGFVcmk7XG4oZnVuY3Rpb24gKERhdGFVcmkpIHtcbiAgICBEYXRhVXJpLk1FVEFfREFUQV9MQUJFTCA9ICdsYWJlbCc7XG4gICAgRGF0YVVyaS5NRVRBX0RBVEFfREVTQ1JJUFRJT04gPSAnZGVzY3JpcHRpb24nO1xuICAgIERhdGFVcmkuTUVUQV9EQVRBX1NJWkUgPSAnc2l6ZSc7XG4gICAgRGF0YVVyaS5NRVRBX0RBVEFfTUlNRSA9ICdtaW1lJztcbiAgICBmdW5jdGlvbiBwYXJzZU1ldGFEYXRhKGRhdGFVcmkpIHtcbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8vIEdpdmVuIGEgVVJJIG9mOiAgZGF0YTppbWFnZS9wbmc7c2l6ZToyMzEzO2xhYmVsOlNvbWVMYWJlbDtkZXNjcmlwdGlvbjpTb21lRGVzY3JpcHRpb247YmFzZTY0LDc3KzlVRTUuLi5cbiAgICAgICAgLy8gdGhlIG1ldGFkYXRhIGlzOiBzaXplOjIzMTM7bGFiZWw6U29tZUxhYmVsO2Rlc2NyaXB0aW9uOlNvbWVEZXNjcmlwdGlvblxuICAgICAgICBjb25zdCBtZXRhID0gZGF0YVVyaS5wYXRoLnN1YnN0cmluZyhkYXRhVXJpLnBhdGguaW5kZXhPZignOycpICsgMSwgZGF0YVVyaS5wYXRoLmxhc3RJbmRleE9mKCc7JykpO1xuICAgICAgICBtZXRhLnNwbGl0KCc7JykuZm9yRWFjaChwcm9wZXJ0eSA9PiB7XG4gICAgICAgICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBwcm9wZXJ0eS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgaWYgKGtleSAmJiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEdpdmVuIGEgVVJJIG9mOiAgZGF0YTppbWFnZS9wbmc7c2l6ZToyMzEzO2xhYmVsOlNvbWVMYWJlbDtkZXNjcmlwdGlvbjpTb21lRGVzY3JpcHRpb247YmFzZTY0LDc3KzlVRTUuLi5cbiAgICAgICAgLy8gdGhlIG1pbWUgaXM6IGltYWdlL3BuZ1xuICAgICAgICBjb25zdCBtaW1lID0gZGF0YVVyaS5wYXRoLnN1YnN0cmluZygwLCBkYXRhVXJpLnBhdGguaW5kZXhPZignOycpKTtcbiAgICAgICAgaWYgKG1pbWUpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhLnNldChEYXRhVXJpLk1FVEFfREFUQV9NSU1FLCBtaW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgfVxuICAgIERhdGFVcmkucGFyc2VNZXRhRGF0YSA9IHBhcnNlTWV0YURhdGE7XG59KShEYXRhVXJpIHx8IChEYXRhVXJpID0ge30pKTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0ICogYXMgbmxzIGZyb20gJy4uLy4uLy4uL25scy5qcyc7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vZXZlbnQuanMnO1xuaW1wb3J0IHsgUmVnaXN0cnkgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9yZWdpc3RyeS9jb21tb24vcGxhdGZvcm0uanMnO1xuaW1wb3J0IHsgTWltZXMgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9taW1lLmpzJztcbmltcG9ydCB7IEV4dGVuc2lvbnMgYXMgQ29uZmlndXJhdGlvbkV4dGVuc2lvbnMgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9jb25maWd1cmF0aW9uL2NvbW1vbi9jb25maWd1cmF0aW9uUmVnaXN0cnkuanMnO1xuLy8gRGVmaW5lIGV4dGVuc2lvbiBwb2ludCBpZHNcbmV4cG9ydCBjb25zdCBFeHRlbnNpb25zID0ge1xuICAgIE1vZGVzUmVnaXN0cnk6ICdlZGl0b3IubW9kZXNSZWdpc3RyeSdcbn07XG5leHBvcnQgY2xhc3MgRWRpdG9yTW9kZXNSZWdpc3RyeSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlTGFuZ3VhZ2VzID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZENoYW5nZUxhbmd1YWdlcyA9IHRoaXMuX29uRGlkQ2hhbmdlTGFuZ3VhZ2VzLmV2ZW50O1xuICAgICAgICB0aGlzLl9sYW5ndWFnZXMgPSBbXTtcbiAgICB9XG4gICAgcmVnaXN0ZXJMYW5ndWFnZShkZWYpIHtcbiAgICAgICAgdGhpcy5fbGFuZ3VhZ2VzLnB1c2goZGVmKTtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VMYW5ndWFnZXMuZmlyZSh1bmRlZmluZWQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzcG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLl9sYW5ndWFnZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xhbmd1YWdlc1tpXSA9PT0gZGVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sYW5ndWFnZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRMYW5ndWFnZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYW5ndWFnZXM7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IE1vZGVzUmVnaXN0cnkgPSBuZXcgRWRpdG9yTW9kZXNSZWdpc3RyeSgpO1xuUmVnaXN0cnkuYWRkKEV4dGVuc2lvbnMuTW9kZXNSZWdpc3RyeSwgTW9kZXNSZWdpc3RyeSk7XG5leHBvcnQgY29uc3QgUExBSU5URVhUX0xBTkdVQUdFX0lEID0gJ3BsYWludGV4dCc7XG5leHBvcnQgY29uc3QgUExBSU5URVhUX0VYVEVOU0lPTiA9ICcudHh0Jztcbk1vZGVzUmVnaXN0cnkucmVnaXN0ZXJMYW5ndWFnZSh7XG4gICAgaWQ6IFBMQUlOVEVYVF9MQU5HVUFHRV9JRCxcbiAgICBleHRlbnNpb25zOiBbUExBSU5URVhUX0VYVEVOU0lPTl0sXG4gICAgYWxpYXNlczogW25scy5sb2NhbGl6ZSgncGxhaW5UZXh0LmFsaWFzJywgXCJQbGFpbiBUZXh0XCIpLCAndGV4dCddLFxuICAgIG1pbWV0eXBlczogW01pbWVzLnRleHRdXG59KTtcblJlZ2lzdHJ5LmFzKENvbmZpZ3VyYXRpb25FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24pXG4gICAgLnJlZ2lzdGVyRGVmYXVsdENvbmZpZ3VyYXRpb25zKFt7XG4gICAgICAgIG92ZXJyaWRlczoge1xuICAgICAgICAgICAgJ1twbGFpbnRleHRdJzoge1xuICAgICAgICAgICAgICAgICdlZGl0b3IudW5pY29kZUhpZ2hsaWdodC5hbWJpZ3VvdXNDaGFyYWN0ZXJzJzogZmFsc2UsXG4gICAgICAgICAgICAgICAgJ2VkaXRvci51bmljb2RlSGlnaGxpZ2h0LmludmlzaWJsZUNoYXJhY3RlcnMnOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBjcmVhdGVEZWNvcmF0b3IgfSBmcm9tICcuLi8uLi9pbnN0YW50aWF0aW9uL2NvbW1vbi9pbnN0YW50aWF0aW9uLmpzJztcbmV4cG9ydCBjb25zdCBJQ29uZmlndXJhdGlvblNlcnZpY2UgPSBjcmVhdGVEZWNvcmF0b3IoJ2NvbmZpZ3VyYXRpb25TZXJ2aWNlJyk7XG5leHBvcnQgZnVuY3Rpb24gdG9WYWx1ZXNUcmVlKHByb3BlcnRpZXMsIGNvbmZsaWN0UmVwb3J0ZXIpIHtcbiAgICBjb25zdCByb290ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGFkZFRvVmFsdWVUcmVlKHJvb3QsIGtleSwgcHJvcGVydGllc1trZXldLCBjb25mbGljdFJlcG9ydGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHJvb3Q7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkVG9WYWx1ZVRyZWUoc2V0dGluZ3NUcmVlUm9vdCwga2V5LCB2YWx1ZSwgY29uZmxpY3RSZXBvcnRlcikge1xuICAgIGNvbnN0IHNlZ21lbnRzID0ga2V5LnNwbGl0KCcuJyk7XG4gICAgY29uc3QgbGFzdCA9IHNlZ21lbnRzLnBvcCgpO1xuICAgIGxldCBjdXJyID0gc2V0dGluZ3NUcmVlUm9vdDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHMgPSBzZWdtZW50c1tpXTtcbiAgICAgICAgbGV0IG9iaiA9IGN1cnJbc107XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIG9iaikge1xuICAgICAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgICAgICAgICBvYmogPSBjdXJyW3NdID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25mbGljdFJlcG9ydGVyKGBJZ25vcmluZyAke2tleX0gYXMgJHtzZWdtZW50cy5zbGljZSgwLCBpICsgMSkuam9pbignLicpfSBpcyBudWxsYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbmZsaWN0UmVwb3J0ZXIoYElnbm9yaW5nICR7a2V5fSBhcyAke3NlZ21lbnRzLnNsaWNlKDAsIGkgKyAxKS5qb2luKCcuJyl9IGlzICR7SlNPTi5zdHJpbmdpZnkob2JqKX1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY3VyciA9IG9iajtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjdXJyID09PSAnb2JqZWN0JyAmJiBjdXJyICE9PSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjdXJyW2xhc3RdID0gdmFsdWU7IC8vIHdvcmthcm91bmQgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC92c2NvZGUvaXNzdWVzLzEzNjA2XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbmZsaWN0UmVwb3J0ZXIoYElnbm9yaW5nICR7a2V5fSBhcyAke3NlZ21lbnRzLmpvaW4oJy4nKX0gaXMgJHtKU09OLnN0cmluZ2lmeShjdXJyKX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uZmxpY3RSZXBvcnRlcihgSWdub3JpbmcgJHtrZXl9IGFzICR7c2VnbWVudHMuam9pbignLicpfSBpcyAke0pTT04uc3RyaW5naWZ5KGN1cnIpfWApO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVGcm9tVmFsdWVUcmVlKHZhbHVlVHJlZSwga2V5KSB7XG4gICAgY29uc3Qgc2VnbWVudHMgPSBrZXkuc3BsaXQoJy4nKTtcbiAgICBkb1JlbW92ZUZyb21WYWx1ZVRyZWUodmFsdWVUcmVlLCBzZWdtZW50cyk7XG59XG5mdW5jdGlvbiBkb1JlbW92ZUZyb21WYWx1ZVRyZWUodmFsdWVUcmVlLCBzZWdtZW50cykge1xuICAgIGNvbnN0IGZpcnN0ID0gc2VnbWVudHMuc2hpZnQoKTtcbiAgICBpZiAoc2VnbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFJlYWNoZWQgbGFzdCBzZWdtZW50XG4gICAgICAgIGRlbGV0ZSB2YWx1ZVRyZWVbZmlyc3RdO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChPYmplY3Qua2V5cyh2YWx1ZVRyZWUpLmluZGV4T2YoZmlyc3QpICE9PSAtMSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlVHJlZVtmaXJzdF07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgZG9SZW1vdmVGcm9tVmFsdWVUcmVlKHZhbHVlLCBzZWdtZW50cyk7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVRyZWVbZmlyc3RdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBIGhlbHBlciBmdW5jdGlvbiB0byBnZXQgdGhlIGNvbmZpZ3VyYXRpb24gdmFsdWUgd2l0aCBhIHNwZWNpZmljIHNldHRpbmdzIHBhdGggKGUuZy4gY29uZmlnLnNvbWUuc2V0dGluZylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbmZpZ3VyYXRpb25WYWx1ZShjb25maWcsIHNldHRpbmdQYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgICBmdW5jdGlvbiBhY2Nlc3NTZXR0aW5nKGNvbmZpZywgcGF0aCkge1xuICAgICAgICBsZXQgY3VycmVudCA9IGNvbmZpZztcbiAgICAgICAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgcGF0aCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50ICE9PSAnb2JqZWN0JyB8fCBjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50W2NvbXBvbmVudF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICAgIGNvbnN0IHBhdGggPSBzZXR0aW5nUGF0aC5zcGxpdCgnLicpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGFjY2Vzc1NldHRpbmcoY29uZmlnLCBwYXRoKTtcbiAgICByZXR1cm4gdHlwZW9mIHJlc3VsdCA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0VmFsdWUgOiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VUYWdTZXR0aW5nUGxhaW5LZXkoc2V0dGluZ0tleSkge1xuICAgIHJldHVybiBzZXR0aW5nS2V5LnJlcGxhY2UoL1tcXFtcXF1dL2csICcnKTtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgZGlzdGluY3QgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9hcnJheXMuanMnO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2V2ZW50LmpzJztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3R5cGVzLmpzJztcbmltcG9ydCAqIGFzIG5scyBmcm9tICcuLi8uLi8uLi9ubHMuanMnO1xuaW1wb3J0IHsgZ2V0TGFuZ3VhZ2VUYWdTZXR0aW5nUGxhaW5LZXkgfSBmcm9tICcuL2NvbmZpZ3VyYXRpb24uanMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9ucyBhcyBKU09ORXh0ZW5zaW9ucyB9IGZyb20gJy4uLy4uL2pzb25zY2hlbWFzL2NvbW1vbi9qc29uQ29udHJpYnV0aW9uUmVnaXN0cnkuanMnO1xuaW1wb3J0IHsgUmVnaXN0cnkgfSBmcm9tICcuLi8uLi9yZWdpc3RyeS9jb21tb24vcGxhdGZvcm0uanMnO1xuZXhwb3J0IGNvbnN0IEV4dGVuc2lvbnMgPSB7XG4gICAgQ29uZmlndXJhdGlvbjogJ2Jhc2UuY29udHJpYnV0aW9ucy5jb25maWd1cmF0aW9uJ1xufTtcbmV4cG9ydCBjb25zdCBhbGxTZXR0aW5ncyA9IHsgcHJvcGVydGllczoge30sIHBhdHRlcm5Qcm9wZXJ0aWVzOiB7fSB9O1xuZXhwb3J0IGNvbnN0IGFwcGxpY2F0aW9uU2V0dGluZ3MgPSB7IHByb3BlcnRpZXM6IHt9LCBwYXR0ZXJuUHJvcGVydGllczoge30gfTtcbmV4cG9ydCBjb25zdCBtYWNoaW5lU2V0dGluZ3MgPSB7IHByb3BlcnRpZXM6IHt9LCBwYXR0ZXJuUHJvcGVydGllczoge30gfTtcbmV4cG9ydCBjb25zdCBtYWNoaW5lT3ZlcnJpZGFibGVTZXR0aW5ncyA9IHsgcHJvcGVydGllczoge30sIHBhdHRlcm5Qcm9wZXJ0aWVzOiB7fSB9O1xuZXhwb3J0IGNvbnN0IHdpbmRvd1NldHRpbmdzID0geyBwcm9wZXJ0aWVzOiB7fSwgcGF0dGVyblByb3BlcnRpZXM6IHt9IH07XG5leHBvcnQgY29uc3QgcmVzb3VyY2VTZXR0aW5ncyA9IHsgcHJvcGVydGllczoge30sIHBhdHRlcm5Qcm9wZXJ0aWVzOiB7fSB9O1xuZXhwb3J0IGNvbnN0IHJlc291cmNlTGFuZ3VhZ2VTZXR0aW5nc1NjaGVtYUlkID0gJ3ZzY29kZTovL3NjaGVtYXMvc2V0dGluZ3MvcmVzb3VyY2VMYW5ndWFnZSc7XG5jb25zdCBjb250cmlidXRpb25SZWdpc3RyeSA9IFJlZ2lzdHJ5LmFzKEpTT05FeHRlbnNpb25zLkpTT05Db250cmlidXRpb24pO1xuY2xhc3MgQ29uZmlndXJhdGlvblJlZ2lzdHJ5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkQ29uZmlndXJhdGlvbkRlZmF1bHRzID0gW107XG4gICAgICAgIHRoaXMub3ZlcnJpZGVJZGVudGlmaWVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5fb25EaWRTY2hlbWFDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLl9vbkRpZFVwZGF0ZUNvbmZpZ3VyYXRpb24gPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb25EZWZhdWx0c092ZXJyaWRlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5kZWZhdWx0TGFuZ3VhZ2VDb25maWd1cmF0aW9uT3ZlcnJpZGVzTm9kZSA9IHtcbiAgICAgICAgICAgIGlkOiAnZGVmYXVsdE92ZXJyaWRlcycsXG4gICAgICAgICAgICB0aXRsZTogbmxzLmxvY2FsaXplKCdkZWZhdWx0TGFuZ3VhZ2VDb25maWd1cmF0aW9uT3ZlcnJpZGVzLnRpdGxlJywgXCJEZWZhdWx0IExhbmd1YWdlIENvbmZpZ3VyYXRpb24gT3ZlcnJpZGVzXCIpLFxuICAgICAgICAgICAgcHJvcGVydGllczoge31cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uQ29udHJpYnV0b3JzID0gW3RoaXMuZGVmYXVsdExhbmd1YWdlQ29uZmlndXJhdGlvbk92ZXJyaWRlc05vZGVdO1xuICAgICAgICB0aGlzLnJlc291cmNlTGFuZ3VhZ2VTZXR0aW5nc1NjaGVtYSA9IHtcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICAgICAgcGF0dGVyblByb3BlcnRpZXM6IHt9LFxuICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IHRydWUsXG4gICAgICAgICAgICBhbGxvd1RyYWlsaW5nQ29tbWFzOiB0cnVlLFxuICAgICAgICAgICAgYWxsb3dDb21tZW50czogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb25Qcm9wZXJ0aWVzID0ge307XG4gICAgICAgIHRoaXMucG9saWN5Q29uZmlndXJhdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZXhjbHVkZWRDb25maWd1cmF0aW9uUHJvcGVydGllcyA9IHt9O1xuICAgICAgICBjb250cmlidXRpb25SZWdpc3RyeS5yZWdpc3RlclNjaGVtYShyZXNvdXJjZUxhbmd1YWdlU2V0dGluZ3NTY2hlbWFJZCwgdGhpcy5yZXNvdXJjZUxhbmd1YWdlU2V0dGluZ3NTY2hlbWEpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyT3ZlcnJpZGVQcm9wZXJ0eVBhdHRlcm5LZXkoKTtcbiAgICB9XG4gICAgcmVnaXN0ZXJDb25maWd1cmF0aW9uKGNvbmZpZ3VyYXRpb24sIHZhbGlkYXRlID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29uZmlndXJhdGlvbnMoW2NvbmZpZ3VyYXRpb25dLCB2YWxpZGF0ZSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyQ29uZmlndXJhdGlvbnMoY29uZmlndXJhdGlvbnMsIHZhbGlkYXRlID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmRvUmVnaXN0ZXJDb25maWd1cmF0aW9ucyhjb25maWd1cmF0aW9ucywgdmFsaWRhdGUsIHByb3BlcnRpZXMpO1xuICAgICAgICBjb250cmlidXRpb25SZWdpc3RyeS5yZWdpc3RlclNjaGVtYShyZXNvdXJjZUxhbmd1YWdlU2V0dGluZ3NTY2hlbWFJZCwgdGhpcy5yZXNvdXJjZUxhbmd1YWdlU2V0dGluZ3NTY2hlbWEpO1xuICAgICAgICB0aGlzLl9vbkRpZFNjaGVtYUNoYW5nZS5maXJlKCk7XG4gICAgICAgIHRoaXMuX29uRGlkVXBkYXRlQ29uZmlndXJhdGlvbi5maXJlKHsgcHJvcGVydGllcyB9KTtcbiAgICB9XG4gICAgcmVnaXN0ZXJEZWZhdWx0Q29uZmlndXJhdGlvbnMoY29uZmlndXJhdGlvbkRlZmF1bHRzKSB7XG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuZG9SZWdpc3RlckRlZmF1bHRDb25maWd1cmF0aW9ucyhjb25maWd1cmF0aW9uRGVmYXVsdHMsIHByb3BlcnRpZXMpO1xuICAgICAgICB0aGlzLl9vbkRpZFNjaGVtYUNoYW5nZS5maXJlKCk7XG4gICAgICAgIHRoaXMuX29uRGlkVXBkYXRlQ29uZmlndXJhdGlvbi5maXJlKHsgcHJvcGVydGllcywgZGVmYXVsdHNPdmVycmlkZXM6IHRydWUgfSk7XG4gICAgfVxuICAgIGRvUmVnaXN0ZXJEZWZhdWx0Q29uZmlndXJhdGlvbnMoY29uZmlndXJhdGlvbkRlZmF1bHRzLCBidWNrZXQpIHtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkQ29uZmlndXJhdGlvbkRlZmF1bHRzLnB1c2goLi4uY29uZmlndXJhdGlvbkRlZmF1bHRzKTtcbiAgICAgICAgY29uc3Qgb3ZlcnJpZGVJZGVudGlmaWVycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHsgb3ZlcnJpZGVzLCBzb3VyY2UgfSBvZiBjb25maWd1cmF0aW9uRGVmYXVsdHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG92ZXJyaWRlcykge1xuICAgICAgICAgICAgICAgIGJ1Y2tldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25maWd1cmF0aW9uRGVmYXVsdE92ZXJyaWRlc0ZvcktleSA9IHRoaXMuY29uZmlndXJhdGlvbkRlZmF1bHRzT3ZlcnJpZGVzLmdldChrZXkpXG4gICAgICAgICAgICAgICAgICAgID8/IHRoaXMuY29uZmlndXJhdGlvbkRlZmF1bHRzT3ZlcnJpZGVzLnNldChrZXksIHsgY29uZmlndXJhdGlvbkRlZmF1bHRPdmVycmlkZXM6IFtdIH0pLmdldChrZXkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gb3ZlcnJpZGVzW2tleV07XG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbkRlZmF1bHRPdmVycmlkZXNGb3JLZXkuY29uZmlndXJhdGlvbkRlZmF1bHRPdmVycmlkZXMucHVzaCh7IHZhbHVlLCBzb3VyY2UgfSk7XG4gICAgICAgICAgICAgICAgLy8gQ29uZmlndXJhdGlvbiBkZWZhdWx0cyBmb3IgT3ZlcnJpZGUgSWRlbnRpZmllcnNcbiAgICAgICAgICAgICAgICBpZiAoT1ZFUlJJREVfUFJPUEVSVFlfUkVHRVgudGVzdChrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RlZmF1bHRPdmVycmlkZSA9IHRoaXMubWVyZ2VEZWZhdWx0Q29uZmlndXJhdGlvbnNGb3JPdmVycmlkZUlkZW50aWZpZXIoa2V5LCB2YWx1ZSwgc291cmNlLCBjb25maWd1cmF0aW9uRGVmYXVsdE92ZXJyaWRlc0ZvcktleS5jb25maWd1cmF0aW9uRGVmYXVsdE92ZXJyaWRlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW5ld0RlZmF1bHRPdmVycmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbkRlZmF1bHRPdmVycmlkZXNGb3JLZXkuY29uZmlndXJhdGlvbkRlZmF1bHRPdmVycmlkZVZhbHVlID0gbmV3RGVmYXVsdE92ZXJyaWRlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZURlZmF1bHRPdmVycmlkZVByb3BlcnR5KGtleSwgbmV3RGVmYXVsdE92ZXJyaWRlLCBzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICBvdmVycmlkZUlkZW50aWZpZXJzLnB1c2goLi4ub3ZlcnJpZGVJZGVudGlmaWVyc0Zyb21LZXkoa2V5KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENvbmZpZ3VyYXRpb24gZGVmYXVsdHMgZm9yIENvbmZpZ3VyYXRpb24gUHJvcGVydGllc1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdEZWZhdWx0T3ZlcnJpZGUgPSB0aGlzLm1lcmdlRGVmYXVsdENvbmZpZ3VyYXRpb25zRm9yQ29uZmlndXJhdGlvblByb3BlcnR5KGtleSwgdmFsdWUsIHNvdXJjZSwgY29uZmlndXJhdGlvbkRlZmF1bHRPdmVycmlkZXNGb3JLZXkuY29uZmlndXJhdGlvbkRlZmF1bHRPdmVycmlkZVZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXdEZWZhdWx0T3ZlcnJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb25EZWZhdWx0T3ZlcnJpZGVzRm9yS2V5LmNvbmZpZ3VyYXRpb25EZWZhdWx0T3ZlcnJpZGVWYWx1ZSA9IG5ld0RlZmF1bHRPdmVycmlkZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSB0aGlzLmNvbmZpZ3VyYXRpb25Qcm9wZXJ0aWVzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQcm9wZXJ0eURlZmF1bHRWYWx1ZShrZXksIHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2NoZW1hKGtleSwgcHJvcGVydHkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZG9SZWdpc3Rlck92ZXJyaWRlSWRlbnRpZmllcnMob3ZlcnJpZGVJZGVudGlmaWVycyk7XG4gICAgfVxuICAgIHVwZGF0ZURlZmF1bHRPdmVycmlkZVByb3BlcnR5KGtleSwgbmV3RGVmYXVsdE92ZXJyaWRlLCBzb3VyY2UpIHtcbiAgICAgICAgY29uc3QgcHJvcGVydHkgPSB7XG4gICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgIGRlZmF1bHQ6IG5ld0RlZmF1bHRPdmVycmlkZS52YWx1ZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBubHMubG9jYWxpemUoJ2RlZmF1bHRMYW5ndWFnZUNvbmZpZ3VyYXRpb24uZGVzY3JpcHRpb24nLCBcIkNvbmZpZ3VyZSBzZXR0aW5ncyB0byBiZSBvdmVycmlkZGVuIGZvciB0aGUgezB9IGxhbmd1YWdlLlwiLCBnZXRMYW5ndWFnZVRhZ1NldHRpbmdQbGFpbktleShrZXkpKSxcbiAgICAgICAgICAgICRyZWY6IHJlc291cmNlTGFuZ3VhZ2VTZXR0aW5nc1NjaGVtYUlkLFxuICAgICAgICAgICAgZGVmYXVsdERlZmF1bHRWYWx1ZTogbmV3RGVmYXVsdE92ZXJyaWRlLnZhbHVlLFxuICAgICAgICAgICAgc291cmNlLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlU291cmNlOiBzb3VyY2VcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uUHJvcGVydGllc1trZXldID0gcHJvcGVydHk7XG4gICAgICAgIHRoaXMuZGVmYXVsdExhbmd1YWdlQ29uZmlndXJhdGlvbk92ZXJyaWRlc05vZGUucHJvcGVydGllc1trZXldID0gcHJvcGVydHk7XG4gICAgfVxuICAgIG1lcmdlRGVmYXVsdENvbmZpZ3VyYXRpb25zRm9yT3ZlcnJpZGVJZGVudGlmaWVyKG92ZXJyaWRlSWRlbnRpZmllciwgY29uZmlndXJhdGlvblZhbHVlT2JqZWN0LCB2YWx1ZVNvdXJjZSwgZXhpc3RpbmdEZWZhdWx0T3ZlcnJpZGUpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gZXhpc3RpbmdEZWZhdWx0T3ZlcnJpZGU/LnZhbHVlIHx8IHt9O1xuICAgICAgICBjb25zdCBzb3VyY2UgPSBleGlzdGluZ0RlZmF1bHRPdmVycmlkZT8uc291cmNlID8/IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgbm90IGhhcHBlblxuICAgICAgICBpZiAoIShzb3VyY2UgaW5zdGFuY2VvZiBNYXApKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdvYmplY3RDb25maWd1cmF0aW9uU291cmNlcyBpcyBub3QgYSBNYXAnKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBwcm9wZXJ0eUtleSBvZiBPYmplY3Qua2V5cyhjb25maWd1cmF0aW9uVmFsdWVPYmplY3QpKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eURlZmF1bHRWYWx1ZSA9IGNvbmZpZ3VyYXRpb25WYWx1ZU9iamVjdFtwcm9wZXJ0eUtleV07XG4gICAgICAgICAgICBjb25zdCBpc09iamVjdFNldHRpbmcgPSB0eXBlcy5pc09iamVjdChwcm9wZXJ0eURlZmF1bHRWYWx1ZSkgJiZcbiAgICAgICAgICAgICAgICAodHlwZXMuaXNVbmRlZmluZWQoZGVmYXVsdFZhbHVlW3Byb3BlcnR5S2V5XSkgfHwgdHlwZXMuaXNPYmplY3QoZGVmYXVsdFZhbHVlW3Byb3BlcnR5S2V5XSkpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGRlZmF1bHQgdmFsdWUgaXMgYW4gb2JqZWN0LCBtZXJnZSB0aGUgb2JqZWN0cyBhbmQgc3RvcmUgdGhlIHNvdXJjZSBvZiBlYWNoIGtleXNcbiAgICAgICAgICAgIGlmIChpc09iamVjdFNldHRpbmcpIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWVbcHJvcGVydHlLZXldID0geyAuLi4oZGVmYXVsdFZhbHVlW3Byb3BlcnR5S2V5XSA/PyB7fSksIC4uLnByb3BlcnR5RGVmYXVsdFZhbHVlIH07XG4gICAgICAgICAgICAgICAgLy8gVHJhY2sgdGhlIHNvdXJjZSBvZiBlYWNoIHZhbHVlIGluIHRoZSBvYmplY3RcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmplY3RLZXkgaW4gcHJvcGVydHlEZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5zZXQoYCR7cHJvcGVydHlLZXl9LiR7b2JqZWN0S2V5fWAsIHZhbHVlU291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFByaW1pdGl2ZSB2YWx1ZXMgYXJlIG92ZXJyaWRkZW5cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZVtwcm9wZXJ0eUtleV0gPSBwcm9wZXJ0eURlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLnNldChwcm9wZXJ0eUtleSwgdmFsdWVTb3VyY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLmRlbGV0ZShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHZhbHVlOiBkZWZhdWx0VmFsdWUsIHNvdXJjZSB9O1xuICAgIH1cbiAgICBtZXJnZURlZmF1bHRDb25maWd1cmF0aW9uc0ZvckNvbmZpZ3VyYXRpb25Qcm9wZXJ0eShwcm9wZXJ0eUtleSwgdmFsdWUsIHZhbHVlc1NvdXJjZSwgZXhpc3RpbmdEZWZhdWx0T3ZlcnJpZGUpIHtcbiAgICAgICAgY29uc3QgcHJvcGVydHkgPSB0aGlzLmNvbmZpZ3VyYXRpb25Qcm9wZXJ0aWVzW3Byb3BlcnR5S2V5XTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdEZWZhdWx0VmFsdWUgPSBleGlzdGluZ0RlZmF1bHRPdmVycmlkZT8udmFsdWUgPz8gcHJvcGVydHk/LmRlZmF1bHREZWZhdWx0VmFsdWU7XG4gICAgICAgIGxldCBzb3VyY2UgPSB2YWx1ZXNTb3VyY2U7XG4gICAgICAgIGNvbnN0IGlzT2JqZWN0U2V0dGluZyA9IHR5cGVzLmlzT2JqZWN0KHZhbHVlKSAmJlxuICAgICAgICAgICAgKHByb3BlcnR5ICE9PSB1bmRlZmluZWQgJiYgcHJvcGVydHkudHlwZSA9PT0gJ29iamVjdCcgfHxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9PT0gdW5kZWZpbmVkICYmICh0eXBlcy5pc1VuZGVmaW5lZChleGlzdGluZ0RlZmF1bHRWYWx1ZSkgfHwgdHlwZXMuaXNPYmplY3QoZXhpc3RpbmdEZWZhdWx0VmFsdWUpKSk7XG4gICAgICAgIC8vIElmIHRoZSBkZWZhdWx0IHZhbHVlIGlzIGFuIG9iamVjdCwgbWVyZ2UgdGhlIG9iamVjdHMgYW5kIHN0b3JlIHRoZSBzb3VyY2Ugb2YgZWFjaCBrZXlzXG4gICAgICAgIGlmIChpc09iamVjdFNldHRpbmcpIHtcbiAgICAgICAgICAgIHNvdXJjZSA9IGV4aXN0aW5nRGVmYXVsdE92ZXJyaWRlPy5zb3VyY2UgPz8gbmV3IE1hcCgpO1xuICAgICAgICAgICAgLy8gVGhpcyBzaG91bGQgbm90IGhhcHBlblxuICAgICAgICAgICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgTWFwKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2RlZmF1bHRWYWx1ZVNvdXJjZSBpcyBub3QgYSBNYXAnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBvYmplY3RLZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzU291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5zZXQoYCR7cHJvcGVydHlLZXl9LiR7b2JqZWN0S2V5fWAsIHZhbHVlc1NvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUgPSB7IC4uLih0eXBlcy5pc09iamVjdChleGlzdGluZ0RlZmF1bHRWYWx1ZSkgPyBleGlzdGluZ0RlZmF1bHRWYWx1ZSA6IHt9KSwgLi4udmFsdWUgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWx1ZSwgc291cmNlIH07XG4gICAgfVxuICAgIHJlZ2lzdGVyT3ZlcnJpZGVJZGVudGlmaWVycyhvdmVycmlkZUlkZW50aWZpZXJzKSB7XG4gICAgICAgIHRoaXMuZG9SZWdpc3Rlck92ZXJyaWRlSWRlbnRpZmllcnMob3ZlcnJpZGVJZGVudGlmaWVycyk7XG4gICAgICAgIHRoaXMuX29uRGlkU2NoZW1hQ2hhbmdlLmZpcmUoKTtcbiAgICB9XG4gICAgZG9SZWdpc3Rlck92ZXJyaWRlSWRlbnRpZmllcnMob3ZlcnJpZGVJZGVudGlmaWVycykge1xuICAgICAgICBmb3IgKGNvbnN0IG92ZXJyaWRlSWRlbnRpZmllciBvZiBvdmVycmlkZUlkZW50aWZpZXJzKSB7XG4gICAgICAgICAgICB0aGlzLm92ZXJyaWRlSWRlbnRpZmllcnMuYWRkKG92ZXJyaWRlSWRlbnRpZmllcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVPdmVycmlkZVByb3BlcnR5UGF0dGVybktleSgpO1xuICAgIH1cbiAgICBkb1JlZ2lzdGVyQ29uZmlndXJhdGlvbnMoY29uZmlndXJhdGlvbnMsIHZhbGlkYXRlLCBidWNrZXQpIHtcbiAgICAgICAgY29uZmlndXJhdGlvbnMuZm9yRWFjaChjb25maWd1cmF0aW9uID0+IHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGVBbmRSZWdpc3RlclByb3BlcnRpZXMoY29uZmlndXJhdGlvbiwgdmFsaWRhdGUsIGNvbmZpZ3VyYXRpb24uZXh0ZW5zaW9uSW5mbywgY29uZmlndXJhdGlvbi5yZXN0cmljdGVkUHJvcGVydGllcywgdW5kZWZpbmVkLCBidWNrZXQpO1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uQ29udHJpYnV0b3JzLnB1c2goY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVySlNPTkNvbmZpZ3VyYXRpb24oY29uZmlndXJhdGlvbik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB2YWxpZGF0ZUFuZFJlZ2lzdGVyUHJvcGVydGllcyhjb25maWd1cmF0aW9uLCB2YWxpZGF0ZSA9IHRydWUsIGV4dGVuc2lvbkluZm8sIHJlc3RyaWN0ZWRQcm9wZXJ0aWVzLCBzY29wZSA9IDMgLyogQ29uZmlndXJhdGlvblNjb3BlLldJTkRPVyAqLywgYnVja2V0KSB7XG4gICAgICAgIHNjb3BlID0gdHlwZXMuaXNVbmRlZmluZWRPck51bGwoY29uZmlndXJhdGlvbi5zY29wZSkgPyBzY29wZSA6IGNvbmZpZ3VyYXRpb24uc2NvcGU7XG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBjb25maWd1cmF0aW9uLnByb3BlcnRpZXM7XG4gICAgICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlICYmIHZhbGlkYXRlUHJvcGVydHkoa2V5LCBwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByb3BlcnRpZXNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb3BlcnR5LnNvdXJjZSA9IGV4dGVuc2lvbkluZm87XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGRlZmF1bHQgdmFsdWVcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS5kZWZhdWx0RGVmYXVsdFZhbHVlID0gcHJvcGVydGllc1trZXldLmRlZmF1bHQ7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQcm9wZXJ0eURlZmF1bHRWYWx1ZShrZXksIHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgc2NvcGVcbiAgICAgICAgICAgICAgICBpZiAoT1ZFUlJJREVfUFJPUEVSVFlfUkVHRVgudGVzdChrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnNjb3BlID0gdW5kZWZpbmVkOyAvLyBObyBzY29wZSBmb3Igb3ZlcnJpZGFibGUgcHJvcGVydGllcyBgWyR7aWRlbnRpZmllcn1dYFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuc2NvcGUgPSB0eXBlcy5pc1VuZGVmaW5lZE9yTnVsbChwcm9wZXJ0eS5zY29wZSkgPyBzY29wZSA6IHByb3BlcnR5LnNjb3BlO1xuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5yZXN0cmljdGVkID0gdHlwZXMuaXNVbmRlZmluZWRPck51bGwocHJvcGVydHkucmVzdHJpY3RlZCkgPyAhIXJlc3RyaWN0ZWRQcm9wZXJ0aWVzPy5pbmNsdWRlcyhrZXkpIDogcHJvcGVydHkucmVzdHJpY3RlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWRkIHRvIHByb3BlcnRpZXMgbWFwc1xuICAgICAgICAgICAgICAgIC8vIFByb3BlcnR5IGlzIGluY2x1ZGVkIGJ5IGRlZmF1bHQgaWYgJ2luY2x1ZGVkJyBpcyB1bnNwZWNpZmllZFxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleV0uaGFzT3duUHJvcGVydHkoJ2luY2x1ZGVkJykgJiYgIXByb3BlcnRpZXNba2V5XS5pbmNsdWRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4Y2x1ZGVkQ29uZmlndXJhdGlvblByb3BlcnRpZXNba2V5XSA9IHByb3BlcnRpZXNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByb3BlcnRpZXNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb25Qcm9wZXJ0aWVzW2tleV0gPSBwcm9wZXJ0aWVzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2tleV0ucG9saWN5Py5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvbGljeUNvbmZpZ3VyYXRpb25zLnNldChwcm9wZXJ0aWVzW2tleV0ucG9saWN5Lm5hbWUsIGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzW2tleV0uZGVwcmVjYXRpb25NZXNzYWdlICYmIHByb3BlcnRpZXNba2V5XS5tYXJrZG93bkRlcHJlY2F0aW9uTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBub3Qgc2V0LCBkZWZhdWx0IGRlcHJlY2F0aW9uTWVzc2FnZSB0byB0aGUgbWFya2Rvd24gc291cmNlXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXNba2V5XS5kZXByZWNhdGlvbk1lc3NhZ2UgPSBwcm9wZXJ0aWVzW2tleV0ubWFya2Rvd25EZXByZWNhdGlvbk1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1Y2tldC5hZGQoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdWJOb2RlcyA9IGNvbmZpZ3VyYXRpb24uYWxsT2Y7XG4gICAgICAgIGlmIChzdWJOb2Rlcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIHN1Yk5vZGVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUFuZFJlZ2lzdGVyUHJvcGVydGllcyhub2RlLCB2YWxpZGF0ZSwgZXh0ZW5zaW9uSW5mbywgcmVzdHJpY3RlZFByb3BlcnRpZXMsIHNjb3BlLCBidWNrZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldENvbmZpZ3VyYXRpb25Qcm9wZXJ0aWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uUHJvcGVydGllcztcbiAgICB9XG4gICAgZ2V0UG9saWN5Q29uZmlndXJhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvbGljeUNvbmZpZ3VyYXRpb25zO1xuICAgIH1cbiAgICByZWdpc3RlckpTT05Db25maWd1cmF0aW9uKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgY29uc3QgcmVnaXN0ZXIgPSAoY29uZmlndXJhdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IGNvbmZpZ3VyYXRpb24ucHJvcGVydGllcztcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNjaGVtYShrZXksIHByb3BlcnRpZXNba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3ViTm9kZXMgPSBjb25maWd1cmF0aW9uLmFsbE9mO1xuICAgICAgICAgICAgc3ViTm9kZXM/LmZvckVhY2gocmVnaXN0ZXIpO1xuICAgICAgICB9O1xuICAgICAgICByZWdpc3Rlcihjb25maWd1cmF0aW9uKTtcbiAgICB9XG4gICAgdXBkYXRlU2NoZW1hKGtleSwgcHJvcGVydHkpIHtcbiAgICAgICAgYWxsU2V0dGluZ3MucHJvcGVydGllc1trZXldID0gcHJvcGVydHk7XG4gICAgICAgIHN3aXRjaCAocHJvcGVydHkuc2NvcGUpIHtcbiAgICAgICAgICAgIGNhc2UgMSAvKiBDb25maWd1cmF0aW9uU2NvcGUuQVBQTElDQVRJT04gKi86XG4gICAgICAgICAgICAgICAgYXBwbGljYXRpb25TZXR0aW5ncy5wcm9wZXJ0aWVzW2tleV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMiAvKiBDb25maWd1cmF0aW9uU2NvcGUuTUFDSElORSAqLzpcbiAgICAgICAgICAgICAgICBtYWNoaW5lU2V0dGluZ3MucHJvcGVydGllc1trZXldID0gcHJvcGVydHk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDYgLyogQ29uZmlndXJhdGlvblNjb3BlLk1BQ0hJTkVfT1ZFUlJJREFCTEUgKi86XG4gICAgICAgICAgICAgICAgbWFjaGluZU92ZXJyaWRhYmxlU2V0dGluZ3MucHJvcGVydGllc1trZXldID0gcHJvcGVydHk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDMgLyogQ29uZmlndXJhdGlvblNjb3BlLldJTkRPVyAqLzpcbiAgICAgICAgICAgICAgICB3aW5kb3dTZXR0aW5ncy5wcm9wZXJ0aWVzW2tleV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNCAvKiBDb25maWd1cmF0aW9uU2NvcGUuUkVTT1VSQ0UgKi86XG4gICAgICAgICAgICAgICAgcmVzb3VyY2VTZXR0aW5ncy5wcm9wZXJ0aWVzW2tleV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNSAvKiBDb25maWd1cmF0aW9uU2NvcGUuTEFOR1VBR0VfT1ZFUlJJREFCTEUgKi86XG4gICAgICAgICAgICAgICAgcmVzb3VyY2VTZXR0aW5ncy5wcm9wZXJ0aWVzW2tleV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlTGFuZ3VhZ2VTZXR0aW5nc1NjaGVtYS5wcm9wZXJ0aWVzW2tleV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVPdmVycmlkZVByb3BlcnR5UGF0dGVybktleSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBvdmVycmlkZUlkZW50aWZpZXIgb2YgdGhpcy5vdmVycmlkZUlkZW50aWZpZXJzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBjb25zdCBvdmVycmlkZUlkZW50aWZpZXJQcm9wZXJ0eSA9IGBbJHtvdmVycmlkZUlkZW50aWZpZXJ9XWA7XG4gICAgICAgICAgICBjb25zdCByZXNvdXJjZUxhbmd1YWdlUHJvcGVydGllc1NjaGVtYSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbmxzLmxvY2FsaXplKCdvdmVycmlkZVNldHRpbmdzLmRlZmF1bHREZXNjcmlwdGlvbicsIFwiQ29uZmlndXJlIGVkaXRvciBzZXR0aW5ncyB0byBiZSBvdmVycmlkZGVuIGZvciBhIGxhbmd1YWdlLlwiKSxcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IG5scy5sb2NhbGl6ZSgnb3ZlcnJpZGVTZXR0aW5ncy5lcnJvck1lc3NhZ2UnLCBcIlRoaXMgc2V0dGluZyBkb2VzIG5vdCBzdXBwb3J0IHBlci1sYW5ndWFnZSBjb25maWd1cmF0aW9uLlwiKSxcbiAgICAgICAgICAgICAgICAkcmVmOiByZXNvdXJjZUxhbmd1YWdlU2V0dGluZ3NTY2hlbWFJZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVByb3BlcnR5RGVmYXVsdFZhbHVlKG92ZXJyaWRlSWRlbnRpZmllclByb3BlcnR5LCByZXNvdXJjZUxhbmd1YWdlUHJvcGVydGllc1NjaGVtYSk7XG4gICAgICAgICAgICBhbGxTZXR0aW5ncy5wcm9wZXJ0aWVzW292ZXJyaWRlSWRlbnRpZmllclByb3BlcnR5XSA9IHJlc291cmNlTGFuZ3VhZ2VQcm9wZXJ0aWVzU2NoZW1hO1xuICAgICAgICAgICAgYXBwbGljYXRpb25TZXR0aW5ncy5wcm9wZXJ0aWVzW292ZXJyaWRlSWRlbnRpZmllclByb3BlcnR5XSA9IHJlc291cmNlTGFuZ3VhZ2VQcm9wZXJ0aWVzU2NoZW1hO1xuICAgICAgICAgICAgbWFjaGluZVNldHRpbmdzLnByb3BlcnRpZXNbb3ZlcnJpZGVJZGVudGlmaWVyUHJvcGVydHldID0gcmVzb3VyY2VMYW5ndWFnZVByb3BlcnRpZXNTY2hlbWE7XG4gICAgICAgICAgICBtYWNoaW5lT3ZlcnJpZGFibGVTZXR0aW5ncy5wcm9wZXJ0aWVzW292ZXJyaWRlSWRlbnRpZmllclByb3BlcnR5XSA9IHJlc291cmNlTGFuZ3VhZ2VQcm9wZXJ0aWVzU2NoZW1hO1xuICAgICAgICAgICAgd2luZG93U2V0dGluZ3MucHJvcGVydGllc1tvdmVycmlkZUlkZW50aWZpZXJQcm9wZXJ0eV0gPSByZXNvdXJjZUxhbmd1YWdlUHJvcGVydGllc1NjaGVtYTtcbiAgICAgICAgICAgIHJlc291cmNlU2V0dGluZ3MucHJvcGVydGllc1tvdmVycmlkZUlkZW50aWZpZXJQcm9wZXJ0eV0gPSByZXNvdXJjZUxhbmd1YWdlUHJvcGVydGllc1NjaGVtYTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWdpc3Rlck92ZXJyaWRlUHJvcGVydHlQYXR0ZXJuS2V5KCkge1xuICAgICAgICBjb25zdCByZXNvdXJjZUxhbmd1YWdlUHJvcGVydGllc1NjaGVtYSA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IG5scy5sb2NhbGl6ZSgnb3ZlcnJpZGVTZXR0aW5ncy5kZWZhdWx0RGVzY3JpcHRpb24nLCBcIkNvbmZpZ3VyZSBlZGl0b3Igc2V0dGluZ3MgdG8gYmUgb3ZlcnJpZGRlbiBmb3IgYSBsYW5ndWFnZS5cIiksXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IG5scy5sb2NhbGl6ZSgnb3ZlcnJpZGVTZXR0aW5ncy5lcnJvck1lc3NhZ2UnLCBcIlRoaXMgc2V0dGluZyBkb2VzIG5vdCBzdXBwb3J0IHBlci1sYW5ndWFnZSBjb25maWd1cmF0aW9uLlwiKSxcbiAgICAgICAgICAgICRyZWY6IHJlc291cmNlTGFuZ3VhZ2VTZXR0aW5nc1NjaGVtYUlkLFxuICAgICAgICB9O1xuICAgICAgICBhbGxTZXR0aW5ncy5wYXR0ZXJuUHJvcGVydGllc1tPVkVSUklERV9QUk9QRVJUWV9QQVRURVJOXSA9IHJlc291cmNlTGFuZ3VhZ2VQcm9wZXJ0aWVzU2NoZW1hO1xuICAgICAgICBhcHBsaWNhdGlvblNldHRpbmdzLnBhdHRlcm5Qcm9wZXJ0aWVzW09WRVJSSURFX1BST1BFUlRZX1BBVFRFUk5dID0gcmVzb3VyY2VMYW5ndWFnZVByb3BlcnRpZXNTY2hlbWE7XG4gICAgICAgIG1hY2hpbmVTZXR0aW5ncy5wYXR0ZXJuUHJvcGVydGllc1tPVkVSUklERV9QUk9QRVJUWV9QQVRURVJOXSA9IHJlc291cmNlTGFuZ3VhZ2VQcm9wZXJ0aWVzU2NoZW1hO1xuICAgICAgICBtYWNoaW5lT3ZlcnJpZGFibGVTZXR0aW5ncy5wYXR0ZXJuUHJvcGVydGllc1tPVkVSUklERV9QUk9QRVJUWV9QQVRURVJOXSA9IHJlc291cmNlTGFuZ3VhZ2VQcm9wZXJ0aWVzU2NoZW1hO1xuICAgICAgICB3aW5kb3dTZXR0aW5ncy5wYXR0ZXJuUHJvcGVydGllc1tPVkVSUklERV9QUk9QRVJUWV9QQVRURVJOXSA9IHJlc291cmNlTGFuZ3VhZ2VQcm9wZXJ0aWVzU2NoZW1hO1xuICAgICAgICByZXNvdXJjZVNldHRpbmdzLnBhdHRlcm5Qcm9wZXJ0aWVzW09WRVJSSURFX1BST1BFUlRZX1BBVFRFUk5dID0gcmVzb3VyY2VMYW5ndWFnZVByb3BlcnRpZXNTY2hlbWE7XG4gICAgICAgIHRoaXMuX29uRGlkU2NoZW1hQ2hhbmdlLmZpcmUoKTtcbiAgICB9XG4gICAgdXBkYXRlUHJvcGVydHlEZWZhdWx0VmFsdWUoa2V5LCBwcm9wZXJ0eSkge1xuICAgICAgICBjb25zdCBjb25maWd1cmF0aW9uZGVmYXVsdE92ZXJyaWRlID0gdGhpcy5jb25maWd1cmF0aW9uRGVmYXVsdHNPdmVycmlkZXMuZ2V0KGtleSk/LmNvbmZpZ3VyYXRpb25EZWZhdWx0T3ZlcnJpZGVWYWx1ZTtcbiAgICAgICAgbGV0IGRlZmF1bHRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGRlZmF1bHRTb3VyY2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uZGVmYXVsdE92ZXJyaWRlXG4gICAgICAgICAgICAmJiAoIXByb3BlcnR5LmRpc2FsbG93Q29uZmlndXJhdGlvbkRlZmF1bHQgfHwgIWNvbmZpZ3VyYXRpb25kZWZhdWx0T3ZlcnJpZGUuc291cmNlKSAvLyBQcmV2ZW50IG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgdmFsdWUgaWYgdGhlIHByb3BlcnR5IGlzIGRpc2FsbG93ZWQgdG8gYmUgb3ZlcnJpZGRlbiBieSBjb25maWd1cmF0aW9uIGRlZmF1bHRzIGZyb20gZXh0ZW5zaW9uc1xuICAgICAgICApIHtcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9IGNvbmZpZ3VyYXRpb25kZWZhdWx0T3ZlcnJpZGUudmFsdWU7XG4gICAgICAgICAgICBkZWZhdWx0U291cmNlID0gY29uZmlndXJhdGlvbmRlZmF1bHRPdmVycmlkZS5zb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVzLmlzVW5kZWZpbmVkKGRlZmF1bHRWYWx1ZSkpIHtcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9IHByb3BlcnR5LmRlZmF1bHREZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICBkZWZhdWx0U291cmNlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlcy5pc1VuZGVmaW5lZChkZWZhdWx0VmFsdWUpKSB7XG4gICAgICAgICAgICBkZWZhdWx0VmFsdWUgPSBnZXREZWZhdWx0VmFsdWUocHJvcGVydHkudHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvcGVydHkuZGVmYXVsdCA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgcHJvcGVydHkuZGVmYXVsdFZhbHVlU291cmNlID0gZGVmYXVsdFNvdXJjZTtcbiAgICB9XG59XG5jb25zdCBPVkVSUklERV9JREVOVElGSUVSX1BBVFRFUk4gPSBgXFxcXFsoW15cXFxcXV0rKVxcXFxdYDtcbmNvbnN0IE9WRVJSSURFX0lERU5USUZJRVJfUkVHRVggPSBuZXcgUmVnRXhwKE9WRVJSSURFX0lERU5USUZJRVJfUEFUVEVSTiwgJ2cnKTtcbmV4cG9ydCBjb25zdCBPVkVSUklERV9QUk9QRVJUWV9QQVRURVJOID0gYF4oJHtPVkVSUklERV9JREVOVElGSUVSX1BBVFRFUk59KSskYDtcbmV4cG9ydCBjb25zdCBPVkVSUklERV9QUk9QRVJUWV9SRUdFWCA9IG5ldyBSZWdFeHAoT1ZFUlJJREVfUFJPUEVSVFlfUEFUVEVSTik7XG5leHBvcnQgZnVuY3Rpb24gb3ZlcnJpZGVJZGVudGlmaWVyc0Zyb21LZXkoa2V5KSB7XG4gICAgY29uc3QgaWRlbnRpZmllcnMgPSBbXTtcbiAgICBpZiAoT1ZFUlJJREVfUFJPUEVSVFlfUkVHRVgudGVzdChrZXkpKSB7XG4gICAgICAgIGxldCBtYXRjaGVzID0gT1ZFUlJJREVfSURFTlRJRklFUl9SRUdFWC5leGVjKGtleSk7XG4gICAgICAgIHdoaWxlIChtYXRjaGVzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkZW50aWZpZXIgPSBtYXRjaGVzWzFdLnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChpZGVudGlmaWVyKSB7XG4gICAgICAgICAgICAgICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hdGNoZXMgPSBPVkVSUklERV9JREVOVElGSUVSX1JFR0VYLmV4ZWMoa2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGlzdGluY3QoaWRlbnRpZmllcnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRWYWx1ZSh0eXBlKSB7XG4gICAgY29uc3QgdCA9IEFycmF5LmlzQXJyYXkodHlwZSkgPyB0eXBlWzBdIDogdHlwZTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgJ2ludGVnZXInOlxuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmNvbnN0IGNvbmZpZ3VyYXRpb25SZWdpc3RyeSA9IG5ldyBDb25maWd1cmF0aW9uUmVnaXN0cnkoKTtcblJlZ2lzdHJ5LmFkZChFeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24sIGNvbmZpZ3VyYXRpb25SZWdpc3RyeSk7XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eShwcm9wZXJ0eSwgc2NoZW1hKSB7XG4gICAgaWYgKCFwcm9wZXJ0eS50cmltKCkpIHtcbiAgICAgICAgcmV0dXJuIG5scy5sb2NhbGl6ZSgnY29uZmlnLnByb3BlcnR5LmVtcHR5JywgXCJDYW5ub3QgcmVnaXN0ZXIgYW4gZW1wdHkgcHJvcGVydHlcIik7XG4gICAgfVxuICAgIGlmIChPVkVSUklERV9QUk9QRVJUWV9SRUdFWC50ZXN0KHByb3BlcnR5KSkge1xuICAgICAgICByZXR1cm4gbmxzLmxvY2FsaXplKCdjb25maWcucHJvcGVydHkubGFuZ3VhZ2VEZWZhdWx0JywgXCJDYW5ub3QgcmVnaXN0ZXIgJ3swfScuIFRoaXMgbWF0Y2hlcyBwcm9wZXJ0eSBwYXR0ZXJuICdcXFxcXFxcXFsuKlxcXFxcXFxcXSQnIGZvciBkZXNjcmliaW5nIGxhbmd1YWdlIHNwZWNpZmljIGVkaXRvciBzZXR0aW5ncy4gVXNlICdjb25maWd1cmF0aW9uRGVmYXVsdHMnIGNvbnRyaWJ1dGlvbi5cIiwgcHJvcGVydHkpO1xuICAgIH1cbiAgICBpZiAoY29uZmlndXJhdGlvblJlZ2lzdHJ5LmdldENvbmZpZ3VyYXRpb25Qcm9wZXJ0aWVzKClbcHJvcGVydHldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG5scy5sb2NhbGl6ZSgnY29uZmlnLnByb3BlcnR5LmR1cGxpY2F0ZScsIFwiQ2Fubm90IHJlZ2lzdGVyICd7MH0nLiBUaGlzIHByb3BlcnR5IGlzIGFscmVhZHkgcmVnaXN0ZXJlZC5cIiwgcHJvcGVydHkpO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hLnBvbGljeT8ubmFtZSAmJiBjb25maWd1cmF0aW9uUmVnaXN0cnkuZ2V0UG9saWN5Q29uZmlndXJhdGlvbnMoKS5nZXQoc2NoZW1hLnBvbGljeT8ubmFtZSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbmxzLmxvY2FsaXplKCdjb25maWcucG9saWN5LmR1cGxpY2F0ZScsIFwiQ2Fubm90IHJlZ2lzdGVyICd7MH0nLiBUaGUgYXNzb2NpYXRlZCBwb2xpY3kgezF9IGlzIGFscmVhZHkgcmVnaXN0ZXJlZCB3aXRoIHsyfS5cIiwgcHJvcGVydHksIHNjaGVtYS5wb2xpY3k/Lm5hbWUsIGNvbmZpZ3VyYXRpb25SZWdpc3RyeS5nZXRQb2xpY3lDb25maWd1cmF0aW9ucygpLmdldChzY2hlbWEucG9saWN5Py5uYW1lKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vLyAtLS0tLS0gaW50ZXJuYWwgdXRpbFxuZXhwb3J0IHZhciBfdXRpbDtcbihmdW5jdGlvbiAoX3V0aWwpIHtcbiAgICBfdXRpbC5zZXJ2aWNlSWRzID0gbmV3IE1hcCgpO1xuICAgIF91dGlsLkRJX1RBUkdFVCA9ICckZGkkdGFyZ2V0JztcbiAgICBfdXRpbC5ESV9ERVBFTkRFTkNJRVMgPSAnJGRpJGRlcGVuZGVuY2llcyc7XG4gICAgZnVuY3Rpb24gZ2V0U2VydmljZURlcGVuZGVuY2llcyhjdG9yKSB7XG4gICAgICAgIHJldHVybiBjdG9yW191dGlsLkRJX0RFUEVOREVOQ0lFU10gfHwgW107XG4gICAgfVxuICAgIF91dGlsLmdldFNlcnZpY2VEZXBlbmRlbmNpZXMgPSBnZXRTZXJ2aWNlRGVwZW5kZW5jaWVzO1xufSkoX3V0aWwgfHwgKF91dGlsID0ge30pKTtcbmV4cG9ydCBjb25zdCBJSW5zdGFudGlhdGlvblNlcnZpY2UgPSBjcmVhdGVEZWNvcmF0b3IoJ2luc3RhbnRpYXRpb25TZXJ2aWNlJyk7XG5mdW5jdGlvbiBzdG9yZVNlcnZpY2VEZXBlbmRlbmN5KGlkLCB0YXJnZXQsIGluZGV4KSB7XG4gICAgaWYgKHRhcmdldFtfdXRpbC5ESV9UQVJHRVRdID09PSB0YXJnZXQpIHtcbiAgICAgICAgdGFyZ2V0W191dGlsLkRJX0RFUEVOREVOQ0lFU10ucHVzaCh7IGlkLCBpbmRleCB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRhcmdldFtfdXRpbC5ESV9ERVBFTkRFTkNJRVNdID0gW3sgaWQsIGluZGV4IH1dO1xuICAgICAgICB0YXJnZXRbX3V0aWwuRElfVEFSR0VUXSA9IHRhcmdldDtcbiAgICB9XG59XG4vKipcbiAqIFRoZSAqb25seSogdmFsaWQgd2F5IHRvIGNyZWF0ZSBhIHt7U2VydmljZUlkZW50aWZpZXJ9fS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlY29yYXRvcihzZXJ2aWNlSWQpIHtcbiAgICBpZiAoX3V0aWwuc2VydmljZUlkcy5oYXMoc2VydmljZUlkKSkge1xuICAgICAgICByZXR1cm4gX3V0aWwuc2VydmljZUlkcy5nZXQoc2VydmljZUlkKTtcbiAgICB9XG4gICAgY29uc3QgaWQgPSBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIGluZGV4KSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0BJU2VydmljZU5hbWUtZGVjb3JhdG9yIGNhbiBvbmx5IGJlIHVzZWQgdG8gZGVjb3JhdGUgYSBwYXJhbWV0ZXInKTtcbiAgICAgICAgfVxuICAgICAgICBzdG9yZVNlcnZpY2VEZXBlbmRlbmN5KGlkLCB0YXJnZXQsIGluZGV4KTtcbiAgICB9O1xuICAgIGlkLnRvU3RyaW5nID0gKCkgPT4gc2VydmljZUlkO1xuICAgIF91dGlsLnNlcnZpY2VJZHMuc2V0KHNlcnZpY2VJZCwgaWQpO1xuICAgIHJldHVybiBpZDtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2V2ZW50LmpzJztcbmltcG9ydCAqIGFzIHBsYXRmb3JtIGZyb20gJy4uLy4uL3JlZ2lzdHJ5L2NvbW1vbi9wbGF0Zm9ybS5qcyc7XG5leHBvcnQgY29uc3QgRXh0ZW5zaW9ucyA9IHtcbiAgICBKU09OQ29udHJpYnV0aW9uOiAnYmFzZS5jb250cmlidXRpb25zLmpzb24nXG59O1xuZnVuY3Rpb24gbm9ybWFsaXplSWQoaWQpIHtcbiAgICBpZiAoaWQubGVuZ3RoID4gMCAmJiBpZC5jaGFyQXQoaWQubGVuZ3RoIC0gMSkgPT09ICcjJykge1xuICAgICAgICByZXR1cm4gaWQuc3Vic3RyaW5nKDAsIGlkLmxlbmd0aCAtIDEpO1xuICAgIH1cbiAgICByZXR1cm4gaWQ7XG59XG5jbGFzcyBKU09OQ29udHJpYnV0aW9uUmVnaXN0cnkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZVNjaGVtYSA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuc2NoZW1hc0J5SWQgPSB7fTtcbiAgICB9XG4gICAgcmVnaXN0ZXJTY2hlbWEodXJpLCB1bnJlc29sdmVkU2NoZW1hQ29udGVudCkge1xuICAgICAgICB0aGlzLnNjaGVtYXNCeUlkW25vcm1hbGl6ZUlkKHVyaSldID0gdW5yZXNvbHZlZFNjaGVtYUNvbnRlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlU2NoZW1hLmZpcmUodXJpKTtcbiAgICB9XG4gICAgbm90aWZ5U2NoZW1hQ2hhbmdlZCh1cmkpIHtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VTY2hlbWEuZmlyZSh1cmkpO1xuICAgIH1cbn1cbmNvbnN0IGpzb25Db250cmlidXRpb25SZWdpc3RyeSA9IG5ldyBKU09OQ29udHJpYnV0aW9uUmVnaXN0cnkoKTtcbnBsYXRmb3JtLlJlZ2lzdHJ5LmFkZChFeHRlbnNpb25zLkpTT05Db250cmlidXRpb24sIGpzb25Db250cmlidXRpb25SZWdpc3RyeSk7XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCAqIGFzIEFzc2VydCBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9hc3NlcnQuanMnO1xuaW1wb3J0ICogYXMgVHlwZXMgZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdHlwZXMuanMnO1xuY2xhc3MgUmVnaXN0cnlJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBhZGQoaWQsIGRhdGEpIHtcbiAgICAgICAgQXNzZXJ0Lm9rKFR5cGVzLmlzU3RyaW5nKGlkKSk7XG4gICAgICAgIEFzc2VydC5vayhUeXBlcy5pc09iamVjdChkYXRhKSk7XG4gICAgICAgIEFzc2VydC5vayghdGhpcy5kYXRhLmhhcyhpZCksICdUaGVyZSBpcyBhbHJlYWR5IGFuIGV4dGVuc2lvbiB3aXRoIHRoaXMgaWQnKTtcbiAgICAgICAgdGhpcy5kYXRhLnNldChpZCwgZGF0YSk7XG4gICAgfVxuICAgIGFzKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0KGlkKSB8fCBudWxsO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBSZWdpc3RyeSA9IG5ldyBSZWdpc3RyeUltcGwoKTtcbiJdLCJuYW1lcyI6WyJpc1BhdGhTZXBhcmF0b3IiLCJjb2RlIiwidG9TbGFzaGVzIiwib3NQYXRoIiwicmVwbGFjZSIsInNlcCIsInRvUG9zaXhQYXRoIiwiaW5kZXhPZiIsInRlc3QiLCJnZXRSb290IiwicGF0aCIsImxlbiIsImxlbmd0aCIsImZpcnN0TGV0dGVyIiwiY2hhckNvZGVBdCIsInBvcyIsInN0YXJ0Iiwic2xpY2UiLCJpc1dpbmRvd3NEcml2ZUxldHRlciIsImlzRXF1YWxPclBhcmVudCIsImJhc2UiLCJwYXJlbnRDYW5kaWRhdGUiLCJpZ25vcmVDYXNlIiwic2VwYXJhdG9yIiwic2VwT2Zmc2V0IiwiY2hhckF0IiwiY2hhcjAiLCJoYXNEcml2ZUxldHRlciIsImlzV2luZG93c09TIiwiTWltZXMiLCJPYmplY3QiLCJmcmVlemUiLCJ0ZXh0IiwiYmluYXJ5IiwidW5rbm93biIsIm1hcmtkb3duIiwibGF0ZXgiLCJ1cmlMaXN0Iiwib3JpZ2luYWxGU1BhdGgiLCJ1cmkiLCJFeHRVcmkiLCJjb25zdHJ1Y3RvciIsIl9pZ25vcmVQYXRoQ2FzaW5nIiwidGhpcyIsImNvbXBhcmUiLCJ1cmkxIiwidXJpMiIsImlnbm9yZUZyYWdtZW50IiwiZ2V0Q29tcGFyaXNvbktleSIsImlzRXF1YWwiLCJ3aXRoIiwidG9Mb3dlckNhc2UiLCJ1bmRlZmluZWQiLCJmcmFnbWVudCIsInRvU3RyaW5nIiwic2NoZW1lIiwiZmlsZSIsInF1ZXJ5IiwiaXNFcXVhbEF1dGhvcml0eSIsImF1dGhvcml0eSIsImpvaW5QYXRoIiwicmVzb3VyY2UiLCJwYXRoRnJhZ21lbnQiLCJiYXNlbmFtZU9yQXV0aG9yaXR5IiwiYmFzZW5hbWUiLCJleHRuYW1lIiwiZGlybmFtZSIsImNvbnNvbGUiLCJlcnJvciIsIm5vcm1hbGl6ZVBhdGgiLCJub3JtYWxpemVkUGF0aCIsIm5vcm1hbGl6ZSIsInJlbGF0aXZlUGF0aCIsImZyb20iLCJ0byIsImZyb21QYXRoIiwidG9QYXRoIiwiaSIsIk1hdGgiLCJtaW4iLCJzdWJzdHIiLCJyZWxhdGl2ZSIsInJlc29sdmVQYXRoIiwibmV3VVJJIiwicmVzb2x2ZSIsImlzQWJzb2x1dGVQYXRoIiwiYTEiLCJhMiIsImhhc1RyYWlsaW5nUGF0aFNlcGFyYXRvciIsImZzcCIsInAiLCJmc1BhdGgiLCJyZW1vdmVUcmFpbGluZ1BhdGhTZXBhcmF0b3IiLCJhZGRUcmFpbGluZ1BhdGhTZXBhcmF0b3IiLCJpc1Jvb3RTZXAiLCJleHRVcmkiLCJfIiwiYmluZCIsIkRhdGFVcmkiLCJNRVRBX0RBVEFfTEFCRUwiLCJNRVRBX0RBVEFfREVTQ1JJUFRJT04iLCJNRVRBX0RBVEFfU0laRSIsIk1FVEFfREFUQV9NSU1FIiwicGFyc2VNZXRhRGF0YSIsImRhdGFVcmkiLCJtZXRhZGF0YSIsIk1hcCIsInN1YnN0cmluZyIsImxhc3RJbmRleE9mIiwic3BsaXQiLCJmb3JFYWNoIiwicHJvcGVydHkiLCJrZXkiLCJ2YWx1ZSIsInNldCIsIm1pbWUiLCJNb2Rlc1JlZ2lzdHJ5IiwiX29uRGlkQ2hhbmdlTGFuZ3VhZ2VzIiwib25EaWRDaGFuZ2VMYW5ndWFnZXMiLCJldmVudCIsIl9sYW5ndWFnZXMiLCJyZWdpc3Rlckxhbmd1YWdlIiwiZGVmIiwicHVzaCIsImZpcmUiLCJkaXNwb3NlIiwic3BsaWNlIiwiZ2V0TGFuZ3VhZ2VzIiwiYWRkIiwiUExBSU5URVhUX0xBTkdVQUdFX0lEIiwiaWQiLCJleHRlbnNpb25zIiwiYWxpYXNlcyIsIm1pbWV0eXBlcyIsImFzIiwiQ29uZmlndXJhdGlvbiIsInJlZ2lzdGVyRGVmYXVsdENvbmZpZ3VyYXRpb25zIiwib3ZlcnJpZGVzIiwiSUNvbmZpZ3VyYXRpb25TZXJ2aWNlIiwidG9WYWx1ZXNUcmVlIiwicHJvcGVydGllcyIsImNvbmZsaWN0UmVwb3J0ZXIiLCJyb290IiwiY3JlYXRlIiwiYWRkVG9WYWx1ZVRyZWUiLCJzZXR0aW5nc1RyZWVSb290Iiwic2VnbWVudHMiLCJsYXN0IiwicG9wIiwiY3VyciIsInMiLCJvYmoiLCJqb2luIiwiSlNPTiIsInN0cmluZ2lmeSIsImUiLCJyZW1vdmVGcm9tVmFsdWVUcmVlIiwidmFsdWVUcmVlIiwiZG9SZW1vdmVGcm9tVmFsdWVUcmVlIiwiZmlyc3QiLCJzaGlmdCIsImtleXMiLCJBcnJheSIsImlzQXJyYXkiLCJnZXRDb25maWd1cmF0aW9uVmFsdWUiLCJjb25maWciLCJzZXR0aW5nUGF0aCIsImRlZmF1bHRWYWx1ZSIsInJlc3VsdCIsImN1cnJlbnQiLCJjb21wb25lbnQiLCJhY2Nlc3NTZXR0aW5nIiwiZ2V0TGFuZ3VhZ2VUYWdTZXR0aW5nUGxhaW5LZXkiLCJzZXR0aW5nS2V5IiwiRXh0ZW5zaW9ucyIsImFsbFNldHRpbmdzIiwicGF0dGVyblByb3BlcnRpZXMiLCJhcHBsaWNhdGlvblNldHRpbmdzIiwibWFjaGluZVNldHRpbmdzIiwibWFjaGluZU92ZXJyaWRhYmxlU2V0dGluZ3MiLCJ3aW5kb3dTZXR0aW5ncyIsInJlc291cmNlU2V0dGluZ3MiLCJyZXNvdXJjZUxhbmd1YWdlU2V0dGluZ3NTY2hlbWFJZCIsImNvbnRyaWJ1dGlvblJlZ2lzdHJ5IiwiSlNPTkNvbnRyaWJ1dGlvbiIsIk9WRVJSSURFX0lERU5USUZJRVJfUEFUVEVSTiIsIk9WRVJSSURFX0lERU5USUZJRVJfUkVHRVgiLCJSZWdFeHAiLCJPVkVSUklERV9QUk9QRVJUWV9QQVRURVJOIiwiT1ZFUlJJREVfUFJPUEVSVFlfUkVHRVgiLCJvdmVycmlkZUlkZW50aWZpZXJzRnJvbUtleSIsImlkZW50aWZpZXJzIiwibWF0Y2hlcyIsImV4ZWMiLCJpZGVudGlmaWVyIiwidHJpbSIsImNvbmZpZ3VyYXRpb25SZWdpc3RyeSIsInJlZ2lzdGVyZWRDb25maWd1cmF0aW9uRGVmYXVsdHMiLCJvdmVycmlkZUlkZW50aWZpZXJzIiwiU2V0IiwiX29uRGlkU2NoZW1hQ2hhbmdlIiwiX29uRGlkVXBkYXRlQ29uZmlndXJhdGlvbiIsImNvbmZpZ3VyYXRpb25EZWZhdWx0c092ZXJyaWRlcyIsImRlZmF1bHRMYW5ndWFnZUNvbmZpZ3VyYXRpb25PdmVycmlkZXNOb2RlIiwidGl0bGUiLCJjb25maWd1cmF0aW9uQ29udHJpYnV0b3JzIiwicmVzb3VyY2VMYW5ndWFnZVNldHRpbmdzU2NoZW1hIiwiYWRkaXRpb25hbFByb3BlcnRpZXMiLCJhbGxvd1RyYWlsaW5nQ29tbWFzIiwiYWxsb3dDb21tZW50cyIsImNvbmZpZ3VyYXRpb25Qcm9wZXJ0aWVzIiwicG9saWN5Q29uZmlndXJhdGlvbnMiLCJleGNsdWRlZENvbmZpZ3VyYXRpb25Qcm9wZXJ0aWVzIiwicmVnaXN0ZXJTY2hlbWEiLCJyZWdpc3Rlck92ZXJyaWRlUHJvcGVydHlQYXR0ZXJuS2V5IiwicmVnaXN0ZXJDb25maWd1cmF0aW9uIiwiY29uZmlndXJhdGlvbiIsInZhbGlkYXRlIiwicmVnaXN0ZXJDb25maWd1cmF0aW9ucyIsImNvbmZpZ3VyYXRpb25zIiwiZG9SZWdpc3RlckNvbmZpZ3VyYXRpb25zIiwiY29uZmlndXJhdGlvbkRlZmF1bHRzIiwiZG9SZWdpc3RlckRlZmF1bHRDb25maWd1cmF0aW9ucyIsImRlZmF1bHRzT3ZlcnJpZGVzIiwiYnVja2V0Iiwic291cmNlIiwiY29uZmlndXJhdGlvbkRlZmF1bHRPdmVycmlkZXNGb3JLZXkiLCJnZXQiLCJjb25maWd1cmF0aW9uRGVmYXVsdE92ZXJyaWRlcyIsIm5ld0RlZmF1bHRPdmVycmlkZSIsIm1lcmdlRGVmYXVsdENvbmZpZ3VyYXRpb25zRm9yT3ZlcnJpZGVJZGVudGlmaWVyIiwiY29uZmlndXJhdGlvbkRlZmF1bHRPdmVycmlkZVZhbHVlIiwidXBkYXRlRGVmYXVsdE92ZXJyaWRlUHJvcGVydHkiLCJtZXJnZURlZmF1bHRDb25maWd1cmF0aW9uc0ZvckNvbmZpZ3VyYXRpb25Qcm9wZXJ0eSIsInVwZGF0ZVByb3BlcnR5RGVmYXVsdFZhbHVlIiwidXBkYXRlU2NoZW1hIiwiZG9SZWdpc3Rlck92ZXJyaWRlSWRlbnRpZmllcnMiLCJ0eXBlIiwiZGVmYXVsdCIsImRlc2NyaXB0aW9uIiwiJHJlZiIsImRlZmF1bHREZWZhdWx0VmFsdWUiLCJkZWZhdWx0VmFsdWVTb3VyY2UiLCJvdmVycmlkZUlkZW50aWZpZXIiLCJjb25maWd1cmF0aW9uVmFsdWVPYmplY3QiLCJ2YWx1ZVNvdXJjZSIsImV4aXN0aW5nRGVmYXVsdE92ZXJyaWRlIiwicHJvcGVydHlLZXkiLCJwcm9wZXJ0eURlZmF1bHRWYWx1ZSIsIm9iamVjdEtleSIsImRlbGV0ZSIsInZhbHVlc1NvdXJjZSIsImV4aXN0aW5nRGVmYXVsdFZhbHVlIiwicmVnaXN0ZXJPdmVycmlkZUlkZW50aWZpZXJzIiwidXBkYXRlT3ZlcnJpZGVQcm9wZXJ0eVBhdHRlcm5LZXkiLCJ2YWxpZGF0ZUFuZFJlZ2lzdGVyUHJvcGVydGllcyIsImV4dGVuc2lvbkluZm8iLCJyZXN0cmljdGVkUHJvcGVydGllcyIsInJlZ2lzdGVySlNPTkNvbmZpZ3VyYXRpb24iLCJzY29wZSIsInZhbGlkYXRlUHJvcGVydHkiLCJyZXN0cmljdGVkIiwiaW5jbHVkZXMiLCJoYXNPd25Qcm9wZXJ0eSIsImluY2x1ZGVkIiwicG9saWN5IiwibmFtZSIsImRlcHJlY2F0aW9uTWVzc2FnZSIsIm1hcmtkb3duRGVwcmVjYXRpb25NZXNzYWdlIiwic3ViTm9kZXMiLCJhbGxPZiIsIm5vZGUiLCJnZXRDb25maWd1cmF0aW9uUHJvcGVydGllcyIsImdldFBvbGljeUNvbmZpZ3VyYXRpb25zIiwicmVnaXN0ZXIiLCJ2YWx1ZXMiLCJvdmVycmlkZUlkZW50aWZpZXJQcm9wZXJ0eSIsInJlc291cmNlTGFuZ3VhZ2VQcm9wZXJ0aWVzU2NoZW1hIiwiZXJyb3JNZXNzYWdlIiwiY29uZmlndXJhdGlvbmRlZmF1bHRPdmVycmlkZSIsImRlZmF1bHRTb3VyY2UiLCJkaXNhbGxvd0NvbmZpZ3VyYXRpb25EZWZhdWx0IiwiZ2V0RGVmYXVsdFZhbHVlIiwic2NoZW1hIiwiX3V0aWwiLCJzZXJ2aWNlSWRzIiwiRElfVEFSR0VUIiwiRElfREVQRU5ERU5DSUVTIiwiZ2V0U2VydmljZURlcGVuZGVuY2llcyIsImN0b3IiLCJJSW5zdGFudGlhdGlvblNlcnZpY2UiLCJjcmVhdGVEZWNvcmF0b3IiLCJzZXJ2aWNlSWQiLCJoYXMiLCJ0YXJnZXQiLCJpbmRleCIsImFyZ3VtZW50cyIsIkVycm9yIiwic3RvcmVTZXJ2aWNlRGVwZW5kZW5jeSIsImpzb25Db250cmlidXRpb25SZWdpc3RyeSIsIl9vbkRpZENoYW5nZVNjaGVtYSIsInNjaGVtYXNCeUlkIiwidW5yZXNvbHZlZFNjaGVtYUNvbnRlbnQiLCJub3RpZnlTY2hlbWFDaGFuZ2VkIiwiUmVnaXN0cnkiLCJkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==