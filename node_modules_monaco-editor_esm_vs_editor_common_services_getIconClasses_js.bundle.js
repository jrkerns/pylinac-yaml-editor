"use strict";
(self["webpackChunkpylinac_yaml_editor"] = self["webpackChunkpylinac_yaml_editor"] || []).push([["node_modules_monaco-editor_esm_vs_editor_common_services_getIconClasses_js"],{

/***/ "./node_modules/monaco-editor/esm/vs/base/common/themables.js":
/*!********************************************************************!*\
  !*** ./node_modules/monaco-editor/esm/vs/base/common/themables.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ThemeColor: () => (/* binding */ ThemeColor),
/* harmony export */   ThemeIcon: () => (/* binding */ ThemeIcon)
/* harmony export */ });
/* harmony import */ var _codicons_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./codicons.js */ "./node_modules/monaco-editor/esm/vs/base/common/codicons.js");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

var ThemeColor;
(function (ThemeColor) {
    function isThemeColor(obj) {
        return obj && typeof obj === 'object' && typeof obj.id === 'string';
    }
    ThemeColor.isThemeColor = isThemeColor;
})(ThemeColor || (ThemeColor = {}));
var ThemeIcon;
(function (ThemeIcon) {
    ThemeIcon.iconNameSegment = '[A-Za-z0-9]+';
    ThemeIcon.iconNameExpression = '[A-Za-z0-9-]+';
    ThemeIcon.iconModifierExpression = '~[A-Za-z]+';
    ThemeIcon.iconNameCharacter = '[A-Za-z0-9~-]';
    const ThemeIconIdRegex = new RegExp(`^(${ThemeIcon.iconNameExpression})(${ThemeIcon.iconModifierExpression})?$`);
    function asClassNameArray(icon) {
        const match = ThemeIconIdRegex.exec(icon.id);
        if (!match) {
            return asClassNameArray(_codicons_js__WEBPACK_IMPORTED_MODULE_0__.Codicon.error);
        }
        const [, id, modifier] = match;
        const classNames = ['codicon', 'codicon-' + id];
        if (modifier) {
            classNames.push('codicon-modifier-' + modifier.substring(1));
        }
        return classNames;
    }
    ThemeIcon.asClassNameArray = asClassNameArray;
    function asClassName(icon) {
        return asClassNameArray(icon).join(' ');
    }
    ThemeIcon.asClassName = asClassName;
    function asCSSSelector(icon) {
        return '.' + asClassNameArray(icon).join('.');
    }
    ThemeIcon.asCSSSelector = asCSSSelector;
    function isThemeIcon(obj) {
        return obj && typeof obj === 'object' && typeof obj.id === 'string' && (typeof obj.color === 'undefined' || ThemeColor.isThemeColor(obj.color));
    }
    ThemeIcon.isThemeIcon = isThemeIcon;
    const _regexFromString = new RegExp(`^\\$\\((${ThemeIcon.iconNameExpression}(?:${ThemeIcon.iconModifierExpression})?)\\)$`);
    function fromString(str) {
        const match = _regexFromString.exec(str);
        if (!match) {
            return undefined;
        }
        const [, name] = match;
        return { id: name };
    }
    ThemeIcon.fromString = fromString;
    function fromId(id) {
        return { id };
    }
    ThemeIcon.fromId = fromId;
    function modify(icon, modifier) {
        let id = icon.id;
        const tildeIndex = id.lastIndexOf('~');
        if (tildeIndex !== -1) {
            id = id.substring(0, tildeIndex);
        }
        if (modifier) {
            id = `${id}~${modifier}`;
        }
        return { id };
    }
    ThemeIcon.modify = modify;
    function getModifier(icon) {
        const tildeIndex = icon.id.lastIndexOf('~');
        if (tildeIndex !== -1) {
            return icon.id.substring(tildeIndex + 1);
        }
        return undefined;
    }
    ThemeIcon.getModifier = getModifier;
    function isEqual(ti1, ti2) {
        return ti1.id === ti2.id && ti1.color?.id === ti2.color?.id;
    }
    ThemeIcon.isEqual = isEqual;
})(ThemeIcon || (ThemeIcon = {}));


/***/ }),

/***/ "./node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses.js":
/*!************************************************************************************!*\
  !*** ./node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getIconClasses: () => (/* binding */ getIconClasses)
/* harmony export */ });
/* harmony import */ var _base_common_network_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../base/common/network.js */ "./node_modules/monaco-editor/esm/vs/base/common/network.js");
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../base/common/resources.js */ "./node_modules/monaco-editor/esm/vs/base/common/resources.js");
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../base/common/uri.js */ "./node_modules/monaco-editor/esm/vs/base/common/uri.js");
/* harmony import */ var _languages_modesRegistry_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../languages/modesRegistry.js */ "./node_modules/monaco-editor/esm/vs/editor/common/languages/modesRegistry.js");
/* harmony import */ var _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../platform/files/common/files.js */ "./node_modules/monaco-editor/esm/vs/platform/files/common/files.js");
/* harmony import */ var _base_common_themables_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../base/common/themables.js */ "./node_modules/monaco-editor/esm/vs/base/common/themables.js");
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/






const fileIconDirectoryRegex = /(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;
function getIconClasses(modelService, languageService, resource, fileKind, icon) {
    if (_base_common_themables_js__WEBPACK_IMPORTED_MODULE_5__.ThemeIcon.isThemeIcon(icon)) {
        return [`codicon-${icon.id}`, 'predefined-file-icon'];
    }
    if (_base_common_uri_js__WEBPACK_IMPORTED_MODULE_2__.URI.isUri(icon)) {
        return [];
    }
    // we always set these base classes even if we do not have a path
    const classes = fileKind === _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_4__.FileKind.ROOT_FOLDER ? ['rootfolder-icon'] : fileKind === _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_4__.FileKind.FOLDER ? ['folder-icon'] : ['file-icon'];
    if (resource) {
        // Get the path and name of the resource. For data-URIs, we need to parse specially
        let name;
        if (resource.scheme === _base_common_network_js__WEBPACK_IMPORTED_MODULE_0__.Schemas.data) {
            const metadata = _base_common_resources_js__WEBPACK_IMPORTED_MODULE_1__.DataUri.parseMetaData(resource);
            name = metadata.get(_base_common_resources_js__WEBPACK_IMPORTED_MODULE_1__.DataUri.META_DATA_LABEL);
        }
        else {
            const match = resource.path.match(fileIconDirectoryRegex);
            if (match) {
                name = cssEscape(match[2].toLowerCase());
                if (match[1]) {
                    classes.push(`${cssEscape(match[1].toLowerCase())}-name-dir-icon`); // parent directory
                }
            }
            else {
                name = cssEscape(resource.authority.toLowerCase());
            }
        }
        // Root Folders
        if (fileKind === _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_4__.FileKind.ROOT_FOLDER) {
            classes.push(`${name}-root-name-folder-icon`);
        }
        // Folders
        else if (fileKind === _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_4__.FileKind.FOLDER) {
            classes.push(`${name}-name-folder-icon`);
        }
        // Files
        else {
            // Name & Extension(s)
            if (name) {
                classes.push(`${name}-name-file-icon`);
                classes.push(`name-file-icon`); // extra segment to increase file-name score
                // Avoid doing an explosive combination of extensions for very long filenames
                // (most file systems do not allow files > 255 length) with lots of `.` characters
                // https://github.com/microsoft/vscode/issues/116199
                if (name.length <= 255) {
                    const dotSegments = name.split('.');
                    for (let i = 1; i < dotSegments.length; i++) {
                        classes.push(`${dotSegments.slice(i).join('.')}-ext-file-icon`); // add each combination of all found extensions if more than one
                    }
                }
                classes.push(`ext-file-icon`); // extra segment to increase file-ext score
            }
            // Detected Mode
            const detectedLanguageId = detectLanguageId(modelService, languageService, resource);
            if (detectedLanguageId) {
                classes.push(`${cssEscape(detectedLanguageId)}-lang-file-icon`);
            }
        }
    }
    return classes;
}
function detectLanguageId(modelService, languageService, resource) {
    if (!resource) {
        return null; // we need a resource at least
    }
    let languageId = null;
    // Data URI: check for encoded metadata
    if (resource.scheme === _base_common_network_js__WEBPACK_IMPORTED_MODULE_0__.Schemas.data) {
        const metadata = _base_common_resources_js__WEBPACK_IMPORTED_MODULE_1__.DataUri.parseMetaData(resource);
        const mime = metadata.get(_base_common_resources_js__WEBPACK_IMPORTED_MODULE_1__.DataUri.META_DATA_MIME);
        if (mime) {
            languageId = languageService.getLanguageIdByMimeType(mime);
        }
    }
    // Any other URI: check for model if existing
    else {
        const model = modelService.getModel(resource);
        if (model) {
            languageId = model.getLanguageId();
        }
    }
    // only take if the language id is specific (aka no just plain text)
    if (languageId && languageId !== _languages_modesRegistry_js__WEBPACK_IMPORTED_MODULE_3__.PLAINTEXT_LANGUAGE_ID) {
        return languageId;
    }
    // otherwise fallback to path based detection
    return languageService.guessLanguageIdByFilepathOrFirstLine(resource);
}
function cssEscape(str) {
    return str.replace(/[\s]/g, '/'); // HTML class names can not contain certain whitespace characters (https://dom.spec.whatwg.org/#interface-domtokenlist), use / instead, which doesn't exist in file names.
}


/***/ }),

/***/ "./node_modules/monaco-editor/esm/vs/platform/files/common/files.js":
/*!**************************************************************************!*\
  !*** ./node_modules/monaco-editor/esm/vs/platform/files/common/files.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FileKind: () => (/* binding */ FileKind)
/* harmony export */ });
//#endregion
//#region Utilities
var FileKind;
(function (FileKind) {
    FileKind[FileKind["FILE"] = 0] = "FILE";
    FileKind[FileKind["FOLDER"] = 1] = "FOLDER";
    FileKind[FileKind["ROOT_FOLDER"] = 2] = "ROOT_FOLDER";
})(FileKind || (FileKind = {}));
//#endregion


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX21vbmFjby1lZGl0b3JfZXNtX3ZzX2VkaXRvcl9jb21tb25fc2VydmljZXNfZ2V0SWNvbkNsYXNzZXNfanMuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ3dDO0FBQ2pDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0NBQWdDO0FBQzFCO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyw2QkFBNkIsSUFBSSxpQ0FBaUM7QUFDL0c7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGlEQUFPO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCw2QkFBNkIsS0FBSyxpQ0FBaUM7QUFDdEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsR0FBRyxHQUFHLFNBQVM7QUFDbkM7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsOEJBQThCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsRi9CO0FBQ0E7QUFDQTtBQUNBO0FBQzBEO0FBQ0U7QUFDVjtBQUNvQjtBQUNIO0FBQ0w7QUFDOUQ7QUFDTztBQUNQLFFBQVEsZ0VBQVM7QUFDakIsMkJBQTJCLFFBQVE7QUFDbkM7QUFDQSxRQUFRLG9EQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHFFQUFRLGtEQUFrRCxxRUFBUTtBQUNuRztBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsNERBQU87QUFDdkMsNkJBQTZCLDhEQUFPO0FBQ3BDLGdDQUFnQyw4REFBTztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msa0NBQWtDLGtCQUFrQjtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixxRUFBUTtBQUNqQyw0QkFBNEIsS0FBSztBQUNqQztBQUNBO0FBQ0EsOEJBQThCLHFFQUFRO0FBQ3RDLDRCQUE0QixLQUFLO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsS0FBSztBQUNyQyxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx3QkFBd0I7QUFDNUQsd0NBQXdDLCtCQUErQixrQkFBa0I7QUFDekY7QUFDQTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw4QkFBOEI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDREQUFPO0FBQ25DLHlCQUF5Qiw4REFBTztBQUNoQyxrQ0FBa0MsOERBQU87QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDhFQUFxQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7Ozs7Ozs7Ozs7Ozs7OztBQ3RHQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNEJBQTRCO0FBQzdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi90aGVtYWJsZXMuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL3NlcnZpY2VzL2dldEljb25DbGFzc2VzLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvcGxhdGZvcm0vZmlsZXMvY29tbW9uL2ZpbGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgQ29kaWNvbiB9IGZyb20gJy4vY29kaWNvbnMuanMnO1xuZXhwb3J0IHZhciBUaGVtZUNvbG9yO1xuKGZ1bmN0aW9uIChUaGVtZUNvbG9yKSB7XG4gICAgZnVuY3Rpb24gaXNUaGVtZUNvbG9yKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmouaWQgPT09ICdzdHJpbmcnO1xuICAgIH1cbiAgICBUaGVtZUNvbG9yLmlzVGhlbWVDb2xvciA9IGlzVGhlbWVDb2xvcjtcbn0pKFRoZW1lQ29sb3IgfHwgKFRoZW1lQ29sb3IgPSB7fSkpO1xuZXhwb3J0IHZhciBUaGVtZUljb247XG4oZnVuY3Rpb24gKFRoZW1lSWNvbikge1xuICAgIFRoZW1lSWNvbi5pY29uTmFtZVNlZ21lbnQgPSAnW0EtWmEtejAtOV0rJztcbiAgICBUaGVtZUljb24uaWNvbk5hbWVFeHByZXNzaW9uID0gJ1tBLVphLXowLTktXSsnO1xuICAgIFRoZW1lSWNvbi5pY29uTW9kaWZpZXJFeHByZXNzaW9uID0gJ35bQS1aYS16XSsnO1xuICAgIFRoZW1lSWNvbi5pY29uTmFtZUNoYXJhY3RlciA9ICdbQS1aYS16MC05fi1dJztcbiAgICBjb25zdCBUaGVtZUljb25JZFJlZ2V4ID0gbmV3IFJlZ0V4cChgXigke1RoZW1lSWNvbi5pY29uTmFtZUV4cHJlc3Npb259KSgke1RoZW1lSWNvbi5pY29uTW9kaWZpZXJFeHByZXNzaW9ufSk/JGApO1xuICAgIGZ1bmN0aW9uIGFzQ2xhc3NOYW1lQXJyYXkoaWNvbikge1xuICAgICAgICBjb25zdCBtYXRjaCA9IFRoZW1lSWNvbklkUmVnZXguZXhlYyhpY29uLmlkKTtcbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIGFzQ2xhc3NOYW1lQXJyYXkoQ29kaWNvbi5lcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgWywgaWQsIG1vZGlmaWVyXSA9IG1hdGNoO1xuICAgICAgICBjb25zdCBjbGFzc05hbWVzID0gWydjb2RpY29uJywgJ2NvZGljb24tJyArIGlkXTtcbiAgICAgICAgaWYgKG1vZGlmaWVyKSB7XG4gICAgICAgICAgICBjbGFzc05hbWVzLnB1c2goJ2NvZGljb24tbW9kaWZpZXItJyArIG1vZGlmaWVyLnN1YnN0cmluZygxKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsYXNzTmFtZXM7XG4gICAgfVxuICAgIFRoZW1lSWNvbi5hc0NsYXNzTmFtZUFycmF5ID0gYXNDbGFzc05hbWVBcnJheTtcbiAgICBmdW5jdGlvbiBhc0NsYXNzTmFtZShpY29uKSB7XG4gICAgICAgIHJldHVybiBhc0NsYXNzTmFtZUFycmF5KGljb24pLmpvaW4oJyAnKTtcbiAgICB9XG4gICAgVGhlbWVJY29uLmFzQ2xhc3NOYW1lID0gYXNDbGFzc05hbWU7XG4gICAgZnVuY3Rpb24gYXNDU1NTZWxlY3RvcihpY29uKSB7XG4gICAgICAgIHJldHVybiAnLicgKyBhc0NsYXNzTmFtZUFycmF5KGljb24pLmpvaW4oJy4nKTtcbiAgICB9XG4gICAgVGhlbWVJY29uLmFzQ1NTU2VsZWN0b3IgPSBhc0NTU1NlbGVjdG9yO1xuICAgIGZ1bmN0aW9uIGlzVGhlbWVJY29uKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmouaWQgPT09ICdzdHJpbmcnICYmICh0eXBlb2Ygb2JqLmNvbG9yID09PSAndW5kZWZpbmVkJyB8fCBUaGVtZUNvbG9yLmlzVGhlbWVDb2xvcihvYmouY29sb3IpKTtcbiAgICB9XG4gICAgVGhlbWVJY29uLmlzVGhlbWVJY29uID0gaXNUaGVtZUljb247XG4gICAgY29uc3QgX3JlZ2V4RnJvbVN0cmluZyA9IG5ldyBSZWdFeHAoYF5cXFxcJFxcXFwoKCR7VGhlbWVJY29uLmljb25OYW1lRXhwcmVzc2lvbn0oPzoke1RoZW1lSWNvbi5pY29uTW9kaWZpZXJFeHByZXNzaW9ufSk/KVxcXFwpJGApO1xuICAgIGZ1bmN0aW9uIGZyb21TdHJpbmcoc3RyKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gX3JlZ2V4RnJvbVN0cmluZy5leGVjKHN0cik7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgWywgbmFtZV0gPSBtYXRjaDtcbiAgICAgICAgcmV0dXJuIHsgaWQ6IG5hbWUgfTtcbiAgICB9XG4gICAgVGhlbWVJY29uLmZyb21TdHJpbmcgPSBmcm9tU3RyaW5nO1xuICAgIGZ1bmN0aW9uIGZyb21JZChpZCkge1xuICAgICAgICByZXR1cm4geyBpZCB9O1xuICAgIH1cbiAgICBUaGVtZUljb24uZnJvbUlkID0gZnJvbUlkO1xuICAgIGZ1bmN0aW9uIG1vZGlmeShpY29uLCBtb2RpZmllcikge1xuICAgICAgICBsZXQgaWQgPSBpY29uLmlkO1xuICAgICAgICBjb25zdCB0aWxkZUluZGV4ID0gaWQubGFzdEluZGV4T2YoJ34nKTtcbiAgICAgICAgaWYgKHRpbGRlSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBpZCA9IGlkLnN1YnN0cmluZygwLCB0aWxkZUluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kaWZpZXIpIHtcbiAgICAgICAgICAgIGlkID0gYCR7aWR9fiR7bW9kaWZpZXJ9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBpZCB9O1xuICAgIH1cbiAgICBUaGVtZUljb24ubW9kaWZ5ID0gbW9kaWZ5O1xuICAgIGZ1bmN0aW9uIGdldE1vZGlmaWVyKGljb24pIHtcbiAgICAgICAgY29uc3QgdGlsZGVJbmRleCA9IGljb24uaWQubGFzdEluZGV4T2YoJ34nKTtcbiAgICAgICAgaWYgKHRpbGRlSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gaWNvbi5pZC5zdWJzdHJpbmcodGlsZGVJbmRleCArIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIFRoZW1lSWNvbi5nZXRNb2RpZmllciA9IGdldE1vZGlmaWVyO1xuICAgIGZ1bmN0aW9uIGlzRXF1YWwodGkxLCB0aTIpIHtcbiAgICAgICAgcmV0dXJuIHRpMS5pZCA9PT0gdGkyLmlkICYmIHRpMS5jb2xvcj8uaWQgPT09IHRpMi5jb2xvcj8uaWQ7XG4gICAgfVxuICAgIFRoZW1lSWNvbi5pc0VxdWFsID0gaXNFcXVhbDtcbn0pKFRoZW1lSWNvbiB8fCAoVGhlbWVJY29uID0ge30pKTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgU2NoZW1hcyB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL25ldHdvcmsuanMnO1xuaW1wb3J0IHsgRGF0YVVyaSB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3Jlc291cmNlcy5qcyc7XG5pbXBvcnQgeyBVUkkgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi91cmkuanMnO1xuaW1wb3J0IHsgUExBSU5URVhUX0xBTkdVQUdFX0lEIH0gZnJvbSAnLi4vbGFuZ3VhZ2VzL21vZGVzUmVnaXN0cnkuanMnO1xuaW1wb3J0IHsgRmlsZUtpbmQgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9maWxlcy9jb21tb24vZmlsZXMuanMnO1xuaW1wb3J0IHsgVGhlbWVJY29uIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdGhlbWFibGVzLmpzJztcbmNvbnN0IGZpbGVJY29uRGlyZWN0b3J5UmVnZXggPSAvKD86XFwvfF4pKD86KFteXFwvXSspXFwvKT8oW15cXC9dKykkLztcbmV4cG9ydCBmdW5jdGlvbiBnZXRJY29uQ2xhc3Nlcyhtb2RlbFNlcnZpY2UsIGxhbmd1YWdlU2VydmljZSwgcmVzb3VyY2UsIGZpbGVLaW5kLCBpY29uKSB7XG4gICAgaWYgKFRoZW1lSWNvbi5pc1RoZW1lSWNvbihpY29uKSkge1xuICAgICAgICByZXR1cm4gW2Bjb2RpY29uLSR7aWNvbi5pZH1gLCAncHJlZGVmaW5lZC1maWxlLWljb24nXTtcbiAgICB9XG4gICAgaWYgKFVSSS5pc1VyaShpY29uKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIC8vIHdlIGFsd2F5cyBzZXQgdGhlc2UgYmFzZSBjbGFzc2VzIGV2ZW4gaWYgd2UgZG8gbm90IGhhdmUgYSBwYXRoXG4gICAgY29uc3QgY2xhc3NlcyA9IGZpbGVLaW5kID09PSBGaWxlS2luZC5ST09UX0ZPTERFUiA/IFsncm9vdGZvbGRlci1pY29uJ10gOiBmaWxlS2luZCA9PT0gRmlsZUtpbmQuRk9MREVSID8gWydmb2xkZXItaWNvbiddIDogWydmaWxlLWljb24nXTtcbiAgICBpZiAocmVzb3VyY2UpIHtcbiAgICAgICAgLy8gR2V0IHRoZSBwYXRoIGFuZCBuYW1lIG9mIHRoZSByZXNvdXJjZS4gRm9yIGRhdGEtVVJJcywgd2UgbmVlZCB0byBwYXJzZSBzcGVjaWFsbHlcbiAgICAgICAgbGV0IG5hbWU7XG4gICAgICAgIGlmIChyZXNvdXJjZS5zY2hlbWUgPT09IFNjaGVtYXMuZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBEYXRhVXJpLnBhcnNlTWV0YURhdGEocmVzb3VyY2UpO1xuICAgICAgICAgICAgbmFtZSA9IG1ldGFkYXRhLmdldChEYXRhVXJpLk1FVEFfREFUQV9MQUJFTCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IHJlc291cmNlLnBhdGgubWF0Y2goZmlsZUljb25EaXJlY3RvcnlSZWdleCk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gY3NzRXNjYXBlKG1hdGNoWzJdLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaFsxXSkge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc2VzLnB1c2goYCR7Y3NzRXNjYXBlKG1hdGNoWzFdLnRvTG93ZXJDYXNlKCkpfS1uYW1lLWRpci1pY29uYCk7IC8vIHBhcmVudCBkaXJlY3RvcnlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gY3NzRXNjYXBlKHJlc291cmNlLmF1dGhvcml0eS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSb290IEZvbGRlcnNcbiAgICAgICAgaWYgKGZpbGVLaW5kID09PSBGaWxlS2luZC5ST09UX0ZPTERFUikge1xuICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKGAke25hbWV9LXJvb3QtbmFtZS1mb2xkZXItaWNvbmApO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvbGRlcnNcbiAgICAgICAgZWxzZSBpZiAoZmlsZUtpbmQgPT09IEZpbGVLaW5kLkZPTERFUikge1xuICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKGAke25hbWV9LW5hbWUtZm9sZGVyLWljb25gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGaWxlc1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5hbWUgJiBFeHRlbnNpb24ocylcbiAgICAgICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKGAke25hbWV9LW5hbWUtZmlsZS1pY29uYCk7XG4gICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKGBuYW1lLWZpbGUtaWNvbmApOyAvLyBleHRyYSBzZWdtZW50IHRvIGluY3JlYXNlIGZpbGUtbmFtZSBzY29yZVxuICAgICAgICAgICAgICAgIC8vIEF2b2lkIGRvaW5nIGFuIGV4cGxvc2l2ZSBjb21iaW5hdGlvbiBvZiBleHRlbnNpb25zIGZvciB2ZXJ5IGxvbmcgZmlsZW5hbWVzXG4gICAgICAgICAgICAgICAgLy8gKG1vc3QgZmlsZSBzeXN0ZW1zIGRvIG5vdCBhbGxvdyBmaWxlcyA+IDI1NSBsZW5ndGgpIHdpdGggbG90cyBvZiBgLmAgY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvdnNjb2RlL2lzc3Vlcy8xMTYxOTlcbiAgICAgICAgICAgICAgICBpZiAobmFtZS5sZW5ndGggPD0gMjU1KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvdFNlZ21lbnRzID0gbmFtZS5zcGxpdCgnLicpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGRvdFNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzLnB1c2goYCR7ZG90U2VnbWVudHMuc2xpY2UoaSkuam9pbignLicpfS1leHQtZmlsZS1pY29uYCk7IC8vIGFkZCBlYWNoIGNvbWJpbmF0aW9uIG9mIGFsbCBmb3VuZCBleHRlbnNpb25zIGlmIG1vcmUgdGhhbiBvbmVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjbGFzc2VzLnB1c2goYGV4dC1maWxlLWljb25gKTsgLy8gZXh0cmEgc2VnbWVudCB0byBpbmNyZWFzZSBmaWxlLWV4dCBzY29yZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRGV0ZWN0ZWQgTW9kZVxuICAgICAgICAgICAgY29uc3QgZGV0ZWN0ZWRMYW5ndWFnZUlkID0gZGV0ZWN0TGFuZ3VhZ2VJZChtb2RlbFNlcnZpY2UsIGxhbmd1YWdlU2VydmljZSwgcmVzb3VyY2UpO1xuICAgICAgICAgICAgaWYgKGRldGVjdGVkTGFuZ3VhZ2VJZCkge1xuICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaChgJHtjc3NFc2NhcGUoZGV0ZWN0ZWRMYW5ndWFnZUlkKX0tbGFuZy1maWxlLWljb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2xhc3Nlcztcbn1cbmZ1bmN0aW9uIGRldGVjdExhbmd1YWdlSWQobW9kZWxTZXJ2aWNlLCBsYW5ndWFnZVNlcnZpY2UsIHJlc291cmNlKSB7XG4gICAgaWYgKCFyZXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gbnVsbDsgLy8gd2UgbmVlZCBhIHJlc291cmNlIGF0IGxlYXN0XG4gICAgfVxuICAgIGxldCBsYW5ndWFnZUlkID0gbnVsbDtcbiAgICAvLyBEYXRhIFVSSTogY2hlY2sgZm9yIGVuY29kZWQgbWV0YWRhdGFcbiAgICBpZiAocmVzb3VyY2Uuc2NoZW1lID09PSBTY2hlbWFzLmRhdGEpIHtcbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBEYXRhVXJpLnBhcnNlTWV0YURhdGEocmVzb3VyY2UpO1xuICAgICAgICBjb25zdCBtaW1lID0gbWV0YWRhdGEuZ2V0KERhdGFVcmkuTUVUQV9EQVRBX01JTUUpO1xuICAgICAgICBpZiAobWltZSkge1xuICAgICAgICAgICAgbGFuZ3VhZ2VJZCA9IGxhbmd1YWdlU2VydmljZS5nZXRMYW5ndWFnZUlkQnlNaW1lVHlwZShtaW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBBbnkgb3RoZXIgVVJJOiBjaGVjayBmb3IgbW9kZWwgaWYgZXhpc3RpbmdcbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSBtb2RlbFNlcnZpY2UuZ2V0TW9kZWwocmVzb3VyY2UpO1xuICAgICAgICBpZiAobW9kZWwpIHtcbiAgICAgICAgICAgIGxhbmd1YWdlSWQgPSBtb2RlbC5nZXRMYW5ndWFnZUlkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gb25seSB0YWtlIGlmIHRoZSBsYW5ndWFnZSBpZCBpcyBzcGVjaWZpYyAoYWthIG5vIGp1c3QgcGxhaW4gdGV4dClcbiAgICBpZiAobGFuZ3VhZ2VJZCAmJiBsYW5ndWFnZUlkICE9PSBQTEFJTlRFWFRfTEFOR1VBR0VfSUQpIHtcbiAgICAgICAgcmV0dXJuIGxhbmd1YWdlSWQ7XG4gICAgfVxuICAgIC8vIG90aGVyd2lzZSBmYWxsYmFjayB0byBwYXRoIGJhc2VkIGRldGVjdGlvblxuICAgIHJldHVybiBsYW5ndWFnZVNlcnZpY2UuZ3Vlc3NMYW5ndWFnZUlkQnlGaWxlcGF0aE9yRmlyc3RMaW5lKHJlc291cmNlKTtcbn1cbmZ1bmN0aW9uIGNzc0VzY2FwZShzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcXHNdL2csICcvJyk7IC8vIEhUTUwgY2xhc3MgbmFtZXMgY2FuIG5vdCBjb250YWluIGNlcnRhaW4gd2hpdGVzcGFjZSBjaGFyYWN0ZXJzIChodHRwczovL2RvbS5zcGVjLndoYXR3Zy5vcmcvI2ludGVyZmFjZS1kb210b2tlbmxpc3QpLCB1c2UgLyBpbnN0ZWFkLCB3aGljaCBkb2Vzbid0IGV4aXN0IGluIGZpbGUgbmFtZXMuXG59XG4iLCIvLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBVdGlsaXRpZXNcbmV4cG9ydCB2YXIgRmlsZUtpbmQ7XG4oZnVuY3Rpb24gKEZpbGVLaW5kKSB7XG4gICAgRmlsZUtpbmRbRmlsZUtpbmRbXCJGSUxFXCJdID0gMF0gPSBcIkZJTEVcIjtcbiAgICBGaWxlS2luZFtGaWxlS2luZFtcIkZPTERFUlwiXSA9IDFdID0gXCJGT0xERVJcIjtcbiAgICBGaWxlS2luZFtGaWxlS2luZFtcIlJPT1RfRk9MREVSXCJdID0gMl0gPSBcIlJPT1RfRk9MREVSXCI7XG59KShGaWxlS2luZCB8fCAoRmlsZUtpbmQgPSB7fSkpO1xuLy8jZW5kcmVnaW9uXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=