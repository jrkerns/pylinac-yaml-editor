"use strict";(self.webpackChunkpylinac_yaml_editor=self.webpackChunkpylinac_yaml_editor||[]).push([[3930,5996,6995],{8897:(e,t,n)=>{n.d(t,{KC:()=>o,S3:()=>a,dB:()=>h,nx:()=>i,r:()=>r});var s=n(3338);const i=(e,t)=>e===t;function a(e=i){return(t,n)=>s.aI(t,n,e)}function r(){return(e,t)=>e.equals(t)}function o(e,t,n){if(void 0!==n){return null==e||null==t?t===e:n(e,t)}{const t=e;return(e,n)=>null==e||null==n?n===e:t(e,n)}}function h(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!h(e[n],t[n]))return!1;return!0}if(e&&"object"==typeof e&&t&&"object"==typeof t&&Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype){const n=e,s=t,i=Object.keys(n),a=Object.keys(s),r=new Set(a);if(i.length!==a.length)return!1;for(const e of i){if(!r.has(e))return!1;if(!h(n[e],s[e]))return!1}return!0}return!1}new WeakMap},6311:(e,t,n)=>{n.d(t,{BK:()=>p,fm:()=>u,Y:()=>g,zL:()=>d,yC:()=>c,ht:()=>l,lk:()=>m.lk,un:()=>i.un,nb:()=>i.nb,ZX:()=>m.ZX,C:()=>i.C,rm:()=>i.rm,X2:()=>s.X2,y0:()=>m.y0,Yd:()=>m.Yd,yQ:()=>m.yQ,FY:()=>s.FY,Zh:()=>C,OI:()=>m.OI,PO:()=>s.PO,Rn:()=>s.Rn,oJ:()=>_});var s=n(4442),i=n(8366),a=n(7110),r=n(998),o=n(9855),h=n(4950);function u(e){return new f(new o.nA(void 0,void 0,e),e,void 0,void 0)}function d(e,t){return new f(new o.nA(e.owner,e.debugName,e.debugReferenceFn??t),t,void 0,void 0)}function g(e,t){return new f(new o.nA(e.owner,e.debugName,e.debugReferenceFn??t),t,e.createEmptyChangeSummary,e.handleChange)}function l(e,t){const n=new r.Cm,s=g({owner:e.owner,debugName:e.debugName,debugReferenceFn:e.debugReferenceFn??t,createEmptyChangeSummary:e.createEmptyChangeSummary,handleChange:e.handleChange},((e,s)=>{n.clear(),t(e,s,n)}));return(0,r.s)((()=>{s.dispose(),n.dispose()}))}function c(e){const t=new r.Cm,n=d({owner:void 0,debugName:void 0,debugReferenceFn:e},(n=>{t.clear(),e(n,t)}));return(0,r.s)((()=>{n.dispose(),t.dispose()}))}class f{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,n,s){this._debugNameData=e,this._runFn=t,this.createChangeSummary=n,this._handleChange=s,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=this.createChangeSummary?.(),(0,h.tZ)()?.handleAutorunCreated(this),this._runIfNeeded(),(0,r.Ay)(this)}dispose(){this.disposed=!0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),(0,r.VD)(this)}_runIfNeeded(){if(3===this.state)return;const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;const t=this.disposed;try{if(!t){(0,h.tZ)()?.handleAutorunTriggered(this);const e=this.changeSummary;this.changeSummary=this.createChangeSummary?.(),this._runFn(this,e)}}finally{t||(0,h.tZ)()?.handleAutorunFinished(this);for(const e of this.dependenciesToBeRemoved)e.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){3===this.state&&(this.state=1),this.updateCount++}endUpdate(){if(1===this.updateCount)do{if(1===this.state){this.state=3;for(const e of this.dependencies)if(e.reportChanges(),2===this.state)break}this._runIfNeeded()}while(3!==this.state);this.updateCount--,(0,a.Ft)((()=>this.updateCount>=0))}handlePossibleChange(e){3===this.state&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:t=>t===e},this.changeSummary))&&(this.state=2)}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}}!function(e){e.Observer=f}(u||(u={}));var m=n(2146),v=n(4327);class p{static fromFn(e){return new p(e())}constructor(e){this._value=(0,s.FY)(this,void 0),this.promiseResult=this._value,this.promise=e.then((e=>((0,s.Rn)((t=>{this._value.set(new b(e,void 0),t)})),e)),(e=>{throw(0,s.Rn)((t=>{this._value.set(new b(void 0,e),t)})),e}))}}class b{constructor(e,t){this.data=e,this.error=t}}function _(e,t,n,s){return t||(t=e=>null!=e),new Promise(((i,a)=>{let r=!0,o=!1;const h=e.map((e=>({isFinished:t(e),error:!!n&&n(e),state:e}))),d=u((e=>{const{isFinished:t,error:n,state:s}=h.read(e);(t||n)&&(r?o=!0:d.dispose(),n?a(!0===n?s:n):i(s))}));if(s){const e=s.onCancellationRequested((()=>{d.dispose(),e.dispose(),a(new v.AL)}));if(s.isCancellationRequested)return d.dispose(),e.dispose(),void a(new v.AL)}r=!1,o&&d.dispose()}))}var w=n(8897);class y extends s.ZK{get debugName(){return this._debugNameData.getDebugName(this)??"LazyObservableValue"}constructor(e,t,n){super(),this._debugNameData=e,this._equalityComparator=n,this._isUpToDate=!0,this._deltas=[],this._updateCounter=0,this._value=t}get(){return this._update(),this._value}_update(){if(!this._isUpToDate)if(this._isUpToDate=!0,this._deltas.length>0){for(const e of this.observers)for(const t of this._deltas)e.handleChange(this,t);this._deltas.length=0}else for(const e of this.observers)e.handleChange(this,void 0)}_beginUpdate(){if(this._updateCounter++,1===this._updateCounter)for(const e of this.observers)e.beginUpdate(this)}_endUpdate(){if(this._updateCounter--,0===this._updateCounter){this._update();const e=[...this.observers];for(const t of e)t.endUpdate(this)}}addObserver(e){const t=!this.observers.has(e)&&this._updateCounter>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this._updateCounter>0;super.removeObserver(e),t&&e.endUpdate(this)}set(e,t,n){if(void 0===n&&this._equalityComparator(this._value,e))return;let i;t||(t=i=new s.XL((()=>{}),(()=>`Setting ${this.debugName}`)));try{if(this._isUpToDate=!1,this._setValue(e),void 0!==n&&this._deltas.push(n),t.updateObserver({beginUpdate:()=>this._beginUpdate(),endUpdate:()=>this._endUpdate(),handleChange:(e,t)=>{},handlePossibleChange:e=>{}},this),this._updateCounter>1)for(const e of this.observers)e.handlePossibleChange(this)}finally{i&&i.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function C(e,t){return e.lazy?new y(new o.nA(e.owner,e.debugName,void 0),t,e.equalsFn??w.nx):new s.Lj(new o.nA(e.owner,e.debugName,void 0),t,e.equalsFn??w.nx)}},4442:(e,t,n)=>{n.d(t,{Bm:()=>u,FB:()=>d,FY:()=>w,Lj:()=>y,N2:()=>g,PO:()=>b,Rn:()=>f,X2:()=>C,XL:()=>_,YY:()=>v,ZK:()=>c,fL:()=>p,zV:()=>l});var s=n(8897),i=n(9855),a=n(4950);let r,o,h;function u(e){r=e}function d(e){o=e}function g(e){h=e}class l{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){const n=void 0===t?void 0:e,s=void 0===t?e:t;return h({owner:n,debugName:()=>{const e=(0,i.qQ)(s);if(void 0!==e)return e;const t=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(s.toString());return t?`${this.debugName}.${t[2]}`:n?void 0:`${this.debugName} (mapped)`},debugReferenceFn:s},(e=>s(this.read(e),e)))}flatten(){return h({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},(e=>this.read(e).read(e)))}recomputeInitiallyAndOnChange(e,t){return e.add(r(this,t)),this}keepObserved(e){return e.add(o(this)),this}}class c extends l{constructor(){super(...arguments),this.observers=new Set}addObserver(e){const t=this.observers.size;this.observers.add(e),0===t&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&0===this.observers.size&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function f(e,t){const n=new _(e,t);try{e(n)}finally{n.finish()}}let m=3524==n.j?void 0:null;function v(e){if(m)e(m);else{const t=new _(e,void 0);m=t;try{e(t)}finally{t.finish(),m=void 0}}}async function p(e,t){const n=new _(e,t);try{await e(n)}finally{n.finish()}}function b(e,t,n){e?t(e):f(t,n)}class _{constructor(e,t){this._fn=e,this._getDebugName=t,this.updatingObservers=[],(0,a.tZ)()?.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():(0,i.qQ)(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){const e=this.updatingObservers;for(let t=0;t<e.length;t++){const{observer:n,observable:s}=e[t];n.endUpdate(s)}this.updatingObservers=null,(0,a.tZ)()?.handleEndTransaction()}}function w(e,t){let n;return n="string"==typeof e?new i.nA(void 0,e,void 0):new i.nA(e,void 0,void 0),new y(n,t,s.nx)}class y extends c{get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}constructor(e,t,n){super(),this._debugNameData=e,this._equalityComparator=n,this._value=t}get(){return this._value}set(e,t,n){if(void 0===n&&this._equalityComparator(this._value,e))return;let s;t||(t=s=new _((()=>{}),(()=>`Setting ${this.debugName}`)));try{const s=this._value;this._setValue(e),(0,a.tZ)()?.handleObservableChanged(this,{oldValue:s,newValue:e,change:n,didChange:!0,hadValue:!0});for(const e of this.observers)t.updateObserver(e,this),e.handleChange(this,n)}finally{s&&s.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function C(e,t){let n;return n="string"==typeof e?new i.nA(void 0,e,void 0):new i.nA(e,void 0,void 0),new O(n,t,s.nx)}class O extends(3524==n.j?y:null){_setValue(e){this._value!==e&&(this._value&&this._value.dispose(),this._value=e)}dispose(){this._value?.dispose()}}},9855:(e,t,n)=>{n.d(t,{nA:()=>s,qQ:()=>h});class s{constructor(e,t,n){this.owner=e,this.debugNameSource=t,this.referenceFn=n}getDebugName(e){return function(e,t){const n=a.get(e);if(n)return n;const s=function(e,t){const n=a.get(e);if(n)return n;const s=t.owner?function(e){const t=o.get(e);if(t)return t;const n=function(e){const t=e.constructor;return t?t.name:"Object"}(e);let s=r.get(n)??0;s++,r.set(n,s);const i=1===s?n:`${n}#${s}`;return o.set(e,i),i}(t.owner)+".":"";let i;const u=t.debugNameSource;if(void 0!==u){if("function"!=typeof u)return s+u;if(i=u(),void 0!==i)return s+i}const d=t.referenceFn;if(void 0!==d&&(i=h(d),void 0!==i))return s+i;if(void 0!==t.owner){const n=function(e,t){for(const n in e)if(e[n]===t)return n}(t.owner,e);if(void 0!==n)return s+n}}(e,t);if(s){let t=i.get(s)??0;t++,i.set(s,t);const n=1===t?s:`${s}#${t}`;return a.set(e,n),n}}(e,this)}}const i=new Map,a=new WeakMap,r=new Map,o=new WeakMap;function h(e){const t=e.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t),s=n?n[1]:void 0;return s?.trim()}},8366:(e,t,n)=>{n.d(t,{C:()=>g,a0:()=>f,dQ:()=>d,nb:()=>l,rm:()=>c,un:()=>u});var s=n(7110),i=n(8897),a=n(998),r=n(4442),o=n(9855),h=n(4950);function u(e,t){return void 0!==t?new m(new o.nA(e,void 0,t),t,void 0,void 0,void 0,i.nx):new m(new o.nA(void 0,void 0,e),e,void 0,void 0,void 0,i.nx)}function d(e,t,n){return new v(new o.nA(e,void 0,t),t,void 0,void 0,void 0,i.nx,n)}function g(e,t){return new m(new o.nA(e.owner,e.debugName,e.debugReferenceFn),t,void 0,void 0,e.onLastObserverRemoved,e.equalsFn??i.nx)}function l(e,t){return new m(new o.nA(e.owner,e.debugName,void 0),t,e.createEmptyChangeSummary,e.handleChange,void 0,e.equalityComparer??i.nx)}function c(e,t){let n,s;void 0===t?(n=e,s=void 0):(s=e,n=t);const r=new a.Cm;return new m(new o.nA(s,void 0,n),(e=>(r.clear(),n(e,r))),void 0,void 0,(()=>r.dispose()),i.nx)}function f(e,t){let n,s,r;return void 0===t?(n=e,s=void 0):(s=e,n=t),new m(new o.nA(s,void 0,n),(e=>{r?r.clear():r=new a.Cm;const t=n(e);return t&&r.add(t),t}),void 0,void 0,(()=>{r&&(r.dispose(),r=void 0)}),i.nx)}(0,r.N2)(g);class m extends r.ZK{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,n,s,i=void 0,a){super(),this._debugNameData=e,this._computeFn=t,this.createChangeSummary=n,this._handleChange=s,this._handleLastObserverRemoved=i,this._equalityComparator=a,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=this.createChangeSummary?.(),(0,h.tZ)()?.handleDerivedCreated(this)}onLastObserverRemoved(){this.state=0,this.value=void 0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(0===this.observers.size){const e=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),e}do{if(1===this.state)for(const e of this.dependencies)if(e.reportChanges(),2===this.state)break;1===this.state&&(this.state=3),this._recomputeIfNeeded()}while(3!==this.state);return this.value}_recomputeIfNeeded(){if(3===this.state)return;const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e;const t=0!==this.state,n=this.value;this.state=3;const s=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,s)}finally{for(const e of this.dependenciesToBeRemoved)e.removeObserver(this);this.dependenciesToBeRemoved.clear()}const i=t&&!this._equalityComparator(n,this.value);if((0,h.tZ)()?.handleDerivedRecomputed(this,{oldValue:n,newValue:this.value,change:void 0,didChange:i,hadValue:t}),i)for(const e of this.observers)e.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(e){this.updateCount++;const t=1===this.updateCount;if(3===this.state&&(this.state=1,!t))for(const e of this.observers)e.handlePossibleChange(this);if(t)for(const e of this.observers)e.beginUpdate(this)}endUpdate(e){if(this.updateCount--,0===this.updateCount){const e=[...this.observers];for(const t of e)t.endUpdate(this)}(0,s.Ft)((()=>this.updateCount>=0))}handlePossibleChange(e){if(3===this.state&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){this.state=1;for(const e of this.observers)e.handlePossibleChange(this)}}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){const n=!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:t=>t===e},this.changeSummary),s=3===this.state;if(n&&(1===this.state||s)&&(this.state=2,s))for(const e of this.observers)e.handlePossibleChange(this)}}readObservable(e){e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}addObserver(e){const t=!this.observers.has(e)&&this.updateCount>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this.updateCount>0;super.removeObserver(e),t&&e.endUpdate(this)}}class v extends m{constructor(e,t,n,s,i=void 0,a,r){super(e,t,n,s,i,a),this.set=r}}},4950:(e,t,n)=>{let s;function i(e){s=e}function a(){return s}n.d(t,{Br:()=>i,jm:()=>r,tZ:()=>a});class r{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(e){return function(e){const t=new Array,n=[];let s="";!function e(i){if("length"in i)for(const t of i)t&&e(t);else"text"in i?(s+=`%c${i.text}`,t.push(i.style),i.data&&n.push(...i.data)):"data"in i&&n.push(...i.data)}(e);const i=[s,...t];return i.push(...n),i}([o(g("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[o(" "),u(d(e.oldValue,70),{color:"red",strikeThrough:!0}),o(" "),u(d(e.newValue,60),{color:"green"})]:[o(" (unchanged)")]:[o(" "),u(d(e.newValue,60),{color:"green"}),o(" (initial)")]}handleObservableChanged(e,t){console.log(...this.textToConsoleArgs([h("observable value changed"),u(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t)]))}formatChanges(e){if(0!==e.size)return u(" (changed deps: "+[...e].map((e=>e.debugName)).join(", ")+")",{color:"gray"})}handleDerivedCreated(e){const t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(n,s)=>(this.changedObservablesSets.get(e).add(n),t.apply(e,[n,s]))}handleDerivedRecomputed(e,t){const n=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([h("derived recomputed"),u(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),this.formatChanges(n),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),n.clear()}handleFromEventObservableTriggered(e,t){console.log(...this.textToConsoleArgs([h("observable from event triggered"),u(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){const t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(n,s)=>(this.changedObservablesSets.get(e).add(n),t.apply(e,[n,s]))}handleAutorunTriggered(e){const t=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([h("autorun"),u(e.debugName,{color:"BlueViolet"}),this.formatChanges(t),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),t.clear(),this.indentation++}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let t=e.getDebugName();void 0===t&&(t=""),console.log(...this.textToConsoleArgs([h("transaction"),u(t,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}function o(e){return u(e,{color:"black"})}function h(e){return u(function(e){for(;e.length<10;)e+=" ";return e}(`${e}: `),{color:"black",bold:!0})}function u(e,t={color:"black"}){const n={color:t.color};return t.strikeThrough&&(n["text-decoration"]="line-through"),t.bold&&(n["font-weight"]="bold"),{text:e,style:(s=n,Object.entries(s).reduce(((e,[t,n])=>`${e}${t}:${n};`),""))};var s}function d(e,t){switch(typeof e){case"number":default:return""+e;case"string":return e.length+2<=t?`"${e}"`:`"${e.substr(0,t-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":return null===e?"null":Array.isArray(e)?function(e,t){let n="[ ",s=!0;for(const i of e){if(s||(n+=", "),n.length-5>t){n+="...";break}s=!1,n+=`${d(i,t-n.length)}`}return n+=" ]",n}(e,t):function(e,t){let n="{ ",s=!0;for(const[i,a]of Object.entries(e)){if(s||(n+=", "),n.length-5>t){n+="...";break}s=!1,n+=`${i}: ${d(a,t-n.length)}`}return n+=" }",n}(e,t);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`}}function g(e,t){let n="";for(let s=1;s<=t;s++)n+=e;return n}},2146:(e,t,n)=>{n.d(t,{OI:()=>b,Rl:()=>y,Yd:()=>v,ZX:()=>w,eP:()=>l,lk:()=>u,t:()=>O,y0:()=>g,yQ:()=>f}),n(2106);var s=n(998),i=n(4442),a=n(9855),r=n(8366),o=n(4950),h=n(8897);function u(e){return new d(e)}class d extends i.zV{constructor(e){super(),this.value=e}get debugName(){return this.toString()}get(){return this.value}addObserver(e){}removeObserver(e){}toString(){return`Const: ${this.value}`}}function g(...e){let t,n,s;return 3===e.length?[t,n,s]=e:[n,s]=e,new c(new a.nA(t,void 0,s),n,s,(()=>c.globalTransaction),h.nx)}function l(e,t,n){return new c(new a.nA(e.owner,e.debugName,e.debugReferenceFn??n),t,n,(()=>c.globalTransaction),e.equalsFn??h.nx)}class c extends i.ZK{constructor(e,t,n,s,a){super(),this._debugNameData=e,this.event=t,this._getValue=n,this._getTransaction=s,this._equalityComparator=a,this.hasValue=!1,this.handleEvent=e=>{const t=this._getValue(e),n=this.value,s=!this.hasValue||!this._equalityComparator(n,t);let a=!1;s&&(this.value=t,this.hasValue&&(a=!0,(0,i.PO)(this._getTransaction(),(e=>{(0,o.tZ)()?.handleFromEventObservableTriggered(this,{oldValue:n,newValue:t,change:void 0,didChange:s,hadValue:this.hasValue});for(const t of this.observers)e.updateObserver(t,this),t.handleChange(this,void 0)}),(()=>{const e=this.getDebugName();return"Event fired"+(e?`: ${e}`:"")}))),this.hasValue=!0),a||(0,o.tZ)()?.handleFromEventObservableTriggered(this,{oldValue:n,newValue:t,change:void 0,didChange:s,hadValue:this.hasValue})}}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){const e=this.getDebugName();return"From Event"+(e?`: ${e}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}function f(e,t){return new m(e,t)}!function(e){e.Observer=c,e.batchEventsGlobally=function(e,t){let n=!1;void 0===c.globalTransaction&&(c.globalTransaction=e,n=!0);try{t()}finally{n&&(c.globalTransaction=void 0)}}}(g||(g={}));class m extends i.ZK{constructor(e,t){super(),this.debugName=e,this.event=t,this.handleEvent=()=>{(0,i.Rn)((e=>{for(const t of this.observers)e.updateObserver(t,this),t.handleChange(this,void 0)}),(()=>this.debugName))}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function v(e){return"string"==typeof e?new p(e):new p(void 0,e)}class p extends i.ZK{get debugName(){return new a.nA(this._owner,this._debugName,void 0).getDebugName(this)??"Observable Signal"}toString(){return this.debugName}constructor(e,t){super(),this._debugName=e,this._owner=t}trigger(e,t){if(e)for(const n of this.observers)e.updateObserver(n,this),n.handleChange(this,t);else(0,i.Rn)((e=>{this.trigger(e,t)}),(()=>`Trigger signal ${this.debugName}`))}get(){}}function b(e,t){const n=new _(!0,t);return e.addObserver(n),t?t(e.get()):e.reportChanges(),(0,s.s)((()=>{e.removeObserver(n)}))}(0,i.FB)((function(e){const t=new _(!1,void 0);return e.addObserver(t),(0,s.s)((()=>{e.removeObserver(t)}))})),(0,i.Bm)(b);class _{constructor(e,t){this._forceRecompute=e,this._handleValue=t,this._counter=0}beginUpdate(e){this._counter++}endUpdate(e){this._counter--,0===this._counter&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}}function w(e,t){let n;return(0,r.C)({owner:e,debugReferenceFn:t},(e=>(n=t(e,n),n)))}function y(e,t,n,s){let i=new C(n,s);return(0,r.C)({debugReferenceFn:n,owner:e,onLastObserverRemoved:()=>{i.dispose(),i=new C(n)}},(e=>(i.setItems(t.read(e)),i.getItems())))}class C{constructor(e,t){this._map=e,this._keySelector=t,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach((e=>e.store.dispose())),this._cache.clear()}setItems(e){const t=[],n=new Set(this._cache.keys());for(const i of e){const e=this._keySelector?this._keySelector(i):i;let a=this._cache.get(e);if(a)n.delete(e);else{const t=new s.Cm;a={out:this._map(i,t),store:t},this._cache.set(e,a)}t.push(a.out)}for(const e of n)this._cache.get(e).store.dispose(),this._cache.delete(e);this._items=t}getItems(){return this._items}}function O(e,t){return w(e,((e,n)=>n??t(e)))}},3930:(e,t,n)=>{n.r(t),n.d(t,{LanguageService:()=>d});var s=n(2106),i=n(998),a=n(6995),r=n(3338),o=n(4364),h=n(4957),u=n(6311);class d extends i.jG{static{this.instanceCount=0}constructor(e=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new s.vl),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new s.vl),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new s.vl({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,d.instanceCount++,this._registry=this._register(new a.LanguagesRegistry(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange((()=>this._onDidChange.fire())))}dispose(){d.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){const n=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return(0,r.Fy)(n,null)}createById(e){return new g(this.onDidChange,(()=>this._createAndGetLanguageIdentifier(e)))}createByFilepathOrFirstLine(e,t){return new g(this.onDidChange,(()=>{const n=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(n)}))}_createAndGetLanguageIdentifier(e){return e&&this.isRegisteredLanguageId(e)||(e=h.vH),e}requestBasicLanguageFeatures(e){this._requestedBasicLanguages.has(e)||(this._requestedBasicLanguages.add(e),this._onDidRequestBasicLanguageFeatures.fire(e))}requestRichLanguageFeatures(e){this._requestedRichLanguages.has(e)||(this._requestedRichLanguages.add(e),this.requestBasicLanguageFeatures(e),o.dG.getOrCreate(e),this._onDidRequestRichLanguageFeatures.fire(e))}}class g{constructor(e,t){this._value=(0,u.y0)(this,e,(()=>t())),this.onDidChange=s.Jh.fromObservable(this._value)}get languageId(){return this._value.get()}}},5996:(e,t,n)=>{n.r(t),n.d(t,{clearPlatformLanguageAssociations:()=>f,getLanguageIds:()=>m,registerPlatformLanguageAssociation:()=>c});var s=n(3958),i=n(3720),a=n(3072),r=n(8019),o=n(2467),h=n(6844),u=n(4957);let d=[],g=[],l=[];function c(e,t=!1){!function(e,t,n){const i=function(e){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:false,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?(0,s.qg)(e.filepattern.toLowerCase()):void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(r.SA.sep)>=0}}(e);d.push(i),i.userConfigured?l.push(i):g.push(i),n&&!i.userConfigured&&d.forEach((e=>{e.mime===i.mime||e.userConfigured||(i.extension&&e.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&e.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&e.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&e.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))}))}(e,0,t)}function f(){d=d.filter((e=>e.userConfigured)),g=[]}function m(e,t){return function(e,t){let n;if(e)switch(e.scheme){case a.ny.file:n=e.fsPath;break;case a.ny.data:n=o.B6.parseMetaData(e).get(o.B6.META_DATA_LABEL);break;case a.ny.vscodeNotebookCell:n=void 0;break;default:n=e.path}if(!n)return[{id:"unknown",mime:i.K.unknown}];n=n.toLowerCase();const s=(0,r.P8)(n),c=v(n,s,l);if(c)return[c,{id:u.vH,mime:i.K.text}];const f=v(n,s,g);if(f)return[f,{id:u.vH,mime:i.K.text}];if(t){const e=function(e){if((0,h.LU)(e)&&(e=e.substr(1)),e.length>0)for(let t=d.length-1;t>=0;t--){const n=d[t];if(!n.firstline)continue;const s=e.match(n.firstline);if(s&&s.length>0)return n}}(t);if(e)return[e,{id:u.vH,mime:i.K.text}]}return[{id:"unknown",mime:i.K.unknown}]}(e,t).map((e=>e.id))}function v(e,t,n){let s,i,a;for(let r=n.length-1;r>=0;r--){const o=n[r];if(t===o.filenameLowercase){s=o;break}if(o.filepattern&&(!i||o.filepattern.length>i.filepattern.length)){const n=o.filepatternOnPath?e:t;o.filepatternLowercase?.(n)&&(i=o)}o.extension&&(!a||o.extension.length>a.extension.length)&&t.endsWith(o.extensionLowercase)&&(a=o)}return s||i||a||void 0}},6995:(e,t,n)=>{n.r(t),n.d(t,{LanguageIdCodec:()=>l,LanguagesRegistry:()=>c});var s=n(2106),i=n(998),a=n(6844),r=n(5996),o=n(4957),h=n(7142),u=n(7167);const d=Object.prototype.hasOwnProperty,g="vs.editor.nullLanguage";class l{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(g,0),this._register(o.vH,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||g}}class c extends i.jG{static{this.instanceCount=0}constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new s.vl),this.onDidChange=this._onDidChange.event,c.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new l,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(o.W6.onDidChangeLanguages((e=>{this._initializeFromRegistry()}))))}dispose(){c.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,r.clearPlatformLanguageAssociations)();const e=[].concat(o.W6.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((e=>{const t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach((e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier})),t.mimetypes.forEach((e=>{this._mimeTypesMap[e]=t.identifier}))})),u.O.as(h.Fd.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let n;d.call(this._languages,t)?n=this._languages[t]:(this.languageIdCodec.register(t),n={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[t]=n),this._mergeLanguage(n,e)}_mergeLanguage(e,t){const n=t.id;let s=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),s=t.mimetypes[0]),s||(s=`text/x-${n}`,e.mimetypes.push(s)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(const e of t.extensions)(0,r.registerPlatformLanguageAssociation)({id:n,mime:s,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(const i of t.filenames)(0,r.registerPlatformLanguageAssociation)({id:n,mime:s,filename:i},this._warnOnOverwrite),e.filenames.push(i);if(Array.isArray(t.filenamePatterns))for(const e of t.filenamePatterns)(0,r.registerPlatformLanguageAssociation)({id:n,mime:s,filepattern:e},this._warnOnOverwrite);if("string"==typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{const t=new RegExp(e);(0,a.eY)(t)||(0,r.registerPlatformLanguageAssociation)({id:n,mime:s,firstline:t},this._warnOnOverwrite)}catch(n){console.warn(`[${t.id}]: Invalid regular expression \`${e}\`: `,n)}}e.aliases.push(n);let i=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(i=0===t.aliases.length?[null]:t.aliases),null!==i)for(const t of i)t&&0!==t.length&&e.aliases.push(t);const o=null!==i&&i.length>0;if(o&&null===i[0]);else{const t=(o?i[0]:null)||n;!o&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return!!e&&d.call(this._languages,e)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const t=e.toLowerCase();return d.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&d.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){return e||t?(0,r.getLanguageIds)(e,t):[]}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L1QsS0FBSzBULEVBQUtTLGVBRTlDVCxFQUFLcUIsTUFDTHBCLEVBQWlCSyxNQUFNaFUsS0FBSzBULEVBQUtxQixLQUV6QyxDQUNBLHNCQUFBdkgsQ0FBdUJDLEdBQ25CLFFBQUtBLEdBR0VnRSxFQUFlbUMsS0FBSzlZLEtBQUt3WCxXQUFZN0UsRUFDaEQsQ0FDQSx3QkFBQWdHLEdBQ0ksT0FBTzNhLE9BQU9NLEtBQUswQixLQUFLd1gsV0FDNUIsQ0FDQSwyQkFBQTVFLENBQTRCQyxHQUN4QixNQUFNcUgsRUFBb0JySCxFQUFhOEIsY0FDdkMsT0FBS2dDLEVBQWVtQyxLQUFLOVksS0FBSzJYLGtCQUFtQnVDLEdBRzFDbGEsS0FBSzJYLGtCQUFrQnVDLEdBRm5CLElBR2YsQ0FDQSx1QkFBQXBILENBQXdCQyxHQUNwQixPQUFLQSxHQUdENEQsRUFBZW1DLEtBQUs5WSxLQUFLeVgsY0FBZTFFLEdBQ2pDL1MsS0FBS3lYLGNBQWMxRSxHQUhuQixJQU1mLENBQ0Esb0NBQUFDLENBQXFDQyxFQUFVQyxHQUMzQyxPQUFLRCxHQUFhQyxHQUdYLElBQUFvQyxnQkFBZXJDLEVBQVVDLEdBRnJCLEVBR2YsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vZXF1YWxzLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vb2JzZXJ2YWJsZUludGVybmFsL2F1dG9ydW4uanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9vYnNlcnZhYmxlSW50ZXJuYWwvcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL29ic2VydmFibGVJbnRlcm5hbC9sYXp5T2JzZXJ2YWJsZVZhbHVlLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vb2JzZXJ2YWJsZUludGVybmFsL2FwaS5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL29ic2VydmFibGVJbnRlcm5hbC9iYXNlLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vb2JzZXJ2YWJsZUludGVybmFsL2RlYnVnTmFtZS5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL29ic2VydmFibGVJbnRlcm5hbC9kZXJpdmVkLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vb2JzZXJ2YWJsZUludGVybmFsL2xvZ2dpbmcuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9vYnNlcnZhYmxlSW50ZXJuYWwvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHlsaW5hYy15YW1sLWVkaXRvci8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL3NlcnZpY2VzL2xhbmd1YWdlU2VydmljZS5qcyIsIndlYnBhY2s6Ly9weWxpbmFjLXlhbWwtZWRpdG9yLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vc2VydmljZXMvbGFuZ3VhZ2VzQXNzb2NpYXRpb25zLmpzIiwid2VicGFjazovL3B5bGluYWMteWFtbC1lZGl0b3IvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9zZXJ2aWNlcy9sYW5ndWFnZXNSZWdpc3RyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCAqIGFzIGFycmF5cyBmcm9tICcuL2FycmF5cy5qcyc7XG4vKipcbiAqIENvbXBhcmVzIHR3byBpdGVtcyBmb3IgZXF1YWxpdHkgdXNpbmcgc3RyaWN0IGVxdWFsaXR5LlxuKi9cbmV4cG9ydCBjb25zdCBzdHJpY3RFcXVhbHMgPSAoYSwgYikgPT4gYSA9PT0gYjtcbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBpdGVtcyBvZiB0d28gYXJyYXlzIGFyZSBlcXVhbC5cbiAqIEJ5IGRlZmF1bHQsIHN0cmljdCBlcXVhbGl0eSBpcyB1c2VkIHRvIGNvbXBhcmUgZWxlbWVudHMsIGJ1dCBhIGN1c3RvbSBlcXVhbGl0eSBjb21wYXJlciBjYW4gYmUgcHJvdmlkZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpdGVtc0VxdWFscyhpdGVtRXF1YWxzID0gc3RyaWN0RXF1YWxzKSB7XG4gICAgcmV0dXJuIChhLCBiKSA9PiBhcnJheXMuZXF1YWxzKGEsIGIsIGl0ZW1FcXVhbHMpO1xufVxuLyoqXG4gKiBVc2VzIGBpdGVtLmVxdWFscyhvdGhlcilgIHRvIGRldGVybWluZSBlcXVhbGl0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGl0ZW1FcXVhbHMoKSB7XG4gICAgcmV0dXJuIChhLCBiKSA9PiBhLmVxdWFscyhiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHNJZkRlZmluZWQoZXF1YWxzT3JWMSwgdjIsIGVxdWFscykge1xuICAgIGlmIChlcXVhbHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCB2MSA9IGVxdWFsc09yVjE7XG4gICAgICAgIGlmICh2MSA9PT0gdW5kZWZpbmVkIHx8IHYxID09PSBudWxsIHx8IHYyID09PSB1bmRlZmluZWQgfHwgdjIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB2MiA9PT0gdjE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVxdWFscyh2MSwgdjIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgZXF1YWxzID0gZXF1YWxzT3JWMTtcbiAgICAgICAgcmV0dXJuICh2MSwgdjIpID0+IHtcbiAgICAgICAgICAgIGlmICh2MSA9PT0gdW5kZWZpbmVkIHx8IHYxID09PSBudWxsIHx8IHYyID09PSB1bmRlZmluZWQgfHwgdjIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdjIgPT09IHYxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVxdWFscyh2MSwgdjIpO1xuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKlxuICogRHJpbGxzIGludG8gYXJyYXlzIChpdGVtcyBvcmRlcmVkKSBhbmQgb2JqZWN0cyAoa2V5cyB1bm9yZGVyZWQpIGFuZCB1c2VzIHN0cmljdCBlcXVhbGl0eSBvbiBldmVyeXRoaW5nIGVsc2UuXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cnVjdHVyYWxFcXVhbHMoYSwgYikge1xuICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSAmJiBBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghc3RydWN0dXJhbEVxdWFscyhhW2ldLCBiW2ldKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGEgJiYgdHlwZW9mIGEgPT09ICdvYmplY3QnICYmIGIgJiYgdHlwZW9mIGIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoYSkgPT09IE9iamVjdC5wcm90b3R5cGUgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGIpID09PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgICAgICAgICBjb25zdCBhT2JqID0gYTtcbiAgICAgICAgICAgIGNvbnN0IGJPYmogPSBiO1xuICAgICAgICAgICAgY29uc3Qga2V5c0EgPSBPYmplY3Qua2V5cyhhT2JqKTtcbiAgICAgICAgICAgIGNvbnN0IGtleXNCID0gT2JqZWN0LmtleXMoYk9iaik7XG4gICAgICAgICAgICBjb25zdCBrZXlzQlNldCA9IG5ldyBTZXQoa2V5c0IpO1xuICAgICAgICAgICAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5c0EpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWtleXNCU2V0LmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFzdHJ1Y3R1cmFsRXF1YWxzKGFPYmpba2V5XSwgYk9ialtrZXldKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuY29uc3Qgb2JqSWRzID0gbmV3IFdlYWtNYXAoKTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgYXNzZXJ0Rm4gfSBmcm9tICcuLi9hc3NlcnQuanMnO1xuaW1wb3J0IHsgRGlzcG9zYWJsZVN0b3JlLCBtYXJrQXNEaXNwb3NlZCwgdG9EaXNwb3NhYmxlLCB0cmFja0Rpc3Bvc2FibGUgfSBmcm9tICcuLi9saWZlY3ljbGUuanMnO1xuaW1wb3J0IHsgRGVidWdOYW1lRGF0YSB9IGZyb20gJy4vZGVidWdOYW1lLmpzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4vbG9nZ2luZy5qcyc7XG4vKipcbiAqIFJ1bnMgaW1tZWRpYXRlbHkgYW5kIHdoZW5ldmVyIGEgdHJhbnNhY3Rpb24gZW5kcyBhbmQgYW4gb2JzZXJ2ZWQgb2JzZXJ2YWJsZSBjaGFuZ2VkLlxuICoge0BsaW5rIGZufSBzaG91bGQgc3RhcnQgd2l0aCBhIEpTIERvYyB1c2luZyBgQGRlc2NyaXB0aW9uYCB0byBuYW1lIHRoZSBhdXRvcnVuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXV0b3J1bihmbikge1xuICAgIHJldHVybiBuZXcgQXV0b3J1bk9ic2VydmVyKG5ldyBEZWJ1Z05hbWVEYXRhKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmbiksIGZuLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG59XG4vKipcbiAqIFJ1bnMgaW1tZWRpYXRlbHkgYW5kIHdoZW5ldmVyIGEgdHJhbnNhY3Rpb24gZW5kcyBhbmQgYW4gb2JzZXJ2ZWQgb2JzZXJ2YWJsZSBjaGFuZ2VkLlxuICoge0BsaW5rIGZufSBzaG91bGQgc3RhcnQgd2l0aCBhIEpTIERvYyB1c2luZyBgQGRlc2NyaXB0aW9uYCB0byBuYW1lIHRoZSBhdXRvcnVuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXV0b3J1bk9wdHMob3B0aW9ucywgZm4pIHtcbiAgICByZXR1cm4gbmV3IEF1dG9ydW5PYnNlcnZlcihuZXcgRGVidWdOYW1lRGF0YShvcHRpb25zLm93bmVyLCBvcHRpb25zLmRlYnVnTmFtZSwgb3B0aW9ucy5kZWJ1Z1JlZmVyZW5jZUZuID8/IGZuKSwgZm4sIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbn1cbi8qKlxuICogUnVucyBpbW1lZGlhdGVseSBhbmQgd2hlbmV2ZXIgYSB0cmFuc2FjdGlvbiBlbmRzIGFuZCBhbiBvYnNlcnZlZCBvYnNlcnZhYmxlIGNoYW5nZWQuXG4gKiB7QGxpbmsgZm59IHNob3VsZCBzdGFydCB3aXRoIGEgSlMgRG9jIHVzaW5nIGBAZGVzY3JpcHRpb25gIHRvIG5hbWUgdGhlIGF1dG9ydW4uXG4gKlxuICogVXNlIGBjcmVhdGVFbXB0eUNoYW5nZVN1bW1hcnlgIHRvIGNyZWF0ZSBhIFwiY2hhbmdlIHN1bW1hcnlcIiB0aGF0IGNhbiBjb2xsZWN0IHRoZSBjaGFuZ2VzLlxuICogVXNlIGBoYW5kbGVDaGFuZ2VgIHRvIGFkZCBhIHJlcG9ydGVkIGNoYW5nZSB0byB0aGUgY2hhbmdlIHN1bW1hcnkuXG4gKiBUaGUgcnVuIGZ1bmN0aW9uIGlzIGdpdmVuIHRoZSBsYXN0IGNoYW5nZSBzdW1tYXJ5LlxuICogVGhlIGNoYW5nZSBzdW1tYXJ5IGlzIGRpc2NhcmRlZCBhZnRlciB0aGUgcnVuIGZ1bmN0aW9uIHdhcyBjYWxsZWQuXG4gKlxuICogQHNlZSBhdXRvcnVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdXRvcnVuSGFuZGxlQ2hhbmdlcyhvcHRpb25zLCBmbikge1xuICAgIHJldHVybiBuZXcgQXV0b3J1bk9ic2VydmVyKG5ldyBEZWJ1Z05hbWVEYXRhKG9wdGlvbnMub3duZXIsIG9wdGlvbnMuZGVidWdOYW1lLCBvcHRpb25zLmRlYnVnUmVmZXJlbmNlRm4gPz8gZm4pLCBmbiwgb3B0aW9ucy5jcmVhdGVFbXB0eUNoYW5nZVN1bW1hcnksIG9wdGlvbnMuaGFuZGxlQ2hhbmdlKTtcbn1cbi8qKlxuICogQHNlZSBhdXRvcnVuSGFuZGxlQ2hhbmdlcyAoYnV0IHdpdGggYSBkaXNwb3NhYmxlIHN0b3JlIHRoYXQgaXMgY2xlYXJlZCBiZWZvcmUgdGhlIG5leHQgcnVuIG9yIG9uIGRpc3Bvc2UpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdXRvcnVuV2l0aFN0b3JlSGFuZGxlQ2hhbmdlcyhvcHRpb25zLCBmbikge1xuICAgIGNvbnN0IHN0b3JlID0gbmV3IERpc3Bvc2FibGVTdG9yZSgpO1xuICAgIGNvbnN0IGRpc3Bvc2FibGUgPSBhdXRvcnVuSGFuZGxlQ2hhbmdlcyh7XG4gICAgICAgIG93bmVyOiBvcHRpb25zLm93bmVyLFxuICAgICAgICBkZWJ1Z05hbWU6IG9wdGlvbnMuZGVidWdOYW1lLFxuICAgICAgICBkZWJ1Z1JlZmVyZW5jZUZuOiBvcHRpb25zLmRlYnVnUmVmZXJlbmNlRm4gPz8gZm4sXG4gICAgICAgIGNyZWF0ZUVtcHR5Q2hhbmdlU3VtbWFyeTogb3B0aW9ucy5jcmVhdGVFbXB0eUNoYW5nZVN1bW1hcnksXG4gICAgICAgIGhhbmRsZUNoYW5nZTogb3B0aW9ucy5oYW5kbGVDaGFuZ2UsXG4gICAgfSwgKHJlYWRlciwgY2hhbmdlU3VtbWFyeSkgPT4ge1xuICAgICAgICBzdG9yZS5jbGVhcigpO1xuICAgICAgICBmbihyZWFkZXIsIGNoYW5nZVN1bW1hcnksIHN0b3JlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdG9EaXNwb3NhYmxlKCgpID0+IHtcbiAgICAgICAgZGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gICAgICAgIHN0b3JlLmRpc3Bvc2UoKTtcbiAgICB9KTtcbn1cbi8qKlxuICogQHNlZSBhdXRvcnVuIChidXQgd2l0aCBhIGRpc3Bvc2FibGUgc3RvcmUgdGhhdCBpcyBjbGVhcmVkIGJlZm9yZSB0aGUgbmV4dCBydW4gb3Igb24gZGlzcG9zZSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF1dG9ydW5XaXRoU3RvcmUoZm4pIHtcbiAgICBjb25zdCBzdG9yZSA9IG5ldyBEaXNwb3NhYmxlU3RvcmUoKTtcbiAgICBjb25zdCBkaXNwb3NhYmxlID0gYXV0b3J1bk9wdHMoe1xuICAgICAgICBvd25lcjogdW5kZWZpbmVkLFxuICAgICAgICBkZWJ1Z05hbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgZGVidWdSZWZlcmVuY2VGbjogZm4sXG4gICAgfSwgcmVhZGVyID0+IHtcbiAgICAgICAgc3RvcmUuY2xlYXIoKTtcbiAgICAgICAgZm4ocmVhZGVyLCBzdG9yZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRvRGlzcG9zYWJsZSgoKSA9PiB7XG4gICAgICAgIGRpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICBzdG9yZS5kaXNwb3NlKCk7XG4gICAgfSk7XG59XG5leHBvcnQgY2xhc3MgQXV0b3J1bk9ic2VydmVyIHtcbiAgICBnZXQgZGVidWdOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVidWdOYW1lRGF0YS5nZXREZWJ1Z05hbWUodGhpcykgPz8gJyhhbm9ueW1vdXMpJztcbiAgICB9XG4gICAgY29uc3RydWN0b3IoX2RlYnVnTmFtZURhdGEsIF9ydW5GbiwgY3JlYXRlQ2hhbmdlU3VtbWFyeSwgX2hhbmRsZUNoYW5nZSkge1xuICAgICAgICB0aGlzLl9kZWJ1Z05hbWVEYXRhID0gX2RlYnVnTmFtZURhdGE7XG4gICAgICAgIHRoaXMuX3J1bkZuID0gX3J1bkZuO1xuICAgICAgICB0aGlzLmNyZWF0ZUNoYW5nZVN1bW1hcnkgPSBjcmVhdGVDaGFuZ2VTdW1tYXJ5O1xuICAgICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UgPSBfaGFuZGxlQ2hhbmdlO1xuICAgICAgICB0aGlzLnN0YXRlID0gMiAvKiBBdXRvcnVuU3RhdGUuc3RhbGUgKi87XG4gICAgICAgIHRoaXMudXBkYXRlQ291bnQgPSAwO1xuICAgICAgICB0aGlzLmRpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmRlcGVuZGVuY2llc1RvQmVSZW1vdmVkID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmNoYW5nZVN1bW1hcnkgPSB0aGlzLmNyZWF0ZUNoYW5nZVN1bW1hcnk/LigpO1xuICAgICAgICBnZXRMb2dnZXIoKT8uaGFuZGxlQXV0b3J1bkNyZWF0ZWQodGhpcyk7XG4gICAgICAgIHRoaXMuX3J1bklmTmVlZGVkKCk7XG4gICAgICAgIHRyYWNrRGlzcG9zYWJsZSh0aGlzKTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlZCA9IHRydWU7XG4gICAgICAgIGZvciAoY29uc3QgbyBvZiB0aGlzLmRlcGVuZGVuY2llcykge1xuICAgICAgICAgICAgby5yZW1vdmVPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlcGVuZGVuY2llcy5jbGVhcigpO1xuICAgICAgICBtYXJrQXNEaXNwb3NlZCh0aGlzKTtcbiAgICB9XG4gICAgX3J1bklmTmVlZGVkKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gMyAvKiBBdXRvcnVuU3RhdGUudXBUb0RhdGUgKi8pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbXB0eVNldCA9IHRoaXMuZGVwZW5kZW5jaWVzVG9CZVJlbW92ZWQ7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzVG9CZVJlbW92ZWQgPSB0aGlzLmRlcGVuZGVuY2llcztcbiAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXMgPSBlbXB0eVNldDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IDMgLyogQXV0b3J1blN0YXRlLnVwVG9EYXRlICovO1xuICAgICAgICBjb25zdCBpc0Rpc3Bvc2VkID0gdGhpcy5kaXNwb3NlZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgICAgIGdldExvZ2dlcigpPy5oYW5kbGVBdXRvcnVuVHJpZ2dlcmVkKHRoaXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZVN1bW1hcnkgPSB0aGlzLmNoYW5nZVN1bW1hcnk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdW1tYXJ5ID0gdGhpcy5jcmVhdGVDaGFuZ2VTdW1tYXJ5Py4oKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ydW5Gbih0aGlzLCBjaGFuZ2VTdW1tYXJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmICghaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgICAgIGdldExvZ2dlcigpPy5oYW5kbGVBdXRvcnVuRmluaXNoZWQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXZSBkb24ndCB3YW50IG91ciBvYnNlcnZlZCBvYnNlcnZhYmxlcyB0byB0aGluayB0aGF0IHRoZXkgYXJlIChub3QgZXZlbiB0ZW1wb3JhcmlseSkgbm90IGJlaW5nIG9ic2VydmVkLlxuICAgICAgICAgICAgLy8gVGh1cywgd2Ugb25seSB1bnN1YnNjcmliZSBmcm9tIG9ic2VydmFibGVzIHRoYXQgYXJlIGRlZmluaXRlbHkgbm90IHJlYWQgYW55bW9yZS5cbiAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiB0aGlzLmRlcGVuZGVuY2llc1RvQmVSZW1vdmVkKSB7XG4gICAgICAgICAgICAgICAgby5yZW1vdmVPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzVG9CZVJlbW92ZWQuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBBdXRvcnVuPCR7dGhpcy5kZWJ1Z05hbWV9PmA7XG4gICAgfVxuICAgIC8vIElPYnNlcnZlciBpbXBsZW1lbnRhdGlvblxuICAgIGJlZ2luVXBkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gMyAvKiBBdXRvcnVuU3RhdGUudXBUb0RhdGUgKi8pIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAxIC8qIEF1dG9ydW5TdGF0ZS5kZXBlbmRlbmNpZXNNaWdodEhhdmVDaGFuZ2VkICovO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlQ291bnQrKztcbiAgICB9XG4gICAgZW5kVXBkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy51cGRhdGVDb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAxIC8qIEF1dG9ydW5TdGF0ZS5kZXBlbmRlbmNpZXNNaWdodEhhdmVDaGFuZ2VkICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAzIC8qIEF1dG9ydW5TdGF0ZS51cFRvRGF0ZSAqLztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkIG9mIHRoaXMuZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnJlcG9ydENoYW5nZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAyIC8qIEF1dG9ydW5TdGF0ZS5zdGFsZSAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBvdGhlciBkZXBlbmRlbmNpZXMgd2lsbCByZWZyZXNoIG9uIGRlbWFuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3J1bklmTmVlZGVkKCk7XG4gICAgICAgICAgICB9IHdoaWxlICh0aGlzLnN0YXRlICE9PSAzIC8qIEF1dG9ydW5TdGF0ZS51cFRvRGF0ZSAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVDb3VudC0tO1xuICAgICAgICBhc3NlcnRGbigoKSA9PiB0aGlzLnVwZGF0ZUNvdW50ID49IDApO1xuICAgIH1cbiAgICBoYW5kbGVQb3NzaWJsZUNoYW5nZShvYnNlcnZhYmxlKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAzIC8qIEF1dG9ydW5TdGF0ZS51cFRvRGF0ZSAqLyAmJiB0aGlzLmRlcGVuZGVuY2llcy5oYXMob2JzZXJ2YWJsZSkgJiYgIXRoaXMuZGVwZW5kZW5jaWVzVG9CZVJlbW92ZWQuaGFzKG9ic2VydmFibGUpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gMSAvKiBBdXRvcnVuU3RhdGUuZGVwZW5kZW5jaWVzTWlnaHRIYXZlQ2hhbmdlZCAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVDaGFuZ2Uob2JzZXJ2YWJsZSwgY2hhbmdlKSB7XG4gICAgICAgIGlmICh0aGlzLmRlcGVuZGVuY2llcy5oYXMob2JzZXJ2YWJsZSkgJiYgIXRoaXMuZGVwZW5kZW5jaWVzVG9CZVJlbW92ZWQuaGFzKG9ic2VydmFibGUpKSB7XG4gICAgICAgICAgICBjb25zdCBzaG91bGRSZWFjdCA9IHRoaXMuX2hhbmRsZUNoYW5nZSA/IHRoaXMuX2hhbmRsZUNoYW5nZSh7XG4gICAgICAgICAgICAgICAgY2hhbmdlZE9ic2VydmFibGU6IG9ic2VydmFibGUsXG4gICAgICAgICAgICAgICAgY2hhbmdlLFxuICAgICAgICAgICAgICAgIGRpZENoYW5nZTogKG8pID0+IG8gPT09IG9ic2VydmFibGUsXG4gICAgICAgICAgICB9LCB0aGlzLmNoYW5nZVN1bW1hcnkpIDogdHJ1ZTtcbiAgICAgICAgICAgIGlmIChzaG91bGRSZWFjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAyIC8qIEF1dG9ydW5TdGF0ZS5zdGFsZSAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBJUmVhZGVyIGltcGxlbWVudGF0aW9uXG4gICAgcmVhZE9ic2VydmFibGUob2JzZXJ2YWJsZSkge1xuICAgICAgICAvLyBJbiBjYXNlIHRoZSBydW4gYWN0aW9uIGRpc3Bvc2VzIHRoZSBhdXRvcnVuXG4gICAgICAgIGlmICh0aGlzLmRpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZS5nZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBvYnNlcnZhYmxlLmFkZE9ic2VydmVyKHRoaXMpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG9ic2VydmFibGUuZ2V0KCk7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzLmFkZChvYnNlcnZhYmxlKTtcbiAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXNUb0JlUmVtb3ZlZC5kZWxldGUob2JzZXJ2YWJsZSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG4oZnVuY3Rpb24gKGF1dG9ydW4pIHtcbiAgICBhdXRvcnVuLk9ic2VydmVyID0gQXV0b3J1bk9ic2VydmVyO1xufSkoYXV0b3J1biB8fCAoYXV0b3J1biA9IHt9KSk7XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IGF1dG9ydW4gfSBmcm9tICcuL2F1dG9ydW4uanMnO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZVZhbHVlLCB0cmFuc2FjdGlvbiB9IGZyb20gJy4vYmFzZS5qcyc7XG5pbXBvcnQgeyBDYW5jZWxsYXRpb25FcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG4vKipcbiAqIEEgcHJvbWlzZSB3aG9zZSBzdGF0ZSBpcyBvYnNlcnZhYmxlLlxuICovXG5leHBvcnQgY2xhc3MgT2JzZXJ2YWJsZVByb21pc2Uge1xuICAgIHN0YXRpYyBmcm9tRm4oZm4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlUHJvbWlzZShmbigpKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IocHJvbWlzZSkge1xuICAgICAgICB0aGlzLl92YWx1ZSA9IG9ic2VydmFibGVWYWx1ZSh0aGlzLCB1bmRlZmluZWQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHByb21pc2UuXG4gICAgICAgICAqIElzIGB1bmRlZmluZWRgIGlmIHRoZSBwcm9taXNlIGRpZG4ndCByZXNvbHZlIHlldC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvbWlzZVJlc3VsdCA9IHRoaXMuX3ZhbHVlO1xuICAgICAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlLnRoZW4odmFsdWUgPT4ge1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24odHggPT4ge1xuICAgICAgICAgICAgICAgIC8qKiBAZGVzY3JpcHRpb24gb25Qcm9taXNlUmVzb2x2ZWQgKi9cbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZS5zZXQobmV3IFByb21pc2VSZXN1bHQodmFsdWUsIHVuZGVmaW5lZCksIHR4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbih0eCA9PiB7XG4gICAgICAgICAgICAgICAgLyoqIEBkZXNjcmlwdGlvbiBvblByb21pc2VSZWplY3RlZCAqL1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlLnNldChuZXcgUHJvbWlzZVJlc3VsdCh1bmRlZmluZWQsIGVycm9yKSwgdHgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFByb21pc2VSZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSBvZiB0aGUgcmVzb2x2ZWQgcHJvbWlzZS5cbiAgICAgKiBVbmRlZmluZWQgaWYgdGhlIHByb21pc2UgcmVqZWN0ZWQuXG4gICAgICovXG4gICAgZGF0YSwgXG4gICAgLyoqXG4gICAgICogVGhlIGVycm9yIGluIGNhc2Ugb2YgYSByZWplY3RlZCBwcm9taXNlLlxuICAgICAqIFVuZGVmaW5lZCBpZiB0aGUgcHJvbWlzZSByZXNvbHZlZC5cbiAgICAgKi9cbiAgICBlcnJvcikge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHdhaXRGb3JTdGF0ZShvYnNlcnZhYmxlLCBwcmVkaWNhdGUsIGlzRXJyb3IsIGNhbmNlbGxhdGlvblRva2VuKSB7XG4gICAgaWYgKCFwcmVkaWNhdGUpIHtcbiAgICAgICAgcHJlZGljYXRlID0gc3RhdGUgPT4gc3RhdGUgIT09IG51bGwgJiYgc3RhdGUgIT09IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbGV0IGlzSW1tZWRpYXRlUnVuID0gdHJ1ZTtcbiAgICAgICAgbGV0IHNob3VsZERpc3Bvc2UgPSBmYWxzZTtcbiAgICAgICAgY29uc3Qgc3RhdGVPYnMgPSBvYnNlcnZhYmxlLm1hcChzdGF0ZSA9PiB7XG4gICAgICAgICAgICAvKiogQGRlc2NyaXB0aW9uIHdhaXRGb3JTdGF0ZS5zdGF0ZSAqL1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpc0ZpbmlzaGVkOiBwcmVkaWNhdGUoc3RhdGUpLFxuICAgICAgICAgICAgICAgIGVycm9yOiBpc0Vycm9yID8gaXNFcnJvcihzdGF0ZSkgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGQgPSBhdXRvcnVuKHJlYWRlciA9PiB7XG4gICAgICAgICAgICAvKiogQGRlc2NyaXB0aW9uIHdhaXRGb3JTdGF0ZSAqL1xuICAgICAgICAgICAgY29uc3QgeyBpc0ZpbmlzaGVkLCBlcnJvciwgc3RhdGUgfSA9IHN0YXRlT2JzLnJlYWQocmVhZGVyKTtcbiAgICAgICAgICAgIGlmIChpc0ZpbmlzaGVkIHx8IGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzSW1tZWRpYXRlUnVuKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSB2YXJpYWJsZSBgZGAgaXMgbm90IGluaXRpYWxpemVkIHlldFxuICAgICAgICAgICAgICAgICAgICBzaG91bGREaXNwb3NlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yID09PSB0cnVlID8gc3RhdGUgOiBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHN0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY2FuY2VsbGF0aW9uVG9rZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGRjID0gY2FuY2VsbGF0aW9uVG9rZW4ub25DYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIGRjLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IENhbmNlbGxhdGlvbkVycm9yKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoY2FuY2VsbGF0aW9uVG9rZW4uaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQpIHtcbiAgICAgICAgICAgICAgICBkLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBkYy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBDYW5jZWxsYXRpb25FcnJvcigpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaXNJbW1lZGlhdGVSdW4gPSBmYWxzZTtcbiAgICAgICAgaWYgKHNob3VsZERpc3Bvc2UpIHtcbiAgICAgICAgICAgIGQuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IEJhc2VPYnNlcnZhYmxlLCBUcmFuc2FjdGlvbkltcGwgfSBmcm9tICcuL2Jhc2UuanMnO1xuLyoqXG4gKiBIb2xkcyBvZmYgdXBkYXRpbmcgb2JzZXJ2ZXJzIHVudGlsIHRoZSB2YWx1ZSBpcyBhY3R1YWxseSByZWFkLlxuKi9cbmV4cG9ydCBjbGFzcyBMYXp5T2JzZXJ2YWJsZVZhbHVlIGV4dGVuZHMgQmFzZU9ic2VydmFibGUge1xuICAgIGdldCBkZWJ1Z05hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWJ1Z05hbWVEYXRhLmdldERlYnVnTmFtZSh0aGlzKSA/PyAnTGF6eU9ic2VydmFibGVWYWx1ZSc7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKF9kZWJ1Z05hbWVEYXRhLCBpbml0aWFsVmFsdWUsIF9lcXVhbGl0eUNvbXBhcmF0b3IpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fZGVidWdOYW1lRGF0YSA9IF9kZWJ1Z05hbWVEYXRhO1xuICAgICAgICB0aGlzLl9lcXVhbGl0eUNvbXBhcmF0b3IgPSBfZXF1YWxpdHlDb21wYXJhdG9yO1xuICAgICAgICB0aGlzLl9pc1VwVG9EYXRlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZGVsdGFzID0gW107XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvdW50ZXIgPSAwO1xuICAgICAgICB0aGlzLl92YWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgICB9XG4gICAgZ2V0KCkge1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgIH1cbiAgICBfdXBkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5faXNVcFRvRGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzVXBUb0RhdGUgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fZGVsdGFzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb2JzZXJ2ZXIgb2YgdGhpcy5vYnNlcnZlcnMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNoYW5nZSBvZiB0aGlzLl9kZWx0YXMpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuaGFuZGxlQ2hhbmdlKHRoaXMsIGNoYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZGVsdGFzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9ic2VydmVyIG9mIHRoaXMub2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIuaGFuZGxlQ2hhbmdlKHRoaXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2JlZ2luVXBkYXRlKCkge1xuICAgICAgICB0aGlzLl91cGRhdGVDb3VudGVyKys7XG4gICAgICAgIGlmICh0aGlzLl91cGRhdGVDb3VudGVyID09PSAxKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9ic2VydmVyIG9mIHRoaXMub2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIuYmVnaW5VcGRhdGUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2VuZFVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ291bnRlci0tO1xuICAgICAgICBpZiAodGhpcy5fdXBkYXRlQ291bnRlciA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgICAgICAvLyBFbmQgdXBkYXRlIGNvdWxkIGNoYW5nZSB0aGUgb2JzZXJ2ZXIgbGlzdC5cbiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVycyA9IFsuLi50aGlzLm9ic2VydmVyc107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHIgb2Ygb2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgICAgICAgci5lbmRVcGRhdGUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpIHtcbiAgICAgICAgY29uc3Qgc2hvdWxkQ2FsbEJlZ2luVXBkYXRlID0gIXRoaXMub2JzZXJ2ZXJzLmhhcyhvYnNlcnZlcikgJiYgdGhpcy5fdXBkYXRlQ291bnRlciA+IDA7XG4gICAgICAgIHN1cGVyLmFkZE9ic2VydmVyKG9ic2VydmVyKTtcbiAgICAgICAgaWYgKHNob3VsZENhbGxCZWdpblVwZGF0ZSkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuYmVnaW5VcGRhdGUodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlT2JzZXJ2ZXIob2JzZXJ2ZXIpIHtcbiAgICAgICAgY29uc3Qgc2hvdWxkQ2FsbEVuZFVwZGF0ZSA9IHRoaXMub2JzZXJ2ZXJzLmhhcyhvYnNlcnZlcikgJiYgdGhpcy5fdXBkYXRlQ291bnRlciA+IDA7XG4gICAgICAgIHN1cGVyLnJlbW92ZU9ic2VydmVyKG9ic2VydmVyKTtcbiAgICAgICAgaWYgKHNob3VsZENhbGxFbmRVcGRhdGUpIHtcbiAgICAgICAgICAgIC8vIENhbGxpbmcgZW5kIHVwZGF0ZSBhZnRlciByZW1vdmluZyB0aGUgb2JzZXJ2ZXIgbWFrZXMgc3VyZSBlbmRVcGRhdGUgY2Fubm90IGJlIGNhbGxlZCB0d2ljZSBoZXJlLlxuICAgICAgICAgICAgb2JzZXJ2ZXIuZW5kVXBkYXRlKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldCh2YWx1ZSwgdHgsIGNoYW5nZSkge1xuICAgICAgICBpZiAoY2hhbmdlID09PSB1bmRlZmluZWQgJiYgdGhpcy5fZXF1YWxpdHlDb21wYXJhdG9yKHRoaXMuX3ZhbHVlLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgX3R4O1xuICAgICAgICBpZiAoIXR4KSB7XG4gICAgICAgICAgICB0eCA9IF90eCA9IG5ldyBUcmFuc2FjdGlvbkltcGwoKCkgPT4geyB9LCAoKSA9PiBgU2V0dGluZyAke3RoaXMuZGVidWdOYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9pc1VwVG9EYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoY2hhbmdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWx0YXMucHVzaChjaGFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHgudXBkYXRlT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgICAgIGJlZ2luVXBkYXRlOiAoKSA9PiB0aGlzLl9iZWdpblVwZGF0ZSgpLFxuICAgICAgICAgICAgICAgIGVuZFVwZGF0ZTogKCkgPT4gdGhpcy5fZW5kVXBkYXRlKCksXG4gICAgICAgICAgICAgICAgaGFuZGxlQ2hhbmdlOiAob2JzZXJ2YWJsZSwgY2hhbmdlKSA9PiB7IH0sXG4gICAgICAgICAgICAgICAgaGFuZGxlUG9zc2libGVDaGFuZ2U6IChvYnNlcnZhYmxlKSA9PiB7IH0sXG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl91cGRhdGVDb3VudGVyID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGFscmVhZHkgc3RhcnRlZCBiZWdpbi9lbmQgdXBkYXRlLCBzbyB3ZSBuZWVkIHRvIG1hbnVhbGx5IGNhbGwgaGFuZGxlUG9zc2libGVDaGFuZ2VcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9ic2VydmVyIG9mIHRoaXMub2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmhhbmRsZVBvc3NpYmxlQ2hhbmdlKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChfdHgpIHtcbiAgICAgICAgICAgICAgICBfdHguZmluaXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmRlYnVnTmFtZX06ICR7dGhpcy5fdmFsdWV9YDtcbiAgICB9XG4gICAgX3NldFZhbHVlKG5ld1ZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBzdHJpY3RFcXVhbHMgfSBmcm9tICcuLi9lcXVhbHMuanMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZVZhbHVlIH0gZnJvbSAnLi9iYXNlLmpzJztcbmltcG9ydCB7IERlYnVnTmFtZURhdGEgfSBmcm9tICcuL2RlYnVnTmFtZS5qcyc7XG5pbXBvcnQgeyBMYXp5T2JzZXJ2YWJsZVZhbHVlIH0gZnJvbSAnLi9sYXp5T2JzZXJ2YWJsZVZhbHVlLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZhYmxlVmFsdWVPcHRzKG9wdGlvbnMsIGluaXRpYWxWYWx1ZSkge1xuICAgIGlmIChvcHRpb25zLmxhenkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5T2JzZXJ2YWJsZVZhbHVlKG5ldyBEZWJ1Z05hbWVEYXRhKG9wdGlvbnMub3duZXIsIG9wdGlvbnMuZGVidWdOYW1lLCB1bmRlZmluZWQpLCBpbml0aWFsVmFsdWUsIG9wdGlvbnMuZXF1YWxzRm4gPz8gc3RyaWN0RXF1YWxzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlVmFsdWUobmV3IERlYnVnTmFtZURhdGEob3B0aW9ucy5vd25lciwgb3B0aW9ucy5kZWJ1Z05hbWUsIHVuZGVmaW5lZCksIGluaXRpYWxWYWx1ZSwgb3B0aW9ucy5lcXVhbHNGbiA/PyBzdHJpY3RFcXVhbHMpO1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBzdHJpY3RFcXVhbHMgfSBmcm9tICcuLi9lcXVhbHMuanMnO1xuaW1wb3J0IHsgRGVidWdOYW1lRGF0YSwgZ2V0RnVuY3Rpb25OYW1lIH0gZnJvbSAnLi9kZWJ1Z05hbWUuanMnO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi9sb2dnaW5nLmpzJztcbmxldCBfcmVjb21wdXRlSW5pdGlhbGx5QW5kT25DaGFuZ2U7XG5leHBvcnQgZnVuY3Rpb24gX3NldFJlY29tcHV0ZUluaXRpYWxseUFuZE9uQ2hhbmdlKHJlY29tcHV0ZUluaXRpYWxseUFuZE9uQ2hhbmdlKSB7XG4gICAgX3JlY29tcHV0ZUluaXRpYWxseUFuZE9uQ2hhbmdlID0gcmVjb21wdXRlSW5pdGlhbGx5QW5kT25DaGFuZ2U7XG59XG5sZXQgX2tlZXBPYnNlcnZlZDtcbmV4cG9ydCBmdW5jdGlvbiBfc2V0S2VlcE9ic2VydmVkKGtlZXBPYnNlcnZlZCkge1xuICAgIF9rZWVwT2JzZXJ2ZWQgPSBrZWVwT2JzZXJ2ZWQ7XG59XG5sZXQgX2Rlcml2ZWQ7XG4vKipcbiAqIEBpbnRlcm5hbFxuICogVGhpcyBpcyB0byBhbGxvdyBzcGxpdHRpbmcgZmlsZXMuXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIF9zZXREZXJpdmVkT3B0cyhkZXJpdmVkKSB7XG4gICAgX2Rlcml2ZWQgPSBkZXJpdmVkO1xufVxuZXhwb3J0IGNsYXNzIENvbnZlbmllbnRPYnNlcnZhYmxlIHtcbiAgICBnZXQgVENoYW5nZSgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICByZXBvcnRDaGFuZ2VzKCkge1xuICAgICAgICB0aGlzLmdldCgpO1xuICAgIH1cbiAgICAvKiogQHNlYWxlZCAqL1xuICAgIHJlYWQocmVhZGVyKSB7XG4gICAgICAgIGlmIChyZWFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkZXIucmVhZE9ic2VydmFibGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXAoZm5Pck93bmVyLCBmbk9yVW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IG93bmVyID0gZm5PclVuZGVmaW5lZCA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogZm5Pck93bmVyO1xuICAgICAgICBjb25zdCBmbiA9IGZuT3JVbmRlZmluZWQgPT09IHVuZGVmaW5lZCA/IGZuT3JPd25lciA6IGZuT3JVbmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBfZGVyaXZlZCh7XG4gICAgICAgICAgICBvd25lcixcbiAgICAgICAgICAgIGRlYnVnTmFtZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUoZm4pO1xuICAgICAgICAgICAgICAgIGlmIChuYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJlZ2V4cCB0byBtYXRjaCBgeCA9PiB4LnlgIG9yIGB4ID0+IHg/LnlgIHdoZXJlIHggYW5kIHkgY2FuIGJlIGFyYml0cmFyeSBpZGVudGlmaWVycyAodXNlcyBiYWNrcmVmKTpcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleHAgPSAvXlxccypcXCg/XFxzKihbYS16QS1aXyRdW2EtekEtWl8kMC05XSopXFxzKlxcKT9cXHMqPT5cXHMqXFwxKD86XFw/PylcXC4oW2EtekEtWl8kXVthLXpBLVpfJDAtOV0qKVxccyokLztcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IHJlZ2V4cC5leGVjKGZuLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5kZWJ1Z05hbWV9LiR7bWF0Y2hbMl19YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFvd25lcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5kZWJ1Z05hbWV9IChtYXBwZWQpYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWJ1Z1JlZmVyZW5jZUZuOiBmbixcbiAgICAgICAgfSwgKHJlYWRlcikgPT4gZm4odGhpcy5yZWFkKHJlYWRlciksIHJlYWRlcikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAc2VhbGVkXG4gICAgICogQ29udmVydHMgYW4gb2JzZXJ2YWJsZSBvZiBhbiBvYnNlcnZhYmxlIHZhbHVlIGludG8gYSBkaXJlY3Qgb2JzZXJ2YWJsZSBvZiB0aGUgdmFsdWUuXG4gICAgKi9cbiAgICBmbGF0dGVuKCkge1xuICAgICAgICByZXR1cm4gX2Rlcml2ZWQoe1xuICAgICAgICAgICAgb3duZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRlYnVnTmFtZTogKCkgPT4gYCR7dGhpcy5kZWJ1Z05hbWV9IChmbGF0dGVuZWQpYCxcbiAgICAgICAgfSwgKHJlYWRlcikgPT4gdGhpcy5yZWFkKHJlYWRlcikucmVhZChyZWFkZXIpKTtcbiAgICB9XG4gICAgcmVjb21wdXRlSW5pdGlhbGx5QW5kT25DaGFuZ2Uoc3RvcmUsIGhhbmRsZVZhbHVlKSB7XG4gICAgICAgIHN0b3JlLmFkZChfcmVjb21wdXRlSW5pdGlhbGx5QW5kT25DaGFuZ2UodGhpcywgaGFuZGxlVmFsdWUpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhhdCB0aGlzIG9ic2VydmFibGUgaXMgb2JzZXJ2ZWQuIFRoaXMga2VlcHMgdGhlIGNhY2hlIGFsaXZlLlxuICAgICAqIEhvd2V2ZXIsIGluIGNhc2Ugb2YgZGVyaXZlZHMsIGl0IGRvZXMgbm90IGZvcmNlIGVhZ2VyIGV2YWx1YXRpb24gKG9ubHkgd2hlbiB0aGUgdmFsdWUgaXMgcmVhZC9nZXQpLlxuICAgICAqIFVzZSBgcmVjb21wdXRlSW5pdGlhbGx5QW5kT25DaGFuZ2VgIGZvciBlYWdlciBldmFsdWF0aW9uLlxuICAgICAqL1xuICAgIGtlZXBPYnNlcnZlZChzdG9yZSkge1xuICAgICAgICBzdG9yZS5hZGQoX2tlZXBPYnNlcnZlZCh0aGlzKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCYXNlT2JzZXJ2YWJsZSBleHRlbmRzIENvbnZlbmllbnRPYnNlcnZhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIGFkZE9ic2VydmVyKG9ic2VydmVyKSB7XG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMub2JzZXJ2ZXJzLnNpemU7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLmFkZChvYnNlcnZlcik7XG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMub25GaXJzdE9ic2VydmVyQWRkZWQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVPYnNlcnZlcihvYnNlcnZlcikge1xuICAgICAgICBjb25zdCBkZWxldGVkID0gdGhpcy5vYnNlcnZlcnMuZGVsZXRlKG9ic2VydmVyKTtcbiAgICAgICAgaWYgKGRlbGV0ZWQgJiYgdGhpcy5vYnNlcnZlcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5vbkxhc3RPYnNlcnZlclJlbW92ZWQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkZpcnN0T2JzZXJ2ZXJBZGRlZCgpIHsgfVxuICAgIG9uTGFzdE9ic2VydmVyUmVtb3ZlZCgpIHsgfVxufVxuLyoqXG4gKiBTdGFydHMgYSB0cmFuc2FjdGlvbiBpbiB3aGljaCBtYW55IG9ic2VydmFibGVzIGNhbiBiZSBjaGFuZ2VkIGF0IG9uY2UuXG4gKiB7QGxpbmsgZm59IHNob3VsZCBzdGFydCB3aXRoIGEgSlMgRG9jIHVzaW5nIGBAZGVzY3JpcHRpb25gIHRvIGdpdmUgdGhlIHRyYW5zYWN0aW9uIGEgZGVidWcgbmFtZS5cbiAqIFJlYWN0aW9uIHJ1biBvbiBkZW1hbmQgb3Igd2hlbiB0aGUgdHJhbnNhY3Rpb24gZW5kcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zYWN0aW9uKGZuLCBnZXREZWJ1Z05hbWUpIHtcbiAgICBjb25zdCB0eCA9IG5ldyBUcmFuc2FjdGlvbkltcGwoZm4sIGdldERlYnVnTmFtZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgZm4odHgpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHguZmluaXNoKCk7XG4gICAgfVxufVxubGV0IF9nbG9iYWxUcmFuc2FjdGlvbiA9IHVuZGVmaW5lZDtcbmV4cG9ydCBmdW5jdGlvbiBnbG9iYWxUcmFuc2FjdGlvbihmbikge1xuICAgIGlmIChfZ2xvYmFsVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgZm4oX2dsb2JhbFRyYW5zYWN0aW9uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHR4ID0gbmV3IFRyYW5zYWN0aW9uSW1wbChmbiwgdW5kZWZpbmVkKTtcbiAgICAgICAgX2dsb2JhbFRyYW5zYWN0aW9uID0gdHg7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbih0eCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0eC5maW5pc2goKTsgLy8gRHVyaW5nIGZpbmlzaCwgbW9yZSBhY3Rpb25zIG1pZ2h0IGJlIGFkZGVkIHRvIHRoZSB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgIC8vIFdoaWNoIGlzIHdoeSB3ZSBvbmx5IGNsZWFyIHRoZSBnbG9iYWwgdHJhbnNhY3Rpb24gYWZ0ZXIgZmluaXNoLlxuICAgICAgICAgICAgX2dsb2JhbFRyYW5zYWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzeW5jVHJhbnNhY3Rpb24oZm4sIGdldERlYnVnTmFtZSkge1xuICAgIGNvbnN0IHR4ID0gbmV3IFRyYW5zYWN0aW9uSW1wbChmbiwgZ2V0RGVidWdOYW1lKTtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBmbih0eCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0eC5maW5pc2goKTtcbiAgICB9XG59XG4vKipcbiAqIEFsbG93cyB0byBjaGFpbiB0cmFuc2FjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFuc2FjdGlvbih0eCwgZm4sIGdldERlYnVnTmFtZSkge1xuICAgIGlmICghdHgpIHtcbiAgICAgICAgdHJhbnNhY3Rpb24oZm4sIGdldERlYnVnTmFtZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmbih0eCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRyYW5zYWN0aW9uSW1wbCB7XG4gICAgY29uc3RydWN0b3IoX2ZuLCBfZ2V0RGVidWdOYW1lKSB7XG4gICAgICAgIHRoaXMuX2ZuID0gX2ZuO1xuICAgICAgICB0aGlzLl9nZXREZWJ1Z05hbWUgPSBfZ2V0RGVidWdOYW1lO1xuICAgICAgICB0aGlzLnVwZGF0aW5nT2JzZXJ2ZXJzID0gW107XG4gICAgICAgIGdldExvZ2dlcigpPy5oYW5kbGVCZWdpblRyYW5zYWN0aW9uKHRoaXMpO1xuICAgIH1cbiAgICBnZXREZWJ1Z05hbWUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9nZXREZWJ1Z05hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXREZWJ1Z05hbWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0RnVuY3Rpb25OYW1lKHRoaXMuX2ZuKTtcbiAgICB9XG4gICAgdXBkYXRlT2JzZXJ2ZXIob2JzZXJ2ZXIsIG9ic2VydmFibGUpIHtcbiAgICAgICAgLy8gV2hlbiB0aGlzIGdldHMgY2FsbGVkIHdoaWxlIGZpbmlzaCBpcyBhY3RpdmUsIHRoZXkgd2lsbCBzdGlsbCBnZXQgY29uc2lkZXJlZFxuICAgICAgICB0aGlzLnVwZGF0aW5nT2JzZXJ2ZXJzLnB1c2goeyBvYnNlcnZlciwgb2JzZXJ2YWJsZSB9KTtcbiAgICAgICAgb2JzZXJ2ZXIuYmVnaW5VcGRhdGUob2JzZXJ2YWJsZSk7XG4gICAgfVxuICAgIGZpbmlzaCgpIHtcbiAgICAgICAgY29uc3QgdXBkYXRpbmdPYnNlcnZlcnMgPSB0aGlzLnVwZGF0aW5nT2JzZXJ2ZXJzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVwZGF0aW5nT2JzZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB7IG9ic2VydmVyLCBvYnNlcnZhYmxlIH0gPSB1cGRhdGluZ09ic2VydmVyc1tpXTtcbiAgICAgICAgICAgIG9ic2VydmVyLmVuZFVwZGF0ZShvYnNlcnZhYmxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQcmV2ZW50IGFueW9uZSBmcm9tIHVwZGF0aW5nIG9ic2VydmVycyBmcm9tIG5vdyBvbi5cbiAgICAgICAgdGhpcy51cGRhdGluZ09ic2VydmVycyA9IG51bGw7XG4gICAgICAgIGdldExvZ2dlcigpPy5oYW5kbGVFbmRUcmFuc2FjdGlvbigpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZhYmxlVmFsdWUobmFtZU9yT3duZXIsIGluaXRpYWxWYWx1ZSkge1xuICAgIGxldCBkZWJ1Z05hbWVEYXRhO1xuICAgIGlmICh0eXBlb2YgbmFtZU9yT3duZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGRlYnVnTmFtZURhdGEgPSBuZXcgRGVidWdOYW1lRGF0YSh1bmRlZmluZWQsIG5hbWVPck93bmVyLCB1bmRlZmluZWQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGVidWdOYW1lRGF0YSA9IG5ldyBEZWJ1Z05hbWVEYXRhKG5hbWVPck93bmVyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVZhbHVlKGRlYnVnTmFtZURhdGEsIGluaXRpYWxWYWx1ZSwgc3RyaWN0RXF1YWxzKTtcbn1cbmV4cG9ydCBjbGFzcyBPYnNlcnZhYmxlVmFsdWUgZXh0ZW5kcyBCYXNlT2JzZXJ2YWJsZSB7XG4gICAgZ2V0IGRlYnVnTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlYnVnTmFtZURhdGEuZ2V0RGVidWdOYW1lKHRoaXMpID8/ICdPYnNlcnZhYmxlVmFsdWUnO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihfZGVidWdOYW1lRGF0YSwgaW5pdGlhbFZhbHVlLCBfZXF1YWxpdHlDb21wYXJhdG9yKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2RlYnVnTmFtZURhdGEgPSBfZGVidWdOYW1lRGF0YTtcbiAgICAgICAgdGhpcy5fZXF1YWxpdHlDb21wYXJhdG9yID0gX2VxdWFsaXR5Q29tcGFyYXRvcjtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gICAgfVxuICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgIH1cbiAgICBzZXQodmFsdWUsIHR4LCBjaGFuZ2UpIHtcbiAgICAgICAgaWYgKGNoYW5nZSA9PT0gdW5kZWZpbmVkICYmIHRoaXMuX2VxdWFsaXR5Q29tcGFyYXRvcih0aGlzLl92YWx1ZSwgdmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IF90eDtcbiAgICAgICAgaWYgKCF0eCkge1xuICAgICAgICAgICAgdHggPSBfdHggPSBuZXcgVHJhbnNhY3Rpb25JbXBsKCgpID0+IHsgfSwgKCkgPT4gYFNldHRpbmcgJHt0aGlzLmRlYnVnTmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLl92YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3NldFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgIGdldExvZ2dlcigpPy5oYW5kbGVPYnNlcnZhYmxlQ2hhbmdlZCh0aGlzLCB7IG9sZFZhbHVlLCBuZXdWYWx1ZTogdmFsdWUsIGNoYW5nZSwgZGlkQ2hhbmdlOiB0cnVlLCBoYWRWYWx1ZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb2JzZXJ2ZXIgb2YgdGhpcy5vYnNlcnZlcnMpIHtcbiAgICAgICAgICAgICAgICB0eC51cGRhdGVPYnNlcnZlcihvYnNlcnZlciwgdGhpcyk7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIuaGFuZGxlQ2hhbmdlKHRoaXMsIGNoYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoX3R4KSB7XG4gICAgICAgICAgICAgICAgX3R4LmZpbmlzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5kZWJ1Z05hbWV9OiAke3RoaXMuX3ZhbHVlfWA7XG4gICAgfVxuICAgIF9zZXRWYWx1ZShuZXdWYWx1ZSkge1xuICAgICAgICB0aGlzLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIH1cbn1cbi8qKlxuICogQSBkaXNwb3NhYmxlIG9ic2VydmFibGUuIFdoZW4gZGlzcG9zZWQsIGl0cyB2YWx1ZSBpcyBhbHNvIGRpc3Bvc2VkLlxuICogV2hlbiBhIG5ldyB2YWx1ZSBpcyBzZXQsIHRoZSBwcmV2aW91cyB2YWx1ZSBpcyBkaXNwb3NlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3Bvc2FibGVPYnNlcnZhYmxlVmFsdWUobmFtZU9yT3duZXIsIGluaXRpYWxWYWx1ZSkge1xuICAgIGxldCBkZWJ1Z05hbWVEYXRhO1xuICAgIGlmICh0eXBlb2YgbmFtZU9yT3duZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGRlYnVnTmFtZURhdGEgPSBuZXcgRGVidWdOYW1lRGF0YSh1bmRlZmluZWQsIG5hbWVPck93bmVyLCB1bmRlZmluZWQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGVidWdOYW1lRGF0YSA9IG5ldyBEZWJ1Z05hbWVEYXRhKG5hbWVPck93bmVyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRGlzcG9zYWJsZU9ic2VydmFibGVWYWx1ZShkZWJ1Z05hbWVEYXRhLCBpbml0aWFsVmFsdWUsIHN0cmljdEVxdWFscyk7XG59XG5leHBvcnQgY2xhc3MgRGlzcG9zYWJsZU9ic2VydmFibGVWYWx1ZSBleHRlbmRzIE9ic2VydmFibGVWYWx1ZSB7XG4gICAgX3NldFZhbHVlKG5ld1ZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl92YWx1ZSA9PT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLl92YWx1ZT8uZGlzcG9zZSgpO1xuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZXhwb3J0IGNsYXNzIERlYnVnTmFtZURhdGEge1xuICAgIGNvbnN0cnVjdG9yKG93bmVyLCBkZWJ1Z05hbWVTb3VyY2UsIHJlZmVyZW5jZUZuKSB7XG4gICAgICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICAgICAgdGhpcy5kZWJ1Z05hbWVTb3VyY2UgPSBkZWJ1Z05hbWVTb3VyY2U7XG4gICAgICAgIHRoaXMucmVmZXJlbmNlRm4gPSByZWZlcmVuY2VGbjtcbiAgICB9XG4gICAgZ2V0RGVidWdOYW1lKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gZ2V0RGVidWdOYW1lKHRhcmdldCwgdGhpcyk7XG4gICAgfVxufVxuY29uc3QgY291bnRQZXJOYW1lID0gbmV3IE1hcCgpO1xuY29uc3QgY2FjaGVkRGVidWdOYW1lID0gbmV3IFdlYWtNYXAoKTtcbmV4cG9ydCBmdW5jdGlvbiBnZXREZWJ1Z05hbWUodGFyZ2V0LCBkYXRhKSB7XG4gICAgY29uc3QgY2FjaGVkID0gY2FjaGVkRGVidWdOYW1lLmdldCh0YXJnZXQpO1xuICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICB9XG4gICAgY29uc3QgZGJnTmFtZSA9IGNvbXB1dGVEZWJ1Z05hbWUodGFyZ2V0LCBkYXRhKTtcbiAgICBpZiAoZGJnTmFtZSkge1xuICAgICAgICBsZXQgY291bnQgPSBjb3VudFBlck5hbWUuZ2V0KGRiZ05hbWUpID8/IDA7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICAgIGNvdW50UGVyTmFtZS5zZXQoZGJnTmFtZSwgY291bnQpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjb3VudCA9PT0gMSA/IGRiZ05hbWUgOiBgJHtkYmdOYW1lfSMke2NvdW50fWA7XG4gICAgICAgIGNhY2hlZERlYnVnTmFtZS5zZXQodGFyZ2V0LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gY29tcHV0ZURlYnVnTmFtZShzZWxmLCBkYXRhKSB7XG4gICAgY29uc3QgY2FjaGVkID0gY2FjaGVkRGVidWdOYW1lLmdldChzZWxmKTtcbiAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuICAgIGNvbnN0IG93bmVyU3RyID0gZGF0YS5vd25lciA/IGZvcm1hdE93bmVyKGRhdGEub3duZXIpICsgYC5gIDogJyc7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBjb25zdCBkZWJ1Z05hbWVTb3VyY2UgPSBkYXRhLmRlYnVnTmFtZVNvdXJjZTtcbiAgICBpZiAoZGVidWdOYW1lU291cmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkZWJ1Z05hbWVTb3VyY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGRlYnVnTmFtZVNvdXJjZSgpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG93bmVyU3RyICsgcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG93bmVyU3RyICsgZGVidWdOYW1lU291cmNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlZmVyZW5jZUZuID0gZGF0YS5yZWZlcmVuY2VGbjtcbiAgICBpZiAocmVmZXJlbmNlRm4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQgPSBnZXRGdW5jdGlvbk5hbWUocmVmZXJlbmNlRm4pO1xuICAgICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBvd25lclN0ciArIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGF0YS5vd25lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGZpbmRLZXkoZGF0YS5vd25lciwgc2VsZik7XG4gICAgICAgIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG93bmVyU3RyICsga2V5O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBmaW5kS2V5KG9iaiwgdmFsdWUpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9ialtrZXldID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuY29uc3QgY291bnRQZXJDbGFzc05hbWUgPSBuZXcgTWFwKCk7XG5jb25zdCBvd25lcklkID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGZvcm1hdE93bmVyKG93bmVyKSB7XG4gICAgY29uc3QgaWQgPSBvd25lcklkLmdldChvd25lcik7XG4gICAgaWYgKGlkKSB7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG4gICAgY29uc3QgY2xhc3NOYW1lID0gZ2V0Q2xhc3NOYW1lKG93bmVyKTtcbiAgICBsZXQgY291bnQgPSBjb3VudFBlckNsYXNzTmFtZS5nZXQoY2xhc3NOYW1lKSA/PyAwO1xuICAgIGNvdW50Kys7XG4gICAgY291bnRQZXJDbGFzc05hbWUuc2V0KGNsYXNzTmFtZSwgY291bnQpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGNvdW50ID09PSAxID8gY2xhc3NOYW1lIDogYCR7Y2xhc3NOYW1lfSMke2NvdW50fWA7XG4gICAgb3duZXJJZC5zZXQob3duZXIsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldENsYXNzTmFtZShvYmopIHtcbiAgICBjb25zdCBjdG9yID0gb2JqLmNvbnN0cnVjdG9yO1xuICAgIGlmIChjdG9yKSB7XG4gICAgICAgIHJldHVybiBjdG9yLm5hbWU7XG4gICAgfVxuICAgIHJldHVybiAnT2JqZWN0Jztcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRGdW5jdGlvbk5hbWUoZm4pIHtcbiAgICBjb25zdCBmblNyYyA9IGZuLnRvU3RyaW5nKCk7XG4gICAgLy8gUGF0dGVybjogLyoqIEBkZXNjcmlwdGlvbiAuLi4gKi9cbiAgICBjb25zdCByZWdleHAgPSAvXFwvXFwqXFwqXFxzKkBkZXNjcmlwdGlvblxccyooW14qXSopXFwqXFwvLztcbiAgICBjb25zdCBtYXRjaCA9IHJlZ2V4cC5leGVjKGZuU3JjKTtcbiAgICBjb25zdCByZXN1bHQgPSBtYXRjaCA/IG1hdGNoWzFdIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ/LnRyaW0oKTtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgYXNzZXJ0Rm4gfSBmcm9tICcuLi9hc3NlcnQuanMnO1xuaW1wb3J0IHsgc3RyaWN0RXF1YWxzIH0gZnJvbSAnLi4vZXF1YWxzLmpzJztcbmltcG9ydCB7IERpc3Bvc2FibGVTdG9yZSB9IGZyb20gJy4uL2xpZmVjeWNsZS5qcyc7XG5pbXBvcnQgeyBCYXNlT2JzZXJ2YWJsZSwgX3NldERlcml2ZWRPcHRzIH0gZnJvbSAnLi9iYXNlLmpzJztcbmltcG9ydCB7IERlYnVnTmFtZURhdGEgfSBmcm9tICcuL2RlYnVnTmFtZS5qcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuL2xvZ2dpbmcuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGRlcml2ZWQoY29tcHV0ZUZuT3JPd25lciwgY29tcHV0ZUZuKSB7XG4gICAgaWYgKGNvbXB1dGVGbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGVyaXZlZChuZXcgRGVidWdOYW1lRGF0YShjb21wdXRlRm5Pck93bmVyLCB1bmRlZmluZWQsIGNvbXB1dGVGbiksIGNvbXB1dGVGbiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgc3RyaWN0RXF1YWxzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBEZXJpdmVkKG5ldyBEZWJ1Z05hbWVEYXRhKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBjb21wdXRlRm5Pck93bmVyKSwgY29tcHV0ZUZuT3JPd25lciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgc3RyaWN0RXF1YWxzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZXJpdmVkV2l0aFNldHRlcihvd25lciwgY29tcHV0ZUZuLCBzZXR0ZXIpIHtcbiAgICByZXR1cm4gbmV3IERlcml2ZWRXaXRoU2V0dGVyKG5ldyBEZWJ1Z05hbWVEYXRhKG93bmVyLCB1bmRlZmluZWQsIGNvbXB1dGVGbiksIGNvbXB1dGVGbiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgc3RyaWN0RXF1YWxzLCBzZXR0ZXIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlcml2ZWRPcHRzKG9wdGlvbnMsIGNvbXB1dGVGbikge1xuICAgIHJldHVybiBuZXcgRGVyaXZlZChuZXcgRGVidWdOYW1lRGF0YShvcHRpb25zLm93bmVyLCBvcHRpb25zLmRlYnVnTmFtZSwgb3B0aW9ucy5kZWJ1Z1JlZmVyZW5jZUZuKSwgY29tcHV0ZUZuLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgb3B0aW9ucy5vbkxhc3RPYnNlcnZlclJlbW92ZWQsIG9wdGlvbnMuZXF1YWxzRm4gPz8gc3RyaWN0RXF1YWxzKTtcbn1cbl9zZXREZXJpdmVkT3B0cyhkZXJpdmVkT3B0cyk7XG4vKipcbiAqIFJlcHJlc2VudHMgYW4gb2JzZXJ2YWJsZSB0aGF0IGlzIGRlcml2ZWQgZnJvbSBvdGhlciBvYnNlcnZhYmxlcy5cbiAqIFRoZSB2YWx1ZSBpcyBvbmx5IHJlY29tcHV0ZWQgd2hlbiBhYnNvbHV0ZWx5IG5lZWRlZC5cbiAqXG4gKiB7QGxpbmsgY29tcHV0ZUZufSBzaG91bGQgc3RhcnQgd2l0aCBhIEpTIERvYyB1c2luZyBgQGRlc2NyaXB0aW9uYCB0byBuYW1lIHRoZSBkZXJpdmVkLlxuICpcbiAqIFVzZSBgY3JlYXRlRW1wdHlDaGFuZ2VTdW1tYXJ5YCB0byBjcmVhdGUgYSBcImNoYW5nZSBzdW1tYXJ5XCIgdGhhdCBjYW4gY29sbGVjdCB0aGUgY2hhbmdlcy5cbiAqIFVzZSBgaGFuZGxlQ2hhbmdlYCB0byBhZGQgYSByZXBvcnRlZCBjaGFuZ2UgdG8gdGhlIGNoYW5nZSBzdW1tYXJ5LlxuICogVGhlIGNvbXB1dGUgZnVuY3Rpb24gaXMgZ2l2ZW4gdGhlIGxhc3QgY2hhbmdlIHN1bW1hcnkuXG4gKiBUaGUgY2hhbmdlIHN1bW1hcnkgaXMgZGlzY2FyZGVkIGFmdGVyIHRoZSBjb21wdXRlIGZ1bmN0aW9uIHdhcyBjYWxsZWQuXG4gKlxuICogQHNlZSBkZXJpdmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXJpdmVkSGFuZGxlQ2hhbmdlcyhvcHRpb25zLCBjb21wdXRlRm4pIHtcbiAgICByZXR1cm4gbmV3IERlcml2ZWQobmV3IERlYnVnTmFtZURhdGEob3B0aW9ucy5vd25lciwgb3B0aW9ucy5kZWJ1Z05hbWUsIHVuZGVmaW5lZCksIGNvbXB1dGVGbiwgb3B0aW9ucy5jcmVhdGVFbXB0eUNoYW5nZVN1bW1hcnksIG9wdGlvbnMuaGFuZGxlQ2hhbmdlLCB1bmRlZmluZWQsIG9wdGlvbnMuZXF1YWxpdHlDb21wYXJlciA/PyBzdHJpY3RFcXVhbHMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlcml2ZWRXaXRoU3RvcmUoY29tcHV0ZUZuT3JPd25lciwgY29tcHV0ZUZuT3JVbmRlZmluZWQpIHtcbiAgICBsZXQgY29tcHV0ZUZuO1xuICAgIGxldCBvd25lcjtcbiAgICBpZiAoY29tcHV0ZUZuT3JVbmRlZmluZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb21wdXRlRm4gPSBjb21wdXRlRm5Pck93bmVyO1xuICAgICAgICBvd25lciA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG93bmVyID0gY29tcHV0ZUZuT3JPd25lcjtcbiAgICAgICAgY29tcHV0ZUZuID0gY29tcHV0ZUZuT3JVbmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IHN0b3JlID0gbmV3IERpc3Bvc2FibGVTdG9yZSgpO1xuICAgIHJldHVybiBuZXcgRGVyaXZlZChuZXcgRGVidWdOYW1lRGF0YShvd25lciwgdW5kZWZpbmVkLCBjb21wdXRlRm4pLCByID0+IHtcbiAgICAgICAgc3RvcmUuY2xlYXIoKTtcbiAgICAgICAgcmV0dXJuIGNvbXB1dGVGbihyLCBzdG9yZSk7XG4gICAgfSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsICgpID0+IHN0b3JlLmRpc3Bvc2UoKSwgc3RyaWN0RXF1YWxzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZXJpdmVkRGlzcG9zYWJsZShjb21wdXRlRm5Pck93bmVyLCBjb21wdXRlRm5PclVuZGVmaW5lZCkge1xuICAgIGxldCBjb21wdXRlRm47XG4gICAgbGV0IG93bmVyO1xuICAgIGlmIChjb21wdXRlRm5PclVuZGVmaW5lZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbXB1dGVGbiA9IGNvbXB1dGVGbk9yT3duZXI7XG4gICAgICAgIG93bmVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb3duZXIgPSBjb21wdXRlRm5Pck93bmVyO1xuICAgICAgICBjb21wdXRlRm4gPSBjb21wdXRlRm5PclVuZGVmaW5lZDtcbiAgICB9XG4gICAgbGV0IHN0b3JlID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBuZXcgRGVyaXZlZChuZXcgRGVidWdOYW1lRGF0YShvd25lciwgdW5kZWZpbmVkLCBjb21wdXRlRm4pLCByID0+IHtcbiAgICAgICAgaWYgKCFzdG9yZSkge1xuICAgICAgICAgICAgc3RvcmUgPSBuZXcgRGlzcG9zYWJsZVN0b3JlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdG9yZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbXB1dGVGbihyKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgc3RvcmUuYWRkKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgKCkgPT4ge1xuICAgICAgICBpZiAoc3RvcmUpIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHN0b3JlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSwgc3RyaWN0RXF1YWxzKTtcbn1cbmV4cG9ydCBjbGFzcyBEZXJpdmVkIGV4dGVuZHMgQmFzZU9ic2VydmFibGUge1xuICAgIGdldCBkZWJ1Z05hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWJ1Z05hbWVEYXRhLmdldERlYnVnTmFtZSh0aGlzKSA/PyAnKGFub255bW91cyknO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihfZGVidWdOYW1lRGF0YSwgX2NvbXB1dGVGbiwgY3JlYXRlQ2hhbmdlU3VtbWFyeSwgX2hhbmRsZUNoYW5nZSwgX2hhbmRsZUxhc3RPYnNlcnZlclJlbW92ZWQgPSB1bmRlZmluZWQsIF9lcXVhbGl0eUNvbXBhcmF0b3IpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fZGVidWdOYW1lRGF0YSA9IF9kZWJ1Z05hbWVEYXRhO1xuICAgICAgICB0aGlzLl9jb21wdXRlRm4gPSBfY29tcHV0ZUZuO1xuICAgICAgICB0aGlzLmNyZWF0ZUNoYW5nZVN1bW1hcnkgPSBjcmVhdGVDaGFuZ2VTdW1tYXJ5O1xuICAgICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UgPSBfaGFuZGxlQ2hhbmdlO1xuICAgICAgICB0aGlzLl9oYW5kbGVMYXN0T2JzZXJ2ZXJSZW1vdmVkID0gX2hhbmRsZUxhc3RPYnNlcnZlclJlbW92ZWQ7XG4gICAgICAgIHRoaXMuX2VxdWFsaXR5Q29tcGFyYXRvciA9IF9lcXVhbGl0eUNvbXBhcmF0b3I7XG4gICAgICAgIHRoaXMuc3RhdGUgPSAwIC8qIERlcml2ZWRTdGF0ZS5pbml0aWFsICovO1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnVwZGF0ZUNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzVG9CZVJlbW92ZWQgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuY2hhbmdlU3VtbWFyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdW1tYXJ5ID0gdGhpcy5jcmVhdGVDaGFuZ2VTdW1tYXJ5Py4oKTtcbiAgICAgICAgZ2V0TG9nZ2VyKCk/LmhhbmRsZURlcml2ZWRDcmVhdGVkKHRoaXMpO1xuICAgIH1cbiAgICBvbkxhc3RPYnNlcnZlclJlbW92ZWQoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZSBhcmUgbm90IHRyYWNraW5nIGNoYW5nZXMgYW55bW9yZSwgdGh1cyB3ZSBoYXZlIHRvIGFzc3VtZVxuICAgICAgICAgKiB0aGF0IG91ciBjYWNoZSBpcyBpbnZhbGlkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZSA9IDAgLyogRGVyaXZlZFN0YXRlLmluaXRpYWwgKi87XG4gICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgZCBvZiB0aGlzLmRlcGVuZGVuY2llcykge1xuICAgICAgICAgICAgZC5yZW1vdmVPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlcGVuZGVuY2llcy5jbGVhcigpO1xuICAgICAgICB0aGlzLl9oYW5kbGVMYXN0T2JzZXJ2ZXJSZW1vdmVkPy4oKTtcbiAgICB9XG4gICAgZ2V0KCkge1xuICAgICAgICBpZiAodGhpcy5vYnNlcnZlcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gV2l0aG91dCBvYnNlcnZlcnMsIHdlIGRvbid0IGtub3cgd2hlbiB0byBjbGVhbiB1cCBzdHVmZi5cbiAgICAgICAgICAgIC8vIFRodXMsIHdlIGRvbid0IGNhY2hlIGFueXRoaW5nIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzLlxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fY29tcHV0ZUZuKHRoaXMsIHRoaXMuY3JlYXRlQ2hhbmdlU3VtbWFyeT8uKCkpO1xuICAgICAgICAgICAgLy8gQ2xlYXIgbmV3IGRlcGVuZGVuY2llc1xuICAgICAgICAgICAgdGhpcy5vbkxhc3RPYnNlcnZlclJlbW92ZWQoKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgLy8gV2UgbWlnaHQgbm90IGdldCBhIG5vdGlmaWNhdGlvbiBmb3IgYSBkZXBlbmRlbmN5IHRoYXQgY2hhbmdlZCB3aGlsZSBpdCBpcyB1cGRhdGluZyxcbiAgICAgICAgICAgICAgICAvLyB0aHVzIHdlIGFsc28gaGF2ZSB0byBhc2sgYWxsIG91ciBkZXBlZGVuY2llcyBpZiB0aGV5IGNoYW5nZWQgaW4gdGhpcyBjYXNlLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAxIC8qIERlcml2ZWRTdGF0ZS5kZXBlbmRlbmNpZXNNaWdodEhhdmVDaGFuZ2VkICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZCBvZiB0aGlzLmRlcGVuZGVuY2llcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIG1pZ2h0IGNhbGwge0BsaW5rIGhhbmRsZUNoYW5nZX0gaW5kaXJlY3RseSwgd2hpY2ggY291bGQgbWFrZSB1cyBzdGFsZSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5yZXBvcnRDaGFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gMiAvKiBEZXJpdmVkU3RhdGUuc3RhbGUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgb3RoZXIgZGVwZW5kZW5jaWVzIHdpbGwgcmVmcmVzaCBvbiBkZW1hbmQsIHNvIGVhcmx5IGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2UgY2FsbGVkIHJlcG9ydCBjaGFuZ2VzIG9mIGFsbCBkZXBlbmRlbmNpZXMuXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgYXJlIHN0aWxsIG5vdCBzdGFsZSwgd2UgY2FuIGFzc3VtZSB0byBiZSB1cCB0byBkYXRlIGFnYWluLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAxIC8qIERlcml2ZWRTdGF0ZS5kZXBlbmRlbmNpZXNNaWdodEhhdmVDaGFuZ2VkICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAzIC8qIERlcml2ZWRTdGF0ZS51cFRvRGF0ZSAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVjb21wdXRlSWZOZWVkZWQoKTtcbiAgICAgICAgICAgICAgICAvLyBJbiBjYXNlIHJlY29tcHV0YXRpb24gY2hhbmdlZCBvbmUgb2Ygb3VyIGRlcGVuZGVuY2llcywgd2UgbmVlZCB0byByZWNvbXB1dGUgYWdhaW4uXG4gICAgICAgICAgICB9IHdoaWxlICh0aGlzLnN0YXRlICE9PSAzIC8qIERlcml2ZWRTdGF0ZS51cFRvRGF0ZSAqLyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcmVjb21wdXRlSWZOZWVkZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAzIC8qIERlcml2ZWRTdGF0ZS51cFRvRGF0ZSAqLykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVtcHR5U2V0ID0gdGhpcy5kZXBlbmRlbmNpZXNUb0JlUmVtb3ZlZDtcbiAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXNUb0JlUmVtb3ZlZCA9IHRoaXMuZGVwZW5kZW5jaWVzO1xuICAgICAgICB0aGlzLmRlcGVuZGVuY2llcyA9IGVtcHR5U2V0O1xuICAgICAgICBjb25zdCBoYWRWYWx1ZSA9IHRoaXMuc3RhdGUgIT09IDAgLyogRGVyaXZlZFN0YXRlLmluaXRpYWwgKi87XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IDMgLyogRGVyaXZlZFN0YXRlLnVwVG9EYXRlICovO1xuICAgICAgICBjb25zdCBjaGFuZ2VTdW1tYXJ5ID0gdGhpcy5jaGFuZ2VTdW1tYXJ5O1xuICAgICAgICB0aGlzLmNoYW5nZVN1bW1hcnkgPSB0aGlzLmNyZWF0ZUNoYW5nZVN1bW1hcnk/LigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLyoqIG1pZ2h0IGNhbGwge0BsaW5rIGhhbmRsZUNoYW5nZX0gaW5kaXJlY3RseSwgd2hpY2ggY291bGQgaW52YWxpZGF0ZSB1cyAqL1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuX2NvbXB1dGVGbih0aGlzLCBjaGFuZ2VTdW1tYXJ5KTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIC8vIFdlIGRvbid0IHdhbnQgb3VyIG9ic2VydmVkIG9ic2VydmFibGVzIHRvIHRoaW5rIHRoYXQgdGhleSBhcmUgKG5vdCBldmVuIHRlbXBvcmFyaWx5KSBub3QgYmVpbmcgb2JzZXJ2ZWQuXG4gICAgICAgICAgICAvLyBUaHVzLCB3ZSBvbmx5IHVuc3Vic2NyaWJlIGZyb20gb2JzZXJ2YWJsZXMgdGhhdCBhcmUgZGVmaW5pdGVseSBub3QgcmVhZCBhbnltb3JlLlxuICAgICAgICAgICAgZm9yIChjb25zdCBvIG9mIHRoaXMuZGVwZW5kZW5jaWVzVG9CZVJlbW92ZWQpIHtcbiAgICAgICAgICAgICAgICBvLnJlbW92ZU9ic2VydmVyKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXNUb0JlUmVtb3ZlZC5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpZENoYW5nZSA9IGhhZFZhbHVlICYmICEodGhpcy5fZXF1YWxpdHlDb21wYXJhdG9yKG9sZFZhbHVlLCB0aGlzLnZhbHVlKSk7XG4gICAgICAgIGdldExvZ2dlcigpPy5oYW5kbGVEZXJpdmVkUmVjb21wdXRlZCh0aGlzLCB7XG4gICAgICAgICAgICBvbGRWYWx1ZSxcbiAgICAgICAgICAgIG5ld1ZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgY2hhbmdlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkaWRDaGFuZ2UsXG4gICAgICAgICAgICBoYWRWYWx1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChkaWRDaGFuZ2UpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgciBvZiB0aGlzLm9ic2VydmVycykge1xuICAgICAgICAgICAgICAgIHIuaGFuZGxlQ2hhbmdlKHRoaXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgTGF6eURlcml2ZWQ8JHt0aGlzLmRlYnVnTmFtZX0+YDtcbiAgICB9XG4gICAgLy8gSU9ic2VydmVyIEltcGxlbWVudGF0aW9uXG4gICAgYmVnaW5VcGRhdGUoX29ic2VydmFibGUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDb3VudCsrO1xuICAgICAgICBjb25zdCBwcm9wYWdhdGVCZWdpblVwZGF0ZSA9IHRoaXMudXBkYXRlQ291bnQgPT09IDE7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAzIC8qIERlcml2ZWRTdGF0ZS51cFRvRGF0ZSAqLykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDEgLyogRGVyaXZlZFN0YXRlLmRlcGVuZGVuY2llc01pZ2h0SGF2ZUNoYW5nZWQgKi87XG4gICAgICAgICAgICAvLyBJZiB3ZSBwcm9wYWdhdGUgYmVnaW4gdXBkYXRlLCB0aGF0IHdpbGwgYWxyZWFkeSBzaWduYWwgYSBwb3NzaWJsZSBjaGFuZ2UuXG4gICAgICAgICAgICBpZiAoIXByb3BhZ2F0ZUJlZ2luVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCByIG9mIHRoaXMub2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHIuaGFuZGxlUG9zc2libGVDaGFuZ2UodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wYWdhdGVCZWdpblVwZGF0ZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCByIG9mIHRoaXMub2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgICAgICAgci5iZWdpblVwZGF0ZSh0aGlzKTsgLy8gVGhpcyBzaWduYWxzIGEgcG9zc2libGUgY2hhbmdlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW5kVXBkYXRlKF9vYnNlcnZhYmxlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ291bnQtLTtcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIC8vIEVuZCB1cGRhdGUgY291bGQgY2hhbmdlIHRoZSBvYnNlcnZlciBsaXN0LlxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXJzID0gWy4uLnRoaXMub2JzZXJ2ZXJzXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgciBvZiBvYnNlcnZlcnMpIHtcbiAgICAgICAgICAgICAgICByLmVuZFVwZGF0ZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3NlcnRGbigoKSA9PiB0aGlzLnVwZGF0ZUNvdW50ID49IDApO1xuICAgIH1cbiAgICBoYW5kbGVQb3NzaWJsZUNoYW5nZShvYnNlcnZhYmxlKSB7XG4gICAgICAgIC8vIEluIGFsbCBvdGhlciBzdGF0ZXMsIG9ic2VydmVycyBhbHJlYWR5IGtub3cgdGhhdCB3ZSBtaWdodCBoYXZlIGNoYW5nZWQuXG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAzIC8qIERlcml2ZWRTdGF0ZS51cFRvRGF0ZSAqLyAmJiB0aGlzLmRlcGVuZGVuY2llcy5oYXMob2JzZXJ2YWJsZSkgJiYgIXRoaXMuZGVwZW5kZW5jaWVzVG9CZVJlbW92ZWQuaGFzKG9ic2VydmFibGUpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gMSAvKiBEZXJpdmVkU3RhdGUuZGVwZW5kZW5jaWVzTWlnaHRIYXZlQ2hhbmdlZCAqLztcbiAgICAgICAgICAgIGZvciAoY29uc3QgciBvZiB0aGlzLm9ic2VydmVycykge1xuICAgICAgICAgICAgICAgIHIuaGFuZGxlUG9zc2libGVDaGFuZ2UodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlQ2hhbmdlKG9ic2VydmFibGUsIGNoYW5nZSkge1xuICAgICAgICBpZiAodGhpcy5kZXBlbmRlbmNpZXMuaGFzKG9ic2VydmFibGUpICYmICF0aGlzLmRlcGVuZGVuY2llc1RvQmVSZW1vdmVkLmhhcyhvYnNlcnZhYmxlKSkge1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkUmVhY3QgPSB0aGlzLl9oYW5kbGVDaGFuZ2UgPyB0aGlzLl9oYW5kbGVDaGFuZ2Uoe1xuICAgICAgICAgICAgICAgIGNoYW5nZWRPYnNlcnZhYmxlOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgICAgIGNoYW5nZSxcbiAgICAgICAgICAgICAgICBkaWRDaGFuZ2U6IChvKSA9PiBvID09PSBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgfSwgdGhpcy5jaGFuZ2VTdW1tYXJ5KSA6IHRydWU7XG4gICAgICAgICAgICBjb25zdCB3YXNVcFRvRGF0ZSA9IHRoaXMuc3RhdGUgPT09IDMgLyogRGVyaXZlZFN0YXRlLnVwVG9EYXRlICovO1xuICAgICAgICAgICAgaWYgKHNob3VsZFJlYWN0ICYmICh0aGlzLnN0YXRlID09PSAxIC8qIERlcml2ZWRTdGF0ZS5kZXBlbmRlbmNpZXNNaWdodEhhdmVDaGFuZ2VkICovIHx8IHdhc1VwVG9EYXRlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAyIC8qIERlcml2ZWRTdGF0ZS5zdGFsZSAqLztcbiAgICAgICAgICAgICAgICBpZiAod2FzVXBUb0RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCByIG9mIHRoaXMub2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByLmhhbmRsZVBvc3NpYmxlQ2hhbmdlKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIElSZWFkZXIgSW1wbGVtZW50YXRpb25cbiAgICByZWFkT2JzZXJ2YWJsZShvYnNlcnZhYmxlKSB7XG4gICAgICAgIC8vIFN1YnNjcmliZSBiZWZvcmUgZ2V0dGluZyB0aGUgdmFsdWUgdG8gZW5hYmxlIGNhY2hpbmdcbiAgICAgICAgb2JzZXJ2YWJsZS5hZGRPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgLyoqIFRoaXMgbWlnaHQgY2FsbCB7QGxpbmsgaGFuZGxlQ2hhbmdlfSBpbmRpcmVjdGx5LCB3aGljaCBjb3VsZCBpbnZhbGlkYXRlIHVzICovXG4gICAgICAgIGNvbnN0IHZhbHVlID0gb2JzZXJ2YWJsZS5nZXQoKTtcbiAgICAgICAgLy8gV2hpY2ggaXMgd2h5IHdlIG9ubHkgYWRkIHRoZSBvYnNlcnZhYmxlIHRvIHRoZSBkZXBlbmRlbmNpZXMgbm93LlxuICAgICAgICB0aGlzLmRlcGVuZGVuY2llcy5hZGQob2JzZXJ2YWJsZSk7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzVG9CZVJlbW92ZWQuZGVsZXRlKG9ic2VydmFibGUpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGFkZE9ic2VydmVyKG9ic2VydmVyKSB7XG4gICAgICAgIGNvbnN0IHNob3VsZENhbGxCZWdpblVwZGF0ZSA9ICF0aGlzLm9ic2VydmVycy5oYXMob2JzZXJ2ZXIpICYmIHRoaXMudXBkYXRlQ291bnQgPiAwO1xuICAgICAgICBzdXBlci5hZGRPYnNlcnZlcihvYnNlcnZlcik7XG4gICAgICAgIGlmIChzaG91bGRDYWxsQmVnaW5VcGRhdGUpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmJlZ2luVXBkYXRlKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZU9ic2VydmVyKG9ic2VydmVyKSB7XG4gICAgICAgIGNvbnN0IHNob3VsZENhbGxFbmRVcGRhdGUgPSB0aGlzLm9ic2VydmVycy5oYXMob2JzZXJ2ZXIpICYmIHRoaXMudXBkYXRlQ291bnQgPiAwO1xuICAgICAgICBzdXBlci5yZW1vdmVPYnNlcnZlcihvYnNlcnZlcik7XG4gICAgICAgIGlmIChzaG91bGRDYWxsRW5kVXBkYXRlKSB7XG4gICAgICAgICAgICAvLyBDYWxsaW5nIGVuZCB1cGRhdGUgYWZ0ZXIgcmVtb3ZpbmcgdGhlIG9ic2VydmVyIG1ha2VzIHN1cmUgZW5kVXBkYXRlIGNhbm5vdCBiZSBjYWxsZWQgdHdpY2UgaGVyZS5cbiAgICAgICAgICAgIG9ic2VydmVyLmVuZFVwZGF0ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBEZXJpdmVkV2l0aFNldHRlciBleHRlbmRzIERlcml2ZWQge1xuICAgIGNvbnN0cnVjdG9yKGRlYnVnTmFtZURhdGEsIGNvbXB1dGVGbiwgY3JlYXRlQ2hhbmdlU3VtbWFyeSwgaGFuZGxlQ2hhbmdlLCBoYW5kbGVMYXN0T2JzZXJ2ZXJSZW1vdmVkID0gdW5kZWZpbmVkLCBlcXVhbGl0eUNvbXBhcmF0b3IsIHNldCkge1xuICAgICAgICBzdXBlcihkZWJ1Z05hbWVEYXRhLCBjb21wdXRlRm4sIGNyZWF0ZUNoYW5nZVN1bW1hcnksIGhhbmRsZUNoYW5nZSwgaGFuZGxlTGFzdE9ic2VydmVyUmVtb3ZlZCwgZXF1YWxpdHlDb21wYXJhdG9yKTtcbiAgICAgICAgdGhpcy5zZXQgPSBzZXQ7XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5sZXQgZ2xvYmFsT2JzZXJ2YWJsZUxvZ2dlcjtcbmV4cG9ydCBmdW5jdGlvbiBzZXRMb2dnZXIobG9nZ2VyKSB7XG4gICAgZ2xvYmFsT2JzZXJ2YWJsZUxvZ2dlciA9IGxvZ2dlcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2dnZXIoKSB7XG4gICAgcmV0dXJuIGdsb2JhbE9ic2VydmFibGVMb2dnZXI7XG59XG5leHBvcnQgY2xhc3MgQ29uc29sZU9ic2VydmFibGVMb2dnZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluZGVudGF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5jaGFuZ2VkT2JzZXJ2YWJsZXNTZXRzID0gbmV3IFdlYWtNYXAoKTtcbiAgICB9XG4gICAgdGV4dFRvQ29uc29sZUFyZ3ModGV4dCkge1xuICAgICAgICByZXR1cm4gY29uc29sZVRleHRUb0FyZ3MoW1xuICAgICAgICAgICAgbm9ybWFsVGV4dChyZXBlYXQoJ3wgICcsIHRoaXMuaW5kZW50YXRpb24pKSxcbiAgICAgICAgICAgIHRleHQsXG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBmb3JtYXRJbmZvKGluZm8pIHtcbiAgICAgICAgaWYgKCFpbmZvLmhhZFZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIG5vcm1hbFRleHQoYCBgKSxcbiAgICAgICAgICAgICAgICBzdHlsZWQoZm9ybWF0VmFsdWUoaW5mby5uZXdWYWx1ZSwgNjApLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnZ3JlZW4nLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIG5vcm1hbFRleHQoYCAoaW5pdGlhbClgKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZm8uZGlkQ2hhbmdlXG4gICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICBub3JtYWxUZXh0KGAgYCksXG4gICAgICAgICAgICAgICAgc3R5bGVkKGZvcm1hdFZhbHVlKGluZm8ub2xkVmFsdWUsIDcwKSwge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3JlZCcsXG4gICAgICAgICAgICAgICAgICAgIHN0cmlrZVRocm91Z2g6IHRydWUsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgbm9ybWFsVGV4dChgIGApLFxuICAgICAgICAgICAgICAgIHN0eWxlZChmb3JtYXRWYWx1ZShpbmZvLm5ld1ZhbHVlLCA2MCksIHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdncmVlbicsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdXG4gICAgICAgICAgICA6IFtub3JtYWxUZXh0KGAgKHVuY2hhbmdlZClgKV07XG4gICAgfVxuICAgIGhhbmRsZU9ic2VydmFibGVDaGFuZ2VkKG9ic2VydmFibGUsIGluZm8pIHtcbiAgICAgICAgY29uc29sZS5sb2coLi4udGhpcy50ZXh0VG9Db25zb2xlQXJncyhbXG4gICAgICAgICAgICBmb3JtYXRLaW5kKCdvYnNlcnZhYmxlIHZhbHVlIGNoYW5nZWQnKSxcbiAgICAgICAgICAgIHN0eWxlZChvYnNlcnZhYmxlLmRlYnVnTmFtZSwgeyBjb2xvcjogJ0JsdWVWaW9sZXQnIH0pLFxuICAgICAgICAgICAgLi4udGhpcy5mb3JtYXRJbmZvKGluZm8pLFxuICAgICAgICBdKSk7XG4gICAgfVxuICAgIGZvcm1hdENoYW5nZXMoY2hhbmdlcykge1xuICAgICAgICBpZiAoY2hhbmdlcy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHlsZWQoJyAoY2hhbmdlZCBkZXBzOiAnICtcbiAgICAgICAgICAgIFsuLi5jaGFuZ2VzXS5tYXAoKG8pID0+IG8uZGVidWdOYW1lKS5qb2luKCcsICcpICtcbiAgICAgICAgICAgICcpJywgeyBjb2xvcjogJ2dyYXknIH0pO1xuICAgIH1cbiAgICBoYW5kbGVEZXJpdmVkQ3JlYXRlZChkZXJpdmVkKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nSGFuZGxlQ2hhbmdlID0gZGVyaXZlZC5oYW5kbGVDaGFuZ2U7XG4gICAgICAgIHRoaXMuY2hhbmdlZE9ic2VydmFibGVzU2V0cy5zZXQoZGVyaXZlZCwgbmV3IFNldCgpKTtcbiAgICAgICAgZGVyaXZlZC5oYW5kbGVDaGFuZ2UgPSAob2JzZXJ2YWJsZSwgY2hhbmdlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZWRPYnNlcnZhYmxlc1NldHMuZ2V0KGRlcml2ZWQpLmFkZChvYnNlcnZhYmxlKTtcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ0hhbmRsZUNoYW5nZS5hcHBseShkZXJpdmVkLCBbb2JzZXJ2YWJsZSwgY2hhbmdlXSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGhhbmRsZURlcml2ZWRSZWNvbXB1dGVkKGRlcml2ZWQsIGluZm8pIHtcbiAgICAgICAgY29uc3QgY2hhbmdlZE9ic2VydmFibGVzID0gdGhpcy5jaGFuZ2VkT2JzZXJ2YWJsZXNTZXRzLmdldChkZXJpdmVkKTtcbiAgICAgICAgY29uc29sZS5sb2coLi4udGhpcy50ZXh0VG9Db25zb2xlQXJncyhbXG4gICAgICAgICAgICBmb3JtYXRLaW5kKCdkZXJpdmVkIHJlY29tcHV0ZWQnKSxcbiAgICAgICAgICAgIHN0eWxlZChkZXJpdmVkLmRlYnVnTmFtZSwgeyBjb2xvcjogJ0JsdWVWaW9sZXQnIH0pLFxuICAgICAgICAgICAgLi4udGhpcy5mb3JtYXRJbmZvKGluZm8pLFxuICAgICAgICAgICAgdGhpcy5mb3JtYXRDaGFuZ2VzKGNoYW5nZWRPYnNlcnZhYmxlcyksXG4gICAgICAgICAgICB7IGRhdGE6IFt7IGZuOiBkZXJpdmVkLl9kZWJ1Z05hbWVEYXRhLnJlZmVyZW5jZUZuID8/IGRlcml2ZWQuX2NvbXB1dGVGbiB9XSB9XG4gICAgICAgIF0pKTtcbiAgICAgICAgY2hhbmdlZE9ic2VydmFibGVzLmNsZWFyKCk7XG4gICAgfVxuICAgIGhhbmRsZUZyb21FdmVudE9ic2VydmFibGVUcmlnZ2VyZWQob2JzZXJ2YWJsZSwgaW5mbykge1xuICAgICAgICBjb25zb2xlLmxvZyguLi50aGlzLnRleHRUb0NvbnNvbGVBcmdzKFtcbiAgICAgICAgICAgIGZvcm1hdEtpbmQoJ29ic2VydmFibGUgZnJvbSBldmVudCB0cmlnZ2VyZWQnKSxcbiAgICAgICAgICAgIHN0eWxlZChvYnNlcnZhYmxlLmRlYnVnTmFtZSwgeyBjb2xvcjogJ0JsdWVWaW9sZXQnIH0pLFxuICAgICAgICAgICAgLi4udGhpcy5mb3JtYXRJbmZvKGluZm8pLFxuICAgICAgICAgICAgeyBkYXRhOiBbeyBmbjogb2JzZXJ2YWJsZS5fZ2V0VmFsdWUgfV0gfVxuICAgICAgICBdKSk7XG4gICAgfVxuICAgIGhhbmRsZUF1dG9ydW5DcmVhdGVkKGF1dG9ydW4pIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdIYW5kbGVDaGFuZ2UgPSBhdXRvcnVuLmhhbmRsZUNoYW5nZTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkT2JzZXJ2YWJsZXNTZXRzLnNldChhdXRvcnVuLCBuZXcgU2V0KCkpO1xuICAgICAgICBhdXRvcnVuLmhhbmRsZUNoYW5nZSA9IChvYnNlcnZhYmxlLCBjaGFuZ2UpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZE9ic2VydmFibGVzU2V0cy5nZXQoYXV0b3J1bikuYWRkKG9ic2VydmFibGUpO1xuICAgICAgICAgICAgcmV0dXJuIGV4aXN0aW5nSGFuZGxlQ2hhbmdlLmFwcGx5KGF1dG9ydW4sIFtvYnNlcnZhYmxlLCBjaGFuZ2VdKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaGFuZGxlQXV0b3J1blRyaWdnZXJlZChhdXRvcnVuKSB7XG4gICAgICAgIGNvbnN0IGNoYW5nZWRPYnNlcnZhYmxlcyA9IHRoaXMuY2hhbmdlZE9ic2VydmFibGVzU2V0cy5nZXQoYXV0b3J1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKC4uLnRoaXMudGV4dFRvQ29uc29sZUFyZ3MoW1xuICAgICAgICAgICAgZm9ybWF0S2luZCgnYXV0b3J1bicpLFxuICAgICAgICAgICAgc3R5bGVkKGF1dG9ydW4uZGVidWdOYW1lLCB7IGNvbG9yOiAnQmx1ZVZpb2xldCcgfSksXG4gICAgICAgICAgICB0aGlzLmZvcm1hdENoYW5nZXMoY2hhbmdlZE9ic2VydmFibGVzKSxcbiAgICAgICAgICAgIHsgZGF0YTogW3sgZm46IGF1dG9ydW4uX2RlYnVnTmFtZURhdGEucmVmZXJlbmNlRm4gPz8gYXV0b3J1bi5fcnVuRm4gfV0gfVxuICAgICAgICBdKSk7XG4gICAgICAgIGNoYW5nZWRPYnNlcnZhYmxlcy5jbGVhcigpO1xuICAgICAgICB0aGlzLmluZGVudGF0aW9uKys7XG4gICAgfVxuICAgIGhhbmRsZUF1dG9ydW5GaW5pc2hlZChhdXRvcnVuKSB7XG4gICAgICAgIHRoaXMuaW5kZW50YXRpb24tLTtcbiAgICB9XG4gICAgaGFuZGxlQmVnaW5UcmFuc2FjdGlvbih0cmFuc2FjdGlvbikge1xuICAgICAgICBsZXQgdHJhbnNhY3Rpb25OYW1lID0gdHJhbnNhY3Rpb24uZ2V0RGVidWdOYW1lKCk7XG4gICAgICAgIGlmICh0cmFuc2FjdGlvbk5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25OYW1lID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coLi4udGhpcy50ZXh0VG9Db25zb2xlQXJncyhbXG4gICAgICAgICAgICBmb3JtYXRLaW5kKCd0cmFuc2FjdGlvbicpLFxuICAgICAgICAgICAgc3R5bGVkKHRyYW5zYWN0aW9uTmFtZSwgeyBjb2xvcjogJ0JsdWVWaW9sZXQnIH0pLFxuICAgICAgICAgICAgeyBkYXRhOiBbeyBmbjogdHJhbnNhY3Rpb24uX2ZuIH1dIH1cbiAgICAgICAgXSkpO1xuICAgICAgICB0aGlzLmluZGVudGF0aW9uKys7XG4gICAgfVxuICAgIGhhbmRsZUVuZFRyYW5zYWN0aW9uKCkge1xuICAgICAgICB0aGlzLmluZGVudGF0aW9uLS07XG4gICAgfVxufVxuZnVuY3Rpb24gY29uc29sZVRleHRUb0FyZ3ModGV4dCkge1xuICAgIGNvbnN0IHN0eWxlcyA9IG5ldyBBcnJheSgpO1xuICAgIGNvbnN0IGRhdGEgPSBbXTtcbiAgICBsZXQgZmlyc3RBcmcgPSAnJztcbiAgICBmdW5jdGlvbiBwcm9jZXNzKHQpIHtcbiAgICAgICAgaWYgKCdsZW5ndGgnIGluIHQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2VzcyhpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoJ3RleHQnIGluIHQpIHtcbiAgICAgICAgICAgIGZpcnN0QXJnICs9IGAlYyR7dC50ZXh0fWA7XG4gICAgICAgICAgICBzdHlsZXMucHVzaCh0LnN0eWxlKTtcbiAgICAgICAgICAgIGlmICh0LmRhdGEpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goLi4udC5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgnZGF0YScgaW4gdCkge1xuICAgICAgICAgICAgZGF0YS5wdXNoKC4uLnQuZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvY2Vzcyh0ZXh0KTtcbiAgICBjb25zdCByZXN1bHQgPSBbZmlyc3RBcmcsIC4uLnN0eWxlc107XG4gICAgcmVzdWx0LnB1c2goLi4uZGF0YSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG5vcm1hbFRleHQodGV4dCkge1xuICAgIHJldHVybiBzdHlsZWQodGV4dCwgeyBjb2xvcjogJ2JsYWNrJyB9KTtcbn1cbmZ1bmN0aW9uIGZvcm1hdEtpbmQoa2luZCkge1xuICAgIHJldHVybiBzdHlsZWQocGFkU3RyKGAke2tpbmR9OiBgLCAxMCksIHsgY29sb3I6ICdibGFjaycsIGJvbGQ6IHRydWUgfSk7XG59XG5mdW5jdGlvbiBzdHlsZWQodGV4dCwgb3B0aW9ucyA9IHtcbiAgICBjb2xvcjogJ2JsYWNrJyxcbn0pIHtcbiAgICBmdW5jdGlvbiBvYmpUb0NzcyhzdHlsZU9iaikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoc3R5bGVPYmopLnJlZHVjZSgoc3R5bGVTdHJpbmcsIFtwcm9wTmFtZSwgcHJvcFZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGAke3N0eWxlU3RyaW5nfSR7cHJvcE5hbWV9OiR7cHJvcFZhbHVlfTtgO1xuICAgICAgICB9LCAnJyk7XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlID0ge1xuICAgICAgICBjb2xvcjogb3B0aW9ucy5jb2xvcixcbiAgICB9O1xuICAgIGlmIChvcHRpb25zLnN0cmlrZVRocm91Z2gpIHtcbiAgICAgICAgc3R5bGVbJ3RleHQtZGVjb3JhdGlvbiddID0gJ2xpbmUtdGhyb3VnaCc7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmJvbGQpIHtcbiAgICAgICAgc3R5bGVbJ2ZvbnQtd2VpZ2h0J10gPSAnYm9sZCc7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHRleHQsXG4gICAgICAgIHN0eWxlOiBvYmpUb0NzcyhzdHlsZSksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGZvcm1hdFZhbHVlKHZhbHVlLCBhdmFpbGFibGVMZW4pIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgcmV0dXJuICcnICsgdmFsdWU7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoICsgMiA8PSBhdmFpbGFibGVMZW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFwiJHt2YWx1ZX1cImA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYFwiJHt2YWx1ZS5zdWJzdHIoMCwgYXZhaWxhYmxlTGVuIC0gNyl9XCIrLi4uYDtcbiAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnO1xuICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICAgICAgcmV0dXJuICd1bmRlZmluZWQnO1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdudWxsJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXRBcnJheSh2YWx1ZSwgYXZhaWxhYmxlTGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRPYmplY3QodmFsdWUsIGF2YWlsYWJsZUxlbik7XG4gICAgICAgIGNhc2UgJ3N5bWJvbCc6XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgcmV0dXJuIGBbW0Z1bmN0aW9uJHt2YWx1ZS5uYW1lID8gJyAnICsgdmFsdWUubmFtZSA6ICcnfV1dYDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnJyArIHZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZvcm1hdEFycmF5KHZhbHVlLCBhdmFpbGFibGVMZW4pIHtcbiAgICBsZXQgcmVzdWx0ID0gJ1sgJztcbiAgICBsZXQgZmlyc3QgPSB0cnVlO1xuICAgIGZvciAoY29uc3QgdmFsIG9mIHZhbHVlKSB7XG4gICAgICAgIGlmICghZmlyc3QpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSAnLCAnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQubGVuZ3RoIC0gNSA+IGF2YWlsYWJsZUxlbikge1xuICAgICAgICAgICAgcmVzdWx0ICs9ICcuLi4nO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgcmVzdWx0ICs9IGAke2Zvcm1hdFZhbHVlKHZhbCwgYXZhaWxhYmxlTGVuIC0gcmVzdWx0Lmxlbmd0aCl9YDtcbiAgICB9XG4gICAgcmVzdWx0ICs9ICcgXSc7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGZvcm1hdE9iamVjdCh2YWx1ZSwgYXZhaWxhYmxlTGVuKSB7XG4gICAgbGV0IHJlc3VsdCA9ICd7ICc7XG4gICAgbGV0IGZpcnN0ID0gdHJ1ZTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXModmFsdWUpKSB7XG4gICAgICAgIGlmICghZmlyc3QpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSAnLCAnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQubGVuZ3RoIC0gNSA+IGF2YWlsYWJsZUxlbikge1xuICAgICAgICAgICAgcmVzdWx0ICs9ICcuLi4nO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgcmVzdWx0ICs9IGAke2tleX06ICR7Zm9ybWF0VmFsdWUodmFsLCBhdmFpbGFibGVMZW4gLSByZXN1bHQubGVuZ3RoKX1gO1xuICAgIH1cbiAgICByZXN1bHQgKz0gJyB9JztcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gcmVwZWF0KHN0ciwgY291bnQpIHtcbiAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gY291bnQ7IGkrKykge1xuICAgICAgICByZXN1bHQgKz0gc3RyO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gcGFkU3RyKHN0ciwgbGVuZ3RoKSB7XG4gICAgd2hpbGUgKHN0ci5sZW5ndGggPCBsZW5ndGgpIHtcbiAgICAgICAgc3RyICs9ICcgJztcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgRXZlbnQgfSBmcm9tICcuLi9ldmVudC5qcyc7XG5pbXBvcnQgeyBEaXNwb3NhYmxlU3RvcmUsIHRvRGlzcG9zYWJsZSB9IGZyb20gJy4uL2xpZmVjeWNsZS5qcyc7XG5pbXBvcnQgeyBCYXNlT2JzZXJ2YWJsZSwgQ29udmVuaWVudE9ic2VydmFibGUsIF9zZXRLZWVwT2JzZXJ2ZWQsIF9zZXRSZWNvbXB1dGVJbml0aWFsbHlBbmRPbkNoYW5nZSwgc3VidHJhbnNhY3Rpb24sIHRyYW5zYWN0aW9uIH0gZnJvbSAnLi9iYXNlLmpzJztcbmltcG9ydCB7IERlYnVnTmFtZURhdGEgfSBmcm9tICcuL2RlYnVnTmFtZS5qcyc7XG5pbXBvcnQgeyBkZXJpdmVkLCBkZXJpdmVkT3B0cyB9IGZyb20gJy4vZGVyaXZlZC5qcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuL2xvZ2dpbmcuanMnO1xuaW1wb3J0IHsgc3RyaWN0RXF1YWxzIH0gZnJvbSAnLi4vZXF1YWxzLmpzJztcbi8qKlxuICogUmVwcmVzZW50cyBhbiBlZmZpY2llbnQgb2JzZXJ2YWJsZSB3aG9zZSB2YWx1ZSBuZXZlciBjaGFuZ2VzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uc3RPYnNlcnZhYmxlKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdE9ic2VydmFibGUodmFsdWUpO1xufVxuY2xhc3MgQ29uc3RPYnNlcnZhYmxlIGV4dGVuZHMgQ29udmVuaWVudE9ic2VydmFibGUge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGRlYnVnTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gICAgYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpIHtcbiAgICAgICAgLy8gTk8gT1BcbiAgICB9XG4gICAgcmVtb3ZlT2JzZXJ2ZXIob2JzZXJ2ZXIpIHtcbiAgICAgICAgLy8gTk8gT1BcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgQ29uc3Q6ICR7dGhpcy52YWx1ZX1gO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZhYmxlRnJvbUV2ZW50KC4uLmFyZ3MpIHtcbiAgICBsZXQgb3duZXI7XG4gICAgbGV0IGV2ZW50O1xuICAgIGxldCBnZXRWYWx1ZTtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgW293bmVyLCBldmVudCwgZ2V0VmFsdWVdID0gYXJncztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIFtldmVudCwgZ2V0VmFsdWVdID0gYXJncztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGcm9tRXZlbnRPYnNlcnZhYmxlKG5ldyBEZWJ1Z05hbWVEYXRhKG93bmVyLCB1bmRlZmluZWQsIGdldFZhbHVlKSwgZXZlbnQsIGdldFZhbHVlLCAoKSA9PiBGcm9tRXZlbnRPYnNlcnZhYmxlLmdsb2JhbFRyYW5zYWN0aW9uLCBzdHJpY3RFcXVhbHMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9ic2VydmFibGVGcm9tRXZlbnRPcHRzKG9wdGlvbnMsIGV2ZW50LCBnZXRWYWx1ZSkge1xuICAgIHJldHVybiBuZXcgRnJvbUV2ZW50T2JzZXJ2YWJsZShuZXcgRGVidWdOYW1lRGF0YShvcHRpb25zLm93bmVyLCBvcHRpb25zLmRlYnVnTmFtZSwgb3B0aW9ucy5kZWJ1Z1JlZmVyZW5jZUZuID8/IGdldFZhbHVlKSwgZXZlbnQsIGdldFZhbHVlLCAoKSA9PiBGcm9tRXZlbnRPYnNlcnZhYmxlLmdsb2JhbFRyYW5zYWN0aW9uLCBvcHRpb25zLmVxdWFsc0ZuID8/IHN0cmljdEVxdWFscyk7XG59XG5leHBvcnQgY2xhc3MgRnJvbUV2ZW50T2JzZXJ2YWJsZSBleHRlbmRzIEJhc2VPYnNlcnZhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihfZGVidWdOYW1lRGF0YSwgZXZlbnQsIF9nZXRWYWx1ZSwgX2dldFRyYW5zYWN0aW9uLCBfZXF1YWxpdHlDb21wYXJhdG9yKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2RlYnVnTmFtZURhdGEgPSBfZGVidWdOYW1lRGF0YTtcbiAgICAgICAgdGhpcy5ldmVudCA9IGV2ZW50O1xuICAgICAgICB0aGlzLl9nZXRWYWx1ZSA9IF9nZXRWYWx1ZTtcbiAgICAgICAgdGhpcy5fZ2V0VHJhbnNhY3Rpb24gPSBfZ2V0VHJhbnNhY3Rpb247XG4gICAgICAgIHRoaXMuX2VxdWFsaXR5Q29tcGFyYXRvciA9IF9lcXVhbGl0eUNvbXBhcmF0b3I7XG4gICAgICAgIHRoaXMuaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYW5kbGVFdmVudCA9IChhcmdzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHRoaXMuX2dldFZhbHVlKGFyZ3MpO1xuICAgICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgZGlkQ2hhbmdlID0gIXRoaXMuaGFzVmFsdWUgfHwgISh0aGlzLl9lcXVhbGl0eUNvbXBhcmF0b3Iob2xkVmFsdWUsIG5ld1ZhbHVlKSk7XG4gICAgICAgICAgICBsZXQgZGlkUnVuVHJhbnNhY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChkaWRDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlkUnVuVHJhbnNhY3Rpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzdWJ0cmFuc2FjdGlvbih0aGlzLl9nZXRUcmFuc2FjdGlvbigpLCAodHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldExvZ2dlcigpPy5oYW5kbGVGcm9tRXZlbnRPYnNlcnZhYmxlVHJpZ2dlcmVkKHRoaXMsIHsgb2xkVmFsdWUsIG5ld1ZhbHVlLCBjaGFuZ2U6IHVuZGVmaW5lZCwgZGlkQ2hhbmdlLCBoYWRWYWx1ZTogdGhpcy5oYXNWYWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiB0aGlzLm9ic2VydmVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LnVwZGF0ZU9ic2VydmVyKG8sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uaGFuZGxlQ2hhbmdlKHRoaXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLmdldERlYnVnTmFtZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdFdmVudCBmaXJlZCcgKyAobmFtZSA/IGA6ICR7bmFtZX1gIDogJycpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRpZFJ1blRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgZ2V0TG9nZ2VyKCk/LmhhbmRsZUZyb21FdmVudE9ic2VydmFibGVUcmlnZ2VyZWQodGhpcywgeyBvbGRWYWx1ZSwgbmV3VmFsdWUsIGNoYW5nZTogdW5kZWZpbmVkLCBkaWRDaGFuZ2UsIGhhZFZhbHVlOiB0aGlzLmhhc1ZhbHVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXREZWJ1Z05hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWJ1Z05hbWVEYXRhLmdldERlYnVnTmFtZSh0aGlzKTtcbiAgICB9XG4gICAgZ2V0IGRlYnVnTmFtZSgpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuZ2V0RGVidWdOYW1lKCk7XG4gICAgICAgIHJldHVybiAnRnJvbSBFdmVudCcgKyAobmFtZSA/IGA6ICR7bmFtZX1gIDogJycpO1xuICAgIH1cbiAgICBvbkZpcnN0T2JzZXJ2ZXJBZGRlZCgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24gPSB0aGlzLmV2ZW50KHRoaXMuaGFuZGxlRXZlbnQpO1xuICAgIH1cbiAgICBvbkxhc3RPYnNlcnZlclJlbW92ZWQoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZ2V0KCkge1xuICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5oYXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRXZlbnQodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbm8gY2FjaGUsIGFzIHRoZXJlIGFyZSBubyBzdWJzY3JpYmVycyB0byBrZWVwIGl0IHVwZGF0ZWRcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fZ2V0VmFsdWUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbihmdW5jdGlvbiAob2JzZXJ2YWJsZUZyb21FdmVudCkge1xuICAgIG9ic2VydmFibGVGcm9tRXZlbnQuT2JzZXJ2ZXIgPSBGcm9tRXZlbnRPYnNlcnZhYmxlO1xuICAgIGZ1bmN0aW9uIGJhdGNoRXZlbnRzR2xvYmFsbHkodHgsIGZuKSB7XG4gICAgICAgIGxldCBkaWRTZXQgPSBmYWxzZTtcbiAgICAgICAgaWYgKEZyb21FdmVudE9ic2VydmFibGUuZ2xvYmFsVHJhbnNhY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgRnJvbUV2ZW50T2JzZXJ2YWJsZS5nbG9iYWxUcmFuc2FjdGlvbiA9IHR4O1xuICAgICAgICAgICAgZGlkU2V0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChkaWRTZXQpIHtcbiAgICAgICAgICAgICAgICBGcm9tRXZlbnRPYnNlcnZhYmxlLmdsb2JhbFRyYW5zYWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG9ic2VydmFibGVGcm9tRXZlbnQuYmF0Y2hFdmVudHNHbG9iYWxseSA9IGJhdGNoRXZlbnRzR2xvYmFsbHk7XG59KShvYnNlcnZhYmxlRnJvbUV2ZW50IHx8IChvYnNlcnZhYmxlRnJvbUV2ZW50ID0ge30pKTtcbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZhYmxlU2lnbmFsRnJvbUV2ZW50KGRlYnVnTmFtZSwgZXZlbnQpIHtcbiAgICByZXR1cm4gbmV3IEZyb21FdmVudE9ic2VydmFibGVTaWduYWwoZGVidWdOYW1lLCBldmVudCk7XG59XG5jbGFzcyBGcm9tRXZlbnRPYnNlcnZhYmxlU2lnbmFsIGV4dGVuZHMgQmFzZU9ic2VydmFibGUge1xuICAgIGNvbnN0cnVjdG9yKGRlYnVnTmFtZSwgZXZlbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5kZWJ1Z05hbWUgPSBkZWJ1Z05hbWU7XG4gICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcbiAgICAgICAgdGhpcy5oYW5kbGVFdmVudCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uKCh0eCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbyBvZiB0aGlzLm9ic2VydmVycykge1xuICAgICAgICAgICAgICAgICAgICB0eC51cGRhdGVPYnNlcnZlcihvLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgby5oYW5kbGVDaGFuZ2UodGhpcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAoKSA9PiB0aGlzLmRlYnVnTmFtZSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIG9uRmlyc3RPYnNlcnZlckFkZGVkKCkge1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbiA9IHRoaXMuZXZlbnQodGhpcy5oYW5kbGVFdmVudCk7XG4gICAgfVxuICAgIG9uTGFzdE9ic2VydmVyUmVtb3ZlZCgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZ2V0KCkge1xuICAgICAgICAvLyBOTyBPUFxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZhYmxlU2lnbmFsKGRlYnVnTmFtZU9yT3duZXIpIHtcbiAgICBpZiAodHlwZW9mIGRlYnVnTmFtZU9yT3duZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVNpZ25hbChkZWJ1Z05hbWVPck93bmVyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVNpZ25hbCh1bmRlZmluZWQsIGRlYnVnTmFtZU9yT3duZXIpO1xuICAgIH1cbn1cbmNsYXNzIE9ic2VydmFibGVTaWduYWwgZXh0ZW5kcyBCYXNlT2JzZXJ2YWJsZSB7XG4gICAgZ2V0IGRlYnVnTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEZWJ1Z05hbWVEYXRhKHRoaXMuX293bmVyLCB0aGlzLl9kZWJ1Z05hbWUsIHVuZGVmaW5lZCkuZ2V0RGVidWdOYW1lKHRoaXMpID8/ICdPYnNlcnZhYmxlIFNpZ25hbCc7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWJ1Z05hbWU7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKF9kZWJ1Z05hbWUsIF9vd25lcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9kZWJ1Z05hbWUgPSBfZGVidWdOYW1lO1xuICAgICAgICB0aGlzLl9vd25lciA9IF9vd25lcjtcbiAgICB9XG4gICAgdHJpZ2dlcih0eCwgY2hhbmdlKSB7XG4gICAgICAgIGlmICghdHgpIHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uKHR4ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIodHgsIGNoYW5nZSk7XG4gICAgICAgICAgICB9LCAoKSA9PiBgVHJpZ2dlciBzaWduYWwgJHt0aGlzLmRlYnVnTmFtZX1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IG8gb2YgdGhpcy5vYnNlcnZlcnMpIHtcbiAgICAgICAgICAgIHR4LnVwZGF0ZU9ic2VydmVyKG8sIHRoaXMpO1xuICAgICAgICAgICAgby5oYW5kbGVDaGFuZ2UodGhpcywgY2hhbmdlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQoKSB7XG4gICAgICAgIC8vIE5PIE9QXG4gICAgfVxufVxuLyoqXG4gKiBUaGlzIG1ha2VzIHN1cmUgdGhlIG9ic2VydmFibGUgaXMgYmVpbmcgb2JzZXJ2ZWQgYW5kIGtlZXBzIGl0cyBjYWNoZSBhbGl2ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGtlZXBPYnNlcnZlZChvYnNlcnZhYmxlKSB7XG4gICAgY29uc3QgbyA9IG5ldyBLZWVwQWxpdmVPYnNlcnZlcihmYWxzZSwgdW5kZWZpbmVkKTtcbiAgICBvYnNlcnZhYmxlLmFkZE9ic2VydmVyKG8pO1xuICAgIHJldHVybiB0b0Rpc3Bvc2FibGUoKCkgPT4ge1xuICAgICAgICBvYnNlcnZhYmxlLnJlbW92ZU9ic2VydmVyKG8pO1xuICAgIH0pO1xufVxuX3NldEtlZXBPYnNlcnZlZChrZWVwT2JzZXJ2ZWQpO1xuLyoqXG4gKiBUaGlzIGNvbnZlcnRzIHRoZSBnaXZlbiBvYnNlcnZhYmxlIGludG8gYW4gYXV0b3J1bi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlY29tcHV0ZUluaXRpYWxseUFuZE9uQ2hhbmdlKG9ic2VydmFibGUsIGhhbmRsZVZhbHVlKSB7XG4gICAgY29uc3QgbyA9IG5ldyBLZWVwQWxpdmVPYnNlcnZlcih0cnVlLCBoYW5kbGVWYWx1ZSk7XG4gICAgb2JzZXJ2YWJsZS5hZGRPYnNlcnZlcihvKTtcbiAgICBpZiAoaGFuZGxlVmFsdWUpIHtcbiAgICAgICAgaGFuZGxlVmFsdWUob2JzZXJ2YWJsZS5nZXQoKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvYnNlcnZhYmxlLnJlcG9ydENoYW5nZXMoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRvRGlzcG9zYWJsZSgoKSA9PiB7XG4gICAgICAgIG9ic2VydmFibGUucmVtb3ZlT2JzZXJ2ZXIobyk7XG4gICAgfSk7XG59XG5fc2V0UmVjb21wdXRlSW5pdGlhbGx5QW5kT25DaGFuZ2UocmVjb21wdXRlSW5pdGlhbGx5QW5kT25DaGFuZ2UpO1xuZXhwb3J0IGNsYXNzIEtlZXBBbGl2ZU9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihfZm9yY2VSZWNvbXB1dGUsIF9oYW5kbGVWYWx1ZSkge1xuICAgICAgICB0aGlzLl9mb3JjZVJlY29tcHV0ZSA9IF9mb3JjZVJlY29tcHV0ZTtcbiAgICAgICAgdGhpcy5faGFuZGxlVmFsdWUgPSBfaGFuZGxlVmFsdWU7XG4gICAgICAgIHRoaXMuX2NvdW50ZXIgPSAwO1xuICAgIH1cbiAgICBiZWdpblVwZGF0ZShvYnNlcnZhYmxlKSB7XG4gICAgICAgIHRoaXMuX2NvdW50ZXIrKztcbiAgICB9XG4gICAgZW5kVXBkYXRlKG9ic2VydmFibGUpIHtcbiAgICAgICAgdGhpcy5fY291bnRlci0tO1xuICAgICAgICBpZiAodGhpcy5fY291bnRlciA9PT0gMCAmJiB0aGlzLl9mb3JjZVJlY29tcHV0ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2hhbmRsZVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlVmFsdWUob2JzZXJ2YWJsZS5nZXQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZhYmxlLnJlcG9ydENoYW5nZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVQb3NzaWJsZUNoYW5nZShvYnNlcnZhYmxlKSB7XG4gICAgICAgIC8vIE5PIE9QXG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZShvYnNlcnZhYmxlLCBjaGFuZ2UpIHtcbiAgICAgICAgLy8gTk8gT1BcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGVyaXZlZE9ic2VydmFibGVXaXRoQ2FjaGUob3duZXIsIGNvbXB1dGVGbikge1xuICAgIGxldCBsYXN0VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IGRlcml2ZWRPcHRzKHsgb3duZXIsIGRlYnVnUmVmZXJlbmNlRm46IGNvbXB1dGVGbiB9LCByZWFkZXIgPT4ge1xuICAgICAgICBsYXN0VmFsdWUgPSBjb21wdXRlRm4ocmVhZGVyLCBsYXN0VmFsdWUpO1xuICAgICAgICByZXR1cm4gbGFzdFZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBvYnNlcnZhYmxlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlcml2ZWRPYnNlcnZhYmxlV2l0aFdyaXRhYmxlQ2FjaGUob3duZXIsIGNvbXB1dGVGbikge1xuICAgIGxldCBsYXN0VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgY29uc3Qgb25DaGFuZ2UgPSBvYnNlcnZhYmxlU2lnbmFsKCdkZXJpdmVkT2JzZXJ2YWJsZVdpdGhXcml0YWJsZUNhY2hlJyk7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IGRlcml2ZWQob3duZXIsIHJlYWRlciA9PiB7XG4gICAgICAgIG9uQ2hhbmdlLnJlYWQocmVhZGVyKTtcbiAgICAgICAgbGFzdFZhbHVlID0gY29tcHV0ZUZuKHJlYWRlciwgbGFzdFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGxhc3RWYWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYnNlcnZhYmxlLCB7XG4gICAgICAgIGNsZWFyQ2FjaGU6ICh0eCkgPT4ge1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgb25DaGFuZ2UudHJpZ2dlcih0eCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldENhY2hlOiAobmV3VmFsdWUsIHR4KSA9PiB7XG4gICAgICAgICAgICBsYXN0VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIG9uQ2hhbmdlLnRyaWdnZXIodHgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIFdoZW4gdGhlIGl0ZW1zIGFycmF5IGNoYW5nZXMsIHJlZmVyZW50aWFsIGVxdWFsIGl0ZW1zIGFyZSBub3QgbWFwcGVkIGFnYWluLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFwT2JzZXJ2YWJsZUFycmF5Q2FjaGVkKG93bmVyLCBpdGVtcywgbWFwLCBrZXlTZWxlY3Rvcikge1xuICAgIGxldCBtID0gbmV3IEFycmF5TWFwKG1hcCwga2V5U2VsZWN0b3IpO1xuICAgIGNvbnN0IHNlbGYgPSBkZXJpdmVkT3B0cyh7XG4gICAgICAgIGRlYnVnUmVmZXJlbmNlRm46IG1hcCxcbiAgICAgICAgb3duZXIsXG4gICAgICAgIG9uTGFzdE9ic2VydmVyUmVtb3ZlZDogKCkgPT4ge1xuICAgICAgICAgICAgbS5kaXNwb3NlKCk7XG4gICAgICAgICAgICBtID0gbmV3IEFycmF5TWFwKG1hcCk7XG4gICAgICAgIH1cbiAgICB9LCAocmVhZGVyKSA9PiB7XG4gICAgICAgIG0uc2V0SXRlbXMoaXRlbXMucmVhZChyZWFkZXIpKTtcbiAgICAgICAgcmV0dXJuIG0uZ2V0SXRlbXMoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gc2VsZjtcbn1cbmNsYXNzIEFycmF5TWFwIHtcbiAgICBjb25zdHJ1Y3RvcihfbWFwLCBfa2V5U2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5fbWFwID0gX21hcDtcbiAgICAgICAgdGhpcy5fa2V5U2VsZWN0b3IgPSBfa2V5U2VsZWN0b3I7XG4gICAgICAgIHRoaXMuX2NhY2hlID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9pdGVtcyA9IFtdO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLl9jYWNoZS5mb3JFYWNoKGVudHJ5ID0+IGVudHJ5LnN0b3JlLmRpc3Bvc2UoKSk7XG4gICAgICAgIHRoaXMuX2NhY2hlLmNsZWFyKCk7XG4gICAgfVxuICAgIHNldEl0ZW1zKGl0ZW1zKSB7XG4gICAgICAgIGNvbnN0IG5ld0l0ZW1zID0gW107XG4gICAgICAgIGNvbnN0IGl0ZW1zVG9SZW1vdmUgPSBuZXcgU2V0KHRoaXMuX2NhY2hlLmtleXMoKSk7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5fa2V5U2VsZWN0b3IgPyB0aGlzLl9rZXlTZWxlY3RvcihpdGVtKSA6IGl0ZW07XG4gICAgICAgICAgICBsZXQgZW50cnkgPSB0aGlzLl9jYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZSA9IG5ldyBEaXNwb3NhYmxlU3RvcmUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXQgPSB0aGlzLl9tYXAoaXRlbSwgc3RvcmUpO1xuICAgICAgICAgICAgICAgIGVudHJ5ID0geyBvdXQsIHN0b3JlIH07XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGUuc2V0KGtleSwgZW50cnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbXNUb1JlbW92ZS5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0l0ZW1zLnB1c2goZW50cnkub3V0KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXNUb1JlbW92ZSkge1xuICAgICAgICAgICAgY29uc3QgZW50cnkgPSB0aGlzLl9jYWNoZS5nZXQoaXRlbSk7XG4gICAgICAgICAgICBlbnRyeS5zdG9yZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZS5kZWxldGUoaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXRlbXMgPSBuZXdJdGVtcztcbiAgICB9XG4gICAgZ2V0SXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtcztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVmFsdWVXaXRoQ2hhbmdlRXZlbnRGcm9tT2JzZXJ2YWJsZSB7XG4gICAgY29uc3RydWN0b3Iob2JzZXJ2YWJsZSkge1xuICAgICAgICB0aGlzLm9ic2VydmFibGUgPSBvYnNlcnZhYmxlO1xuICAgIH1cbiAgICBnZXQgb25EaWRDaGFuZ2UoKSB7XG4gICAgICAgIHJldHVybiBFdmVudC5mcm9tT2JzZXJ2YWJsZUxpZ2h0KHRoaXMub2JzZXJ2YWJsZSk7XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2JzZXJ2YWJsZS5nZXQoKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gb2JzZXJ2YWJsZUZyb21WYWx1ZVdpdGhDaGFuZ2VFdmVudChvd25lciwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBWYWx1ZVdpdGhDaGFuZ2VFdmVudEZyb21PYnNlcnZhYmxlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5vYnNlcnZhYmxlO1xuICAgIH1cbiAgICByZXR1cm4gb2JzZXJ2YWJsZUZyb21FdmVudChvd25lciwgdmFsdWUub25EaWRDaGFuZ2UsICgpID0+IHZhbHVlLnZhbHVlKTtcbn1cbi8qKlxuICogV29ya3MgbGlrZSBhIGRlcml2ZWQuXG4gKiBIb3dldmVyLCBpZiB0aGUgdmFsdWUgaXMgbm90IHVuZGVmaW5lZCwgaXQgaXMgY2FjaGVkIGFuZCB3aWxsIG5vdCBiZSByZWNvbXB1dGVkIGFueW1vcmUuXG4gKiBJbiB0aGF0IGNhc2UsIHRoZSBkZXJpdmVkIHdpbGwgdW5zdWJzY3JpYmUgZnJvbSBpdHMgZGVwZW5kZW5jaWVzLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXJpdmVkQ29uc3RPbmNlRGVmaW5lZChvd25lciwgZm4pIHtcbiAgICByZXR1cm4gZGVyaXZlZE9ic2VydmFibGVXaXRoQ2FjaGUob3duZXIsIChyZWFkZXIsIGxhc3RWYWx1ZSkgPT4gbGFzdFZhbHVlID8/IGZuKHJlYWRlcikpO1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBFbWl0dGVyLCBFdmVudCB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2V2ZW50LmpzJztcbmltcG9ydCB7IERpc3Bvc2FibGUgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9saWZlY3ljbGUuanMnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VzUmVnaXN0cnkgfSBmcm9tICcuL2xhbmd1YWdlc1JlZ2lzdHJ5LmpzJztcbmltcG9ydCB7IGZpcnN0T3JEZWZhdWx0IH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vYXJyYXlzLmpzJztcbmltcG9ydCB7IFRva2VuaXphdGlvblJlZ2lzdHJ5IH0gZnJvbSAnLi4vbGFuZ3VhZ2VzLmpzJztcbmltcG9ydCB7IFBMQUlOVEVYVF9MQU5HVUFHRV9JRCB9IGZyb20gJy4uL2xhbmd1YWdlcy9tb2Rlc1JlZ2lzdHJ5LmpzJztcbmltcG9ydCB7IG9ic2VydmFibGVGcm9tRXZlbnQgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9vYnNlcnZhYmxlLmpzJztcbmV4cG9ydCBjbGFzcyBMYW5ndWFnZVNlcnZpY2UgZXh0ZW5kcyBEaXNwb3NhYmxlIHtcbiAgICBzdGF0aWMgeyB0aGlzLmluc3RhbmNlQ291bnQgPSAwOyB9XG4gICAgY29uc3RydWN0b3Iod2Fybk9uT3ZlcndyaXRlID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fb25EaWRSZXF1ZXN0QmFzaWNMYW5ndWFnZUZlYXR1cmVzID0gdGhpcy5fcmVnaXN0ZXIobmV3IEVtaXR0ZXIoKSk7XG4gICAgICAgIHRoaXMub25EaWRSZXF1ZXN0QmFzaWNMYW5ndWFnZUZlYXR1cmVzID0gdGhpcy5fb25EaWRSZXF1ZXN0QmFzaWNMYW5ndWFnZUZlYXR1cmVzLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZFJlcXVlc3RSaWNoTGFuZ3VhZ2VGZWF0dXJlcyA9IHRoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyKCkpO1xuICAgICAgICB0aGlzLm9uRGlkUmVxdWVzdFJpY2hMYW5ndWFnZUZlYXR1cmVzID0gdGhpcy5fb25EaWRSZXF1ZXN0UmljaExhbmd1YWdlRmVhdHVyZXMuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlID0gdGhpcy5fcmVnaXN0ZXIobmV3IEVtaXR0ZXIoeyBsZWFrV2FybmluZ1RocmVzaG9sZDogMjAwIC8qIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvdnNjb2RlL2lzc3Vlcy8xMTk5NjggKi8gfSkpO1xuICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlID0gdGhpcy5fb25EaWRDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RlZEJhc2ljTGFuZ3VhZ2VzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0ZWRSaWNoTGFuZ3VhZ2VzID0gbmV3IFNldCgpO1xuICAgICAgICBMYW5ndWFnZVNlcnZpY2UuaW5zdGFuY2VDb3VudCsrO1xuICAgICAgICB0aGlzLl9yZWdpc3RyeSA9IHRoaXMuX3JlZ2lzdGVyKG5ldyBMYW5ndWFnZXNSZWdpc3RyeSh0cnVlLCB3YXJuT25PdmVyd3JpdGUpKTtcbiAgICAgICAgdGhpcy5sYW5ndWFnZUlkQ29kZWMgPSB0aGlzLl9yZWdpc3RyeS5sYW5ndWFnZUlkQ29kZWM7XG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyKHRoaXMuX3JlZ2lzdHJ5Lm9uRGlkQ2hhbmdlKCgpID0+IHRoaXMuX29uRGlkQ2hhbmdlLmZpcmUoKSkpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBMYW5ndWFnZVNlcnZpY2UuaW5zdGFuY2VDb3VudC0tO1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgfVxuICAgIGlzUmVnaXN0ZXJlZExhbmd1YWdlSWQobGFuZ3VhZ2VJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVnaXN0cnkuaXNSZWdpc3RlcmVkTGFuZ3VhZ2VJZChsYW5ndWFnZUlkKTtcbiAgICB9XG4gICAgZ2V0TGFuZ3VhZ2VJZEJ5TGFuZ3VhZ2VOYW1lKGxhbmd1YWdlTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVnaXN0cnkuZ2V0TGFuZ3VhZ2VJZEJ5TGFuZ3VhZ2VOYW1lKGxhbmd1YWdlTmFtZSk7XG4gICAgfVxuICAgIGdldExhbmd1YWdlSWRCeU1pbWVUeXBlKG1pbWVUeXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWdpc3RyeS5nZXRMYW5ndWFnZUlkQnlNaW1lVHlwZShtaW1lVHlwZSk7XG4gICAgfVxuICAgIGd1ZXNzTGFuZ3VhZ2VJZEJ5RmlsZXBhdGhPckZpcnN0TGluZShyZXNvdXJjZSwgZmlyc3RMaW5lKSB7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlSWRzID0gdGhpcy5fcmVnaXN0cnkuZ3Vlc3NMYW5ndWFnZUlkQnlGaWxlcGF0aE9yRmlyc3RMaW5lKHJlc291cmNlLCBmaXJzdExpbmUpO1xuICAgICAgICByZXR1cm4gZmlyc3RPckRlZmF1bHQobGFuZ3VhZ2VJZHMsIG51bGwpO1xuICAgIH1cbiAgICBjcmVhdGVCeUlkKGxhbmd1YWdlSWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYW5ndWFnZVNlbGVjdGlvbih0aGlzLm9uRGlkQ2hhbmdlLCAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlQW5kR2V0TGFuZ3VhZ2VJZGVudGlmaWVyKGxhbmd1YWdlSWQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY3JlYXRlQnlGaWxlcGF0aE9yRmlyc3RMaW5lKHJlc291cmNlLCBmaXJzdExpbmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYW5ndWFnZVNlbGVjdGlvbih0aGlzLm9uRGlkQ2hhbmdlLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsYW5ndWFnZUlkID0gdGhpcy5ndWVzc0xhbmd1YWdlSWRCeUZpbGVwYXRoT3JGaXJzdExpbmUocmVzb3VyY2UsIGZpcnN0TGluZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlQW5kR2V0TGFuZ3VhZ2VJZGVudGlmaWVyKGxhbmd1YWdlSWQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2NyZWF0ZUFuZEdldExhbmd1YWdlSWRlbnRpZmllcihsYW5ndWFnZUlkKSB7XG4gICAgICAgIGlmICghbGFuZ3VhZ2VJZCB8fCAhdGhpcy5pc1JlZ2lzdGVyZWRMYW5ndWFnZUlkKGxhbmd1YWdlSWQpKSB7XG4gICAgICAgICAgICAvLyBGYWxsIGJhY2sgdG8gcGxhaW4gdGV4dCBpZiBsYW5ndWFnZSBpcyB1bmtub3duXG4gICAgICAgICAgICBsYW5ndWFnZUlkID0gUExBSU5URVhUX0xBTkdVQUdFX0lEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsYW5ndWFnZUlkO1xuICAgIH1cbiAgICByZXF1ZXN0QmFzaWNMYW5ndWFnZUZlYXR1cmVzKGxhbmd1YWdlSWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9yZXF1ZXN0ZWRCYXNpY0xhbmd1YWdlcy5oYXMobGFuZ3VhZ2VJZCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RlZEJhc2ljTGFuZ3VhZ2VzLmFkZChsYW5ndWFnZUlkKTtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkUmVxdWVzdEJhc2ljTGFuZ3VhZ2VGZWF0dXJlcy5maXJlKGxhbmd1YWdlSWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlcXVlc3RSaWNoTGFuZ3VhZ2VGZWF0dXJlcyhsYW5ndWFnZUlkKSB7XG4gICAgICAgIGlmICghdGhpcy5fcmVxdWVzdGVkUmljaExhbmd1YWdlcy5oYXMobGFuZ3VhZ2VJZCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RlZFJpY2hMYW5ndWFnZXMuYWRkKGxhbmd1YWdlSWQpO1xuICAgICAgICAgICAgLy8gRW5zdXJlIGJhc2ljIGZlYXR1cmVzIGFyZSByZXF1ZXN0ZWRcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdEJhc2ljTGFuZ3VhZ2VGZWF0dXJlcyhsYW5ndWFnZUlkKTtcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0b2tlbml6ZXJzIGFyZSBjcmVhdGVkXG4gICAgICAgICAgICBUb2tlbml6YXRpb25SZWdpc3RyeS5nZXRPckNyZWF0ZShsYW5ndWFnZUlkKTtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkUmVxdWVzdFJpY2hMYW5ndWFnZUZlYXR1cmVzLmZpcmUobGFuZ3VhZ2VJZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBMYW5ndWFnZVNlbGVjdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob25EaWRDaGFuZ2VMYW5ndWFnZXMsIHNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gb2JzZXJ2YWJsZUZyb21FdmVudCh0aGlzLCBvbkRpZENoYW5nZUxhbmd1YWdlcywgKCkgPT4gc2VsZWN0b3IoKSk7XG4gICAgICAgIHRoaXMub25EaWRDaGFuZ2UgPSBFdmVudC5mcm9tT2JzZXJ2YWJsZSh0aGlzLl92YWx1ZSk7XG4gICAgfVxuICAgIGdldCBsYW5ndWFnZUlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWUuZ2V0KCk7XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2dsb2IuanMnO1xuaW1wb3J0IHsgTWltZXMgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9taW1lLmpzJztcbmltcG9ydCB7IFNjaGVtYXMgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9uZXR3b3JrLmpzJztcbmltcG9ydCB7IGJhc2VuYW1lLCBwb3NpeCB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3BhdGguanMnO1xuaW1wb3J0IHsgRGF0YVVyaSB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3Jlc291cmNlcy5qcyc7XG5pbXBvcnQgeyBzdGFydHNXaXRoVVRGOEJPTSB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3N0cmluZ3MuanMnO1xuaW1wb3J0IHsgUExBSU5URVhUX0xBTkdVQUdFX0lEIH0gZnJvbSAnLi4vbGFuZ3VhZ2VzL21vZGVzUmVnaXN0cnkuanMnO1xubGV0IHJlZ2lzdGVyZWRBc3NvY2lhdGlvbnMgPSBbXTtcbmxldCBub25Vc2VyUmVnaXN0ZXJlZEFzc29jaWF0aW9ucyA9IFtdO1xubGV0IHVzZXJSZWdpc3RlcmVkQXNzb2NpYXRpb25zID0gW107XG4vKipcbiAqIEFzc29jaWF0ZSBhIGxhbmd1YWdlIHRvIHRoZSByZWdpc3RyeSAocGxhdGZvcm0pLlxuICogKiAqKk5PVEUqKjogVGhpcyBhc3NvY2lhdGlvbiB3aWxsIGxvc2Ugb3ZlciBhc3NvY2lhdGlvbnMgcmVnaXN0ZXJlZCB1c2luZyBgcmVnaXN0ZXJDb25maWd1cmVkTGFuZ3VhZ2VBc3NvY2lhdGlvbmAuXG4gKiAqICoqTk9URSoqOiBVc2UgYGNsZWFyUGxhdGZvcm1MYW5ndWFnZUFzc29jaWF0aW9uc2AgdG8gcmVtb3ZlIGFsbCBhc3NvY2lhdGlvbnMgcmVnaXN0ZXJlZCB1c2luZyB0aGlzIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJQbGF0Zm9ybUxhbmd1YWdlQXNzb2NpYXRpb24oYXNzb2NpYXRpb24sIHdhcm5Pbk92ZXJ3cml0ZSA9IGZhbHNlKSB7XG4gICAgX3JlZ2lzdGVyTGFuZ3VhZ2VBc3NvY2lhdGlvbihhc3NvY2lhdGlvbiwgZmFsc2UsIHdhcm5Pbk92ZXJ3cml0ZSk7XG59XG5mdW5jdGlvbiBfcmVnaXN0ZXJMYW5ndWFnZUFzc29jaWF0aW9uKGFzc29jaWF0aW9uLCB1c2VyQ29uZmlndXJlZCwgd2Fybk9uT3ZlcndyaXRlKSB7XG4gICAgLy8gUmVnaXN0ZXJcbiAgICBjb25zdCBhc3NvY2lhdGlvbkl0ZW0gPSB0b0xhbmd1YWdlQXNzb2NpYXRpb25JdGVtKGFzc29jaWF0aW9uLCB1c2VyQ29uZmlndXJlZCk7XG4gICAgcmVnaXN0ZXJlZEFzc29jaWF0aW9ucy5wdXNoKGFzc29jaWF0aW9uSXRlbSk7XG4gICAgaWYgKCFhc3NvY2lhdGlvbkl0ZW0udXNlckNvbmZpZ3VyZWQpIHtcbiAgICAgICAgbm9uVXNlclJlZ2lzdGVyZWRBc3NvY2lhdGlvbnMucHVzaChhc3NvY2lhdGlvbkl0ZW0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdXNlclJlZ2lzdGVyZWRBc3NvY2lhdGlvbnMucHVzaChhc3NvY2lhdGlvbkl0ZW0pO1xuICAgIH1cbiAgICAvLyBDaGVjayBmb3IgY29uZmxpY3RzIHVubGVzcyB0aGlzIGlzIGEgdXNlciBjb25maWd1cmVkIGFzc29jaWF0aW9uXG4gICAgaWYgKHdhcm5Pbk92ZXJ3cml0ZSAmJiAhYXNzb2NpYXRpb25JdGVtLnVzZXJDb25maWd1cmVkKSB7XG4gICAgICAgIHJlZ2lzdGVyZWRBc3NvY2lhdGlvbnMuZm9yRWFjaChhID0+IHtcbiAgICAgICAgICAgIGlmIChhLm1pbWUgPT09IGFzc29jaWF0aW9uSXRlbS5taW1lIHx8IGEudXNlckNvbmZpZ3VyZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47IC8vIHNhbWUgbWltZSBvciB1c2VyQ29uZmlndXJlZCBpcyBva1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFzc29jaWF0aW9uSXRlbS5leHRlbnNpb24gJiYgYS5leHRlbnNpb24gPT09IGFzc29jaWF0aW9uSXRlbS5leHRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYE92ZXJ3cml0aW5nIGV4dGVuc2lvbiA8PCR7YXNzb2NpYXRpb25JdGVtLmV4dGVuc2lvbn0+PiB0byBub3cgcG9pbnQgdG8gbWltZSA8PCR7YXNzb2NpYXRpb25JdGVtLm1pbWV9Pj5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhc3NvY2lhdGlvbkl0ZW0uZmlsZW5hbWUgJiYgYS5maWxlbmFtZSA9PT0gYXNzb2NpYXRpb25JdGVtLmZpbGVuYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBPdmVyd3JpdGluZyBmaWxlbmFtZSA8PCR7YXNzb2NpYXRpb25JdGVtLmZpbGVuYW1lfT4+IHRvIG5vdyBwb2ludCB0byBtaW1lIDw8JHthc3NvY2lhdGlvbkl0ZW0ubWltZX0+PmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFzc29jaWF0aW9uSXRlbS5maWxlcGF0dGVybiAmJiBhLmZpbGVwYXR0ZXJuID09PSBhc3NvY2lhdGlvbkl0ZW0uZmlsZXBhdHRlcm4pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYE92ZXJ3cml0aW5nIGZpbGVwYXR0ZXJuIDw8JHthc3NvY2lhdGlvbkl0ZW0uZmlsZXBhdHRlcm59Pj4gdG8gbm93IHBvaW50IHRvIG1pbWUgPDwke2Fzc29jaWF0aW9uSXRlbS5taW1lfT4+YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXNzb2NpYXRpb25JdGVtLmZpcnN0bGluZSAmJiBhLmZpcnN0bGluZSA9PT0gYXNzb2NpYXRpb25JdGVtLmZpcnN0bGluZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgT3ZlcndyaXRpbmcgZmlyc3RsaW5lIDw8JHthc3NvY2lhdGlvbkl0ZW0uZmlyc3RsaW5lfT4+IHRvIG5vdyBwb2ludCB0byBtaW1lIDw8JHthc3NvY2lhdGlvbkl0ZW0ubWltZX0+PmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiB0b0xhbmd1YWdlQXNzb2NpYXRpb25JdGVtKGFzc29jaWF0aW9uLCB1c2VyQ29uZmlndXJlZCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBhc3NvY2lhdGlvbi5pZCxcbiAgICAgICAgbWltZTogYXNzb2NpYXRpb24ubWltZSxcbiAgICAgICAgZmlsZW5hbWU6IGFzc29jaWF0aW9uLmZpbGVuYW1lLFxuICAgICAgICBleHRlbnNpb246IGFzc29jaWF0aW9uLmV4dGVuc2lvbixcbiAgICAgICAgZmlsZXBhdHRlcm46IGFzc29jaWF0aW9uLmZpbGVwYXR0ZXJuLFxuICAgICAgICBmaXJzdGxpbmU6IGFzc29jaWF0aW9uLmZpcnN0bGluZSxcbiAgICAgICAgdXNlckNvbmZpZ3VyZWQ6IHVzZXJDb25maWd1cmVkLFxuICAgICAgICBmaWxlbmFtZUxvd2VyY2FzZTogYXNzb2NpYXRpb24uZmlsZW5hbWUgPyBhc3NvY2lhdGlvbi5maWxlbmFtZS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICBleHRlbnNpb25Mb3dlcmNhc2U6IGFzc29jaWF0aW9uLmV4dGVuc2lvbiA/IGFzc29jaWF0aW9uLmV4dGVuc2lvbi50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICBmaWxlcGF0dGVybkxvd2VyY2FzZTogYXNzb2NpYXRpb24uZmlsZXBhdHRlcm4gPyBwYXJzZShhc3NvY2lhdGlvbi5maWxlcGF0dGVybi50b0xvd2VyQ2FzZSgpKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZmlsZXBhdHRlcm5PblBhdGg6IGFzc29jaWF0aW9uLmZpbGVwYXR0ZXJuID8gYXNzb2NpYXRpb24uZmlsZXBhdHRlcm4uaW5kZXhPZihwb3NpeC5zZXApID49IDAgOiBmYWxzZVxuICAgIH07XG59XG4vKipcbiAqIENsZWFyIGxhbmd1YWdlIGFzc29jaWF0aW9ucyBmcm9tIHRoZSByZWdpc3RyeSAocGxhdGZvcm0pLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJQbGF0Zm9ybUxhbmd1YWdlQXNzb2NpYXRpb25zKCkge1xuICAgIHJlZ2lzdGVyZWRBc3NvY2lhdGlvbnMgPSByZWdpc3RlcmVkQXNzb2NpYXRpb25zLmZpbHRlcihhID0+IGEudXNlckNvbmZpZ3VyZWQpO1xuICAgIG5vblVzZXJSZWdpc3RlcmVkQXNzb2NpYXRpb25zID0gW107XG59XG4vKipcbiAqIEBzZWUgYGdldE1pbWVUeXBlc2BcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExhbmd1YWdlSWRzKHJlc291cmNlLCBmaXJzdExpbmUpIHtcbiAgICByZXR1cm4gZ2V0QXNzb2NpYXRpb25zKHJlc291cmNlLCBmaXJzdExpbmUpLm1hcChpdGVtID0+IGl0ZW0uaWQpO1xufVxuZnVuY3Rpb24gZ2V0QXNzb2NpYXRpb25zKHJlc291cmNlLCBmaXJzdExpbmUpIHtcbiAgICBsZXQgcGF0aDtcbiAgICBpZiAocmVzb3VyY2UpIHtcbiAgICAgICAgc3dpdGNoIChyZXNvdXJjZS5zY2hlbWUpIHtcbiAgICAgICAgICAgIGNhc2UgU2NoZW1hcy5maWxlOlxuICAgICAgICAgICAgICAgIHBhdGggPSByZXNvdXJjZS5mc1BhdGg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjaGVtYXMuZGF0YToge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gRGF0YVVyaS5wYXJzZU1ldGFEYXRhKHJlc291cmNlKTtcbiAgICAgICAgICAgICAgICBwYXRoID0gbWV0YWRhdGEuZ2V0KERhdGFVcmkuTUVUQV9EQVRBX0xBQkVMKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgU2NoZW1hcy52c2NvZGVOb3RlYm9va0NlbGw6XG4gICAgICAgICAgICAgICAgLy8gRmlsZSBwYXRoIG5vdCByZWxldmFudCBmb3IgbGFuZ3VhZ2UgZGV0ZWN0aW9uIG9mIGNlbGxcbiAgICAgICAgICAgICAgICBwYXRoID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBwYXRoID0gcmVzb3VyY2UucGF0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgcmV0dXJuIFt7IGlkOiAndW5rbm93bicsIG1pbWU6IE1pbWVzLnVua25vd24gfV07XG4gICAgfVxuICAgIHBhdGggPSBwYXRoLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBiYXNlbmFtZShwYXRoKTtcbiAgICAvLyAxLikgVXNlciBjb25maWd1cmVkIG1hcHBpbmdzIGhhdmUgaGlnaGVzdCBwcmlvcml0eVxuICAgIGNvbnN0IGNvbmZpZ3VyZWRMYW5ndWFnZSA9IGdldEFzc29jaWF0aW9uQnlQYXRoKHBhdGgsIGZpbGVuYW1lLCB1c2VyUmVnaXN0ZXJlZEFzc29jaWF0aW9ucyk7XG4gICAgaWYgKGNvbmZpZ3VyZWRMYW5ndWFnZSkge1xuICAgICAgICByZXR1cm4gW2NvbmZpZ3VyZWRMYW5ndWFnZSwgeyBpZDogUExBSU5URVhUX0xBTkdVQUdFX0lELCBtaW1lOiBNaW1lcy50ZXh0IH1dO1xuICAgIH1cbiAgICAvLyAyLikgUmVnaXN0ZXJlZCBtYXBwaW5ncyBoYXZlIG1pZGRsZSBwcmlvcml0eVxuICAgIGNvbnN0IHJlZ2lzdGVyZWRMYW5ndWFnZSA9IGdldEFzc29jaWF0aW9uQnlQYXRoKHBhdGgsIGZpbGVuYW1lLCBub25Vc2VyUmVnaXN0ZXJlZEFzc29jaWF0aW9ucyk7XG4gICAgaWYgKHJlZ2lzdGVyZWRMYW5ndWFnZSkge1xuICAgICAgICByZXR1cm4gW3JlZ2lzdGVyZWRMYW5ndWFnZSwgeyBpZDogUExBSU5URVhUX0xBTkdVQUdFX0lELCBtaW1lOiBNaW1lcy50ZXh0IH1dO1xuICAgIH1cbiAgICAvLyAzLikgRmlyc3RsaW5lIGhhcyBsb3dlc3QgcHJpb3JpdHlcbiAgICBpZiAoZmlyc3RMaW5lKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0bGluZUxhbmd1YWdlID0gZ2V0QXNzb2NpYXRpb25CeUZpcnN0bGluZShmaXJzdExpbmUpO1xuICAgICAgICBpZiAoZmlyc3RsaW5lTGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBbZmlyc3RsaW5lTGFuZ3VhZ2UsIHsgaWQ6IFBMQUlOVEVYVF9MQU5HVUFHRV9JRCwgbWltZTogTWltZXMudGV4dCB9XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW3sgaWQ6ICd1bmtub3duJywgbWltZTogTWltZXMudW5rbm93biB9XTtcbn1cbmZ1bmN0aW9uIGdldEFzc29jaWF0aW9uQnlQYXRoKHBhdGgsIGZpbGVuYW1lLCBhc3NvY2lhdGlvbnMpIHtcbiAgICBsZXQgZmlsZW5hbWVNYXRjaCA9IHVuZGVmaW5lZDtcbiAgICBsZXQgcGF0dGVybk1hdGNoID0gdW5kZWZpbmVkO1xuICAgIGxldCBleHRlbnNpb25NYXRjaCA9IHVuZGVmaW5lZDtcbiAgICAvLyBXZSB3YW50IHRvIHByaW9yaXRpemUgYXNzb2NpYXRpb25zIGJhc2VkIG9uIHRoZSBvcmRlciB0aGV5IGFyZSByZWdpc3RlcmVkIHNvIHRoYXQgdGhlIGxhc3QgcmVnaXN0ZXJlZFxuICAgIC8vIGFzc29jaWF0aW9uIHdpbnMgb3ZlciBhbGwgb3RoZXIuIFRoaXMgaXMgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvdnNjb2RlL2lzc3Vlcy8yMDA3NFxuICAgIGZvciAobGV0IGkgPSBhc3NvY2lhdGlvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgYXNzb2NpYXRpb24gPSBhc3NvY2lhdGlvbnNbaV07XG4gICAgICAgIC8vIEZpcnN0IGV4YWN0IG5hbWUgbWF0Y2hcbiAgICAgICAgaWYgKGZpbGVuYW1lID09PSBhc3NvY2lhdGlvbi5maWxlbmFtZUxvd2VyY2FzZSkge1xuICAgICAgICAgICAgZmlsZW5hbWVNYXRjaCA9IGFzc29jaWF0aW9uO1xuICAgICAgICAgICAgYnJlYWs7IC8vIHRha2UgaXQhXG4gICAgICAgIH1cbiAgICAgICAgLy8gTG9uZ2VzdCBwYXR0ZXJuIG1hdGNoXG4gICAgICAgIGlmIChhc3NvY2lhdGlvbi5maWxlcGF0dGVybikge1xuICAgICAgICAgICAgaWYgKCFwYXR0ZXJuTWF0Y2ggfHwgYXNzb2NpYXRpb24uZmlsZXBhdHRlcm4ubGVuZ3RoID4gcGF0dGVybk1hdGNoLmZpbGVwYXR0ZXJuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGFzc29jaWF0aW9uLmZpbGVwYXR0ZXJuT25QYXRoID8gcGF0aCA6IGZpbGVuYW1lOyAvLyBtYXRjaCBvbiBmdWxsIHBhdGggaWYgcGF0dGVybiBjb250YWlucyBwYXRoIHNlcGFyYXRvclxuICAgICAgICAgICAgICAgIGlmIChhc3NvY2lhdGlvbi5maWxlcGF0dGVybkxvd2VyY2FzZT8uKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybk1hdGNoID0gYXNzb2NpYXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIExvbmdlc3QgZXh0ZW5zaW9uIG1hdGNoXG4gICAgICAgIGlmIChhc3NvY2lhdGlvbi5leHRlbnNpb24pIHtcbiAgICAgICAgICAgIGlmICghZXh0ZW5zaW9uTWF0Y2ggfHwgYXNzb2NpYXRpb24uZXh0ZW5zaW9uLmxlbmd0aCA+IGV4dGVuc2lvbk1hdGNoLmV4dGVuc2lvbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsZW5hbWUuZW5kc1dpdGgoYXNzb2NpYXRpb24uZXh0ZW5zaW9uTG93ZXJjYXNlKSkge1xuICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25NYXRjaCA9IGFzc29jaWF0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyAxLikgRXhhY3QgbmFtZSBtYXRjaCBoYXMgc2Vjb25kIGhpZ2hlc3QgcHJpb3JpdHlcbiAgICBpZiAoZmlsZW5hbWVNYXRjaCkge1xuICAgICAgICByZXR1cm4gZmlsZW5hbWVNYXRjaDtcbiAgICB9XG4gICAgLy8gMi4pIE1hdGNoIG9uIHBhdHRlcm5cbiAgICBpZiAocGF0dGVybk1hdGNoKSB7XG4gICAgICAgIHJldHVybiBwYXR0ZXJuTWF0Y2g7XG4gICAgfVxuICAgIC8vIDMuKSBNYXRjaCBvbiBleHRlbnNpb24gY29tZXMgbmV4dFxuICAgIGlmIChleHRlbnNpb25NYXRjaCkge1xuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uTWF0Y2g7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBnZXRBc3NvY2lhdGlvbkJ5Rmlyc3RsaW5lKGZpcnN0TGluZSkge1xuICAgIGlmIChzdGFydHNXaXRoVVRGOEJPTShmaXJzdExpbmUpKSB7XG4gICAgICAgIGZpcnN0TGluZSA9IGZpcnN0TGluZS5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGlmIChmaXJzdExpbmUubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBXZSB3YW50IHRvIHByaW9yaXRpemUgYXNzb2NpYXRpb25zIGJhc2VkIG9uIHRoZSBvcmRlciB0aGV5IGFyZSByZWdpc3RlcmVkIHNvIHRoYXQgdGhlIGxhc3QgcmVnaXN0ZXJlZFxuICAgICAgICAvLyBhc3NvY2lhdGlvbiB3aW5zIG92ZXIgYWxsIG90aGVyLiBUaGlzIGlzIGZvciBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L3ZzY29kZS9pc3N1ZXMvMjAwNzRcbiAgICAgICAgZm9yIChsZXQgaSA9IHJlZ2lzdGVyZWRBc3NvY2lhdGlvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGFzc29jaWF0aW9uID0gcmVnaXN0ZXJlZEFzc29jaWF0aW9uc1tpXTtcbiAgICAgICAgICAgIGlmICghYXNzb2NpYXRpb24uZmlyc3RsaW5lKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gZmlyc3RMaW5lLm1hdGNoKGFzc29jaWF0aW9uLmZpcnN0bGluZSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXNzb2NpYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2V2ZW50LmpzJztcbmltcG9ydCB7IERpc3Bvc2FibGUgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9saWZlY3ljbGUuanMnO1xuaW1wb3J0IHsgcmVnRXhwTGVhZHNUb0VuZGxlc3NMb29wIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vc3RyaW5ncy5qcyc7XG5pbXBvcnQgeyBjbGVhclBsYXRmb3JtTGFuZ3VhZ2VBc3NvY2lhdGlvbnMsIGdldExhbmd1YWdlSWRzLCByZWdpc3RlclBsYXRmb3JtTGFuZ3VhZ2VBc3NvY2lhdGlvbiB9IGZyb20gJy4vbGFuZ3VhZ2VzQXNzb2NpYXRpb25zLmpzJztcbmltcG9ydCB7IE1vZGVzUmVnaXN0cnksIFBMQUlOVEVYVF9MQU5HVUFHRV9JRCB9IGZyb20gJy4uL2xhbmd1YWdlcy9tb2Rlc1JlZ2lzdHJ5LmpzJztcbmltcG9ydCB7IEV4dGVuc2lvbnMgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9jb25maWd1cmF0aW9uL2NvbW1vbi9jb25maWd1cmF0aW9uUmVnaXN0cnkuanMnO1xuaW1wb3J0IHsgUmVnaXN0cnkgfSBmcm9tICcuLi8uLi8uLi9wbGF0Zm9ybS9yZWdpc3RyeS9jb21tb24vcGxhdGZvcm0uanMnO1xuY29uc3QgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuY29uc3QgTlVMTF9MQU5HVUFHRV9JRCA9ICd2cy5lZGl0b3IubnVsbExhbmd1YWdlJztcbmV4cG9ydCBjbGFzcyBMYW5ndWFnZUlkQ29kZWMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9sYW5ndWFnZUlkVG9MYW5ndWFnZSA9IFtdO1xuICAgICAgICB0aGlzLl9sYW5ndWFnZVRvTGFuZ3VhZ2VJZCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fcmVnaXN0ZXIoTlVMTF9MQU5HVUFHRV9JRCwgMCAvKiBMYW5ndWFnZUlkLk51bGwgKi8pO1xuICAgICAgICB0aGlzLl9yZWdpc3RlcihQTEFJTlRFWFRfTEFOR1VBR0VfSUQsIDEgLyogTGFuZ3VhZ2VJZC5QbGFpblRleHQgKi8pO1xuICAgICAgICB0aGlzLl9uZXh0TGFuZ3VhZ2VJZCA9IDI7XG4gICAgfVxuICAgIF9yZWdpc3RlcihsYW5ndWFnZSwgbGFuZ3VhZ2VJZCkge1xuICAgICAgICB0aGlzLl9sYW5ndWFnZUlkVG9MYW5ndWFnZVtsYW5ndWFnZUlkXSA9IGxhbmd1YWdlO1xuICAgICAgICB0aGlzLl9sYW5ndWFnZVRvTGFuZ3VhZ2VJZC5zZXQobGFuZ3VhZ2UsIGxhbmd1YWdlSWQpO1xuICAgIH1cbiAgICByZWdpc3RlcihsYW5ndWFnZSkge1xuICAgICAgICBpZiAodGhpcy5fbGFuZ3VhZ2VUb0xhbmd1YWdlSWQuaGFzKGxhbmd1YWdlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlSWQgPSB0aGlzLl9uZXh0TGFuZ3VhZ2VJZCsrO1xuICAgICAgICB0aGlzLl9yZWdpc3RlcihsYW5ndWFnZSwgbGFuZ3VhZ2VJZCk7XG4gICAgfVxuICAgIGVuY29kZUxhbmd1YWdlSWQobGFuZ3VhZ2VJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGFuZ3VhZ2VUb0xhbmd1YWdlSWQuZ2V0KGxhbmd1YWdlSWQpIHx8IDAgLyogTGFuZ3VhZ2VJZC5OdWxsICovO1xuICAgIH1cbiAgICBkZWNvZGVMYW5ndWFnZUlkKGxhbmd1YWdlSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhbmd1YWdlSWRUb0xhbmd1YWdlW2xhbmd1YWdlSWRdIHx8IE5VTExfTEFOR1VBR0VfSUQ7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIExhbmd1YWdlc1JlZ2lzdHJ5IGV4dGVuZHMgRGlzcG9zYWJsZSB7XG4gICAgc3RhdGljIHsgdGhpcy5pbnN0YW5jZUNvdW50ID0gMDsgfVxuICAgIGNvbnN0cnVjdG9yKHVzZU1vZGVzUmVnaXN0cnkgPSB0cnVlLCB3YXJuT25PdmVyd3JpdGUgPSBmYWxzZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZSA9IHRoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyKCkpO1xuICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlID0gdGhpcy5fb25EaWRDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIExhbmd1YWdlc1JlZ2lzdHJ5Lmluc3RhbmNlQ291bnQrKztcbiAgICAgICAgdGhpcy5fd2Fybk9uT3ZlcndyaXRlID0gd2Fybk9uT3ZlcndyaXRlO1xuICAgICAgICB0aGlzLmxhbmd1YWdlSWRDb2RlYyA9IG5ldyBMYW5ndWFnZUlkQ29kZWMoKTtcbiAgICAgICAgdGhpcy5fZHluYW1pY0xhbmd1YWdlcyA9IFtdO1xuICAgICAgICB0aGlzLl9sYW5ndWFnZXMgPSB7fTtcbiAgICAgICAgdGhpcy5fbWltZVR5cGVzTWFwID0ge307XG4gICAgICAgIHRoaXMuX25hbWVNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5fbG93ZXJjYXNlTmFtZU1hcCA9IHt9O1xuICAgICAgICBpZiAodXNlTW9kZXNSZWdpc3RyeSkge1xuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZUZyb21SZWdpc3RyeSgpO1xuICAgICAgICAgICAgdGhpcy5fcmVnaXN0ZXIoTW9kZXNSZWdpc3RyeS5vbkRpZENoYW5nZUxhbmd1YWdlcygobSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVGcm9tUmVnaXN0cnkoKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBMYW5ndWFnZXNSZWdpc3RyeS5pbnN0YW5jZUNvdW50LS07XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgX2luaXRpYWxpemVGcm9tUmVnaXN0cnkoKSB7XG4gICAgICAgIHRoaXMuX2xhbmd1YWdlcyA9IHt9O1xuICAgICAgICB0aGlzLl9taW1lVHlwZXNNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5fbmFtZU1hcCA9IHt9O1xuICAgICAgICB0aGlzLl9sb3dlcmNhc2VOYW1lTWFwID0ge307XG4gICAgICAgIGNsZWFyUGxhdGZvcm1MYW5ndWFnZUFzc29jaWF0aW9ucygpO1xuICAgICAgICBjb25zdCBkZXNjID0gW10uY29uY2F0KE1vZGVzUmVnaXN0cnkuZ2V0TGFuZ3VhZ2VzKCkpLmNvbmNhdCh0aGlzLl9keW5hbWljTGFuZ3VhZ2VzKTtcbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJMYW5ndWFnZXMoZGVzYyk7XG4gICAgfVxuICAgIF9yZWdpc3Rlckxhbmd1YWdlcyhkZXNjKSB7XG4gICAgICAgIGZvciAoY29uc3QgZCBvZiBkZXNjKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWdpc3Rlckxhbmd1YWdlKGQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlYnVpbGQgZmFzdCBwYXRoIG1hcHNcbiAgICAgICAgdGhpcy5fbWltZVR5cGVzTWFwID0ge307XG4gICAgICAgIHRoaXMuX25hbWVNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5fbG93ZXJjYXNlTmFtZU1hcCA9IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9sYW5ndWFnZXMpLmZvckVhY2goKGxhbmdJZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGFuZ3VhZ2UgPSB0aGlzLl9sYW5ndWFnZXNbbGFuZ0lkXTtcbiAgICAgICAgICAgIGlmIChsYW5ndWFnZS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmFtZU1hcFtsYW5ndWFnZS5uYW1lXSA9IGxhbmd1YWdlLmlkZW50aWZpZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYW5ndWFnZS5hbGlhc2VzLmZvckVhY2goKGFsaWFzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG93ZXJjYXNlTmFtZU1hcFthbGlhcy50b0xvd2VyQ2FzZSgpXSA9IGxhbmd1YWdlLmlkZW50aWZpZXI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxhbmd1YWdlLm1pbWV0eXBlcy5mb3JFYWNoKChtaW1ldHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX21pbWVUeXBlc01hcFttaW1ldHlwZV0gPSBsYW5ndWFnZS5pZGVudGlmaWVyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBSZWdpc3RyeS5hcyhFeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24pLnJlZ2lzdGVyT3ZlcnJpZGVJZGVudGlmaWVycyh0aGlzLmdldFJlZ2lzdGVyZWRMYW5ndWFnZUlkcygpKTtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2UuZmlyZSgpO1xuICAgIH1cbiAgICBfcmVnaXN0ZXJMYW5ndWFnZShsYW5nKSB7XG4gICAgICAgIGNvbnN0IGxhbmdJZCA9IGxhbmcuaWQ7XG4gICAgICAgIGxldCByZXNvbHZlZExhbmd1YWdlO1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9sYW5ndWFnZXMsIGxhbmdJZCkpIHtcbiAgICAgICAgICAgIHJlc29sdmVkTGFuZ3VhZ2UgPSB0aGlzLl9sYW5ndWFnZXNbbGFuZ0lkXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2VJZENvZGVjLnJlZ2lzdGVyKGxhbmdJZCk7XG4gICAgICAgICAgICByZXNvbHZlZExhbmd1YWdlID0ge1xuICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6IGxhbmdJZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgIG1pbWV0eXBlczogW10sXG4gICAgICAgICAgICAgICAgYWxpYXNlczogW10sXG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uczogW10sXG4gICAgICAgICAgICAgICAgZmlsZW5hbWVzOiBbXSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uRmlsZXM6IFtdLFxuICAgICAgICAgICAgICAgIGljb25zOiBbXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX2xhbmd1YWdlc1tsYW5nSWRdID0gcmVzb2x2ZWRMYW5ndWFnZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tZXJnZUxhbmd1YWdlKHJlc29sdmVkTGFuZ3VhZ2UsIGxhbmcpO1xuICAgIH1cbiAgICBfbWVyZ2VMYW5ndWFnZShyZXNvbHZlZExhbmd1YWdlLCBsYW5nKSB7XG4gICAgICAgIGNvbnN0IGxhbmdJZCA9IGxhbmcuaWQ7XG4gICAgICAgIGxldCBwcmltYXJ5TWltZSA9IG51bGw7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGxhbmcubWltZXR5cGVzKSAmJiBsYW5nLm1pbWV0eXBlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXNvbHZlZExhbmd1YWdlLm1pbWV0eXBlcy5wdXNoKC4uLmxhbmcubWltZXR5cGVzKTtcbiAgICAgICAgICAgIHByaW1hcnlNaW1lID0gbGFuZy5taW1ldHlwZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwcmltYXJ5TWltZSkge1xuICAgICAgICAgICAgcHJpbWFyeU1pbWUgPSBgdGV4dC94LSR7bGFuZ0lkfWA7XG4gICAgICAgICAgICByZXNvbHZlZExhbmd1YWdlLm1pbWV0eXBlcy5wdXNoKHByaW1hcnlNaW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsYW5nLmV4dGVuc2lvbnMpKSB7XG4gICAgICAgICAgICBpZiAobGFuZy5jb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gaW5zZXJ0IGZpcnN0IGFzIHRoaXMgYXBwZWFycyB0byBiZSB0aGUgJ3ByaW1hcnknIGxhbmd1YWdlIGRlZmluaXRpb25cbiAgICAgICAgICAgICAgICByZXNvbHZlZExhbmd1YWdlLmV4dGVuc2lvbnMgPSBsYW5nLmV4dGVuc2lvbnMuY29uY2F0KHJlc29sdmVkTGFuZ3VhZ2UuZXh0ZW5zaW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlZExhbmd1YWdlLmV4dGVuc2lvbnMgPSByZXNvbHZlZExhbmd1YWdlLmV4dGVuc2lvbnMuY29uY2F0KGxhbmcuZXh0ZW5zaW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGV4dGVuc2lvbiBvZiBsYW5nLmV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgICAgICByZWdpc3RlclBsYXRmb3JtTGFuZ3VhZ2VBc3NvY2lhdGlvbih7IGlkOiBsYW5nSWQsIG1pbWU6IHByaW1hcnlNaW1lLCBleHRlbnNpb246IGV4dGVuc2lvbiB9LCB0aGlzLl93YXJuT25PdmVyd3JpdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGxhbmcuZmlsZW5hbWVzKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBmaWxlbmFtZSBvZiBsYW5nLmZpbGVuYW1lcykge1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyUGxhdGZvcm1MYW5ndWFnZUFzc29jaWF0aW9uKHsgaWQ6IGxhbmdJZCwgbWltZTogcHJpbWFyeU1pbWUsIGZpbGVuYW1lOiBmaWxlbmFtZSB9LCB0aGlzLl93YXJuT25PdmVyd3JpdGUpO1xuICAgICAgICAgICAgICAgIHJlc29sdmVkTGFuZ3VhZ2UuZmlsZW5hbWVzLnB1c2goZmlsZW5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGxhbmcuZmlsZW5hbWVQYXR0ZXJucykpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZW5hbWVQYXR0ZXJuIG9mIGxhbmcuZmlsZW5hbWVQYXR0ZXJucykge1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyUGxhdGZvcm1MYW5ndWFnZUFzc29jaWF0aW9uKHsgaWQ6IGxhbmdJZCwgbWltZTogcHJpbWFyeU1pbWUsIGZpbGVwYXR0ZXJuOiBmaWxlbmFtZVBhdHRlcm4gfSwgdGhpcy5fd2Fybk9uT3ZlcndyaXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGxhbmcuZmlyc3RMaW5lID09PSAnc3RyaW5nJyAmJiBsYW5nLmZpcnN0TGluZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgZmlyc3RMaW5lUmVnZXhTdHIgPSBsYW5nLmZpcnN0TGluZTtcbiAgICAgICAgICAgIGlmIChmaXJzdExpbmVSZWdleFN0ci5jaGFyQXQoMCkgIT09ICdeJykge1xuICAgICAgICAgICAgICAgIGZpcnN0TGluZVJlZ2V4U3RyID0gJ14nICsgZmlyc3RMaW5lUmVnZXhTdHI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0TGluZVJlZ2V4ID0gbmV3IFJlZ0V4cChmaXJzdExpbmVSZWdleFN0cik7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdFeHBMZWFkc1RvRW5kbGVzc0xvb3AoZmlyc3RMaW5lUmVnZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyUGxhdGZvcm1MYW5ndWFnZUFzc29jaWF0aW9uKHsgaWQ6IGxhbmdJZCwgbWltZTogcHJpbWFyeU1pbWUsIGZpcnN0bGluZTogZmlyc3RMaW5lUmVnZXggfSwgdGhpcy5fd2Fybk9uT3ZlcndyaXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gTW9zdCBsaWtlbHksIHRoZSByZWdleCB3YXMgYmFkXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBbJHtsYW5nLmlkfV06IEludmFsaWQgcmVndWxhciBleHByZXNzaW9uIFxcYCR7Zmlyc3RMaW5lUmVnZXhTdHJ9XFxgOiBgLCBlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc29sdmVkTGFuZ3VhZ2UuYWxpYXNlcy5wdXNoKGxhbmdJZCk7XG4gICAgICAgIGxldCBsYW5nQWxpYXNlcyA9IG51bGw7XG4gICAgICAgIGlmICh0eXBlb2YgbGFuZy5hbGlhc2VzICE9PSAndW5kZWZpbmVkJyAmJiBBcnJheS5pc0FycmF5KGxhbmcuYWxpYXNlcykpIHtcbiAgICAgICAgICAgIGlmIChsYW5nLmFsaWFzZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gc2lnbmFsIHRoYXQgdGhpcyBsYW5ndWFnZSBzaG91bGQgbm90IGdldCBhIG5hbWVcbiAgICAgICAgICAgICAgICBsYW5nQWxpYXNlcyA9IFtudWxsXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxhbmdBbGlhc2VzID0gbGFuZy5hbGlhc2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nQWxpYXNlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBsYW5nQWxpYXMgb2YgbGFuZ0FsaWFzZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWxhbmdBbGlhcyB8fCBsYW5nQWxpYXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNvbHZlZExhbmd1YWdlLmFsaWFzZXMucHVzaChsYW5nQWxpYXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRhaW5zQWxpYXNlcyA9IChsYW5nQWxpYXNlcyAhPT0gbnVsbCAmJiBsYW5nQWxpYXNlcy5sZW5ndGggPiAwKTtcbiAgICAgICAgaWYgKGNvbnRhaW5zQWxpYXNlcyAmJiBsYW5nQWxpYXNlc1swXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gc2lnbmFsIHRoYXQgdGhpcyBsYW5ndWFnZSBzaG91bGQgbm90IGdldCBhIG5hbWVcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGJlc3ROYW1lID0gKGNvbnRhaW5zQWxpYXNlcyA/IGxhbmdBbGlhc2VzWzBdIDogbnVsbCkgfHwgbGFuZ0lkO1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5zQWxpYXNlcyB8fCAhcmVzb2x2ZWRMYW5ndWFnZS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRMYW5ndWFnZS5uYW1lID0gYmVzdE5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmcuY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgcmVzb2x2ZWRMYW5ndWFnZS5jb25maWd1cmF0aW9uRmlsZXMucHVzaChsYW5nLmNvbmZpZ3VyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nLmljb24pIHtcbiAgICAgICAgICAgIHJlc29sdmVkTGFuZ3VhZ2UuaWNvbnMucHVzaChsYW5nLmljb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlzUmVnaXN0ZXJlZExhbmd1YWdlSWQobGFuZ3VhZ2VJZCkge1xuICAgICAgICBpZiAoIWxhbmd1YWdlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9sYW5ndWFnZXMsIGxhbmd1YWdlSWQpO1xuICAgIH1cbiAgICBnZXRSZWdpc3RlcmVkTGFuZ3VhZ2VJZHMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9sYW5ndWFnZXMpO1xuICAgIH1cbiAgICBnZXRMYW5ndWFnZUlkQnlMYW5ndWFnZU5hbWUobGFuZ3VhZ2VOYW1lKSB7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlTmFtZUxvd2VyID0gbGFuZ3VhZ2VOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9sb3dlcmNhc2VOYW1lTWFwLCBsYW5ndWFnZU5hbWVMb3dlcikpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9sb3dlcmNhc2VOYW1lTWFwW2xhbmd1YWdlTmFtZUxvd2VyXTtcbiAgICB9XG4gICAgZ2V0TGFuZ3VhZ2VJZEJ5TWltZVR5cGUobWltZVR5cGUpIHtcbiAgICAgICAgaWYgKCFtaW1lVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodGhpcy5fbWltZVR5cGVzTWFwLCBtaW1lVHlwZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9taW1lVHlwZXNNYXBbbWltZVR5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBndWVzc0xhbmd1YWdlSWRCeUZpbGVwYXRoT3JGaXJzdExpbmUocmVzb3VyY2UsIGZpcnN0TGluZSkge1xuICAgICAgICBpZiAoIXJlc291cmNlICYmICFmaXJzdExpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0TGFuZ3VhZ2VJZHMocmVzb3VyY2UsIGZpcnN0TGluZSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbInN0cmljdEVxdWFscyIsImEiLCJiIiwiaXRlbXNFcXVhbHMiLCJpdGVtRXF1YWxzIiwiZXF1YWxzIiwiZXF1YWxzSWZEZWZpbmVkIiwiZXF1YWxzT3JWMSIsInYyIiwidW5kZWZpbmVkIiwidjEiLCJzdHJ1Y3R1cmFsRXF1YWxzIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiaSIsIk9iamVjdCIsImdldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiYU9iaiIsImJPYmoiLCJrZXlzQSIsImtleXMiLCJrZXlzQiIsImtleXNCU2V0IiwiU2V0Iiwia2V5IiwiaGFzIiwiV2Vha01hcCIsImF1dG9ydW4iLCJmbiIsIkF1dG9ydW5PYnNlcnZlciIsImF1dG9ydW5PcHRzIiwib3B0aW9ucyIsIm93bmVyIiwiZGVidWdOYW1lIiwiZGVidWdSZWZlcmVuY2VGbiIsImF1dG9ydW5IYW5kbGVDaGFuZ2VzIiwiY3JlYXRlRW1wdHlDaGFuZ2VTdW1tYXJ5IiwiaGFuZGxlQ2hhbmdlIiwiYXV0b3J1bldpdGhTdG9yZUhhbmRsZUNoYW5nZXMiLCJzdG9yZSIsImRpc3Bvc2FibGUiLCJyZWFkZXIiLCJjaGFuZ2VTdW1tYXJ5IiwiY2xlYXIiLCJkaXNwb3NlIiwiYXV0b3J1bldpdGhTdG9yZSIsInRoaXMiLCJfZGVidWdOYW1lRGF0YSIsImdldERlYnVnTmFtZSIsImNvbnN0cnVjdG9yIiwiX3J1bkZuIiwiY3JlYXRlQ2hhbmdlU3VtbWFyeSIsIl9oYW5kbGVDaGFuZ2UiLCJzdGF0ZSIsInVwZGF0ZUNvdW50IiwiZGlzcG9zZWQiLCJkZXBlbmRlbmNpZXMiLCJkZXBlbmRlbmNpZXNUb0JlUmVtb3ZlZCIsImhhbmRsZUF1dG9ydW5DcmVhdGVkIiwiX3J1bklmTmVlZGVkIiwibyIsInJlbW92ZU9ic2VydmVyIiwiZW1wdHlTZXQiLCJpc0Rpc3Bvc2VkIiwiaGFuZGxlQXV0b3J1blRyaWdnZXJlZCIsImhhbmRsZUF1dG9ydW5GaW5pc2hlZCIsInRvU3RyaW5nIiwiYmVnaW5VcGRhdGUiLCJlbmRVcGRhdGUiLCJkIiwicmVwb3J0Q2hhbmdlcyIsImFzc2VydCIsImhhbmRsZVBvc3NpYmxlQ2hhbmdlIiwib2JzZXJ2YWJsZSIsImNoYW5nZSIsImNoYW5nZWRPYnNlcnZhYmxlIiwiZGlkQ2hhbmdlIiwicmVhZE9ic2VydmFibGUiLCJnZXQiLCJhZGRPYnNlcnZlciIsInZhbHVlIiwiYWRkIiwiZGVsZXRlIiwiT2JzZXJ2ZXIiLCJPYnNlcnZhYmxlUHJvbWlzZSIsImZyb21GbiIsInByb21pc2UiLCJfdmFsdWUiLCJwcm9taXNlUmVzdWx0IiwidGhlbiIsInR4Iiwic2V0IiwiUHJvbWlzZVJlc3VsdCIsImVycm9yIiwiZGF0YSIsIndhaXRGb3JTdGF0ZSIsInByZWRpY2F0ZSIsImlzRXJyb3IiLCJjYW5jZWxsYXRpb25Ub2tlbiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiaXNJbW1lZGlhdGVSdW4iLCJzaG91bGREaXNwb3NlIiwic3RhdGVPYnMiLCJtYXAiLCJpc0ZpbmlzaGVkIiwicmVhZCIsImRjIiwib25DYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJpc0NhbmNlbGxhdGlvblJlcXVlc3RlZCIsIkxhenlPYnNlcnZhYmxlVmFsdWUiLCJpbml0aWFsVmFsdWUiLCJfZXF1YWxpdHlDb21wYXJhdG9yIiwic3VwZXIiLCJfaXNVcFRvRGF0ZSIsIl9kZWx0YXMiLCJfdXBkYXRlQ291bnRlciIsIl91cGRhdGUiLCJvYnNlcnZlciIsIm9ic2VydmVycyIsIl9iZWdpblVwZGF0ZSIsIl9lbmRVcGRhdGUiLCJyIiwic2hvdWxkQ2FsbEJlZ2luVXBkYXRlIiwic2hvdWxkQ2FsbEVuZFVwZGF0ZSIsIl90eCIsIl9zZXRWYWx1ZSIsInB1c2giLCJ1cGRhdGVPYnNlcnZlciIsImZpbmlzaCIsIm5ld1ZhbHVlIiwib2JzZXJ2YWJsZVZhbHVlT3B0cyIsImxhenkiLCJlcXVhbHNGbiIsIl9yZWNvbXB1dGVJbml0aWFsbHlBbmRPbkNoYW5nZSIsIl9rZWVwT2JzZXJ2ZWQiLCJfZGVyaXZlZCIsIl9zZXRSZWNvbXB1dGVJbml0aWFsbHlBbmRPbkNoYW5nZSIsInJlY29tcHV0ZUluaXRpYWxseUFuZE9uQ2hhbmdlIiwiX3NldEtlZXBPYnNlcnZlZCIsImtlZXBPYnNlcnZlZCIsIl9zZXREZXJpdmVkT3B0cyIsImRlcml2ZWQiLCJDb252ZW5pZW50T2JzZXJ2YWJsZSIsIlRDaGFuZ2UiLCJmbk9yT3duZXIiLCJmbk9yVW5kZWZpbmVkIiwibmFtZSIsIm1hdGNoIiwiZXhlYyIsImZsYXR0ZW4iLCJoYW5kbGVWYWx1ZSIsIkJhc2VPYnNlcnZhYmxlIiwiYXJndW1lbnRzIiwibGVuIiwic2l6ZSIsIm9uRmlyc3RPYnNlcnZlckFkZGVkIiwib25MYXN0T2JzZXJ2ZXJSZW1vdmVkIiwidHJhbnNhY3Rpb24iLCJUcmFuc2FjdGlvbkltcGwiLCJfZ2xvYmFsVHJhbnNhY3Rpb24iLCJnbG9iYWxUcmFuc2FjdGlvbiIsImFzeW5jIiwiYXN5bmNUcmFuc2FjdGlvbiIsInN1YnRyYW5zYWN0aW9uIiwiX2ZuIiwiX2dldERlYnVnTmFtZSIsInVwZGF0aW5nT2JzZXJ2ZXJzIiwiaGFuZGxlQmVnaW5UcmFuc2FjdGlvbiIsImhhbmRsZUVuZFRyYW5zYWN0aW9uIiwib2JzZXJ2YWJsZVZhbHVlIiwibmFtZU9yT3duZXIiLCJkZWJ1Z05hbWVEYXRhIiwiT2JzZXJ2YWJsZVZhbHVlIiwib2xkVmFsdWUiLCJoYW5kbGVPYnNlcnZhYmxlQ2hhbmdlZCIsImhhZFZhbHVlIiwiZGlzcG9zYWJsZU9ic2VydmFibGVWYWx1ZSIsIkRpc3Bvc2FibGVPYnNlcnZhYmxlVmFsdWUiLCJEZWJ1Z05hbWVEYXRhIiwiZGVidWdOYW1lU291cmNlIiwicmVmZXJlbmNlRm4iLCJ0YXJnZXQiLCJjYWNoZWQiLCJjYWNoZWREZWJ1Z05hbWUiLCJkYmdOYW1lIiwic2VsZiIsIm93bmVyU3RyIiwiaWQiLCJvd25lcklkIiwiY2xhc3NOYW1lIiwib2JqIiwiY3RvciIsImdldENsYXNzTmFtZSIsImNvdW50IiwiY291bnRQZXJDbGFzc05hbWUiLCJyZXN1bHQiLCJmb3JtYXRPd25lciIsImdldEZ1bmN0aW9uTmFtZSIsImZpbmRLZXkiLCJjb21wdXRlRGVidWdOYW1lIiwiY291bnRQZXJOYW1lIiwiTWFwIiwiZm5TcmMiLCJ0cmltIiwiY29tcHV0ZUZuT3JPd25lciIsImNvbXB1dGVGbiIsIkRlcml2ZWQiLCJkZXJpdmVkV2l0aFNldHRlciIsInNldHRlciIsIkRlcml2ZWRXaXRoU2V0dGVyIiwiZGVyaXZlZE9wdHMiLCJkZXJpdmVkSGFuZGxlQ2hhbmdlcyIsImVxdWFsaXR5Q29tcGFyZXIiLCJkZXJpdmVkV2l0aFN0b3JlIiwiY29tcHV0ZUZuT3JVbmRlZmluZWQiLCJkZXJpdmVkRGlzcG9zYWJsZSIsIl9jb21wdXRlRm4iLCJfaGFuZGxlTGFzdE9ic2VydmVyUmVtb3ZlZCIsImhhbmRsZURlcml2ZWRDcmVhdGVkIiwiX3JlY29tcHV0ZUlmTmVlZGVkIiwiaGFuZGxlRGVyaXZlZFJlY29tcHV0ZWQiLCJfb2JzZXJ2YWJsZSIsInByb3BhZ2F0ZUJlZ2luVXBkYXRlIiwic2hvdWxkUmVhY3QiLCJ3YXNVcFRvRGF0ZSIsImhhbmRsZUxhc3RPYnNlcnZlclJlbW92ZWQiLCJlcXVhbGl0eUNvbXBhcmF0b3IiLCJnbG9iYWxPYnNlcnZhYmxlTG9nZ2VyIiwic2V0TG9nZ2VyIiwibG9nZ2VyIiwiZ2V0TG9nZ2VyIiwiQ29uc29sZU9ic2VydmFibGVMb2dnZXIiLCJpbmRlbnRhdGlvbiIsImNoYW5nZWRPYnNlcnZhYmxlc1NldHMiLCJ0ZXh0VG9Db25zb2xlQXJncyIsInRleHQiLCJzdHlsZXMiLCJmaXJzdEFyZyIsInByb2Nlc3MiLCJ0IiwiaXRlbSIsInN0eWxlIiwiY29uc29sZVRleHRUb0FyZ3MiLCJub3JtYWxUZXh0IiwicmVwZWF0IiwiZm9ybWF0SW5mbyIsImluZm8iLCJzdHlsZWQiLCJmb3JtYXRWYWx1ZSIsImNvbG9yIiwic3RyaWtlVGhyb3VnaCIsImNvbnNvbGUiLCJsb2ciLCJmb3JtYXRLaW5kIiwiZm9ybWF0Q2hhbmdlcyIsImNoYW5nZXMiLCJqb2luIiwiZXhpc3RpbmdIYW5kbGVDaGFuZ2UiLCJhcHBseSIsImNoYW5nZWRPYnNlcnZhYmxlcyIsImhhbmRsZUZyb21FdmVudE9ic2VydmFibGVUcmlnZ2VyZWQiLCJfZ2V0VmFsdWUiLCJ0cmFuc2FjdGlvbk5hbWUiLCJraW5kIiwic3RyIiwicGFkU3RyIiwiYm9sZCIsInN0eWxlT2JqIiwiZW50cmllcyIsInJlZHVjZSIsInN0eWxlU3RyaW5nIiwicHJvcE5hbWUiLCJwcm9wVmFsdWUiLCJhdmFpbGFibGVMZW4iLCJzdWJzdHIiLCJmaXJzdCIsInZhbCIsImZvcm1hdEFycmF5IiwiZm9ybWF0T2JqZWN0IiwiY29uc3RPYnNlcnZhYmxlIiwiQ29uc3RPYnNlcnZhYmxlIiwib2JzZXJ2YWJsZUZyb21FdmVudCIsImFyZ3MiLCJldmVudCIsImdldFZhbHVlIiwiRnJvbUV2ZW50T2JzZXJ2YWJsZSIsIm9ic2VydmFibGVGcm9tRXZlbnRPcHRzIiwiX2dldFRyYW5zYWN0aW9uIiwiaGFzVmFsdWUiLCJoYW5kbGVFdmVudCIsImRpZFJ1blRyYW5zYWN0aW9uIiwic3Vic2NyaXB0aW9uIiwib2JzZXJ2YWJsZVNpZ25hbEZyb21FdmVudCIsIkZyb21FdmVudE9ic2VydmFibGVTaWduYWwiLCJiYXRjaEV2ZW50c0dsb2JhbGx5IiwiZGlkU2V0Iiwib2JzZXJ2YWJsZVNpZ25hbCIsImRlYnVnTmFtZU9yT3duZXIiLCJPYnNlcnZhYmxlU2lnbmFsIiwiX293bmVyIiwiX2RlYnVnTmFtZSIsInRyaWdnZXIiLCJLZWVwQWxpdmVPYnNlcnZlciIsIl9mb3JjZVJlY29tcHV0ZSIsIl9oYW5kbGVWYWx1ZSIsIl9jb3VudGVyIiwiZGVyaXZlZE9ic2VydmFibGVXaXRoQ2FjaGUiLCJsYXN0VmFsdWUiLCJtYXBPYnNlcnZhYmxlQXJyYXlDYWNoZWQiLCJpdGVtcyIsImtleVNlbGVjdG9yIiwibSIsIkFycmF5TWFwIiwic2V0SXRlbXMiLCJnZXRJdGVtcyIsIl9tYXAiLCJfa2V5U2VsZWN0b3IiLCJfY2FjaGUiLCJfaXRlbXMiLCJmb3JFYWNoIiwiZW50cnkiLCJuZXdJdGVtcyIsIml0ZW1zVG9SZW1vdmUiLCJvdXQiLCJkZXJpdmVkQ29uc3RPbmNlRGVmaW5lZCIsIkxhbmd1YWdlU2VydmljZSIsImluc3RhbmNlQ291bnQiLCJ3YXJuT25PdmVyd3JpdGUiLCJfb25EaWRSZXF1ZXN0QmFzaWNMYW5ndWFnZUZlYXR1cmVzIiwiX3JlZ2lzdGVyIiwib25EaWRSZXF1ZXN0QmFzaWNMYW5ndWFnZUZlYXR1cmVzIiwiX29uRGlkUmVxdWVzdFJpY2hMYW5ndWFnZUZlYXR1cmVzIiwib25EaWRSZXF1ZXN0UmljaExhbmd1YWdlRmVhdHVyZXMiLCJfb25EaWRDaGFuZ2UiLCJsZWFrV2FybmluZ1RocmVzaG9sZCIsIm9uRGlkQ2hhbmdlIiwiX3JlcXVlc3RlZEJhc2ljTGFuZ3VhZ2VzIiwiX3JlcXVlc3RlZFJpY2hMYW5ndWFnZXMiLCJfcmVnaXN0cnkiLCJMYW5ndWFnZXNSZWdpc3RyeSIsImxhbmd1YWdlSWRDb2RlYyIsImZpcmUiLCJpc1JlZ2lzdGVyZWRMYW5ndWFnZUlkIiwibGFuZ3VhZ2VJZCIsImdldExhbmd1YWdlSWRCeUxhbmd1YWdlTmFtZSIsImxhbmd1YWdlTmFtZSIsImdldExhbmd1YWdlSWRCeU1pbWVUeXBlIiwibWltZVR5cGUiLCJndWVzc0xhbmd1YWdlSWRCeUZpbGVwYXRoT3JGaXJzdExpbmUiLCJyZXNvdXJjZSIsImZpcnN0TGluZSIsImxhbmd1YWdlSWRzIiwiY3JlYXRlQnlJZCIsIkxhbmd1YWdlU2VsZWN0aW9uIiwiX2NyZWF0ZUFuZEdldExhbmd1YWdlSWRlbnRpZmllciIsImNyZWF0ZUJ5RmlsZXBhdGhPckZpcnN0TGluZSIsInJlcXVlc3RCYXNpY0xhbmd1YWdlRmVhdHVyZXMiLCJyZXF1ZXN0UmljaExhbmd1YWdlRmVhdHVyZXMiLCJnZXRPckNyZWF0ZSIsIm9uRGlkQ2hhbmdlTGFuZ3VhZ2VzIiwic2VsZWN0b3IiLCJmcm9tT2JzZXJ2YWJsZSIsInJlZ2lzdGVyZWRBc3NvY2lhdGlvbnMiLCJub25Vc2VyUmVnaXN0ZXJlZEFzc29jaWF0aW9ucyIsInVzZXJSZWdpc3RlcmVkQXNzb2NpYXRpb25zIiwicmVnaXN0ZXJQbGF0Zm9ybUxhbmd1YWdlQXNzb2NpYXRpb24iLCJhc3NvY2lhdGlvbiIsInVzZXJDb25maWd1cmVkIiwiYXNzb2NpYXRpb25JdGVtIiwibWltZSIsImZpbGVuYW1lIiwiZXh0ZW5zaW9uIiwiZmlsZXBhdHRlcm4iLCJmaXJzdGxpbmUiLCJmaWxlbmFtZUxvd2VyY2FzZSIsInRvTG93ZXJDYXNlIiwiZXh0ZW5zaW9uTG93ZXJjYXNlIiwiZmlsZXBhdHRlcm5Mb3dlcmNhc2UiLCJmaWxlcGF0dGVybk9uUGF0aCIsImluZGV4T2YiLCJzZXAiLCJ0b0xhbmd1YWdlQXNzb2NpYXRpb25JdGVtIiwid2FybiIsIl9yZWdpc3Rlckxhbmd1YWdlQXNzb2NpYXRpb24iLCJjbGVhclBsYXRmb3JtTGFuZ3VhZ2VBc3NvY2lhdGlvbnMiLCJmaWx0ZXIiLCJnZXRMYW5ndWFnZUlkcyIsInBhdGgiLCJzY2hlbWUiLCJmaWxlIiwiZnNQYXRoIiwicGFyc2VNZXRhRGF0YSIsIk1FVEFfREFUQV9MQUJFTCIsInZzY29kZU5vdGVib29rQ2VsbCIsInVua25vd24iLCJjb25maWd1cmVkTGFuZ3VhZ2UiLCJnZXRBc3NvY2lhdGlvbkJ5UGF0aCIsInJlZ2lzdGVyZWRMYW5ndWFnZSIsImZpcnN0bGluZUxhbmd1YWdlIiwibWF0Y2hlcyIsImdldEFzc29jaWF0aW9uQnlGaXJzdGxpbmUiLCJnZXRBc3NvY2lhdGlvbnMiLCJhc3NvY2lhdGlvbnMiLCJmaWxlbmFtZU1hdGNoIiwicGF0dGVybk1hdGNoIiwiZXh0ZW5zaW9uTWF0Y2giLCJlbmRzV2l0aCIsImhhc093blByb3BlcnR5IiwiTlVMTF9MQU5HVUFHRV9JRCIsIkxhbmd1YWdlSWRDb2RlYyIsIl9sYW5ndWFnZUlkVG9MYW5ndWFnZSIsIl9sYW5ndWFnZVRvTGFuZ3VhZ2VJZCIsIl9uZXh0TGFuZ3VhZ2VJZCIsImxhbmd1YWdlIiwicmVnaXN0ZXIiLCJlbmNvZGVMYW5ndWFnZUlkIiwiZGVjb2RlTGFuZ3VhZ2VJZCIsInVzZU1vZGVzUmVnaXN0cnkiLCJfd2Fybk9uT3ZlcndyaXRlIiwiX2R5bmFtaWNMYW5ndWFnZXMiLCJfbGFuZ3VhZ2VzIiwiX21pbWVUeXBlc01hcCIsIl9uYW1lTWFwIiwiX2xvd2VyY2FzZU5hbWVNYXAiLCJfaW5pdGlhbGl6ZUZyb21SZWdpc3RyeSIsImRlc2MiLCJjb25jYXQiLCJnZXRMYW5ndWFnZXMiLCJfcmVnaXN0ZXJMYW5ndWFnZXMiLCJfcmVnaXN0ZXJMYW5ndWFnZSIsImxhbmdJZCIsImlkZW50aWZpZXIiLCJhbGlhc2VzIiwiYWxpYXMiLCJtaW1ldHlwZXMiLCJtaW1ldHlwZSIsImFzIiwiQ29uZmlndXJhdGlvbiIsInJlZ2lzdGVyT3ZlcnJpZGVJZGVudGlmaWVycyIsImdldFJlZ2lzdGVyZWRMYW5ndWFnZUlkcyIsImxhbmciLCJyZXNvbHZlZExhbmd1YWdlIiwiY2FsbCIsImV4dGVuc2lvbnMiLCJmaWxlbmFtZXMiLCJjb25maWd1cmF0aW9uRmlsZXMiLCJpY29ucyIsIl9tZXJnZUxhbmd1YWdlIiwicHJpbWFyeU1pbWUiLCJjb25maWd1cmF0aW9uIiwiZmlsZW5hbWVQYXR0ZXJucyIsImZpbGVuYW1lUGF0dGVybiIsImZpcnN0TGluZVJlZ2V4U3RyIiwiY2hhckF0IiwiZmlyc3RMaW5lUmVnZXgiLCJSZWdFeHAiLCJlcnIiLCJsYW5nQWxpYXNlcyIsImxhbmdBbGlhcyIsImNvbnRhaW5zQWxpYXNlcyIsImJlc3ROYW1lIiwiaWNvbiIsImxhbmd1YWdlTmFtZUxvd2VyIl0sInNvdXJjZVJvb3QiOiIifQ==